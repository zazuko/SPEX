{"version":3,"file":"js/476.50ca2dd8.js","mappings":"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","sources":["webpack://@zazuko/spex/./node_modules/@graphy/content.trig.write/main.js"],"sourcesContent":["\n\n\n// queueMicrotask shim\n{\n\t// not defined or not a function\n\tif('function' !== typeof queueMicrotask) {\n\t\t// create resolved promise\n\t\tlet dp_resolve = Promise.resolve();\n\n\t\t// try to redefine\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-global-assign\n\t\t\tqueueMicrotask = fk => dp_resolve.then(fk)\n\t\t\t\t.catch(e_callback => setTimeout(() => {\n\t\t\t\t\tthrow e_callback;\n\t\t\t\t}, 0));\n\t\t}\n\t\t// oh well, at least we tried\n\t\tcatch(e_define) {}\n\t}\n}\n\n\n\nconst factory = require('@graphy/core.data.factory');\nconst Writable = require('@graphy/core.class.writable');\n\n// eslint-disable-next-line no-misleading-character-class\nconst RT_PREFIXED_NAME_NAMESPACE_VALID = /^([A-Za-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u{02ff}\\u{0370}-\\u{037d}\\u{037f}-\\u{1fff}\\u{200c}-\\u{200d}\\u{2070}-\\u{218f}\\u{2c00}-\\u{2fef}\\u{3001}-\\u{d7ff}\\u{f900}-\\u{fdcf}\\u{fdf0}-\\u{fffd}\\u{10000}-\\u{effff}]([A-Za-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u{02ff}\\u{0370}-\\u{037d}\\u{037f}-\\u{1fff}\\u{200c}-\\u{200d}\\u{2070}-\\u{218f}\\u{2c00}-\\u{2fef}\\u{3001}-\\u{d7ff}\\u{f900}-\\u{fdcf}\\u{fdf0}-\\u{fffd}\\u{10000}-\\u{effff}_\\-0-9\\xb7\\u{0300}-\\u{036f}\\u{203f}-\\u{2040}.]*[A-Za-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u{02ff}\\u{0370}-\\u{037d}\\u{037f}-\\u{1fff}\\u{200c}-\\u{200d}\\u{2070}-\\u{218f}\\u{2c00}-\\u{2fef}\\u{3001}-\\u{d7ff}\\u{f900}-\\u{fdcf}\\u{fdf0}-\\u{fffd}\\u{10000}-\\u{effff}_\\-0-9\\xb7\\u{0300}-\\u{036f}\\u{203f}-\\u{2040}])?)?$/u;\nconst N_MAX_STRING_BUFFER = 1 << 12;\n\nconst XC_DIRECTIVES_TYPE_SPARQL = 0b001;\nconst XC_DIRECTIVES_CASE_PASCAL = 0b010;\nconst XC_DIRECTIVES_CASE_UPPER = 0b100;\n\n\n\nclass TriG_Writer extends Writable {\n\tconstructor(gc_writer={}) {\n\t\tsuper(gc_writer);\n\n\t\tlet {\n\t\t\tprefixes: h_prefixes={},\n\t\t\tlists: gc_lists=null,\n\t\t\tdebug: b_debug=false,\n\t\t\tstyle: gc_style=null,\n\t\t} = gc_writer;\n\n\t\tObject.assign(this, {\n\t\t\t_b_debug: b_debug,\n\t\t\t_s_indent: '\\t',\n\t\t\t_b_simplify_default_graph: false,\n\t\t\t_xc_directives: 0,\n\t\t\t_s_token_prefix: '@prefix',\n\t\t});\n\n\t\tlet s_graph_keyword = '';\n\n\t\t// style config\n\t\tif(gc_style) {\n\t\t\t// 'graph' keyword\n\t\t\tlet z_graph_keyword = gc_style.graph_keyword || gc_style.graphKeyword || gc_style['graph-keyword'];\n\t\t\tif(z_graph_keyword) {\n\t\t\t\t// boolean true\n\t\t\t\tif(true === z_graph_keyword) {\n\t\t\t\t\ts_graph_keyword = 'GRAPH ';\n\t\t\t\t}\n\t\t\t\t// invalid type\n\t\t\t\telse if('string' !== typeof z_graph_keyword) {\n\t\t\t\t\tthrow new TypeError(`Invalid argument type given for 'graph' token: ${z_graph_keyword}`);\n\t\t\t\t}\n\t\t\t\t// invalid token string\n\t\t\t\telse if(!/^graph$/i.test(z_graph_keyword)) {\n\t\t\t\t\tthrow new Error(`Graph token must equal case-insensitive \"GRAPH\"; found: \"${z_graph_keyword}\"`);\n\t\t\t\t}\n\t\t\t\t// valid graph token; append space\n\t\t\t\telse {\n\t\t\t\t\ts_graph_keyword = z_graph_keyword+' ';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// default graph simplification\n\t\t\tlet w_simplify_default_graph = gc_style.simplify_default_graph || gc_style.simplifyDefaultGraph || gc_style['simplify-default-graph'];\n\t\t\tif(w_simplify_default_graph) {\n\t\t\t\tthis._b_simplify_default_graph = !!w_simplify_default_graph;\n\t\t\t}\n\n\t\t\t// indent\n\t\t\tif(gc_style.indent) {\n\t\t\t\tthis._s_indent = gc_style.indent.replace(/[^\\s]/g, '');\n\t\t\t}\n\n\t\t\t// use sparql directives\n\t\t\tlet z_directives = gc_style.directives || gc_style.directives;\n\t\t\tif(z_directives) {\n\t\t\t\tswitch(z_directives) {\n\t\t\t\t\tcase 'sparql': {\n\t\t\t\t\t\tthis._xc_directives = XC_DIRECTIVES_TYPE_SPARQL;\n\t\t\t\t\t\tthis._s_token_prefix = 'prefix';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase 'Sparql': {\n\t\t\t\t\t\tthis._xc_directives = XC_DIRECTIVES_TYPE_SPARQL | XC_DIRECTIVES_CASE_PASCAL;\n\t\t\t\t\t\tthis._s_token_prefix = 'Prefix';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase 'SPARQL': {\n\t\t\t\t\t\tthis._xc_directives = XC_DIRECTIVES_TYPE_SPARQL | XC_DIRECTIVES_CASE_UPPER;\n\t\t\t\t\t\tthis._s_token_prefix = 'PREFIX';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase 'turtle': {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase 'Turtle': {\n\t\t\t\t\t\tthis._xc_directives = XC_DIRECTIVES_CASE_PASCAL;\n\t\t\t\t\t\tthis._s_token_prefix = '@Prefix';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase 'TURTLE': {\n\t\t\t\t\t\tthis._xc_directives = XC_DIRECTIVES_CASE_UPPER;\n\t\t\t\t\t\tthis._s_token_prefix = '@PREFIX';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tdefault: {\n\t\t\t\t\t\tthrow new Error(`Value not understood for 'directives' option: ${z_directives}`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// set graph token\n\t\tthis._s_graph_keyword = s_graph_keyword;\n\n\n\n\t\t// custom list keys\n\t\tif(gc_lists) {\n\t\t\t// serialize list object\n\t\t\tthis._serialize_list_object = function(a_list, n_nest_level) {\n\t\t\t\t// transcode list object\n\t\t\t\tlet hc2_transcoded = this._transcode_list(a_list);\n\n\t\t\t\t// serialize object\n\t\t\t\treturn this._encode_objects(hc2_transcoded, n_nest_level);\n\t\t\t};\n\t\t}\n\n\t\t// serialize initial prefix mappings\n\t\tlet s_token_prefix = this._s_token_prefix;\n\t\tlet s_prefix_eol = (this._xc_directives & XC_DIRECTIVES_TYPE_SPARQL)? '\\n': ' .\\n';\n\t\tlet s_prefixes = '';\n\t\ttry {\n\t\t\t// each user-defined prefix\n\t\t\tfor(let s_prefix_id in h_prefixes) {\n\t\t\t\t// invalid prefix id\n\t\t\t\tif(!RT_PREFIXED_NAME_NAMESPACE_VALID.test(s_prefix_id)) {\n\t\t\t\t\tthrow new Error(`Invlalid prefix id for application/trig RDF serialization format: '${s_prefix_id}'`);\n\t\t\t\t}\n\n\t\t\t\t// append to string\n\t\t\t\ts_prefixes += `${s_token_prefix} ${s_prefix_id}: ${factory.namedNode(h_prefixes[s_prefix_id]).verbose()}${s_prefix_eol}`;\n\t\t\t}\n\t\t}\n\t\t// serialization error\n\t\tcatch(e_serialize) {\n\t\t\tqueueMicrotask(() => {\n\t\t\t\tthis.emit('error', e_serialize);\n\t\t\t});\n\t\t}\n\n\t\t// push prefixes\n\t\tif(s_prefixes) this.push(s_prefixes);\n\t}\n\n\t// serialize prefixes\n\t_serialize_prefixes(h_prefixes) {\n\t\t// build prefixes string\n\t\tlet s_prefixes = (2 === this._xc_state)? '\\n\\n': '';\n\n\t\t// update state\n\t\tthis._xc_state = 0;\n\n\t\t// clone prefixes\n\t\tthis._h_prefixes = {...this._h_prefixes};\n\n\t\t// ref prefix token\n\t\tlet s_token_prefix = this._s_token_prefix;\n\n\t\t// prep eol string\n\t\tlet s_prefix_eol = (this._xc_directives & XC_DIRECTIVES_TYPE_SPARQL)? '\\n': ' .\\n';\n\n\t\t// each user-defined prefix\n\t\tfor(let s_prefix_id in h_prefixes) {\n\t\t\t// invalid prefix id\n\t\t\tif(!RT_PREFIXED_NAME_NAMESPACE_VALID.test(s_prefix_id)) {\n\t\t\t\tthrow new Error(`Invlalid prefix id for application/trig RDF serialization format: '${s_prefix_id}'`);\n\t\t\t}\n\n\t\t\t// append to string\n\t\t\ts_prefixes += `${s_token_prefix} ${s_prefix_id}: ${factory.namedNode(h_prefixes[s_prefix_id]).verbose()}${s_prefix_eol}`;\n\n\t\t\t// set prefix\n\t\t\tthis._h_prefixes[s_prefix_id] = h_prefixes[s_prefix_id];\n\t\t}\n\n\t\t// recache\n\t\tfactory.cache_prefixes(this._h_prefixes);\n\n\t\t// return prefix string\n\t\treturn s_prefixes;\n\t}\n\n\n\n\t// serialize c3 hash\n\t_serialize_c3(hc3_triples) {\n\t\tlet {\n\t\t\t_h_prefixes: h_prefixes,\n\t\t\t_s_indent: s_indent,\n\n\t\t} = this;\n\t\t// break line if non-data state\n\t\tlet s_write = 2 !== this._xc_state? '\\n': '';\n\t\t// update state\n\t\tthis._xc_state = 2;\n\n\t\t// triple delimiter\n\t\tlet s_delim_triples = '';\n\t\t// subject exit listener\n\t\tlet f_exit_subject = null;\n\t\t// each subject\n\t\tfor(let sc1_subject in hc3_triples) {\n\t\t\t// directive\n\t\t\tif('`' === sc1_subject[0]) {\n\t\t\t\tlet g_apply = this._apply_directive(sc1_subject, hc3_triples[sc1_subject]);\n\t\t\t\t// write data\n\t\t\t\tif(g_apply.write) {\n\t\t\t\t\ts_write += s_delim_triples+g_apply.write;\n\t\t\t\t\t// do not break next line\n\t\t\t\t\ts_delim_triples = '';\n\t\t\t\t}\n\t\t\t\t// save exit listener\n\t\t\t\tif(g_apply.exit) f_exit_subject = g_apply.exit;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t// position before subject\n\t\t\tlet i_triples = s_write.length;\n\t\t\t// serialize subject\n\t\t\ts_write += s_delim_triples+factory.c1_node(sc1_subject, h_prefixes).terse(h_prefixes)+' ';\n\t\t\t// pair indent & terminator\n\t\t\tlet s_indent_pairs = '';\n\t\t\tlet s_term_pairs = '';\n\t\t\t// ref pairs\n\t\t\tlet hc2_pairs = hc3_triples[sc1_subject];\n\t\t\t// position before pairs\n\t\t\tlet i_pairs = s_write.length;\n\t\t\t// were objects written?\n\t\t\tlet b_empty = true;\n\t\t\t// predicate exit listener\n\t\t\tlet f_exit_predicate = null;\n\t\t\t// each predicate\n\t\t\tfor(let sc1_predicate in hc2_pairs) {\n\t\t\t\t// directive\n\t\t\t\tif('`' === sc1_predicate[0]) {\n\t\t\t\t\t// apply directive\n\t\t\t\t\tlet g_apply = this._apply_directive(sc1_predicate, hc2_pairs[sc1_predicate]);\n\t\t\t\t\t// write data\n\t\t\t\t\tif(g_apply.write) {\n\t\t\t\t\t\t// break line\n\t\t\t\t\t\ts_write += (s_indent_pairs? s_term_pairs: '\\n')+s_indent+g_apply.write;\n\t\t\t\t\t\t// pair already terminated\n\t\t\t\t\t\ts_term_pairs = '';\n\t\t\t\t\t\t// indent next pair\n\t\t\t\t\t\ts_indent_pairs = s_indent;\n\t\t\t\t\t}\n\t\t\t\t\t// save exit listener\n\t\t\t\t\tif(g_apply.exit) f_exit_predicate = g_apply.exit;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\t// ref objects\n\t\t\t\tlet z_objects = hc2_pairs[sc1_predicate];\n\t\t\t\t// serialize objects\n\t\t\t\tlet st_objects = this._encode_objects(z_objects);\n\t\t\t\t// no objects; skip pair\n\t\t\t\tif(!st_objects) continue;\n\t\t\t\t// not empty\n\t\t\t\tb_empty = false;\n\t\t\t\t// cannot use blank node in predicate position\n\t\t\t\tif('_' === sc1_predicate[0] && ':' === sc1_predicate[1]) {\n\t\t\t\t\tthrow new Error(`Cannot use blank node in predicate position of c3 hash; subject:'${sc1_subject}', predicate:'${sc1_predicate}'`);\n\t\t\t\t}\n\t\t\t\t// create predicate\n\t\t\t\tlet kt_predicate = factory.c1_named_node(sc1_predicate, h_prefixes);\n\t\t\t\t// tersify rdf:type\n\t\t\t\tlet st_predicate = kt_predicate.isRdfTypeAlias? 'a': kt_predicate.terse(h_prefixes);\n\t\t\t\t// serialize predicate and object(s)\n\t\t\t\ts_write += s_term_pairs+s_indent_pairs+st_predicate+' '+st_objects;\n\t\t\t\t// update state\n\t\t\t\tthis._xc_state = 2;\n\t\t\t\t\t// // string buffer became too large\n\t\t\t\t\t// if(s_write.length >= N_MAX_STRING_BUFFER) {\n\t\t\t\t\t// \tdebugger;\n\t\t\t\t\t// }\n\t\t\t\t// terminate next pair\n\t\t\t\ts_term_pairs = ' ;\\n';\n\t\t\t\t// indent next pair\n\t\t\t\ts_indent_pairs = s_indent;\n\t\t\t\t// call exit predicate listener\n\t\t\t\tif(f_exit_predicate) f_exit_predicate();\n\t\t\t}\n\t\t\t// empty triples; cut out\n\t\t\tif(b_empty) {\n\t\t\t\ts_write = s_write.slice(0, i_triples)+s_write.slice(i_pairs);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t// delimit triple(s)\n\t\t\ts_delim_triples = '\\n';\n\t\t\t// close triple\n\t\t\ts_write += `${s_term_pairs? ' ': s_indent_pairs}.\\n`; //\n\t\t\t// call exit subject listener\n\t\t\tif(f_exit_subject) f_exit_subject();\n\t\t}\n\n\t\ts_write += '\\n';\n\t\treturn s_write;\n\t}\n\n\n\t// serialize c4 hash\n\t_serialize_c4(hc4_quads) {\n\t\tlet {\n\t\t\t_h_prefixes: h_prefixes,\n\t\t\t_s_indent: s_indent,\n\n\t\t} = this;\n\t\t// break line if non-data state\n\t\tlet s_write = 2 !== this._xc_state? '\\n': '';\n\t\t// update state\n\t\tthis._xc_state = 2;\n\t\t// force default graph brace\n\t\tlet b_simplify_default_graph = this._b_simplify_default_graph;\n\n\t\t// graph token\n\t\tlet s_graph_keyword = this._s_graph_keyword;\n\n\t\t// graph exit listener\n\t\tlet f_exit_graph = null;\n\n\t\t// each graph\n\t\tfor(let sc1_graph in hc4_quads) {\n\t\t\t// directive\n\t\t\tif('`' === sc1_graph[0]) {\n\t\t\t\tlet g_apply = this._apply_directive(sc1_graph, hc4_quads[sc1_graph]);\n\n\t\t\t\t// write data\n\t\t\t\tif(g_apply.write) s_write += g_apply.write;\n\n\t\t\t\t// save exit listener\n\t\t\t\tif(g_apply.exit) f_exit_graph = g_apply.exit;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// serialize open graph\n\t\t\tlet st_graph = factory.c1_node(sc1_graph, h_prefixes).terse(h_prefixes);\n\n\t\t\ts_write += st_graph\n\t\t\t\t? s_graph_keyword+st_graph+' {\\n'\n\t\t\t\t: (b_simplify_default_graph? '': s_graph_keyword+'{\\n');\n\n\t\t\t// simplify default graph implies no indent\n\t\t\tlet s_indent_root = (!st_graph && b_simplify_default_graph)? '': s_indent;\n\n\t\t\t// update state\n\t\t\tthis._xc_state = 2;\n\n\t\t\t// ref triples\n\t\t\tlet hc3_triples = hc4_quads[sc1_graph];\n\n\t\t\t// triple delimiter\n\t\t\tlet s_delim_triples = '';\n\t\t\t// subject exit listener\n\t\t\tlet f_exit_subject = null;\n\t\t\t// each subject\n\t\t\tfor(let sc1_subject in hc3_triples) {\n\t\t\t\t// directive\n\t\t\t\tif('`' === sc1_subject[0]) {\n\t\t\t\t\tlet g_apply = this._apply_directive(sc1_subject, hc3_triples[sc1_subject]);\n\t\t\t\t\t// write data\n\t\t\t\t\tif(g_apply.write) {\n\t\t\t\t\t\ts_write += s_delim_triples+s_indent_root+g_apply.write;\n\t\t\t\t\t\t// do not break next line\n\t\t\t\t\t\ts_delim_triples = '';\n\t\t\t\t\t}\n\t\t\t\t\t// save exit listener\n\t\t\t\t\tif(g_apply.exit) f_exit_subject = g_apply.exit;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\t// position before subject\n\t\t\t\tlet i_triples = s_write.length;\n\t\t\t\t// serialize subject\n\t\t\t\ts_write += s_delim_triples+s_indent_root+factory.c1_node(sc1_subject, h_prefixes).terse(h_prefixes)+' ';\n\t\t\t\t// pair indent & terminator\n\t\t\t\tlet s_indent_pairs = '';\n\t\t\t\tlet s_term_pairs = '';\n\t\t\t\t// ref pairs\n\t\t\t\tlet hc2_pairs = hc3_triples[sc1_subject];\n\t\t\t\t// position before pairs\n\t\t\t\tlet i_pairs = s_write.length;\n\t\t\t\t// were objects written?\n\t\t\t\tlet b_empty = true;\n\t\t\t\t// predicate exit listener\n\t\t\t\tlet f_exit_predicate = null;\n\t\t\t\t// each predicate\n\t\t\t\tfor(let sc1_predicate in hc2_pairs) {\n\t\t\t\t\t// directive\n\t\t\t\t\tif('`' === sc1_predicate[0]) {\n\t\t\t\t\t\t// apply directive\n\t\t\t\t\t\tlet g_apply = this._apply_directive(sc1_predicate, hc2_pairs[sc1_predicate]);\n\t\t\t\t\t\t// write data\n\t\t\t\t\t\tif(g_apply.write) {\n\t\t\t\t\t\t\t// break line\n\t\t\t\t\t\t\ts_write += (s_indent_pairs? s_term_pairs: '\\n')+s_indent+s_indent_root+g_apply.write;\n\t\t\t\t\t\t\t// pair already terminated\n\t\t\t\t\t\t\ts_term_pairs = '';\n\t\t\t\t\t\t\t// indent next pair\n\t\t\t\t\t\t\ts_indent_pairs = s_indent+s_indent_root;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// save exit listener\n\t\t\t\t\t\tif(g_apply.exit) f_exit_predicate = g_apply.exit;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\t// ref objects\n\t\t\t\t\tlet z_objects = hc2_pairs[sc1_predicate];\n\t\t\t\t\t// serialize objects\n\t\t\t\t\tlet st_objects = this._encode_objects(z_objects);\n\t\t\t\t\t// no objects; skip pair\n\t\t\t\t\tif(!st_objects) continue;\n\t\t\t\t\t// not empty\n\t\t\t\t\tb_empty = false;\n\t\t\t\t\t// cannot use blank node in predicate position\n\t\t\t\t\tif('_' === sc1_predicate[0] && ':' === sc1_predicate[1]) {\n\t\t\t\t\t\tthrow new Error(`Cannot use blank node in predicate position of c4 hash; graph:'${sc1_graph}', subject:'${sc1_subject}', predicate:'${sc1_predicate}'`);\n\t\t\t\t\t}\n\t\t\t\t\t// create predicate\n\t\t\t\t\tlet kt_predicate = factory.c1_named_node(sc1_predicate, h_prefixes);\n\t\t\t\t\t// tersify rdf:type\n\t\t\t\t\tlet st_predicate = kt_predicate.isRdfTypeAlias? 'a': kt_predicate.terse(h_prefixes);\n\t\t\t\t\t// serialize predicate and object(s)\n\t\t\t\t\ts_write += s_term_pairs+s_indent_pairs+st_predicate+' '+st_objects;\n\t\t\t\t\t// update state\n\t\t\t\t\tthis._xc_state = 2;\n\t\t\t\t\t// // string buffer became too large\n\t\t\t\t\t// if(s_write.length >= N_MAX_STRING_BUFFER) {\n\t\t\t\t\t// \tdebugger;\n\t\t\t\t\t// }\n\t\t\t\t\t// terminate next pair\n\t\t\t\t\ts_term_pairs = ' ;\\n';\n\t\t\t\t\t// indent next pair\n\t\t\t\t\ts_indent_pairs = s_indent+s_indent_root;\n\t\t\t\t\t// call exit predicate listener\n\t\t\t\t\tif(f_exit_predicate) f_exit_predicate();\n\t\t\t\t}\n\t\t\t\t// empty triples; cut out\n\t\t\t\tif(b_empty) {\n\t\t\t\t\ts_write = s_write.slice(0, i_triples)+s_write.slice(i_pairs);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\t// delimit triple(s)\n\t\t\t\ts_delim_triples = '\\n';\n\t\t\t\t// close triple\n\t\t\t\ts_write += `${s_term_pairs? ' ': s_indent_pairs}.\\n`; // \\n\n\t\t\t\t// call exit subject listener\n\t\t\t\tif(f_exit_subject) f_exit_subject();\n\t\t\t}\n\t\t\t// close graph\n\t\t\ts_write += ((st_graph || !b_simplify_default_graph)? '}\\n': '')+'\\n';\n\n\t\t\t// call exit graph listener\n\t\t\tif(f_exit_graph) f_exit_graph();\n\t\t}\n\t\treturn s_write;\n\t}\n\n\t// write objects\n\t_encode_objects(z_objects, n_nest_level=1) {\n\t\tlet {\n\t\t\t_h_prefixes: h_prefixes,\n\t\t\t_s_indent: s_indent,\n\t\t\t_hm_coercions: hm_coercions,\n\t\t} = this;\n\n\t\t// deduce object value type\n\t\tswitch(typeof z_objects) {\n\t\t\t// concise-term string\n\t\t\tcase 'string': return factory.c1(z_objects, h_prefixes).terse(h_prefixes);\n\n\t\t\t// numeric type\n\t\t\tcase 'number': return factory.number(z_objects).terse(h_prefixes);\n\n\t\t\t// boolean type\n\t\t\tcase 'boolean': return factory.boolean(z_objects).terse(h_prefixes);\n\n\t\t\t// object\n\t\t\tcase 'object': {\n\t\t\t\t// null; reject\n\t\t\t\tif(null === z_objects) throw new Error('Refusing to serialize null value given as an object of quad');\n\n\t\t\t\t// array, list of objects\n\t\t\t\tif(Array.isArray(z_objects) || z_objects instanceof Set) {\n\t\t\t\t\tlet s_write = '';\n\n\t\t\t\t\t// object terminator\n\t\t\t\t\tlet s_term_object = '';\n\n\t\t\t\t\t// each object\n\t\t\t\t\tfor(let z_item of z_objects) {\n\t\t\t\t\t\t// item is an array; serialize list\n\t\t\t\t\t\tif(Array.isArray(z_item)) {\n\t\t\t\t\t\t\ts_write += s_term_object + this._serialize_list_object(z_item, n_nest_level);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// non-array\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t// recurse on item\n\t\t\t\t\t\t\ts_write += s_term_object + this._encode_objects(z_item, n_nest_level);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// terminate next object\n\t\t\t\t\t\ts_term_object = ', ';\n\t\t\t\t\t}\n\n\t\t\t\t\treturn s_write;\n\t\t\t\t}\n\t\t\t\t// plain object, blank node\n\t\t\t\telse if(Object === z_objects.constructor) {\n\t\t\t\t\t// open blank node block\n\t\t\t\t\tlet s_write = '[';\n\n\t\t\t\t\t// whether the block is empty\n\t\t\t\t\tlet b_empty = true;\n\n\t\t\t\t\t// object exit listener\n\t\t\t\t\tlet f_exit_object = null;\n\n\t\t\t\t\t// each pair\n\t\t\t\t\tfor(let sc1_predicate in z_objects) {\n\t\t\t\t\t\t// block is not empty\n\t\t\t\t\t\tb_empty = false;\n\n\t\t\t\t\t\t// terminate previous pair\n\t\t\t\t\t\ts_write += '\\n'+s_indent.repeat(2+n_nest_level);\n\n\t\t\t\t\t\t// directive; serialize it\n\t\t\t\t\t\tif('`' === sc1_predicate[0]) {\n\t\t\t\t\t\t\tlet g_apply = this._apply_directive(sc1_predicate, z_objects[sc1_predicate]);\n\n\t\t\t\t\t\t\t// write data\n\t\t\t\t\t\t\tif(g_apply.write) s_write += g_apply.write;\n\n\t\t\t\t\t\t\t// save exit listener\n\t\t\t\t\t\t\tif(g_apply.exit) f_exit_object = g_apply.exit;\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// write predicate and object(s)\n\t\t\t\t\t\ts_write += factory.c1(sc1_predicate, h_prefixes).terse(h_prefixes) + ' '\n\t\t\t\t\t\t\t+ this._encode_objects(z_objects[sc1_predicate], n_nest_level+1) +' ;';\n\t\t\t\t\t}\n\n\t\t\t\t\t// close blank node block\n\t\t\t\t\ts_write += (b_empty? '': '\\n'+s_indent.repeat(1+n_nest_level))+']';\n\n\t\t\t\t\t// call exit object listener\n\t\t\t\t\tif(f_exit_object) f_exit_object();\n\n\t\t\t\t\t// serialize current predicate to blank node\n\t\t\t\t\treturn s_write;\n\t\t\t\t}\n\t\t\t\t// coercable instance\n\t\t\t\telse if(hm_coercions.has(z_objects.constructor)) {\n\t\t\t\t\t// convert javascript object to term object\n\t\t\t\t\tlet kt_converted = hm_coercions.get(z_objects.constructor).apply(this, [z_objects, n_nest_level]);\n\n\t\t\t\t\t// serialize\n\t\t\t\t\treturn kt_converted.terse(h_prefixes);\n\t\t\t\t}\n\t\t\t\t// graphy term\n\t\t\t\telse if(z_objects.isGraphyTerm) {\n\t\t\t\t\treturn z_objects.terse(h_prefixes);\n\t\t\t\t}\n\t\t\t\t// RDFJS term\n\t\t\t\telse if(z_objects.termType) {\n\t\t\t\t\treturn factory.from.term(z_objects).terse(h_prefixes);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// fallthrough: other\n\t\t\tdefault: {\n\t\t\t\tthrow new Error(`Bad type for RDF object: [${typeof z_objects}] ${z_objects? z_objects.constructor: z_objects}`);\n\t\t\t}\n\t\t}\n\t}\n\n\t// serialize collection object\n\t_serialize_collection_object(a_collection, n_nest_level) {\n\t\tlet s_indent = this._s_indent;\n\n\t\t// open collection block\n\t\tlet s_write = '(';\n\n\t\t// each item\n\t\tfor(let z_item of a_collection) {\n\t\t\tlet s_objects = '';\n\n\t\t\t// item is array; serialize as sub-collection\n\t\t\tif(Array.isArray(z_item)) {\n\t\t\t\ts_objects = this._serialize_collection_object(z_item, n_nest_level+1);\n\t\t\t}\n\t\t\t// non-array item\n\t\t\telse {\n\t\t\t\ts_objects = this._encode_objects(z_item, n_nest_level+1);\n\t\t\t}\n\n\t\t\t// serialize collection\n\t\t\ts_write += '\\n'+s_indent.repeat(2+n_nest_level)+s_objects;\n\t\t}\n\n\t\t// break line if anything was written (including comments)\n\t\tif(a_collection.length) s_write += '\\n'+s_indent.repeat(1+n_nest_level);\n\n\t\t// close collection block\n\t\ts_write += ')';\n\n\t\treturn s_write;\n\t}\n\n\t// rdfjs quad\n\t_serialize_quad(g_quad) {\n\t\tlet h_prefixes = this._h_prefixes;\n\t\tlet kq_quad = factory.from.quad(g_quad);\n\n\t\tlet st_graph = kq_quad.graph.terse(h_prefixes);\n\n\t\t// serialize quad\n\t\tthis._s_push += (2 !== this._xc_state? '\\n': '')\n\t\t\t\t\t\t\t+this._s_graph_keyword+(st_graph? st_graph+' ': '')+'{\\n\\t'\n\t\t\t\t\t\t+kq_quad.subject.terse(h_prefixes)+' '\n\t\t\t+kq_quad.predicate.terse(h_prefixes)+' '\n\t\t\t+kq_quad.object.terse(h_prefixes)+' .\\n'\n\t\t\t\t\t\t\t+'}\\n\\n';\n\n\n\t\t// update state\n\t\tthis._xc_state = 2;\n\t}\n}\n\nObject.assign(TriG_Writer.prototype, {\n\tanonymous_blank_nodes: true,\n\t_serialize_c3r: TriG_Writer.prototype._serialize_c3,\n\t_serialize_c4r: TriG_Writer.prototype._serialize_c4,\n\t_serialize_comment: Writable.prototype._serialize_hash_comment,\n\t_serialize_list_object: TriG_Writer.prototype._serialize_collection_object,\n});\n\nmodule.exports = function(gc_writer) {\n\treturn new TriG_Writer(gc_writer);\n};\n"],"names":["queueMicrotask","dp_resolve","Promise","resolve","fk","then","catch","e_callback","setTimeout","e_define","factory","Writable","RT_PREFIXED_NAME_NAMESPACE_VALID","XC_DIRECTIVES_TYPE_SPARQL","XC_DIRECTIVES_CASE_PASCAL","XC_DIRECTIVES_CASE_UPPER","TriG_Writer","constructor","gc_writer","super","prefixes","h_prefixes","lists","gc_lists","debug","b_debug","style","gc_style","Object","assign","this","_b_debug","_s_indent","_b_simplify_default_graph","_xc_directives","_s_token_prefix","s_graph_keyword","z_graph_keyword","graph_keyword","graphKeyword","TypeError","test","Error","w_simplify_default_graph","simplify_default_graph","simplifyDefaultGraph","indent","replace","z_directives","directives","_s_graph_keyword","_serialize_list_object","a_list","n_nest_level","hc2_transcoded","_transcode_list","_encode_objects","s_token_prefix","s_prefix_eol","s_prefixes","s_prefix_id","namedNode","verbose","e_serialize","emit","push","_serialize_prefixes","_xc_state","_h_prefixes","cache_prefixes","_serialize_c3","hc3_triples","s_indent","s_write","s_delim_triples","f_exit_subject","sc1_subject","g_apply","_apply_directive","write","exit","i_triples","length","c1_node","terse","s_indent_pairs","s_term_pairs","hc2_pairs","i_pairs","b_empty","f_exit_predicate","sc1_predicate","z_objects","st_objects","kt_predicate","c1_named_node","st_predicate","isRdfTypeAlias","slice","_serialize_c4","hc4_quads","b_simplify_default_graph","f_exit_graph","sc1_graph","st_graph","s_indent_root","_hm_coercions","hm_coercions","c1","number","boolean","Array","isArray","Set","s_term_object","z_item","f_exit_object","repeat","has","kt_converted","get","apply","isGraphyTerm","termType","from","term","_serialize_collection_object","a_collection","s_objects","_serialize_quad","g_quad","kq_quad","quad","graph","_s_push","subject","predicate","object","prototype","anonymous_blank_nodes","_serialize_c3r","_serialize_c4r","_serialize_comment","_serialize_hash_comment","module","exports"],"sourceRoot":""}