(function(){var e={55414:function(e,t,o){"use strict";var a=o(49963),s=o(66252);const n={id:"app",class:"h-full flex flex-col"};function r(e,t){const o=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",n,[(0,s.Wm)(o)])}var l=o(83744);const i={},c=(0,l.Z)(i,[["render",r]]);var u=c,d=o(22201);function p(e,t,o,a,n,r){const l=(0,s.up)("Spex");return(0,s.wg)(),(0,s.j4)(l,{settings:n.settings,onSettingsChange:r.onSettingsChange},null,8,["settings","onSettingsChange"])}var h=o(3577);const m={class:"z-10 py-1 shadow-sm flex justify-between items-center dark:bg-gray-800"},f=(0,s._)("h1",{class:"px-4 py-2 text-3xl text-black dark:text-white font-bold font-title"}," SPEX ",-1),v={key:0},g={key:1},w={class:"z-10 absolute m-3"},b=(0,s._)("span",null,"Classes",-1),y={class:"z-10 absolute bottom-2 left-2 text-sm bg-gray-50 dark:bg-gray-700 flex items-center gap-2"},x=(0,s._)("a",{href:"https://zazuko.com",target:"_blank",rel:"noopener"},[(0,s._)("svg",{class:"h-8","clip-rule":"evenodd","fill-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"1.41421",viewBox:"0 0 768 260",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"m2137 3767c1-1-44-1-42-1h240c6-2 12-7 12-14s-5-13-12-14h-195c-35 0-63-29-63-64 0-31 23-57 53-62 2-1-14-1-13-1h223c7-1 12-7 12-14 0-8-7-14-15-14-80 0-161 2-242 2-16 0-27-17-31-30-21-62-34-144-80-190-121-121-165-296-94-456 66-149 211-240 374-241 336-3 529 388 328 654 16 21 25 47 25 74 0 65-53 119-118 119-66 0-119-54-119-119 0-66 53-119 119-119 19 0 37 5 53 13 175-233 5-574-287-571-143 1-270 80-329 211-62 140-23 293 84 399 56 56 66 131 90 204v1h227c35 0 64 28 64 63 0 31-23 58-53 63-2 0-32 0-34 0h29c-2 0-4 0-6 0h-199c-7 2-12 8-12 14 0 7 5 13 12 14h194c35 0 64 29 64 64 0 31-23 57-54 62-1 1 27 1 25 1h-29c-2 0-4 0-6 0h-188c-6 1-11 7-11 14 0 8 6 14 14 14 21 0 73-1 94 0 206 15 363-55 512-199 135-131 211-315 211-502 0-69-10-136-29-200h-1c-25-86-67-167-123-238h-2c-85-108-201-190-335-233v-3l-1 2c-34-11-69-19-105-24-3 11-8 22-15 33-37 54-110 69-165 33-23-16-40-39-48-65-333 56-587 346-587 695 0 89 17 178 50 261 14-7 30-10 46-10 66 0 119 53 119 119 0 65-53 118-119 118-65 0-118-53-118-118 0-30 10-58 30-80-38-92-58-190-58-290 0-374 273-685 631-744 0-2 1-5 1-7h2c3-15 9-30 18-44 36-54 110-69 165-33 29 20 47 50 51 82 43 6 85 17 126 30v1c77 26 149 64 213 112v-1c70 53 129 115 176 186h1c80 120 126 263 126 418 0 237-111 459-301 603-205 141-324 151-565 147-35 0-64-28-64-63 0-31 23-58 54-62zm183-1327v-1c1-1 1-2 1-3l1-1v-1-1-1l1-1v-1-1l1-2v-1-1-1-1-1l1-1v-1c0-1 0-2 0-3v-1-1-1-1-1-1-1-1-1-1-1-1l-1-1v-1-1-2-1l-1-2v-1-1l-1-1v-1-1-1h-1v-1c-5-14-14-27-28-36-32-22-77-13-99 20-3 5-6 11-8 17v2h-1v3h-1v5h-1v23l1 1v4l1 1v3l1 1v2l1 1v2l1 1c5 13 14 24 26 32 33 22 77 13 99-19 3-5 5-9 7-13zm234 910c-7-7-15-13-23-18-10-5-21-7-32-7-39 0-71 32-71 71s31 71 71 71c39 0 71-32 71-71 0-17-6-33-16-46zm-905 233c40 0 71-32 71-71 0-40-31-72-71-72-39 0-71 32-71 72 0 39 32 71 71 71z",transform:"matrix(.14637844056 0 0 .14637844056 -192.39293319 -322.90052908)"}),(0,s._)("g",{fill:"#ff441c"},[(0,s._)("path",{d:"m3509 3401.22c-4 5-6 10-6 17 0 3 1 6 2 10l6 9c2 2 5 4 8 5s7 2 11 2h417c7 0 13-2 18-7 5-6 8-12 8-20s-3-13-8-19c-5-5-11-7-18-7h-343c-4 0-7-2-8-5s-1-7 1-9l371-443c4-5 6-11 6-18 0-3-1-6-2-9s-4-7-6-9-5-4-8-6c-4-1-7-2-11-2h-417c-8 0-13 3-18 8-6 5-8 11-8 18 0 8 2 14 8 20 5 5 10 8 18 8h342c3 0 6 1 8 4 1 3 1 7-2 9z",transform:"matrix(.12790089092 0 0 .12790089092 -128.22109287 -266.58431113)"}),(0,s._)("path",{d:"m4479 3418.22c0 7 2 13 7 18 6 6 12 8 20 8 7 0 13-2 18-8 6-5 8-11 8-18v-251c0-77-27-142-81-196s-119-81-196-81-142 27-196 81c-54 55-81 119-81 196s27 142 81 196 119 81 196 81c32 0 63-5 93-16 29-10 56-26 81-45l36-29c2-2 6-3 9-1 3 1 5 4 5 7zm-224-474c30 0 60 5 88 17 26 12 50 28 70 49 21 20 37 44 48 70 12 28 18 57 18 87s-6 59-18 87c-11 26-27 50-48 70-20 21-44 37-71 49s-57 18-87 18-60-6-88-18c-27-12-50-28-71-48-20-21-36-45-47-71-12-28-18-57-18-87s6-59 18-87c11-26 27-50 47-70 21-21 44-37 71-49 28-12 57-17 88-17z",transform:"matrix(.12790089092 0 0 .12790089092 -128.22109287 -266.58431113)"}),(0,s._)("path",{d:"m4597 3401.22c-4 5-5 10-5 17 0 3 0 6 2 10 1 3 3 6 5 9 3 2 5 4 8 5s7 2 11 2h417c7 0 13-2 18-7 6-6 8-12 8-20s-2-13-8-19c-5-5-10-7-18-7h-343c-4 0-6-2-8-5-1-3-1-7 1-9l371-443c5-5 6-11 6-18 0-3-1-6-2-9s-3-7-6-9c-2-2-5-4-8-6-3-1-7-2-11-2h-417c-7 0-13 3-18 8-6 5-8 11-8 18 0 8 2 14 8 20 5 5 11 8 18 8h342c3 0 6 1 8 4 1 3 1 7-1 9z",transform:"matrix(.12790089092 0 0 .12790089092 -128.22109287 -266.58431113)"}),(0,s._)("path",{d:"m5609 3444.22c8 0 14-2 20-7 5-6 7-12 7-19v-502c0-7-2-13-7-18-6-5-11-8-19-8s-14 2-19 8c-6 5-8 11-8 18v272c0 27-5 54-16 79-10 24-25 46-43 64-19 19-41 33-65 44-25 11-51 16-79 16-27 0-54-5-79-16-24-11-46-25-64-43-19-19-33-41-43-65-11-25-16-52-16-79v-272c0-7-3-13-8-18-6-5-11-8-19-8s-13 2-19 8c-5 5-8 11-8 18v272c0 34 7 67 20 99 14 30 32 58 56 82 24 23 51 41 82 55 31 13 64 20 98 20 28 0 56-3 83-12 26-8 49-21 70-38l35-27c3-2 6-3 9-1 3 1 5 4 5 7l1 44c0 8 3 14 8 20 5 5 11 7 18 7z",transform:"matrix(.12790089092 0 0 .12790089092 -128.22109287 -266.58431113)"}),(0,s._)("path",{d:"m6162 3439.22c4 4 10 5 16 5 4 0 8 0 11-2 3-1 5-3 8-5 3-3 5-6 6-10 2-3 2-6 2-9 0-8-3-14-8-20l-253-285c-2-2-3-5-2-7 0-3 1-5 3-6l252-163c7-5 8-12 8-21 0-3 0-6-1-9-2-3-4-7-7-9-2-2-5-4-8-6-3-1-7-2-11-2-5 0-9 1-14 4l-363 236c-2 2-5 2-8 0-3-1-5-4-5-7v-470c0-7-2-13-7-19-6-5-12-8-19-8-8 0-14 3-19 8-6 6-8 12-8 19v764c0 8 2 14 8 19 5 6 11 8 19 8 7 0 13-2 18-8 6-5 8-11 8-19v-210c0-3 2-6 4-7l93-61c4-3 8-2 11 1z",transform:"matrix(.12790089092 0 0 .12790089092 -128.22109287 -266.58431113)"}),(0,s._)("path",{d:"m6802.94 3171.21c0-39.08-6.34-76.05-21.12-111.96-14.79-35.91-36.97-67.59-64.43-95.06-57.04-57.03-125.69-85.55-207.02-85.55-80.27 0-148.92 28.52-207.01 85.55-57.04 58.09-85.55 125.69-85.55 207.02 0 81.32 28.51 149.98 85.55 207.01 58.09 57.04 126.74 85.55 207.01 85.55 81.33 0 149.98-28.51 207.02-85.55 58.09-57.03 86.6-125.69 85.55-207.01zm-292.57-235.53c32.74 0 63.37 5.28 92.95 17.95 27.46 12.68 52.81 29.58 74.99 51.76 21.12 21.12 38.02 46.47 49.64 73.93 12.67 29.57 19.01 60.2 19.01 91.89 0 31.68-6.34 62.31-19.01 91.89-11.62 27.46-28.52 52.81-49.64 73.93-22.18 22.18-47.53 39.08-74.99 51.75-29.58 12.68-60.21 19.02-92.95 19.02-31.68 0-63.37-6.34-92.94-19.02-27.46-12.67-52.81-29.57-73.94-50.69-22.18-22.18-39.08-47.53-50.69-74.99-12.68-29.58-17.96-60.21-17.96-91.89 0-31.69 5.28-62.32 17.96-91.89 11.61-27.46 28.51-52.81 50.69-73.93 21.13-22.18 46.48-39.08 73.94-51.76 29.57-12.67 61.26-17.95 92.94-17.95z",transform:"matrix(.12790089092 0 0 .12790089092 -129.98018937 -266.58431113)"})])])],-1),_=(0,s._)("span",null,"/",-1),k=(0,s._)("a",{href:"https://github.com/zazuko/SPEX",target:"_blank",rel:"noopener noreferer",title:"Github repository"},[(0,s._)("svg",{class:"w-5 h-5 opacity-70 hover:opacity-100","aria-hidden":"true",viewBox:"0 0 16 16",version:"1.1","data-view-component":"true"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"})])],-1),S=[x,_,k],E={key:1,class:"m-auto"},C={key:2,class:"section"},T={class:"message is-danger"},L={class:"message-body"};function I(e,t,o,n,r,l){const i=(0,s.up)("CogIcon"),c=(0,s.up)("TablesList"),u=(0,s.up)("Pane"),d=(0,s.up)("MenuIcon"),p=(0,s.up)("OverviewTables"),x=(0,s.up)("Splitpanes"),_=(0,s.up)("loading-spinner"),k=(0,s.up)("TableExplorer"),I=(0,s.up)("ResourcesExplorer"),P=(0,s.up)("SettingsPane"),Z=(0,s.up)("ModalShacl"),$=(0,s.up)("ModalShaclLoad");return(0,s.wg)(),(0,s.j4)(x,{class:"default-theme flex-grow overflow-hidden"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(x,{horizontal:"",class:"h-full"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{class:"flex flex-col"},{default:(0,s.w5)((()=>[(0,s._)("div",m,[f,(0,s._)("button",{class:"button is-white dark:is-dark flex items-center gap-1",title:"Options",onClick:t[0]||(t[0]=(...e)=>l.showSettings&&l.showSettings(...e))},[(0,s._)("h2",null,[r.endpoint?((0,s.wg)(),(0,s.iD)("span",v,(0,h.zw)(r.endpoint.url),1)):((0,s.wg)(),(0,s.iD)("span",g,"No endpoint configured yet"))]),(0,s.Wm)(i,{class:"icon"})]),r.endpoint&&!r.error?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"button is-white is-small",onClick:t[1]||(t[1]=(...e)=>l.showShacl&&l.showShacl(...e))}," SHACL ")):(0,s.kq)("",!0)]),r.datamodel?((0,s.wg)(),(0,s.j4)(x,{key:0,vertical:"",class:"overflow-hidden"},{default:(0,s.w5)((()=>[r.tablesListShown?((0,s.wg)(),(0,s.j4)(u,{key:0,size:"20"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{datamodel:r.datamodel,onToggleTable:l.toggleTable,onSelectViewport:l.selectViewport,onClose:l.hideTablesList},null,8,["datamodel","onToggleTable","onSelectViewport","onClose"])])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(u,{class:"relative h-full"},{default:(0,s.w5)((()=>[(0,s._)("div",w,[(0,s.wy)((0,s._)("button",{class:"button",onClick:t[2]||(t[2]=(...e)=>l.showTablesList&&l.showTablesList(...e))},[(0,s.Wm)(d,{class:"icon"}),b],512),[[a.F8,!r.tablesListShown]])]),(0,s.Wm)(p,{datamodel:r.datamodel,onExplore:l.exploreTable,onExport:l.onExportTable,onToggleTable:l.toggleTable},{default:(0,s.w5)((()=>[(0,s.wy)((0,s._)("p",y,S,512),[[a.F8,!(r.tableExplorerShown||l.resourcesExplorerShown)]])])),_:1},8,["datamodel","onExplore","onExport","onToggleTable"])])),_:1})])),_:1})):(0,s.kq)("",!0),r.isLoading?((0,s.wg)(),(0,s.iD)("div",E,[(0,s.Wm)(_)])):(0,s.kq)("",!0),r.error?((0,s.wg)(),(0,s.iD)("div",C,[(0,s._)("div",T,[(0,s._)("div",L," Error loading data: "+(0,h.zw)(r.error),1)])])):(0,s.kq)("",!0)])),_:1}),r.tableExplorerShown||l.resourcesExplorerShown?((0,s.wg)(),(0,s.j4)(u,{key:0},{default:(0,s.w5)((()=>[(0,s.Wm)(x,{vertical:""},{default:(0,s.w5)((()=>[r.tableExplorerShown?((0,s.wg)(),(0,s.j4)(u,{key:0},{default:(0,s.w5)((()=>[(0,s.Wm)(k,{table:r.exploredTable,endpoint:r.endpoint,onClose:l.hideExplorer,onExploreResource:l.exploreResource},null,8,["table","endpoint","onClose","onExploreResource"])])),_:1})):(0,s.kq)("",!0),l.resourcesExplorerShown?((0,s.wg)(),(0,s.j4)(u,{key:1},{default:(0,s.w5)((()=>[(0,s.Wm)(I,{resources:r.exploredResources,endpoint:r.endpoint,onClose:l.hideResourcesExplorer,onExploreResource:l.exploreResource,onUnexploreResource:l.unexploreResource},null,8,["resources","endpoint","onClose","onExploreResource","onUnexploreResource"])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1}),r.settingsShown?((0,s.wg)(),(0,s.j4)(u,{key:0,size:"30"},{default:(0,s.w5)((()=>[(0,s.Wm)(P,{settings:o.settings,onChange:l.loadEndpoint,onClose:l.hideSettings},null,8,["settings","onChange","onClose"])])),_:1})):(0,s.kq)("",!0),r.shaclModalShown?((0,s.wg)(),(0,s.j4)(Z,{key:1,open:r.shaclModalShown,onClose:l.hideShaclModal,endpoint:r.endpoint,datamodel:r.datamodel,onOpenLoadShacl:l.showLoadShacl},null,8,["open","onClose","endpoint","datamodel","onOpenLoadShacl"])):(0,s.kq)("",!0),r.shaclLoadModalShown?((0,s.wg)(),(0,s.j4)($,{key:2,open:r.shaclLoadModalShown,onClose:l.hideShaclLoadModal,endpoint:r.endpoint,load:l.loadShacl},null,8,["open","onClose","endpoint","load"])):(0,s.kq)("",!0)])),_:1})}o(21703);var P=o(14618),Z=o(77452),$=o(66209),D=o(74919),O=o(11817),M=o(39155),W=o.n(M),j=o(57417),R=o(71756);const H=".well-known/void",U=[...Object.keys(R.q1)],V=["en","*"];class z{constructor({url:e,user:t=null,password:o=null,prefixes:a=[],graph:s="",forceIntrospection:n=!1}){this.url=e,this.user=t||null,this.password=o||null,this.prefixes=a,this.graph=s,this.client=new(W())({endpointUrl:this.url,user:this.user,password:this.password}),this.forceIntrospection=n,Object.keys(R.q1).forEach((e=>{U.includes(e)||delete R.q1[e]})),a.forEach((({prefix:e,url:t})=>{R.q1[e]=t}))}shrink(e){return(0,D.F)(e)||e}async fetchGraphs(e={}){const t=e.offset||0,o=e.limit||null,a=`\n      SELECT DISTINCT ?g\n      WHERE {\n        GRAPH ?g { ?s ?p ?o }\n      }\n      ORDER BY ?g\n      OFFSET ${t}\n      LIMIT ${o}\n    `,s=await this.client.query.select(a);return s.map((({g:{value:e}})=>e))}async fetchDatamodel(){if(this.forceIntrospection)return this.fetchIntrospectDatamodel();const e=await this.fetchPredefinedDatamodel();return e.tables?e:this.fetchIntrospectDatamodel()}get datasetURI(){return this.url.replace(/query\/?$/,H)}async fetchPredefinedDatamodel(){const e=this.graph?`FROM <${this.graph}>`:"",t=`\n      #pragma describe.strategy cbd\n      DESCRIBE <${this.datasetURI}>\n      ${e}\n    `,o=await this.client.query.construct(t),a=O.ZP.clownface({dataset:O.ZP.dataset(o),term:O.ZP.namedNode(this.datasetURI)});return this.datamodelFromSHACL(a)}datamodelFromSHACL(e){return(0,j.li)(e,V,this.shrink)}datamodelToSHACL(e){return(0,j.yM)(e,this.datasetURI)}async fetchIntrospectDatamodel(){const e=await this._fetchStructure(),t=e.reduce(((e,{cls:t,property:o,linktype:a,datatype:s})=>{const n=e.get(t.value)||{id:t.value,name:this.shrink(t.value),properties:new Map,isShown:!0},r=a&&a.value||s&&s.value||null,l=a?"NamedNode":s?"Literal":null,i=r&&{id:r,name:this.shrink(r),termType:l};return n.properties.has(o.value)?i&&n.properties.get(o.value).values.push(i):n.properties.set(o.value,{id:o.value,name:this.shrink(o.value),values:i?[i]:[]}),e.set(t.value,n),e}),new Map),o=[...t.values()].map((e=>({...e,properties:[...e.properties.values()]})));return{tables:o,viewports:[],isIntrospected:!0}}async _fetchStructure(){const e=this.graph?`FROM <${this.graph}>`:"",t=`\n      SELECT DISTINCT ?cls ?property ?linktype ?datatype\n      ${e}\n      WHERE {\n        ?subject a ?cls .\n        ?subject ?property ?object .\n\n        OPTIONAL {\n          ?object a ?linktype .\n        }\n\n        BIND(DATATYPE(?object) AS ?datatype)\n      }\n    `;return this.client.query.select(t)}async fetchTableData(e,t={}){const o=O.ZP.namedNode(e.id),a=t.limit||10,s=t.offset||0,n=this.graph?`GRAPH <${this.graph}>`:"",r=`\n      DESCRIBE ?subject {\n        {\n          SELECT ?subject\n          WHERE {\n            ${n} {\n              ?subject a <${e.id}>\n            }\n          }\n          LIMIT ${a}\n          OFFSET ${s}\n        }\n      }\n    `,l=await this.client.query.construct(r),i=O.ZP.dataset(l),c=[...i.match(null,R.E_.type,o)],u=O.ZP.termMap(c.map((({subject:e})=>[e,{id:e.value,term:e}])));return l.forEach((({subject:e,predicate:{value:t},object:o})=>{const a=u.get(e);a&&(a[t]||(a[t]=O.ZP.termSet()),a[t].add(o),u.set(e,a))})),[...u.values()]}async fetchResource(e){const t=`\n      DESCRIBE <${e}> {}\n    `,o=await this.client.query.construct(t),a=o.reduce(((e,{predicate:t,object:o})=>{if(!e.has(t.value)){const o={id:t.value,term:t,name:this.shrink(t.value),values:O.ZP.termSet()};e.set(t.value,o)}return e.get(t.value).values.add(o),e}),new Map),s={value:e,termType:"NamedNode"};return{id:e,term:s,name:this.shrink(s.value),properties:[...a.values()]}}}const N=e=>((0,s.dD)("data-v-10fd3d83"),e=e(),(0,s.Cn)(),e),q={class:"modal-card-head py-4"},G=N((()=>(0,s._)("h3",null,"Generated SHACL shapes",-1))),F={class:"ml-auto"},A={class:"modal-card-body overflow-y-hidden flex flex-col pb-0"},B={class:"flex justify-between"},Y={class:"flex items-center gap-2"},K=N((()=>(0,s._)("span",null,"Copy",-1)));function X(e,t,o,n,r,l){const i=(0,s.up)("UploadIcon"),c=(0,s.up)("Tooltip"),u=(0,s.up)("XIcon"),d=(0,s.up)("RadioGroupOption"),p=(0,s.up)("RadioGroup"),m=(0,s.up)("ClipboardCopyIcon"),f=(0,s.up)("rdf-editor"),v=(0,s.up)("Dialog");return(0,s.wg)(),(0,s.j4)(v,{onClose:t[4]||(t[4]=t=>e.$emit("close"))},{default:(0,s.w5)((()=>[(0,s._)("div",q,[G,(0,s._)("div",F,[(0,s.Wm)(c,{label:"Load SHACL shapes",position:"bottom",class:"mr-4"},{default:(0,s.w5)((()=>[(0,s._)("button",{class:"button",onClick:t[0]||(t[0]=(...e)=>l.load&&l.load(...e))},[(0,s.Wm)(i,{class:"icon"})])])),_:1}),(0,s.Wm)(c,{label:"Close"},{default:(0,s.w5)((()=>[(0,s._)("button",{class:"button is-light",onClick:t[1]||(t[1]=t=>e.$emit("close"))},[(0,s.Wm)(u,{class:"icon"})])])),_:1})])]),(0,s._)("div",A,[(0,s._)("div",B,[(0,s.Wm)(p,{modelValue:r.selectedFormat,"onUpdate:modelValue":t[2]||(t[2]=e=>r.selectedFormat=e),class:"field has-addons"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.formats,(e=>((0,s.wg)(),(0,s.j4)(d,{key:e.value,value:e.value,class:"control"},{default:(0,s.w5)((({checked:t})=>[(0,s._)("span",{class:(0,h.C_)(["button",t?"is-primary":""])},(0,h.zw)(e.label),3)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"]),(0,s._)("div",Y,[(0,s.wy)((0,s._)("span",{class:"text-green-500"},(0,h.zw)(n.copiedMessage),513),[[a.F8,n.copiedMessage]]),(0,s._)("button",{class:"button",onClick:t[3]||(t[3]=(...e)=>l.copy&&l.copy(...e))},[(0,s.Wm)(m,{class:"icon"}),K])])]),(0,s.Wm)(f,{format:r.selectedFormat,".quads":n.shacl,".prefixes":r.prefixes,".customPrefixes":n.customPrefixes,ref:"snippet",class:"overflow-y-auto"},null,8,["format",".quads",".prefixes",".customPrefixes"])])])),_:1})}var J=o(2262),Q=(o(24512),o(65981)),ee=o(45957),te=o(5033),oe=o(63255);const ae={class:"flex items-center justify-center min-h-screen"},se={class:"modal-card"};function ne(e,t,o,a,n,r){const l=(0,s.up)("DialogOverlay"),i=(0,s.up)("HDialog");return(0,s.wg)(),(0,s.j4)(i,{open:e.open,onClose:t[0]||(t[0]=t=>e.$emit("close")),class:"fixed inset-0 z-10 overflow-y-auto"},{default:(0,s.w5)((()=>[(0,s._)("div",ae,[(0,s.Wm)(l,{class:"fixed inset-0 bg-black opacity-50"}),(0,s._)("div",se,[(0,s.WI)(e.$slots,"default")])])])),_:3},8,["open"])}var re=o(66257),le=(0,s.aZ)({name:"Dialog",props:["open"],emits:["close"],components:{DialogOverlay:re.t9,HDialog:re.Vq}});const ie=(0,l.Z)(le,[["render",ne]]);var ce=ie,ue=o(90277),de={name:"ModalShacl",components:{ClipboardCopyIcon:ee.Z,Dialog:ce,RadioGroup:Q.Ee,RadioGroupOption:Q.$v,Tooltip:ue.Z,UploadIcon:te.Z,XIcon:oe.Z},props:["datamodel","loadShacl","endpoint"],emits:["close","open-load-shacl"],setup(e){const{datamodel:t,endpoint:o}=(0,J.BK)(e),a=(0,s.Fl)((()=>o.value.prefixes.reduce(((e,{prefix:t,url:o})=>({...e,[t]:o})),{}))),n=(0,s.Fl)((()=>[...o.value.datamodelToSHACL(t.value).dataset])),r=(0,J.iH)(null);return{customPrefixes:a,shacl:n,copiedMessage:r}},data(){return{formats:[{label:"JSON-LD",value:"application/ld+json"},{label:"Turtle",value:"text/turtle"},{label:"N-Triples",value:"application/n-triples"}],selectedFormat:"application/ld+json",prefixes:["sh","schema"].join(",")}},methods:{async copy(){const e=this.$refs.snippet.codeMirror.value;await navigator.clipboard.writeText(e),this.copiedMessage="Copied ðŸ‘",setTimeout((()=>{this.copiedMessage=null}),3e3)},load(){this.$emit("open-load-shacl"),this.$emit("close")}}};const pe=(0,l.Z)(de,[["render",X],["__scopeId","data-v-10fd3d83"]]);var he=pe;const me={class:"modal-card-head py-4"},fe=(0,s._)("h3",null,"Load SHACL shapes",-1),ve={class:"ml-auto"},ge={class:"modal-card-body"},we={class:"field"},be={key:0,class:"help is-danger"},ye=(0,s._)("p",{class:"help"},[(0,s.Uk)(" Paste your SHACL shapes in "),(0,s._)("strong",null,"N3"),(0,s.Uk)(" format in the field above. ")],-1),xe=(0,s._)("div",{class:"field"},[(0,s._)("button",{class:"button is-primary",type:"submit"},"Load")],-1);function _e(e,t,o,n,r,l){const i=(0,s.up)("XIcon"),c=(0,s.up)("Dialog");return(0,s.wg)(),(0,s.j4)(c,{onClose:t[3]||(t[3]=t=>e.$emit("close"))},{default:(0,s.w5)((()=>[(0,s._)("div",me,[fe,(0,s._)("div",ve,[(0,s._)("button",{class:"button is-light",title:"Close",onClick:t[0]||(t[0]=t=>e.$emit("close"))},[(0,s.Wm)(i,{class:"icon"})])])]),(0,s._)("div",ge,[(0,s._)("form",{onSubmit:t[2]||(t[2]=(0,a.iM)(((...e)=>l.onSubmit&&l.onSubmit(...e)),["prevent"]))},[(0,s._)("div",we,[(0,s.wy)((0,s._)("textarea",{type:"textarea",class:(0,h.C_)(["textarea",{"is-danger":r.error}]),"onUpdate:modelValue":t[1]||(t[1]=e=>r.data=e)},null,2),[[a.nr,r.data]]),r.error?((0,s.wg)(),(0,s.iD)("p",be,(0,h.zw)(r.error),1)):(0,s.kq)("",!0),ye]),xe],32)])])),_:1})}var ke=o(57003),Se={name:"ModalShaclLoad",props:["load","endpoint"],emits:["close"],components:{Dialog:ce,XIcon:oe.Z},data(){return{data:"",error:null}},methods:{async onSubmit(){if(!this.data)return;const e=new ke.Z;try{const t=e.parse(this.data),o=O.ZP.dataset(t),a=O.ZP.clownface({dataset:o,term:R.It.DefaultShapes}).in(R.E_.type).in(R.It.shape);if(!a.term)throw new Error("No node with spex:shape pointing to a spex:DefaultShapes found");const s=this.endpoint.datamodelFromSHACL(a);this.load(s),this.$emit("close")}catch(t){this.error=t.toString()}}}};const Ee=(0,l.Z)(Se,[["render",_e]]);var Ce=Ee;const Te={class:"z-10 absolute bottom-2 right-2 text-sm text-gray-400"},Le={key:1,class:"flex-grow bg-gray-50 flex flex-col items-center justify-center"},Ie=(0,s._)("p",{class:"pb-4"},"No classes to show",-1),Pe=[Ie];function Ze(e,t,o,n,r,l){const i=(0,s.up)("OverviewTable"),c=(0,s.up)("GraphLayout");return l.tablesVisible.length>0?((0,s.wg)(),(0,s.j4)(c,{key:0,nodes:l.tablesVisible,links:l.links,"active-links":r.activeLinks,onLinkEnter:l.onLinkHover,onLinkOut:l.onUnhover,class:"bg-gray-50 dark:bg-gray-700 flex-grow"},{node:(0,s.w5)((({node:o})=>[(0,s.Wm)(i,{table:o,"active-links":r.activeLinks,onExplore:t[0]||(t[0]=t=>e.$emit("explore",t)),onHide:t[1]||(t[1]=t=>e.$emit("toggle-table",t,!1)),onExport:t[2]||(t[2]=t=>e.$emit("export",t)),onHoverTitle:l.onHoverTable,onUnhoverTitle:l.onUnhover,onHoverProperty:l.onHoverProperty,onUnhoverProperty:l.onUnhover},null,8,["table","active-links","onHoverTitle","onUnhoverTitle","onHoverProperty","onUnhoverProperty"])])),default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default"),(0,s.wy)((0,s._)("p",Te," introspected ",512),[[a.F8,o.datamodel.isIntrospected]])])),_:3},8,["nodes","links","active-links","onLinkEnter","onLinkOut"])):((0,s.wg)(),(0,s.iD)("div",Le,Pe))}var $e=o(59401);const De={class:"flex gap-1"};function Oe(e,t,o,a,n,r){const l=(0,s.up)("ClipboardCopyIcon"),i=(0,s.up)("Tooltip"),c=(0,s.up)("EyeOffIcon"),u=(0,s.up)("TableIcon"),d=(0,s.up)("ResourceCard");return(0,s.wg)(),(0,s.j4)(d,{resource:o.table,"active-links":o.activeLinks},{actions:(0,s.w5)((()=>[(0,s._)("div",De,[(0,s.Wm)(i,{label:`${a.copiedMessage?a.copiedMessage:"Copy"}`},{default:(0,s.w5)((()=>[(0,s._)("button",{class:"button is-light is-small",onClick:t[0]||(t[0]=e=>r.onExportTable(o.table))},[(0,s.Wm)(l,{class:"icon"})])])),_:1},8,["label"]),(0,s.Wm)(i,{label:"Hide"},{default:(0,s.w5)((()=>[(0,s._)("button",{class:"button is-light is-small",onClick:t[1]||(t[1]=t=>e.$f("hide",o.table))},[(0,s.Wm)(c,{class:"icon"})])])),_:1}),(0,s.Wm)(i,{label:"Explore"},{default:(0,s.w5)((()=>[(0,s._)("button",{class:"button is-light is-small",onClick:t[2]||(t[2]=t=>e.$emit("explore",o.table))},[(0,s.Wm)(u,{class:"icon"})])])),_:1})])])),_:1},8,["resource","active-links"])}var Me=o(27977),We=o(99905),je=o(27745),Re={name:"OverviewTable",props:["table","activeLinks"],emits:["hide","explore","export"],components:{EyeOffIcon:Me.Z,ResourceCard:je.Z,TableIcon:We.Z,Tooltip:ue.Z,ClipboardCopyIcon:ee.Z},setup(e){const t=(0,J.iH)(null);return{copiedMessage:t}},methods:{onExportTable(e){this.$emit("export",e),this.copiedMessage="ðŸ‘",setTimeout((()=>{this.copiedMessage=null}),1500)}}};const He=(0,l.Z)(Re,[["render",Oe]]);var Ue=He,Ve={name:"OverviewTables",components:{GraphLayout:$e.Y,OverviewTable:Ue},props:["datamodel"],emits:["explore","toggle-table","export"],data(){return{activeLinks:[]}},computed:{tablesVisible(){return this.datamodel.tables.filter((({isShown:e})=>e))},links(){const e=new Set(this.tablesVisible.map((({id:e})=>e)));return this.tablesVisible.flatMap((e=>e.properties.map((t=>({...t,table:e}))))).reduce(((t,o)=>(o.values.forEach((a=>{const s=o.table.id,n=a.id;e.has(n)&&t.push({source:s,target:n,sourceProperty:o.id,label:o.name})})),t)),[])}},methods:{onHoverTable(e){this.activeLinks=this.links.filter((t=>t.source===e.id))},onHoverProperty(e,t){this.activeLinks=this.links.filter((o=>o.source===e.id&&o.sourceProperty===t.id))},onUnhover(){this.activeLinks=[]},onLinkHover(e){this.activeLinks=[e]}}};const ze=(0,l.Z)(Ve,[["render",Ze]]);var Ne=ze;const qe={class:"card h-full flex flex-col"},Ge={class:"card-header has-background-light"},Fe=(0,s._)("h3",{class:"card-header-title"}," Resources explorer ",-1),Ae={class:"card-header-icon py-0 px-1"},Be=["href"],Ye=["onClick"],Ke={class:"flex items-center"};function Xe(e,t,o,a,n,r){const l=(0,s.up)("XIcon"),i=(0,s.up)("ExternalLinkIcon"),c=(0,s.up)("Tooltip"),u=(0,s.up)("EyeOffIcon"),d=(0,s.up)("Term"),p=(0,s.up)("TermExploreButton"),h=(0,s.up)("ResourceCard"),m=(0,s.up)("GraphLayout");return(0,s.wg)(),(0,s.iD)("div",qe,[(0,s._)("div",Ge,[Fe,(0,s._)("p",Ae,[(0,s._)("button",{class:"button is-light",onClick:t[0]||(t[0]=t=>e.$emit("close")),title:"Close"},[(0,s.Wm)(l,{class:"icon"})])])]),(0,s.Wm)(m,{class:"card-content p-0",nodes:o.resources,links:a.links,"active-links":a.activeLinks,"auto-zoom":!1,onLinkEnter:a.onLinkHover,onLinkOut:a.onUnhover},{node:(0,s.w5)((({node:n})=>[(0,s.Wm)(h,{resource:n,"active-links":a.activeLinks,onHoverTitle:a.onHoverResource,onUnhoverTitle:a.onUnhover,onHoverProperty:a.onHoverProperty,onUnhoverProperty:a.onUnhover},{actions:(0,s.w5)((()=>[(0,s.Wm)(c,{label:"Open URI in new tab"},{default:(0,s.w5)((()=>[(0,s._)("a",{href:n.id,target:"_blank",rel:"noopener noreferrer",class:"button is-light"},[(0,s.Wm)(i,{class:"icon"})],8,Be)])),_:2},1024),(0,s.Wm)(c,{label:"Hide"},{default:(0,s.w5)((()=>[(0,s._)("button",{class:"button is-light",onClick:t=>e.$emit("unexplore-resource",n)},[(0,s.Wm)(u,{class:"icon"})],8,Ye)])),_:2},1024)])),"property-value":(0,s.w5)((({value:a})=>[(0,s._)("div",Ke,[(0,s.Wm)(d,{term:a,endpoint:o.endpoint},null,8,["term","endpoint"]),(0,s.Wm)(p,{term:a,onExploreResource:t[1]||(t[1]=t=>e.$emit("explore-resource",t))},null,8,["term"])])])),_:2},1032,["resource","active-links","onHoverTitle","onUnhoverTitle","onHoverProperty","onUnhoverProperty"])])),_:1},8,["nodes","links","active-links","onLinkEnter","onLinkOut"])])}var Je=o(43498);const Qe={key:0,class:"has-text-grey"};function et(e,t,o,a,n,r){const l=(0,s.up)("Tooltip");return(0,s.wg)(),(0,s.j4)(l,{label:n.tooltip},{default:(0,s.w5)((()=>[(0,s.Uk)((0,h.zw)(n.displayValue),1),n.language?((0,s.wg)(),(0,s.iD)("small",Qe,"@"+(0,h.zw)(n.language),1)):(0,s.kq)("",!0)])),_:1},8,["label"])}var tt={name:"Term",props:["term","endpoint"],components:{Tooltip:ue.Z},data(){const e=ot(this.endpoint,this.term),t=at(this.endpoint,this.term);return{displayValue:e,language:this.term&&this.term.language,tooltip:t!==e?t:""}}};function ot(e,t){return t?"NamedNode"===t.termType?e.shrink(t.value):t.value:t}function at(e,t){if("Literal"===t.termType){const o=t.datatype?`^^${e.shrink(t.datatype.value)}`:"",a=t.language?`@${t.language}`:"";return`${t.value}${o}${a}`}return t.value}const st=(0,l.Z)(tt,[["render",et]]);var nt=st;function rt(e,t,o,a,n,r){const l=(0,s.up)("EyeIcon"),i=(0,s.up)("Tooltip");return r.canExplore?((0,s.wg)(),(0,s.j4)(i,{key:0,label:"Explore"},{default:(0,s.w5)((()=>[(0,s._)("button",{class:"button is-white is-small",onClick:t[0]||(t[0]=t=>e.$emit("explore-resource",r.resource))},[(0,s.Wm)(l,{class:"icon"})])])),_:1})):(0,s.kq)("",!0)}var lt=o(26523),it={name:"TermExploreButton",props:["term","endpoint"],emits:["explore-resource"],components:{EyeIcon:lt.Z,Tooltip:ue.Z},computed:{canExplore(){return["NamedNode","BlankNode"].includes(this.term.termType)},resource(){return{id:this.term.value,name:this.term.value,term:this.term}}}};const ct=(0,l.Z)(it,[["render",rt]]);var ut=ct,dt={name:"ResourcesExplorer",props:["resources","endpoint"],emits:["explore-resource","unexplore-resource","close"],components:{ExternalLinkIcon:Je.Z,EyeOffIcon:Me.Z,GraphLayout:$e.Y,ResourceCard:je.Z,Term:nt,TermExploreButton:ut,Tooltip:ue.Z,XIcon:oe.Z},setup(e,t){const{endpoint:o,resources:a}=(0,J.BK)(e),n=(0,s.Fl)((()=>{const e=new Set(a.value.map((({id:e})=>e)));return a.value.filter((e=>e.properties)).flatMap((e=>e.properties.map((t=>({...t,resource:e}))))).reduce(((t,o)=>(o.values.forEach((a=>{const s=o.resource.id,n=a.value;e.has(n)&&t.push({source:s,target:n,sourceProperty:o.id,label:o.name})})),t)),[])})),r=(0,J.iH)([]),l=e=>{r.value.push(e)},i=()=>{r.value=[]},c=e=>{r.value=n.value.filter((t=>t.source===e.id))},u=(e,t)=>{r.value=n.value.filter((o=>o.source===e.id&&o.sourceProperty===t.id))},d=async()=>{o.value&&a.value.forEach((async e=>{if(!e.isFetched)try{const a=await o.value.fetchResource(e.id),s={...a,isFetched:!0};t.emit("explore-resource",s)}catch(a){const o={...e,isFetched:!0};t.emit("explore-resource",o)}}))};return(0,s.bv)(d),(0,s.YP)(o,d),(0,s.YP)(a,d),{links:n,activeLinks:r,onLinkHover:l,onUnhover:i,onHoverResource:c,onHoverProperty:u}},computed:{uri(){return this.$route.params.uri}}};const pt=(0,l.Z)(dt,[["render",Xe]]);var ht=pt;const mt={class:"card is-shadowless h-full overflow-y-auto"},ft={class:"card-header has-background-light"},vt=(0,s._)("h3",{class:"card-header-title"},"Options",-1),gt={class:"card-header-icon py-0 px-1"},wt={class:"field"},bt=(0,s._)("label",{class:"label",for:"endpoint"},"Endpoint URL",-1),yt={class:"field"},xt=(0,s._)("label",{class:"label",for:"username"},"Username",-1),_t={class:"field"},kt=(0,s._)("label",{class:"label",for:"password"},"Password",-1),St=(0,s._)("label",{class:"label",for:"graph"},"Graph",-1),Et={class:"field"},Ct={key:0,class:"message is-danger"},Tt={class:"message-body"},Lt={class:"field"},It=(0,s._)("label",{class:"label"},"Custom prefixes",-1),Pt={class:"flex flex-col gap-1"},Zt=["onUpdate:modelValue"],$t=["onUpdate:modelValue"],Dt=["onClick"],Ot={key:0,class:"has-text-grey"},Mt={class:"field"},Wt={class:"label flex items-center gap-2"},jt=(0,s.Uk)(" Force introspection "),Rt=(0,s._)("p",{class:"help"},[(0,s.Uk)(" By default, the explorer will use the endpoint schema provided at "),(0,s._)("code",null,"endpoint/.well-known/void"),(0,s.Uk)(" (if any). Use this option to force an introspection. ")],-1),Ht=(0,s._)("div",{class:"field"},[(0,s._)("button",{class:"button is-primary",type:"submit"},"Load")],-1);function Ut(e,t,o,n,r,l){const i=(0,s.up)("XIcon"),c=(0,s.up)("SelectGraph"),u=(0,s.up)("MinusSmIcon"),d=(0,s.up)("PlusSmIcon"),p=(0,s.up)("Switch");return(0,s.wg)(),(0,s.iD)("div",mt,[(0,s._)("div",ft,[vt,(0,s._)("p",gt,[(0,s._)("button",{type:"button",class:"button is-light",onClick:t[0]||(t[0]=(...e)=>l.onClose&&l.onClose(...e)),title:"Close"},[(0,s.Wm)(i,{class:"icon"})])])]),(0,s._)("form",{class:"card-content",onSubmit:t[10]||(t[10]=(0,a.iM)(((...e)=>l.onSubmit&&l.onSubmit(...e)),["prevent"]))},[(0,s._)("div",wt,[bt,(0,s.wy)((0,s._)("input",{id:"endpoint",type:"text",class:"input","onUpdate:modelValue":t[1]||(t[1]=e=>r.data.url=e),onBlur:t[2]||(t[2]=(...e)=>l.fetchGraphs&&l.fetchGraphs(...e))},null,544),[[a.nr,r.data.url]])]),(0,s._)("div",yt,[xt,(0,s.wy)((0,s._)("input",{id:"username",type:"text",class:"input","onUpdate:modelValue":t[3]||(t[3]=e=>r.data.user=e),onBlur:t[4]||(t[4]=(...e)=>l.fetchGraphs&&l.fetchGraphs(...e))},null,544),[[a.nr,r.data.user]])]),(0,s._)("div",_t,[kt,(0,s.wy)((0,s._)("input",{id:"password",type:"password",class:"input","onUpdate:modelValue":t[5]||(t[5]=e=>r.data.password=e),onBlur:t[6]||(t[6]=(...e)=>l.fetchGraphs&&l.fetchGraphs(...e))},null,544),[[a.nr,r.data.password]])]),(0,s._)("div",{class:(0,h.C_)(["field",r.fetchError?"is-danger":""])},[St,(0,s.Wm)(c,{id:"graph",modelValue:r.data.graph,"onUpdate:modelValue":t[7]||(t[7]=e=>r.data.graph=e),graphs:r.graphs,loading:r.loadingGraphs,"has-more-graphs":r.hasMoreGraphs,onFetchMore:l.fetchMoreGraphs},null,8,["modelValue","graphs","loading","has-more-graphs","onFetchMore"])],2),(0,s._)("div",Et,[r.fetchError?((0,s.wg)(),(0,s.iD)("div",Ct,[(0,s._)("div",Tt,(0,h.zw)(r.fetchError),1)])):(0,s.kq)("",!0)]),(0,s._)("div",Lt,[It,(0,s._)("div",Pt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.data.prefixes,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"flex gap-1"},[(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":t=>e.prefix=t,placeholder:"schema",class:"input w-24",required:""},null,8,Zt),[[a.nr,e.prefix]]),(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":t=>e.url=t,placeholder:"http://schema.org/",class:"input flex-grow",required:""},null,8,$t),[[a.nr,e.url]]),(0,s._)("button",{type:"button",class:"button is-white",title:"Remove prefix",onClick:e=>l.removePrefix(t)},[(0,s.Wm)(u,{class:"icon"})],8,Dt)])))),128)),0===r.data.prefixes.length?((0,s.wg)(),(0,s.iD)("p",Ot," No custom prefix ")):(0,s.kq)("",!0),(0,s._)("p",null,[(0,s._)("button",{type:"button",class:"button is-white",title:"Add prefix",onClick:t[8]||(t[8]=(...e)=>l.addPrefix&&l.addPrefix(...e))},[(0,s.Wm)(d,{class:"icon"})])])])]),(0,s._)("div",Mt,[(0,s._)("label",Wt,[(0,s.Wm)(p,{modelValue:r.data.forceIntrospection,"onUpdate:modelValue":t[9]||(t[9]=e=>r.data.forceIntrospection=e)},null,8,["modelValue"]),jt]),Rt]),Ht],32)])}var Vt=o(63354),zt=o(65633),Nt=o(83465),qt=o.n(Nt);const Gt=["id","value"],Ft={key:0},At=(0,s._)("span",null,"Load more",-1);function Bt(e,t,o,n,r,l){const i=(0,s.up)("loading-spinner"),c=(0,s.up)("ListboxButton"),u=(0,s.up)("ListboxOption"),d=(0,s.up)("RefreshIcon"),p=(0,s.up)("ListboxOptions"),m=(0,s.up)("Listbox");return(0,s.wg)(),(0,s.j4)(m,{as:"div",class:"control",modelValue:e.modelValue,"onUpdate:modelValue":t[2]||(t[2]=t=>e.$emit("update:modelValue",t))},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{as:"div",class:"relative"},{default:(0,s.w5)((()=>[(0,s._)("input",{id:e.id,placeholder:"DEFAULT",class:"input",value:e.modelValue,onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.value)),autocomplete:"off"},null,40,Gt),(0,s.wy)((0,s.Wm)(i,{class:"absolute top-2 right-2"},null,512),[[a.F8,e.loading]])])),_:1}),(0,s.Wm)(a.uT,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"scale-95 opacity-0","enter-to-class":"scale-100 opacity-100","leave-active-class":"transition duration-75 ease-out","leave-from-class":"scale-100 opacity-100","leave-to-class":"scale-95 opacity-0"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{as:"ul",class:"bg-white border border-gray-100 shadow-md absolute w-full z-10 max-h-64 overflow-y-scroll"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.graphs,(e=>((0,s.wg)(),(0,s.j4)(u,{as:"template",key:e,value:e},{default:(0,s.w5)((({active:t,selected:o})=>[(0,s._)("li",{class:(0,h.C_)(["px-2 py-2",{"bg-gray-100":t,"bg-primary-300":o}])},(0,h.zw)(e),3)])),_:2},1032,["value"])))),128)),e.hasMoreGraphs?((0,s.wg)(),(0,s.iD)("li",Ft,[(0,s._)("button",{type:"button",class:(0,h.C_)(["button is-light justify-start w-full",{"is-loading":e.loading}]),onClick:t[1]||(t[1]=t=>e.$emit("fetch-more"))},[(0,s.Wm)(d,{class:"icon"}),At],2)])):(0,s.kq)("",!0)])),_:1})])),_:1})])),_:1},8,["modelValue"])}var Yt=o(24712),Kt=o(57098);const Xt={class:"animate-spin h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Jt=(0,s._)("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),Qt=(0,s._)("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),eo=[Jt,Qt];function to(e,t){return(0,s.wg)(),(0,s.iD)("svg",Xt,eo)}const oo={},ao=(0,l.Z)(oo,[["render",to]]);var so=ao,no=(0,s.aZ)({name:"SelectGraph",props:["id","modelValue","graphs","loading","hasMoreGraphs"],emits:["update:modelValue","fetch-more"],components:{Listbox:Yt.Ri,ListboxButton:Yt.Y4,ListboxOptions:Yt.O_,ListboxOption:Yt.wt,LoadingSpinner:so,RefreshIcon:Kt.Z}});const ro=(0,l.Z)(no,[["render",Bt]]);var lo=ro;function io(e,t,o,a,n,r){const l=(0,s.up)("HSwitch");return(0,s.wg)(),(0,s.j4)(l,{modelValue:e.modelValue,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:modelValue",t)),class:(0,h.C_)([e.modelValue?"bg-primary-400":"bg-gray-300","relative inline-flex shrink-0 items-center h-6 w-10 rounded-full shadow-inner"])},{default:(0,s.w5)((()=>[(0,s._)("span",{class:(0,h.C_)([e.modelValue?"translate-x-5":"translate-x-1","inline-block w-4 h-4 bg-white rounded-full shadow transition duration-200 ease-in-out"])},null,2)])),_:1},8,["modelValue","class"])}var co=o(77925),uo=(0,s.aZ)({name:"Switch",props:["modelValue"],emits:["update:modelValue"],components:{HSwitch:co.rs}});const po=(0,l.Z)(uo,[["render",io]]);var ho=po;const mo=10;var fo={name:"SettingsPane",props:["settings"],components:{MinusSmIcon:Vt.Z,SelectGraph:lo,PlusSmIcon:zt.Z,Switch:ho,XIcon:oe.Z},emits:["change","close"],data(){return{endpoint:null,graphs:[],hasMoreGraphs:!1,loadingGraphs:!1,fetchError:null,graphsOffset:0,data:qt()(this.settings)}},async mounted(){await this.fetchGraphs()},methods:{onSubmit(){this.$emit("change",this.data)},onClose(){this.$emit("close")},async fetchGraphs(){this.loadingGraphs=!0,this.endpoint=new z(this.data),this.graphsOffset=0,this.graphs=await this.fetchGraphPage()},async fetchMoreGraphs(){const e=await this.fetchGraphPage();this.graphs=this.graphs.concat(e)},async fetchGraphPage(){this.loadingGraphs=!0,this.fetchError="";try{const e={offset:this.graphsOffset,limit:mo},t=await this.endpoint.fetchGraphs(e);return this.graphsOffset=this.graphsOffset+mo,this.hasMoreGraphs=t.length>=mo,t}catch(e){return this.fetchError=e.toString(),[]}finally{this.loadingGraphs=!1}},addPrefix(){this.data.prefixes.push({prefix:"",url:""})},removePrefix(e){this.data.prefixes.splice(e,1)}},watch:{settings(e){this.data=qt()(e)},"data.url"(){this.endpoint=new z(this.data),this.graphs=[],this.data.graph=null}}};const vo=(0,l.Z)(fo,[["render",Ut]]);var go=vo;const wo={class:"card h-full flex flex-col"},bo={class:"card-header has-background-light"},yo={class:"card-header-title"},xo={key:0},_o={key:1},ko={class:"card-header-icon py-0 px-1"},So={class:"card-content h-full p-0 overflow-auto flex flex-col"},Eo={key:0,class:"table is-fullwidth mb-0"},Co=(0,s._)("th",null,"URI",-1),To={class:"border-b"},Lo={class:"flex items-center"},Io={class:"sticky bottom-0"},Po={class:"bg-gray-50"},Zo=["colspan"],$o={class:"flex items-center gap-2"},Do=["disabled"],Oo={key:1,class:"flex-grow flex justify-center items-center"},Mo={key:2,class:"message is-danger"},Wo={class:"message-body"};function jo(e,t,o,n,r,l){const i=(0,s.up)("XIcon"),c=(0,s.up)("Term"),u=(0,s.up)("TermExploreButton"),d=(0,s.up)("ChevronLeftIcon"),p=(0,s.up)("ChevronRightIcon"),m=(0,s.up)("loading-spinner");return(0,s.wg)(),(0,s.iD)("div",wo,[(0,s._)("div",bo,[(0,s._)("h3",yo,[e.table?((0,s.wg)(),(0,s.iD)("span",xo,(0,h.zw)(e.table.name),1)):((0,s.wg)(),(0,s.iD)("span",_o,"No table selected"))]),(0,s._)("p",ko,[(0,s._)("button",{class:"button is-light",onClick:t[0]||(t[0]=t=>e.$emit("close")),title:"Close"},[(0,s.Wm)(i,{class:"icon"})])])]),(0,s._)("div",So,[e.table?((0,s.wg)(),(0,s.iD)("table",Eo,[(0,s._)("thead",null,[(0,s._)("tr",null,[Co,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.table.properties,((e,t)=>((0,s.wg)(),(0,s.iD)("th",{key:t},(0,h.zw)(e.name),1)))),128))])]),(0,s._)("tbody",To,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.data,((o,a)=>((0,s.wg)(),(0,s.iD)("tr",{key:a},[(0,s._)("td",null,[(0,s._)("p",Lo,[(0,s.Wm)(c,{term:o.term,endpoint:e.endpoint},null,8,["term","endpoint"]),(0,s.Wm)(u,{term:o.term,onExploreResource:t[1]||(t[1]=t=>e.$emit("explore-resource",t))},null,8,["term"])])]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.table.properties,((a,n)=>((0,s.wg)(),(0,s.iD)("td",{key:n},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o[a.id]||[],((o,a)=>((0,s.wg)(),(0,s.iD)("p",{class:"flex items-center",key:a},[(0,s.Wm)(c,{term:o,endpoint:e.endpoint},null,8,["term","endpoint"]),(0,s.Wm)(u,{term:o,onExploreResource:t[2]||(t[2]=t=>e.$emit("explore-resource",t))},null,8,["term"])])))),128))])))),128))])))),128))]),(0,s.wy)((0,s._)("tfoot",Io,[(0,s._)("tr",Po,[(0,s._)("td",{colspan:1+e.table.properties.length},[(0,s._)("div",$o,[(0,s._)("button",{class:"button px-2",disabled:1===e.page,onClick:t[3]||(t[3]=t=>e.setPage(e.page-1))},[(0,s.Wm)(d,{class:"w-5 h-5"})],8,Do),(0,s._)("span",null,"Page "+(0,h.zw)(e.page),1),(0,s._)("button",{class:"button px-2",onClick:t[4]||(t[4]=t=>e.setPage(e.page+1))},[(0,s.Wm)(p,{class:"w-5 h-5"})])])],8,Zo)])],512),[[a.F8,!e.isLoading]])])):(0,s.kq)("",!0),e.isLoading?((0,s.wg)(),(0,s.iD)("div",Oo,[(0,s.Wm)(m)])):(0,s.kq)("",!0),e.error?((0,s.wg)(),(0,s.iD)("div",Mo,[(0,s._)("div",Wo," Error loading data: "+(0,h.zw)(e.error),1)])):(0,s.kq)("",!0)])])}var Ro=o(93434),Ho=o(91461),Uo=(0,s.aZ)({name:"TableExplorer",props:["table","tables","endpoint"],emits:["close","explore-resource"],components:{ChevronLeftIcon:Ro.Z,ChevronRightIcon:Ho.Z,LoadingSpinner:so,Term:nt,TermExploreButton:ut,XIcon:oe.Z},setup(e){const{endpoint:t,table:o}=(0,J.BK)(e),a=(0,J.iH)([]),n=(0,J.iH)(null),r=(0,J.iH)(!1),l=10,i=(0,J.iH)(1),c=async()=>{if(a.value=[],n.value=null,!o.value)return;const e=(i.value-1)*l,s=l;r.value=!0;try{a.value=await t.value.fetchTableData(o.value,{offset:e,limit:s})}catch(c){n.value=c,console.error(c)}finally{r.value=!1}},u=e=>{i.value=e,c()};return(0,s.bv)(c),(0,s.YP)(o,(()=>{u(1)})),{data:a,error:n,isLoading:r,page:i,setPage:u}}});const Vo=(0,l.Z)(Uo,[["render",jo]]);var zo=Vo;const No={class:"card is-shadowless overflow-y-auto"},qo={class:"card-header has-background-light"},Go=(0,s._)("h3",{class:"card-header-title"},"Classes",-1),Fo={class:"card-header-icon py-0 px-1"},Ao={class:"card-content px-0 py-1"},Bo={class:"field m-0 px-2 py-2 border-b flex flex-wrap justify-end items-center gap-2"},Yo=(0,s._)("label",{class:"label m-0",for:"predefined-views"},"Predefined views",-1),Ko={class:"select"},Xo=(0,s._)("option",{value:""},"-",-1),Jo=["value"];function Qo(e,t,o,n,r,l){const i=(0,s.up)("XIcon"),c=(0,s.up)("Switch");return(0,s.wg)(),(0,s.iD)("div",No,[(0,s._)("div",qo,[Go,(0,s._)("p",Fo,[(0,s._)("button",{class:"button is-light",onClick:t[0]||(t[0]=t=>e.$emit("close"))},[(0,s.Wm)(i,{class:"icon"})])])]),(0,s._)("div",Ao,[(0,s.wy)((0,s._)("div",Bo,[Yo,(0,s._)("div",Ko,[(0,s._)("select",{id:"predefined-views",onInput:t[1]||(t[1]=(...e)=>l.selectViewport&&l.selectViewport(...e))},[Xo,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.datamodel.viewports,(e=>((0,s.wg)(),(0,s.iD)("option",{key:e.id,value:e.id},(0,h.zw)(e.name),9,Jo)))),128))],32)])],512),[[a.F8,o.datamodel.viewports.length>0]]),(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.datamodel.tables,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"panel-block is-justify-content-space-between"},[(0,s._)("span",null,(0,h.zw)(t.name),1),(0,s.Wm)(c,{modelValue:t.isShown,"onUpdate:modelValue":o=>e.$emit("toggle-table",t,o)},null,8,["modelValue","onUpdate:modelValue"])])))),128))])])])}var ea={name:"TablesList",props:["datamodel"],emits:["toggle-table","select-viewport","close"],components:{Switch:ho,XIcon:oe.Z},methods:{selectViewport(e){const t=e.target.value,o=this.datamodel.viewports.find((e=>e.id===t))??null;this.$emit("select-viewport",o)}}};const ta=(0,l.Z)(ea,[["render",Qo]]);var oa=ta,aa={name:"Spex",components:{CogIcon:P.Z,LoadingSpinner:so,MenuIcon:Z.Z,ModalShacl:he,ModalShaclLoad:Ce,OverviewTables:Ne,Pane:$.X,ResourcesExplorer:ht,SettingsPane:go,Splitpanes:$.F,TableExplorer:zo,TablesList:oa},props:["settings"],emits:["settings-change"],data(){return{endpoint:null,settingsShown:!1,tableExplorerShown:!1,tablesListShown:!1,listShown:!1,shaclModalShown:!1,shaclLoadModalShown:!1,exploredTable:null,exploredResources:[],datamodel:null,isLoading:!1,error:null}},async mounted(){await this.loadEndpoint(this.settings)},computed:{resourcesExplorerShown(){return this.exploredResources.length>0}},methods:{async loadData(){if(!this.endpoint)throw new Error("No endpoint defined");this.resetView(),this.error=null,this.isLoading=!0,this.datamodel=null;try{this.datamodel=await this.endpoint.fetchDatamodel()}catch(e){this.error=e,this.showSettings(),console.error(e)}finally{this.isLoading=!1}},async loadEndpoint(e){this.$emit("settings-change",e),e.url?(this.endpoint=new z(e),await this.loadData()):this.endpoint=null},showSettings(){this.settingsShown=!0},hideSettings(){this.settingsShown=!1},exploreTable(e){this.tableExplorerShown=!0,this.exploredTable=e},async onExportTable(e){const t=this.endpoint.datamodelToSHACL(this.datamodel).namedNode(e.id).in(R.sh.targetClass),o=t.value,a=t.out(R.sh.targetClass).value;let s=`_:${o} a <http://www.w3.org/ns/shacl#NodeShape> ;`;s+=`\n\t<${R.sh.targetClass.value}> <${a}> ;`;const n=t.out(R.sh.property);n.values.length>0&&(s+=`\n\t<${R.sh.property.value}> `,n.forEach(((e,t)=>{s+="\n\t\t[";const o=e.out(R.E_.type).value,a=e.out(R.sh.path).value,r=e.out(R.sh["class"]).value,l=e.out(R.sh.datatype).value,i=e.out(R.sh.or);let c=`\t\t\t<${R.E_.type}> <${o}> ;\n\t\t\t<http://www.w3.org/ns/shacl#path> <${a}> ;\n`;if(c+=r?`\t\t\t<http://www.w3.org/ns/shacl#class> <${r}> ;\n`:"",c+=l?`\t\t\t<http://www.w3.org/ns/shacl#datatype> <${l}> ;\n`:"",i.values.length>0){let e="\t\t\t<http://www.w3.org/ns/shacl#shOr> (\n";const t=i.list();Array.from(t).forEach((t=>{const o=[];t.dataset.match(t.term,null,null,null).filter((e=>!(e.predicate.equals(R.E_.last)||e.predicate.equals(R.E_.last)||e.predicate.equals(R.E_.nil)))).forEach((e=>o.push(`\t\t\t\t\t<${e.predicate.value}> <${e.object.value}>`))),e+=`\t\t\t\t[\n${o.join(" ;\n")}`,e+=" ;\n\t\t\t\t]\n"})),c+=`${e}`,c+="\t\t\t) ;\n"}s+=`\n${c}\t\t] ${t===n.values.length-1?".":","}`}))),await navigator.clipboard.writeText(s)},exploreResource(e){this.unexploreResource(e),this.exploredResources.push(e)},unexploreResource(e){this.exploredResources=this.exploredResources.filter((t=>t.id!==e.id))},hideResourcesExplorer(){this.exploredResources=[]},toggleTable(e,t){e.isShown=t},selectViewport(e){const t=e?e.tables:new Set(this.datamodel.tables.map((({id:e})=>e)));this.datamodel.tables.forEach((e=>{t.has(e.id)?e.isShown=!0:e.isShown=!1}))},showTablesList(){this.tablesListShown=!0},hideTablesList(){this.tablesListShown=!1},hideExplorer(){this.tableExplorerShown=!1},resetView(){this.exploredTable=null,this.tableExplorerShown=!1},showShacl(){this.shaclModalShown=!0},showLoadShacl(){this.shaclLoadModalShown=!0},loadShacl(e){this.datamodel=e},hideShaclModal(){this.shaclModalShown=!1},hideShaclLoadModal(){this.shaclLoadModalShown=!1}}};const sa=(0,l.Z)(aa,[["render",I]]);var na=sa;const ra={url:"",user:null,password:null,graph:null,prefixes:[],forceIntrospection:!1};var la={components:{Spex:na},data(){const e=da(this.$route.query),t=ia();let o;return o=e.url?{...ra,...e}:t.url?{...ra,...t}:ra,t.url&&e.url&&t.url===e.url&&(o.user=t.user,o.password=t.password),{settings:o}},methods:{onSettingsChange(e){this.settings=e,ca(e),this.updateURL(e)},async updateURL(e){const t=ha(e);try{await this.$router.push({query:t})}catch(o){if(!(0,d.ES)(o,d.lB.duplicated))throw o}}}};function ia(){const e=localStorage.getItem("settings");return e?JSON.parse(e):{}}function ca(e){localStorage.setItem("settings",JSON.stringify(e))}const ua=["url","graph","prefixes","forceIntrospection"];function da(e){return ua.reduce(((t,o)=>(o in e&&(t[o]=pa(o,e[o])),t)),{})}function pa(e,t){return"prefixes"===e?("string"===typeof t&&(t=[t]),t.map((e=>{const t=e.split(":")[0],o=e.split(":").slice(1).join(":");return{prefix:t,url:o}}))):"forceIntrospection"===e?"true"===t:t}function ha(e){return ua.reduce(((t,o)=>({...t,[o]:ma(o,e[o])})),{})}function ma(e,t){return"prefixes"===e?t.map((({prefix:e,url:t})=>`${e}:${t}`)):t}const fa=(0,l.Z)(la,[["render",p]]);var va=fa;const ga=()=>o.e(951).then(o.bind(o,36144)),wa=()=>o.e(230).then(o.bind(o,25230)),ba=[{path:"/",name:"Overview",component:va},{path:"/shacl",name:"ShaclEditor",component:ga},{path:"/rdf-editor",name:"RdfEditor",component:wa}],ya=(0,d.p7)({history:(0,d.r5)("/"),routes:ba});var xa=ya,_a=o(95205);(0,_a.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});const ka=(0,a.ri)(u);ka.use(xa).mount("#app")},71756:function(e,t,o){"use strict";o.d(t,{E_:function(){return n},It:function(){return i},fK:function(){return r},q1:function(){return a.Z},sh:function(){return l}});var a=o(2518),s=o(11817);a.Z.spex="https://described.at/spex/";const n=s.ZP.namespace(a.Z.rdf),r=s.ZP.namespace(a.Z.schema),l=s.ZP.namespace(a.Z.sh),i=s.ZP.namespace(a.Z.spex)},57417:function(e,t,o){"use strict";o.d(t,{NV:function(){return r},li:function(){return n},yM:function(){return c}});var a=o(11817),s=o(71756);function n(e,t,o){const a=e.out(s.It.shape).has(s.E_.type,s.It.DefaultShapes),n=a.term?r(a.out(s.fK.hasPart),o):null,l=e.out(s.It.viewport).map((e=>({id:e.term.value,term:e.term,name:e.out(s.fK.name,{language:t}).value,tables:new Set(e.out(s.It.includes).terms.map((({value:e})=>e)))})));return{tables:n,viewports:l,isIntrospected:!1}}function r(e,t){return e.toArray().map((e=>{const o=e.out(s.sh.targetClass).term;if(!o)return null;const a=o.value,n=e.out(s.sh.property).map((e=>{const o=e.out(s.sh.path).term;if(!o)return null;const a=o.value,n=l(e,t);return{id:a,name:t(a),values:n}})).filter(Boolean);return{id:a,name:t(a),properties:n,isShown:!0}})).filter(Boolean)}function l(e,t){return[...e.out(s.sh.datatype).terms.map((e=>i(e,"Literal",t))),...e.out(s.sh["class"]).terms.map((e=>i(e,"NamedNode",t))),...[...e.out(s.sh.or).list()].flatMap((e=>l(e,t)))]}function i(e,t,o){return{id:e.value,name:o(e.value),termType:t}}function c(e,t){const o=a.ZP.clownface({dataset:a.ZP.dataset(),term:a.ZP.namedNode(t)});return o.addOut(s.It.shape,(t=>{t.addOut(s.E_.type,s.It.DefaultShapes),e.tables.forEach((e=>{t.addOut(s.fK.hasPart,(t=>{t.addOut(s.E_.type,s.sh.NodeShape).addOut(s.sh.targetClass,a.ZP.namedNode(e.id)),e.properties.forEach((e=>{t.addOut(s.sh.property,(t=>{t.addOut(s.E_.type,s.sh.PropertyShape).addOut(s.sh.path,a.ZP.namedNode(e.id));const o=e=>"NamedNode"===e.termType?[s.sh["class"],a.ZP.namedNode(e.id)]:[s.sh.datatype,a.ZP.namedNode(e.id)];1===e.values.length?t.addOut(...o(e.values[0])):e.values.length>1&&t.addList(s.sh.or,e.values.map((e=>t.blankNode().addOut(...o(e)))))}))}))}))}))})),o}},27745:function(e,t,o){"use strict";o.d(t,{Z:function(){return v}});var a=o(66252),s=o(3577);const n={class:"font-bold"},r={class:"flex flex-nowrap"},l={class:"w-full"},i=["data-id","onMouseenter","onMouseleave"],c={class:"border-b dark:border-gray-500 px-3 py-2 text-gray-800 dark:text-gray-50"},u={class:"border-b dark:border-gray-500 px-3 py-2"};function d(e,t,o,d,p,h){const m=(0,a.up)("Tooltip");return(0,a.wg)(),(0,a.iD)("div",{class:(0,s.C_)(["border dark:border-gray-500 rounded shadow-md bg-white dark:bg-gray-800 opacity-90 text-sm",{active:h.isActive}])},[(0,a._)("header",{class:"bg-gray-100 dark:bg-gray-900 flex items-center gap-4 justify-between px-3 py-2",onMouseenter:t[0]||(t[0]=t=>e.$emit("hover-title",o.resource)),onMouseleave:t[1]||(t[1]=t=>e.$emit("unhover-title",o.resource))},[(0,a._)("h3",n,[(0,a.Wm)(m,{label:o.resource.id},{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(o.resource.name),1)])),_:1},8,["label"])]),(0,a._)("span",r,[(0,a.WI)(e.$slots,"actions",{},void 0,!0)])],32),(0,a._)("table",l,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.resource.properties,((t,n)=>((0,a.wg)(),(0,a.iD)("tr",{key:n,"data-id":t.id,class:(0,s.C_)({active:h.isPropertyActive(t)}),onMouseenter:a=>e.$emit("hover-property",o.resource,t),onMouseleave:a=>e.$emit("unhover-property",o.resource,t)},[(0,a._)("th",c,[(0,a.Wm)(m,{label:t.id},{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(t.name),1)])),_:2},1032,["label"])]),(0,a._)("td",u,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.values,(t=>((0,a.wg)(),(0,a.iD)("div",{key:t.id},[(0,a.WI)(e.$slots,"property-value",{value:t},(()=>[(0,a.Wm)(m,{label:t.id},{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(t.name),1)])),_:2},1032,["label"])]),!0)])))),128))])],42,i)))),128))])],2)}var p=o(90277),h={name:"ResourceCard",props:["resource","activeLinks"],emits:["hover-title","unhover-title","hover-property","unhover-property"],components:{Tooltip:p.Z},data(){return{}},computed:{isActive(){return this.activeLinks.some((e=>e.target===this.resource.id))}},methods:{isPropertyActive(e){return this.activeLinks.some((t=>t.source===this.resource.id&&t.sourceProperty===e.id))}}},m=o(83744);const f=(0,m.Z)(h,[["render",d],["__scopeId","data-v-5db3d7e8"]]);var v=f},90277:function(e,t,o){"use strict";o.d(t,{Z:function(){return h}});var a=o(66252),s=o(3577);const n={class:"group inline-block relative"},r={key:0,class:"invisible group-hover:visible absolute z-10 bottom-full left-1/2 -translate-x-1/2 -translate-y-1 delay-300"},l={class:"bg-gray-800 text-white font-normal text-sm rounded py-1 px-3"},i=(0,a._)("svg",{class:"absolute h-3 w-full left-0 top-full fill-current text-gray-800",viewBox:"0 0 255 255"},[(0,a._)("polygon",{points:"0,0 127.5,127.5 255,0"})],-1);function c(e,t,o,c,u,d){return(0,a.wg)(),(0,a.iD)("div",n,[e.label?((0,a.wg)(),(0,a.iD)("div",r,[(0,a._)("div",l,[(0,a.Uk)((0,s.zw)(e.label)+" ",1),i])])):(0,a.kq)("",!0),(0,a.WI)(e.$slots,"default")])}var u=(0,a.aZ)({name:"Tooltip",props:["label","position"]}),d=o(83744);const p=(0,d.Z)(u,[["render",c]]);var h=p},71156:function(){},56965:function(){},70147:function(){},52361:function(){},94616:function(){},2649:function(){},66973:function(){}},t={};function o(a){var s=t[a];if(void 0!==s)return s.exports;var n=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(n.exports,n,n.exports,o),n.loaded=!0,n.exports}o.m=e,function(){var e=[];o.O=function(t,a,s,n){if(!a){var r=1/0;for(u=0;u<e.length;u++){a=e[u][0],s=e[u][1],n=e[u][2];for(var l=!0,i=0;i<a.length;i++)(!1&n||r>=n)&&Object.keys(o.O).every((function(e){return o.O[e](a[i])}))?a.splice(i--,1):(l=!1,n<r&&(r=n));if(l){e.splice(u--,1);var c=s();void 0!==c&&(t=c)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[a,s,n]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};o.t=function(a,s){if(1&s&&(a=this(a)),8&s)return a;if("object"===typeof a&&a){if(4&s&&a.__esModule)return a;if(16&s&&"function"===typeof a.then)return a}var n=Object.create(null);o.r(n);var r={};e=e||[null,t({}),t([]),t(t)];for(var l=2&s&&a;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((function(e){r[e]=function(){return a[e]}}));return r["default"]=function(){return a},o.d(n,r),n}}(),function(){o.d=function(e,t){for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce((function(t,a){return o.f[a](e,t),t}),[]))}}(),function(){o.u=function(e){return"js/"+e+"."+{5:"cc869c6c",21:"0d96d4fd",144:"8f908f84",230:"5aef4a3f",404:"d30190fb",442:"b4169cb0",476:"50ca2dd8",565:"c2e1cf60",624:"0c140030",650:"0ca35b13",787:"b6ed88e3",833:"0791c4fa",853:"1fdcb84b",888:"4dd04e24",951:"62b6778c"}[e]+".js"}}(),function(){o.miniCssF=function(e){}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="@zazuko/spex:";o.l=function(a,s,n,r){if(e[a])e[a].push(s);else{var l,i;if(void 0!==n)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==a||d.getAttribute("data-webpack")==t+n){l=d;break}}l||(i=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.setAttribute("data-webpack",t+n),l.src=a),e[a]=[s];var p=function(t,o){l.onerror=l.onload=null,clearTimeout(h);var s=e[a];if(delete e[a],l.parentNode&&l.parentNode.removeChild(l),s&&s.forEach((function(e){return e(o)})),t)return t(o)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=p.bind(null,l.onerror),l.onload=p.bind(null,l.onload),i&&document.head.appendChild(l)}}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){o.p="/"}(),function(){var e={143:0};o.f.j=function(t,a){var s=o.o(e,t)?e[t]:void 0;if(0!==s)if(s)a.push(s[2]);else{var n=new Promise((function(o,a){s=e[t]=[o,a]}));a.push(s[2]=n);var r=o.p+o.u(t),l=new Error,i=function(a){if(o.o(e,t)&&(s=e[t],0!==s&&(e[t]=void 0),s)){var n=a&&("load"===a.type?"missing":a.type),r=a&&a.target&&a.target.src;l.message="Loading chunk "+t+" failed.\n("+n+": "+r+")",l.name="ChunkLoadError",l.type=n,l.request=r,s[1](l)}};o.l(r,i,"chunk-"+t,t)}},o.O.j=function(t){return 0===e[t]};var t=function(t,a){var s,n,r=a[0],l=a[1],i=a[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(s in l)o.o(l,s)&&(o.m[s]=l[s]);if(i)var u=i(o)}for(t&&t(a);c<r.length;c++)n=r[c],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(u)},a=self["webpackChunk_zazuko_spex"]=self["webpackChunk_zazuko_spex"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=o.O(void 0,[998],(function(){return o(55414)}));a=o.O(a)})();
//# sourceMappingURL=app.c359b649.js.map