"use strict";(self["webpackChunk_zazuko_spex"]=self["webpackChunk_zazuko_spex"]||[]).push([[951],{36144:function(t,e,a){a.r(e),a.d(e,{default:function(){return M}});var n=a(66252),s=a(3577),o=a(49963);const r=(0,n._)("h2",{class:"font-bold text-lg px-4 py-2 bg-gray-200"},"SHACL editor",-1),l={class:"field"},i=(0,n._)("label",{class:"label",for:"format"},"Format",-1),c={class:"select"},u=["value"],d=(0,n._)("span",null,"Update",-1),p={class:"flex-grow flex flex-col"},f=(0,n._)("h2",{class:"font-bold text-lg px-4 py-2 bg-gray-200"},"Representation",-1),h={key:0,class:"section"},m={class:"message is-danger"},w={class:"message-body"};function v(t,e,a,v,b,g){const y=(0,n.up)("rdf-editor"),k=(0,n.up)("RefreshIcon"),_=(0,n.up)("Pane"),x=(0,n.up)("ResourceCard"),W=(0,n.up)("GraphLayout"),P=(0,n.up)("Splitpanes");return(0,n.wg)(),(0,n.j4)(P,{class:"default-theme"},{default:(0,n.w5)((()=>[(0,n.Wm)(_,{size:"40"},{default:(0,n.w5)((()=>[r,(0,n.Wm)(y,{class:"w-full h-full overflow-hidden",format:b.format,value:b.shacl,ref:"shaclEditor"},null,8,["format","value"]),(0,n._)("div",l,[i,(0,n._)("div",c,[(0,n.wy)((0,n._)("select",{id:"format","onUpdate:modelValue":e[0]||(e[0]=t=>b.format=t)},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(b.formats,(t=>((0,n.wg)(),(0,n.iD)("option",{key:t,value:t},(0,s.zw)(t),9,u)))),128))],512),[[o.bM,b.format]])])]),(0,n._)("button",{class:"button is-primary",onClick:e[1]||(e[1]=(...t)=>g.loadShacl&&g.loadShacl(...t))},[(0,n.Wm)(k,{class:"icon"}),d])])),_:1}),(0,n.Wm)(_,null,{default:(0,n.w5)((()=>[(0,n.Wm)(P,{horizontal:""},{default:(0,n.w5)((()=>[(0,n.Wm)(_,null,{default:(0,n.w5)((()=>[(0,n._)("div",p,[f,(0,n.Wm)(W,{nodes:b.datamodel.tables,links:g.links,"active-links":b.activeLinks},{node:(0,n.w5)((({node:t})=>[(0,n.Wm)(x,{resource:t,"active-links":b.activeLinks},null,8,["resource","active-links"])])),_:1},8,["nodes","links","active-links"]),b.error?((0,n.wg)(),(0,n.iD)("div",h,[(0,n._)("div",m,[(0,n._)("div",w," Error loading data: "+(0,s.zw)(b.error),1)])])):(0,n.kq)("",!0)])])),_:1})])),_:1})])),_:1})])),_:1})}a(57658);var b=a(57098),g=a(74919),y=a(64104),k=a(22886),_=(a(24512),a(90038)),x=a(62439),W=a(57417),P=a(71756),S=a(27745);const z=[..._.f.keys()],L="\n@prefix sh: <http://www.w3.org/ns/shacl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n";var R={components:{GraphLayout:y.Y,Splitpanes:k.F,Pane:k.X,RefreshIcon:b.Z,ResourceCard:S.Z},data(){return{format:"text/turtle",formats:z,shacl:L,datamodel:{tables:[],viewports:[],isIntrospected:!1},error:null,activeLinks:[]}},computed:{links(){const t=this.datamodel.tables,e=new Set(t.map((({id:t})=>t)));return t.flatMap((t=>t.properties.map((e=>({...e,table:t}))))).reduce(((t,a)=>(a.values.forEach((n=>{const s=a.table.id,o=n.id;e.has(o)&&t.push({source:s,target:o,sourceProperty:a.id,label:a.name})})),t)),[])}},methods:{async loadShacl(){const t=this.$refs.shaclEditor;this.error=null,this.datamodel.tables=[];const e=t=>(0,g.F)(t)||t;try{const a=await t.quads,n=x.ZP.dataset(a),s=x.ZP.clownface({dataset:n}).has(P.E_.type,P.sh.NodeShape);this.datamodel.tables=(0,W.NV)(s,e)}catch(a){this.error=a.toString()}}}},C=a(83744);const E=(0,C.Z)(R,[["render",v]]);var M=E},90038:function(t,e,a){async function n(){const t=(await a.e(624).then(a.t.bind(a,92624,19))).default;return new t}async function s(){const t=(await Promise.resolve().then(a.t.bind(a,82919,19))).default;return new t}async function o(){const t=await a.e(787).then(a.t.bind(a,25787,19));let e;return e=t.default?t.default.RdfXmlParser:t.RdfXmlParser,new e}async function r(){const t=(await a.e(144).then(a.t.bind(a,66144,19))).default;return new t({encoding:"string"})}async function l(){const t=(await a.e(650).then(a.t.bind(a,60650,19))).default;return new t}a.d(e,{f:function(){return d},z:function(){return p}});var i=a(36642);const c=new i.W,u=new i.W;c.set("application/ld+json",n),c.set("application/trig",s),c.set("application/n-quads",s),c.set("application/n-triples",s),c.set("text/n3",s),c.set("text/turtle",s),c.set("application/rdf+xml",o),u.set("application/ld+json",r),u.set("application/n-quads",l),u.set("application/n-triples",l),u.set("text/n3",l),u.set("text/turtle",l);const d=c,p=u},36642:function(t,e,a){a.d(e,{W:function(){return s}});var n=a(88473);class s extends Map{import(t,e,a){const s=this.get(t);if(!s)return null;if("function"===typeof s){const o=new n.PassThrough({objectMode:!0});return Promise.resolve().then((async()=>{const n=await s();this.set(t,n);const r=n.import(e,a);r.on("prefix",((t,e)=>{o.emit("prefix",t,e)})),r.on("error",(t=>{o.emit("error",t),o.emit("end")})),r.pipe(o)})),o}return s.import(e,a)}}}}]);
//# sourceMappingURL=951.a337d1a6.js.map