(self["webpackChunk_zazuko_spex"]=self["webpackChunk_zazuko_spex"]||[]).push([[689],{86053:function(e,t,n){"use strict";const{SymbolDispose:r}=n(53464),{AbortError:o,codes:i}=n(52837),{isNodeStream:a,isWebStream:s,kControllerErrorFunction:l}=n(25066),c=n(14434),{ERR_INVALID_ARG_TYPE:d}=i;let u;const f=(e,t)=>{if("object"!==typeof e||!("aborted"in e))throw new d(t,"AbortSignal",e)};e.exports.addAbortSignal=function(t,n){if(f(t,"signal"),!a(n)&&!s(n))throw new d("stream",["ReadableStream","WritableStream","Stream"],n);return e.exports.addAbortSignalNoValidate(t,n)},e.exports.addAbortSignalNoValidate=function(e,t){if("object"!==typeof e||!("aborted"in e))return t;const i=a(t)?()=>{t.destroy(new o(void 0,{cause:e.reason}))}:()=>{t[l](new o(void 0,{cause:e.reason}))};if(e.aborted)i();else{u=u||n(74138).addAbortListener;const o=u(e,i);c(t,o[r])}return t}},12771:function(e,t,n){"use strict";const{StringPrototypeSlice:r,SymbolIterator:o,TypedArrayPrototypeSet:i,Uint8Array:a}=n(53464),{Buffer:s}=n(48764),{inspect:l}=n(74138);e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){const t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}unshift(e){const t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}shift(){if(0===this.length)return;const e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(0===this.length)return"";let t=this.head,n=""+t.data;while(null!==(t=t.next))n+=e+t.data;return n}concat(e){if(0===this.length)return s.alloc(0);const t=s.allocUnsafe(e>>>0);let n=this.head,r=0;while(n)i(t,n.data,r),r+=n.data.length,n=n.next;return t}consume(e,t){const n=this.head.data;if(e<n.length){const t=n.slice(0,e);return this.head.data=n.slice(e),t}return e===n.length?this.shift():t?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[o](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let t="",n=this.head,o=0;do{const i=n.data;if(!(e>i.length)){e===i.length?(t+=i,++o,n.next?this.head=n.next:this.head=this.tail=null):(t+=r(i,0,e),this.head=n,n.data=r(i,e));break}t+=i,e-=i.length,++o}while(null!==(n=n.next));return this.length-=o,t}_getBuffer(e){const t=s.allocUnsafe(e),n=e;let r=this.head,o=0;do{const s=r.data;if(!(e>s.length)){e===s.length?(i(t,s,n-e),++o,r.next?this.head=r.next:this.head=this.tail=null):(i(t,new a(s.buffer,s.byteOffset,e),n-e),this.head=r,r.data=s.slice(e));break}i(t,s,n-e),e-=s.length,++o}while(null!==(r=r.next));return this.length-=o,t}[Symbol.for("nodejs.util.inspect.custom")](e,t){return l(this,{...t,depth:0,customInspect:!1})}}},73705:function(e,t,n){"use strict";const{pipeline:r}=n(93101),o=n(41928),{destroyer:i}=n(28697),{isNodeStream:a,isReadable:s,isWritable:l,isWebStream:c,isTransformStream:d,isWritableStream:u,isReadableStream:f}=n(25066),{AbortError:p,codes:{ERR_INVALID_ARG_VALUE:h,ERR_MISSING_ARGS:g}}=n(52837),y=n(14434);e.exports=function(...e){if(0===e.length)throw new g("streams");if(1===e.length)return o.from(e[0]);const t=[...e];if("function"===typeof e[0]&&(e[0]=o.from(e[0])),"function"===typeof e[e.length-1]){const t=e.length-1;e[t]=o.from(e[t])}for(let r=0;r<e.length;++r)if(a(e[r])||c(e[r])){if(r<e.length-1&&!(s(e[r])||f(e[r])||d(e[r])))throw new h(`streams[${r}]`,t[r],"must be readable");if(r>0&&!(l(e[r])||u(e[r])||d(e[r])))throw new h(`streams[${r}]`,t[r],"must be writable")}let n,b,v,m,w;function x(e){const t=m;m=null,t?t(e):e?w.destroy(e):I||E||w.destroy()}const _=e[0],S=r(e,x),E=!!(l(_)||u(_)||d(_)),I=!!(s(S)||f(S)||d(S));if(w=new o({writableObjectMode:!(null===_||void 0===_||!_.writableObjectMode),readableObjectMode:!(null===S||void 0===S||!S.readableObjectMode),writable:E,readable:I}),E){if(a(_))w._write=function(e,t,r){_.write(e,t)?r():n=r},w._final=function(e){_.end(),b=e},_.on("drain",(function(){if(n){const e=n;n=null,e()}}));else if(c(_)){const e=d(_)?_.writable:_,t=e.getWriter();w._write=async function(e,n,r){try{await t.ready,t.write(e).catch((()=>{})),r()}catch(o){r(o)}},w._final=async function(e){try{await t.ready,t.close().catch((()=>{})),b=e}catch(n){e(n)}}}const e=d(S)?S.readable:S;y(e,(()=>{if(b){const e=b;b=null,e()}}))}if(I)if(a(S))S.on("readable",(function(){if(v){const e=v;v=null,e()}})),S.on("end",(function(){w.push(null)})),w._read=function(){while(1){const e=S.read();if(null===e)return void(v=w._read);if(!w.push(e))return}};else if(c(S)){const e=d(S)?S.readable:S,t=e.getReader();w._read=async function(){while(1)try{const{value:e,done:n}=await t.read();if(!w.push(e))return;if(n)return void w.push(null)}catch{return}}}return w._destroy=function(e,t){e||null===m||(e=new p),v=null,n=null,b=null,null===m?t(e):(m=t,a(S)&&i(S,e))},w}},28697:function(e,t,n){"use strict";const r=n(34155),{aggregateTwoErrors:o,codes:{ERR_MULTIPLE_CALLBACK:i},AbortError:a}=n(52837),{Symbol:s}=n(53464),{kIsDestroyed:l,isDestroyed:c,isFinished:d,isServerRequest:u}=n(25066),f=s("kDestroy"),p=s("kConstruct");function h(e,t,n){e&&(e.stack,t&&!t.errored&&(t.errored=e),n&&!n.errored&&(n.errored=e))}function g(e,t){const n=this._readableState,r=this._writableState,i=r||n;return null!==r&&void 0!==r&&r.destroyed||null!==n&&void 0!==n&&n.destroyed?("function"===typeof t&&t(),this):(h(e,r,n),r&&(r.destroyed=!0),n&&(n.destroyed=!0),i.constructed?y(this,e,t):this.once(f,(function(n){y(this,o(n,e),t)})),this)}function y(e,t,n){let o=!1;function i(t){if(o)return;o=!0;const i=e._readableState,a=e._writableState;h(t,a,i),a&&(a.closed=!0),i&&(i.closed=!0),"function"===typeof n&&n(t),t?r.nextTick(b,e,t):r.nextTick(v,e)}try{e._destroy(t||null,i)}catch(t){i(t)}}function b(e,t){m(e,t),v(e)}function v(e){const t=e._readableState,n=e._writableState;n&&(n.closeEmitted=!0),t&&(t.closeEmitted=!0),(null!==n&&void 0!==n&&n.emitClose||null!==t&&void 0!==t&&t.emitClose)&&e.emit("close")}function m(e,t){const n=e._readableState,r=e._writableState;null!==r&&void 0!==r&&r.errorEmitted||null!==n&&void 0!==n&&n.errorEmitted||(r&&(r.errorEmitted=!0),n&&(n.errorEmitted=!0),e.emit("error",t))}function w(){const e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=!1===e.readable,e.endEmitted=!1===e.readable),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=!1===t.writable,t.ending=!1===t.writable,t.finished=!1===t.writable)}function x(e,t,n){const o=e._readableState,i=e._writableState;if(null!==i&&void 0!==i&&i.destroyed||null!==o&&void 0!==o&&o.destroyed)return this;null!==o&&void 0!==o&&o.autoDestroy||null!==i&&void 0!==i&&i.autoDestroy?e.destroy(t):t&&(t.stack,i&&!i.errored&&(i.errored=t),o&&!o.errored&&(o.errored=t),n?r.nextTick(m,e,t):m(e,t))}function _(e,t){if("function"!==typeof e._construct)return;const n=e._readableState,o=e._writableState;n&&(n.constructed=!1),o&&(o.constructed=!1),e.once(p,t),e.listenerCount(p)>1||r.nextTick(S,e)}function S(e){let t=!1;function n(n){if(t)return void x(e,null!==n&&void 0!==n?n:new i);t=!0;const o=e._readableState,a=e._writableState,s=a||o;o&&(o.constructed=!0),a&&(a.constructed=!0),s.destroyed?e.emit(f,n):n?x(e,n,!0):r.nextTick(E,e)}try{e._construct((e=>{r.nextTick(n,e)}))}catch(o){r.nextTick(n,o)}}function E(e){e.emit(p)}function I(e){return(null===e||void 0===e?void 0:e.setHeader)&&"function"===typeof e.abort}function j(e){e.emit("close")}function R(e,t){e.emit("error",t),r.nextTick(j,e)}function A(e,t){e&&!c(e)&&(t||d(e)||(t=new a),u(e)?(e.socket=null,e.destroy(t)):I(e)?e.abort():I(e.req)?e.req.abort():"function"===typeof e.destroy?e.destroy(t):"function"===typeof e.close?e.close():t?r.nextTick(R,e,t):r.nextTick(j,e),e.destroyed||(e[l]=!0))}e.exports={construct:_,destroyer:A,destroy:g,undestroy:w,errorOrDestroy:x}},41928:function(e,t,n){"use strict";const{ObjectDefineProperties:r,ObjectGetOwnPropertyDescriptor:o,ObjectKeys:i,ObjectSetPrototypeOf:a}=n(53464);e.exports=c;const s=n(75009),l=n(51572);a(c.prototype,s.prototype),a(c,s);{const e=i(l.prototype);for(let t=0;t<e.length;t++){const n=e[t];c.prototype[n]||(c.prototype[n]=l.prototype[n])}}function c(e){if(!(this instanceof c))return new c(e);s.call(this,e),l.call(this,e),e?(this.allowHalfOpen=!1!==e.allowHalfOpen,!1===e.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let d,u;function f(){return void 0===d&&(d={}),d}r(c.prototype,{writable:{__proto__:null,...o(l.prototype,"writable")},writableHighWaterMark:{__proto__:null,...o(l.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...o(l.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...o(l.prototype,"writableBuffer")},writableLength:{__proto__:null,...o(l.prototype,"writableLength")},writableFinished:{__proto__:null,...o(l.prototype,"writableFinished")},writableCorked:{__proto__:null,...o(l.prototype,"writableCorked")},writableEnded:{__proto__:null,...o(l.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...o(l.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}}),c.fromWeb=function(e,t){return f().newStreamDuplexFromReadableWritablePair(e,t)},c.toWeb=function(e){return f().newReadableWritablePairFromDuplex(e)},c.from=function(e){return u||(u=n(43263)),u(e,"body")}},43263:function(e,t,n){const r=n(34155),o=n(48764),{isReadable:i,isWritable:a,isIterable:s,isNodeStream:l,isReadableNodeStream:c,isWritableNodeStream:d,isDuplexNodeStream:u,isReadableStream:f,isWritableStream:p}=n(25066),h=n(14434),{AbortError:g,codes:{ERR_INVALID_ARG_TYPE:y,ERR_INVALID_RETURN_VALUE:b}}=n(52837),{destroyer:v}=n(28697),m=n(41928),w=n(75009),x=n(51572),{createDeferredPromise:_}=n(74138),S=n(40399),E=globalThis.Blob||o.Blob,I="undefined"!==typeof E?function(e){return e instanceof E}:function(e){return!1},j=globalThis.AbortController||n(28599).AbortController,{FunctionPrototypeCall:R}=n(53464);class A extends m{constructor(e){super(e),!1===(null===e||void 0===e?void 0:e.readable)&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===(null===e||void 0===e?void 0:e.writable)&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function N(e){let{promise:t,resolve:n}=_();const o=new j,i=o.signal,a=e(async function*(){while(1){const e=t;t=null;const{chunk:o,done:a,cb:s}=await e;if(r.nextTick(s),a)return;if(i.aborted)throw new g(void 0,{cause:i.reason});({promise:t,resolve:n}=_()),yield o}}(),{signal:i});return{value:a,write(e,t,r){const o=n;n=null,o({chunk:e,done:!1,cb:r})},final(e){const t=n;n=null,t({done:!0,cb:e})},destroy(e,t){o.abort(),t(e)}}}function k(e){const t=e.readable&&"function"!==typeof e.readable.read?w.wrap(e.readable):e.readable,n=e.writable;let r,o,s,l,c,d=!!i(t),u=!!a(n);function f(e){const t=l;l=null,t?t(e):e&&c.destroy(e)}return c=new A({readableObjectMode:!(null===t||void 0===t||!t.readableObjectMode),writableObjectMode:!(null===n||void 0===n||!n.writableObjectMode),readable:d,writable:u}),u&&(h(n,(e=>{u=!1,e&&v(t,e),f(e)})),c._write=function(e,t,o){n.write(e,t)?o():r=o},c._final=function(e){n.end(),o=e},n.on("drain",(function(){if(r){const e=r;r=null,e()}})),n.on("finish",(function(){if(o){const e=o;o=null,e()}}))),d&&(h(t,(e=>{d=!1,e&&v(t,e),f(e)})),t.on("readable",(function(){if(s){const e=s;s=null,e()}})),t.on("end",(function(){c.push(null)})),c._read=function(){while(1){const e=t.read();if(null===e)return void(s=c._read);if(!c.push(e))return}}),c._destroy=function(e,i){e||null===l||(e=new g),s=null,r=null,o=null,null===l?i(e):(l=i,v(n,e),v(t,e))},c}e.exports=function e(t,n){if(u(t))return t;if(c(t))return k({readable:t});if(d(t))return k({writable:t});if(l(t))return k({writable:!1,readable:!1});if(f(t))return k({readable:w.fromWeb(t)});if(p(t))return k({writable:x.fromWeb(t)});if("function"===typeof t){const{value:e,write:o,final:i,destroy:a}=N(t);if(s(e))return S(A,e,{objectMode:!0,write:o,final:i,destroy:a});const l=null===e||void 0===e?void 0:e.then;if("function"===typeof l){let t;const n=R(l,e,(e=>{if(null!=e)throw new b("nully","body",e)}),(e=>{v(t,e)}));return t=new A({objectMode:!0,readable:!1,write:o,final(e){i((async()=>{try{await n,r.nextTick(e,null)}catch(t){r.nextTick(e,t)}}))},destroy:a})}throw new b("Iterable, AsyncIterable or AsyncFunction",n,e)}if(I(t))return e(t.arrayBuffer());if(s(t))return S(A,t,{objectMode:!0,writable:!1});if(f(null===t||void 0===t?void 0:t.readable)&&p(null===t||void 0===t?void 0:t.writable))return A.fromWeb(t);if("object"===typeof(null===t||void 0===t?void 0:t.writable)||"object"===typeof(null===t||void 0===t?void 0:t.readable)){const n=null!==t&&void 0!==t&&t.readable?c(null===t||void 0===t?void 0:t.readable)?null===t||void 0===t?void 0:t.readable:e(t.readable):void 0,r=null!==t&&void 0!==t&&t.writable?d(null===t||void 0===t?void 0:t.writable)?null===t||void 0===t?void 0:t.writable:e(t.writable):void 0;return k({readable:n,writable:r})}const o=null===t||void 0===t?void 0:t.then;if("function"===typeof o){let e;return R(o,t,(t=>{null!=t&&e.push(t),e.push(null)}),(t=>{v(e,t)})),e=new A({objectMode:!0,writable:!1,read(){}})}throw new y(n,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)}},14434:function(e,t,n){const r=n(34155),{AbortError:o,codes:i}=n(52837),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_PREMATURE_CLOSE:s}=i,{kEmptyObject:l,once:c}=n(74138),{validateAbortSignal:d,validateFunction:u,validateObject:f,validateBoolean:p}=n(95793),{Promise:h,PromisePrototypeThen:g,SymbolDispose:y}=n(53464),{isClosed:b,isReadable:v,isReadableNodeStream:m,isReadableStream:w,isReadableFinished:x,isReadableErrored:_,isWritable:S,isWritableNodeStream:E,isWritableStream:I,isWritableFinished:j,isWritableErrored:R,isNodeStream:A,willEmitClose:N,kIsClosedPromise:k}=n(25066);let D;function O(e){return e.setHeader&&"function"===typeof e.abort}const T=()=>{};function L(e,t,i){var p,h;if(2===arguments.length?(i=t,t=l):null==t?t=l:f(t,"options"),u(i,"callback"),d(t.signal,"options.signal"),i=c(i),w(e)||I(e))return C(e,t,i);if(!A(e))throw new a("stream",["ReadableStream","WritableStream","Stream"],e);const g=null!==(p=t.readable)&&void 0!==p?p:m(e),k=null!==(h=t.writable)&&void 0!==h?h:E(e),L=e._writableState,M=e._readableState,P=()=>{e.writable||J()};let F=N(e)&&m(e)===g&&E(e)===k,W=j(e,!1);const J=()=>{W=!0,e.destroyed&&(F=!1),(!F||e.readable&&!g)&&(g&&!B||i.call(e))};let B=x(e,!1);const $=()=>{B=!0,e.destroyed&&(F=!1),(!F||e.writable&&!k)&&(k&&!W||i.call(e))},H=t=>{i.call(e,t)};let U=b(e);const V=()=>{U=!0;const t=R(e)||_(e);return t&&"boolean"!==typeof t?i.call(e,t):g&&!B&&m(e,!0)&&!x(e,!1)?i.call(e,new s):!k||W||j(e,!1)?void i.call(e):i.call(e,new s)},q=()=>{U=!0;const t=R(e)||_(e);if(t&&"boolean"!==typeof t)return i.call(e,t);i.call(e)},G=()=>{e.req.on("finish",J)};O(e)?(e.on("complete",J),F||e.on("abort",V),e.req?G():e.on("request",G)):k&&!L&&(e.on("end",P),e.on("close",P)),F||"boolean"!==typeof e.aborted||e.on("aborted",V),e.on("end",$),e.on("finish",J),!1!==t.error&&e.on("error",H),e.on("close",V),U?r.nextTick(V):null!==L&&void 0!==L&&L.errorEmitted||null!==M&&void 0!==M&&M.errorEmitted?F||r.nextTick(q):(g||F&&!v(e)||!W&&!1!==S(e))&&(k||F&&!S(e)||!B&&!1!==v(e))?M&&e.req&&e.aborted&&r.nextTick(q):r.nextTick(q);const z=()=>{i=T,e.removeListener("aborted",V),e.removeListener("complete",J),e.removeListener("abort",V),e.removeListener("request",G),e.req&&e.req.removeListener("finish",J),e.removeListener("end",P),e.removeListener("close",P),e.removeListener("finish",J),e.removeListener("end",$),e.removeListener("error",H),e.removeListener("close",V)};if(t.signal&&!U){const a=()=>{const n=i;z(),n.call(e,new o(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)r.nextTick(a);else{D=D||n(74138).addAbortListener;const r=D(t.signal,a),o=i;i=c(((...t)=>{r[y](),o.apply(e,t)}))}}return z}function C(e,t,i){let a=!1,s=T;if(t.signal)if(s=()=>{a=!0,i.call(e,new o(void 0,{cause:t.signal.reason}))},t.signal.aborted)r.nextTick(s);else{D=D||n(74138).addAbortListener;const r=D(t.signal,s),o=i;i=c(((...t)=>{r[y](),o.apply(e,t)}))}const l=(...t)=>{a||r.nextTick((()=>i.apply(e,t)))};return g(e[k].promise,l,l),T}function M(e,t){var n;let r=!1;return null===t&&(t=l),null!==(n=t)&&void 0!==n&&n.cleanup&&(p(t.cleanup,"cleanup"),r=t.cleanup),new h(((n,o)=>{const i=L(e,t,(e=>{r&&i(),e?o(e):n()}))}))}e.exports=L,e.exports.finished=M},40399:function(e,t,n){"use strict";const r=n(34155),{PromisePrototypeThen:o,SymbolAsyncIterator:i,SymbolIterator:a}=n(53464),{Buffer:s}=n(48764),{ERR_INVALID_ARG_TYPE:l,ERR_STREAM_NULL_VALUES:c}=n(52837).codes;function d(e,t,n){let d,u;if("string"===typeof t||t instanceof s)return new e({objectMode:!0,...n,read(){this.push(t),this.push(null)}});if(t&&t[i])u=!0,d=t[i]();else{if(!t||!t[a])throw new l("iterable",["Iterable"],t);u=!1,d=t[a]()}const f=new e({objectMode:!0,highWaterMark:1,...n});let p=!1;async function h(e){const t=void 0!==e&&null!==e,n="function"===typeof d.throw;if(t&&n){const{value:t,done:n}=await d.throw(e);if(await t,n)return}if("function"===typeof d.return){const{value:e}=await d.return();await e}}async function g(){for(;;){try{const{value:e,done:t}=u?await d.next():d.next();if(t)f.push(null);else{const t=e&&"function"===typeof e.then?await e:e;if(null===t)throw p=!1,new c;if(f.push(t))continue;p=!1}}catch(e){f.destroy(e)}break}}return f._read=function(){p||(p=!0,g())},f._destroy=function(e,t){o(h(e),(()=>r.nextTick(t,e)),(n=>r.nextTick(t,n||e)))},f}e.exports=d},78951:function(e,t,n){"use strict";const{ArrayIsArray:r,ObjectSetPrototypeOf:o}=n(53464),{EventEmitter:i}=n(17187);function a(e){i.call(this,e)}function s(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?r(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}o(a.prototype,i.prototype),o(a,i),a.prototype.pipe=function(e,t){const n=this;function r(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",r),e.on("drain",o),e._isStdio||t&&!1===t.end||(n.on("end",l),n.on("close",c));let a=!1;function l(){a||(a=!0,e.end())}function c(){a||(a=!0,"function"===typeof e.destroy&&e.destroy())}function d(e){u(),0===i.listenerCount(this,"error")&&this.emit("error",e)}function u(){n.removeListener("data",r),e.removeListener("drain",o),n.removeListener("end",l),n.removeListener("close",c),n.removeListener("error",d),e.removeListener("error",d),n.removeListener("end",u),n.removeListener("close",u),e.removeListener("close",u)}return s(n,"error",d),s(e,"error",d),n.on("end",u),n.on("close",u),e.on("close",u),e.emit("pipe",n),e},e.exports={Stream:a,prependListener:s}},71902:function(e,t,n){"use strict";const r=globalThis.AbortController||n(28599).AbortController,{codes:{ERR_INVALID_ARG_VALUE:o,ERR_INVALID_ARG_TYPE:i,ERR_MISSING_ARGS:a,ERR_OUT_OF_RANGE:s},AbortError:l}=n(52837),{validateAbortSignal:c,validateInteger:d,validateObject:u}=n(95793),f=n(53464).Symbol("kWeak"),p=n(53464).Symbol("kResistStopPropagation"),{finished:h}=n(14434),g=n(73705),{addAbortSignalNoValidate:y}=n(86053),{isWritable:b,isNodeStream:v}=n(25066),{deprecate:m}=n(74138),{ArrayPrototypePush:w,Boolean:x,MathFloor:_,Number:S,NumberIsNaN:E,Promise:I,PromiseReject:j,PromiseResolve:R,PromisePrototypeThen:A,Symbol:N}=n(53464),k=N("kEmpty"),D=N("kEof");function O(e,t){if(null!=t&&u(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&c(t.signal,"options.signal"),v(e)&&!b(e))throw new o("stream",e,"must be writable");const n=g(this,e);return null!==t&&void 0!==t&&t.signal&&y(t.signal,n),n}function T(e,t){if("function"!==typeof e)throw new i("fn",["Function","AsyncFunction"],e);null!=t&&u(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&c(t.signal,"options.signal");let r=1;null!=(null===t||void 0===t?void 0:t.concurrency)&&(r=_(t.concurrency));let o=r-1;return null!=(null===t||void 0===t?void 0:t.highWaterMark)&&(o=_(t.highWaterMark)),d(r,"options.concurrency",1),d(o,"options.highWaterMark",0),o+=r,async function*(){const i=n(74138).AbortSignalAny([null===t||void 0===t?void 0:t.signal].filter(x)),a=this,s=[],c={signal:i};let d,u,f=!1,p=0;function h(){f=!0,g()}function g(){p-=1,y()}function y(){u&&!f&&p<r&&s.length<o&&(u(),u=null)}async function b(){try{for await(let n of a){if(f)return;if(i.aborted)throw new l;try{if(n=e(n,c),n===k)continue;n=R(n)}catch(t){n=j(t)}p+=1,A(n,g,h),s.push(n),d&&(d(),d=null),!f&&(s.length>=o||p>=r)&&await new I((e=>{u=e}))}s.push(D)}catch(t){const e=j(t);A(e,g,h),s.push(e)}finally{f=!0,d&&(d(),d=null)}}b();try{while(1){while(s.length>0){const e=await s[0];if(e===D)return;if(i.aborted)throw new l;e!==k&&(yield e),s.shift(),y()}await new I((e=>{d=e}))}}finally{f=!0,u&&(u(),u=null)}}.call(this)}function L(e=void 0){return null!=e&&u(e,"options"),null!=(null===e||void 0===e?void 0:e.signal)&&c(e.signal,"options.signal"),async function*(){let t=0;for await(const r of this){var n;if(null!==e&&void 0!==e&&null!==(n=e.signal)&&void 0!==n&&n.aborted)throw new l({cause:e.signal.reason});yield[t++,r]}}.call(this)}async function C(e,t=void 0){for await(const n of W.call(this,e,t))return!0;return!1}async function M(e,t=void 0){if("function"!==typeof e)throw new i("fn",["Function","AsyncFunction"],e);return!await C.call(this,(async(...t)=>!await e(...t)),t)}async function P(e,t){for await(const n of W.call(this,e,t))return n}async function F(e,t){if("function"!==typeof e)throw new i("fn",["Function","AsyncFunction"],e);async function n(t,n){return await e(t,n),k}for await(const r of T.call(this,n,t));}function W(e,t){if("function"!==typeof e)throw new i("fn",["Function","AsyncFunction"],e);async function n(t,n){return await e(t,n)?t:k}return T.call(this,n,t)}class J extends a{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function B(e,t,n){var o;if("function"!==typeof e)throw new i("reducer",["Function","AsyncFunction"],e);null!=n&&u(n,"options"),null!=(null===n||void 0===n?void 0:n.signal)&&c(n.signal,"options.signal");let a=arguments.length>1;if(null!==n&&void 0!==n&&null!==(o=n.signal)&&void 0!==o&&o.aborted){const e=new l(void 0,{cause:n.signal.reason});throw this.once("error",(()=>{})),await h(this.destroy(e)),e}const s=new r,d=s.signal;if(null!==n&&void 0!==n&&n.signal){const e={once:!0,[f]:this,[p]:!0};n.signal.addEventListener("abort",(()=>s.abort()),e)}let g=!1;try{for await(const r of this){var y;if(g=!0,null!==n&&void 0!==n&&null!==(y=n.signal)&&void 0!==y&&y.aborted)throw new l;a?t=await e(t,r,{signal:d}):(t=r,a=!0)}if(!g&&!a)throw new J}finally{s.abort()}return t}async function $(e){null!=e&&u(e,"options"),null!=(null===e||void 0===e?void 0:e.signal)&&c(e.signal,"options.signal");const t=[];for await(const r of this){var n;if(null!==e&&void 0!==e&&null!==(n=e.signal)&&void 0!==n&&n.aborted)throw new l(void 0,{cause:e.signal.reason});w(t,r)}return t}function H(e,t){const n=T.call(this,e,t);return async function*(){for await(const e of n)yield*e}.call(this)}function U(e){if(e=S(e),E(e))return 0;if(e<0)throw new s("number",">= 0",e);return e}function V(e,t=void 0){return null!=t&&u(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&c(t.signal,"options.signal"),e=U(e),async function*(){var n;if(null!==t&&void 0!==t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new l;for await(const o of this){var r;if(null!==t&&void 0!==t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new l;e--<=0&&(yield o)}}.call(this)}function q(e,t=void 0){return null!=t&&u(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&c(t.signal,"options.signal"),e=U(e),async function*(){var n;if(null!==t&&void 0!==t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new l;for await(const o of this){var r;if(null!==t&&void 0!==t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new l;if(e-- >0&&(yield o),e<=0)return}}.call(this)}e.exports.streamReturningOperators={asIndexedPairs:m(L,"readable.asIndexedPairs will be removed in a future version."),drop:V,filter:W,flatMap:H,map:T,take:q,compose:O},e.exports.promiseReturningOperators={every:M,forEach:F,reduce:B,toArray:$,some:C,find:P}},75955:function(e,t,n){"use strict";const{ObjectSetPrototypeOf:r}=n(53464);e.exports=i;const o=n(53606);function i(e){if(!(this instanceof i))return new i(e);o.call(this,e)}r(i.prototype,o.prototype),r(i,o),i.prototype._transform=function(e,t,n){n(null,e)}},93101:function(e,t,n){const r=n(34155),{ArrayIsArray:o,Promise:i,SymbolAsyncIterator:a,SymbolDispose:s}=n(53464),l=n(14434),{once:c}=n(74138),d=n(28697),u=n(41928),{aggregateTwoErrors:f,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:h,ERR_MISSING_ARGS:g,ERR_STREAM_DESTROYED:y,ERR_STREAM_PREMATURE_CLOSE:b},AbortError:v}=n(52837),{validateFunction:m,validateAbortSignal:w}=n(95793),{isIterable:x,isReadable:_,isReadableNodeStream:S,isNodeStream:E,isTransformStream:I,isWebStream:j,isReadableStream:R,isReadableFinished:A}=n(25066),N=globalThis.AbortController||n(28599).AbortController;let k,D,O;function T(e,t,n){let r=!1;e.on("close",(()=>{r=!0}));const o=l(e,{readable:t,writable:n},(e=>{r=!e}));return{destroy:t=>{r||(r=!0,d.destroyer(e,t||new y("pipe")))},cleanup:o}}function L(e){return m(e[e.length-1],"streams[stream.length - 1]"),e.pop()}function C(e){if(x(e))return e;if(S(e))return M(e);throw new p("val",["Readable","Iterable","AsyncIterable"],e)}async function*M(e){D||(D=n(75009)),yield*D.prototype[a].call(e)}async function P(e,t,n,{end:r}){let o,a=null;const s=e=>{if(e&&(o=e),a){const e=a;a=null,e()}},c=()=>new i(((e,t)=>{o?t(o):a=()=>{o?t(o):e()}}));t.on("drain",s);const d=l(t,{readable:!1},s);try{t.writableNeedDrain&&await c();for await(const n of e)t.write(n)||await c();r&&(t.end(),await c()),n()}catch(u){n(o!==u?f(o,u):u)}finally{d(),t.off("drain",s)}}async function F(e,t,n,{end:r}){I(t)&&(t=t.writable);const o=t.getWriter();try{for await(const t of e)await o.ready,o.write(t).catch((()=>{}));await o.ready,r&&await o.close(),n()}catch(i){try{await o.abort(i),n(i)}catch(i){n(i)}}}function W(...e){return J(e,c(L(e)))}function J(e,t,i){if(1===e.length&&o(e[0])&&(e=e[0]),e.length<2)throw new g("streams");const a=new N,l=a.signal,c=null===i||void 0===i?void 0:i.signal,d=[];function f(){W(new v)}let y,b,m;w(c,"options.signal"),O=O||n(74138).addAbortListener,c&&(y=O(c,f));const A=[];let D,L=0;function M(e){W(e,0===--L)}function W(e,n){var o;if(!e||b&&"ERR_STREAM_PREMATURE_CLOSE"!==b.code||(b=e),b||n){while(A.length)A.shift()(b);null===(o=y)||void 0===o||o[s](),a.abort(),n&&(b||d.forEach((e=>e())),r.nextTick(t,b,m))}}for(let U=0;U<e.length;U++){const V=e[U],q=U<e.length-1,G=U>0,z=q||!1!==(null===i||void 0===i?void 0:i.end),K=U===e.length-1;if(E(V)){if(z){const{destroy:Q,cleanup:X}=T(V,q,G);A.push(Q),_(V)&&K&&d.push(X)}function J(e){e&&"AbortError"!==e.name&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code&&M(e)}V.on("error",J),_(V)&&K&&d.push((()=>{V.removeListener("error",J)}))}if(0===U)if("function"===typeof V){if(D=V({signal:l}),!x(D))throw new h("Iterable, AsyncIterable or Stream","source",D)}else D=x(V)||S(V)||I(V)?V:u.from(V);else if("function"===typeof V){var $;if(I(D))D=C(null===($=D)||void 0===$?void 0:$.readable);else D=C(D);if(D=V(D,{signal:l}),q){if(!x(D,!0))throw new h("AsyncIterable",`transform[${U-1}]`,D)}else{var H;k||(k=n(75955));const Y=new k({objectMode:!0}),Z=null===(H=D)||void 0===H?void 0:H.then;if("function"===typeof Z)L++,Z.call(D,(e=>{m=e,null!=e&&Y.write(e),z&&Y.end(),r.nextTick(M)}),(e=>{Y.destroy(e),r.nextTick(M,e)}));else if(x(D,!0))L++,P(D,Y,M,{end:z});else{if(!R(D)&&!I(D))throw new h("AsyncIterable or Promise","destination",D);{const ne=D.readable||D;L++,P(ne,Y,M,{end:z})}}D=Y;const{destroy:ee,cleanup:te}=T(D,!1,!0);A.push(ee),K&&d.push(te)}}else if(E(V)){if(S(D)){L+=2;const re=B(D,V,M,{end:z});_(V)&&K&&d.push(re)}else if(I(D)||R(D)){const oe=D.readable||D;L++,P(oe,V,M,{end:z})}else{if(!x(D))throw new p("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],D);L++,P(D,V,M,{end:z})}D=V}else if(j(V)){if(S(D))L++,F(C(D),V,M,{end:z});else if(R(D)||x(D))L++,F(D,V,M,{end:z});else{if(!I(D))throw new p("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],D);L++,F(D.readable,V,M,{end:z})}D=V}else D=u.from(V)}return(null!==l&&void 0!==l&&l.aborted||null!==c&&void 0!==c&&c.aborted)&&r.nextTick(f),D}function B(e,t,n,{end:o}){let i=!1;if(t.on("close",(()=>{i||n(new b)})),e.pipe(t,{end:!1}),o){function a(){i=!0,t.end()}A(e)?r.nextTick(a):e.once("end",a)}else n();return l(e,{readable:!0,writable:!1},(t=>{const r=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&r&&r.ended&&!r.errored&&!r.errorEmitted?e.once("end",n).once("error",n):n(t)})),l(t,{readable:!1,writable:!0},n)}e.exports={pipelineImpl:J,pipeline:W}},75009:function(e,t,n){const r=n(34155),{ArrayPrototypeIndexOf:o,NumberIsInteger:i,NumberIsNaN:a,NumberParseInt:s,ObjectDefineProperties:l,ObjectKeys:c,ObjectSetPrototypeOf:d,Promise:u,SafeSet:f,SymbolAsyncDispose:p,SymbolAsyncIterator:h,Symbol:g}=n(53464);e.exports=se,se.ReadableState=ae;const{EventEmitter:y}=n(17187),{Stream:b,prependListener:v}=n(78951),{Buffer:m}=n(48764),{addAbortSignal:w}=n(86053),x=n(14434);let _=n(74138).debuglog("stream",(e=>{_=e}));const S=n(12771),E=n(28697),{getHighWaterMark:I,getDefaultHighWaterMark:j}=n(33716),{aggregateTwoErrors:R,codes:{ERR_INVALID_ARG_TYPE:A,ERR_METHOD_NOT_IMPLEMENTED:N,ERR_OUT_OF_RANGE:k,ERR_STREAM_PUSH_AFTER_EOF:D,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:O},AbortError:T}=n(52837),{validateObject:L}=n(95793),C=g("kPaused"),{StringDecoder:M}=n(32553),P=n(40399);d(se.prototype,b.prototype),d(se,b);const F=()=>{},{errorOrDestroy:W}=E,J=1,B=2,$=4,H=8,U=16,V=32,q=64,G=128,z=256,K=512,Q=1024,X=2048,Y=4096,Z=8192,ee=16384,te=32768,ne=65536,re=1<<17,oe=1<<18;function ie(e){return{enumerable:!1,get(){return 0!==(this.state&e)},set(t){t?this.state|=e:this.state&=~e}}}function ae(e,t,r){"boolean"!==typeof r&&(r=t instanceof n(41928)),this.state=X|Y|U|V,e&&e.objectMode&&(this.state|=J),r&&e&&e.readableObjectMode&&(this.state|=J),this.highWaterMark=e?I(this,e,"readableHighWaterMark",r):j(!1),this.buffer=new S,this.length=0,this.pipes=[],this.flowing=null,this[C]=null,e&&!1===e.emitClose&&(this.state&=~X),e&&!1===e.autoDestroy&&(this.state&=~Y),this.errored=null,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new M(e.encoding),this.encoding=e.encoding)}function se(e){if(!(this instanceof se))return new se(e);const t=this instanceof n(41928);this._readableState=new ae(e,this,t),e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.construct&&(this._construct=e.construct),e.signal&&!t&&w(e.signal,this)),b.call(this,e),E.construct(this,(()=>{this._readableState.needReadable&&ye(this,this._readableState)}))}function le(e,t,n,r){_("readableAddChunk",t);const o=e._readableState;let i;if(0===(o.state&J)&&("string"===typeof t?(n=n||o.defaultEncoding,o.encoding!==n&&(r&&o.encoding?t=m.from(t,n).toString(o.encoding):(t=m.from(t,n),n=""))):t instanceof m?n="":b._isUint8Array(t)?(t=b._uint8ArrayToBuffer(t),n=""):null!=t&&(i=new A("chunk",["string","Buffer","Uint8Array"],t))),i)W(e,i);else if(null===t)o.state&=~H,pe(e,o);else if(0!==(o.state&J)||t&&t.length>0)if(r)if(0!==(o.state&$))W(e,new O);else{if(o.destroyed||o.errored)return!1;ce(e,o,t,!0)}else if(o.ended)W(e,new D);else{if(o.destroyed||o.errored)return!1;o.state&=~H,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?ce(e,o,t,!1):ye(e,o)):ce(e,o,t,!1)}else r||(o.state&=~H,ye(e,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function ce(e,t,n,r){t.flowing&&0===t.length&&!t.sync&&e.listenerCount("data")>0?(0!==(t.state&ne)?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),0!==(t.state&q)&&he(e)),ye(e,t)}l(ae.prototype,{objectMode:ie(J),ended:ie(B),endEmitted:ie($),reading:ie(H),constructed:ie(U),sync:ie(V),needReadable:ie(q),emittedReadable:ie(G),readableListening:ie(z),resumeScheduled:ie(K),errorEmitted:ie(Q),emitClose:ie(X),autoDestroy:ie(Y),destroyed:ie(Z),closed:ie(ee),closeEmitted:ie(te),multiAwaitDrain:ie(ne),readingMore:ie(re),dataEmitted:ie(oe)}),se.prototype.destroy=E.destroy,se.prototype._undestroy=E.undestroy,se.prototype._destroy=function(e,t){t(e)},se.prototype[y.captureRejectionSymbol]=function(e){this.destroy(e)},se.prototype[p]=function(){let e;return this.destroyed||(e=this.readableEnded?null:new T,this.destroy(e)),new u(((t,n)=>x(this,(r=>r&&r!==e?n(r):t(null)))))},se.prototype.push=function(e,t){return le(this,e,t,!1)},se.prototype.unshift=function(e,t){return le(this,e,t,!0)},se.prototype.isPaused=function(){const e=this._readableState;return!0===e[C]||!1===e.flowing},se.prototype.setEncoding=function(e){const t=new M(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;const n=this._readableState.buffer;let r="";for(const o of n)r+=t.write(o);return n.clear(),""!==r&&n.push(r),this._readableState.length=r.length,this};const de=1073741824;function ue(e){if(e>de)throw new k("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++,e}function fe(e,t){return e<=0||0===t.length&&t.ended?0:0!==(t.state&J)?1:a(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}function pe(e,t){if(_("onEofChunk"),!t.ended){if(t.decoder){const e=t.decoder.end();e&&e.length&&(t.buffer.push(e),t.length+=t.objectMode?1:e.length)}t.ended=!0,t.sync?he(e):(t.needReadable=!1,t.emittedReadable=!0,ge(e))}}function he(e){const t=e._readableState;_("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(_("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(ge,e))}function ge(e){const t=e._readableState;_("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||t.errored||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,Se(e)}function ye(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,r.nextTick(be,e,t))}function be(e,t){while(!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length)){const n=t.length;if(_("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function ve(e,t){return function(){const n=e._readableState;n.awaitDrainWriters===t?(_("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(_("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(t)),n.awaitDrainWriters&&0!==n.awaitDrainWriters.size||!e.listenerCount("data")||e.resume()}}function me(e){const t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!1===t[C]?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function we(e){_("readable nexttick read 0"),e.read(0)}function xe(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(_e,e,t))}function _e(e,t){_("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),Se(e),t.flowing&&!t.reading&&e.read(0)}function Se(e){const t=e._readableState;_("flow",t.flowing);while(t.flowing&&null!==e.read());}function Ee(e,t){"function"!==typeof e.read&&(e=se.wrap(e,{objectMode:!0}));const n=Ie(e,t);return n.stream=e,n}async function*Ie(e,t){let n,r=F;function o(t){this===e?(r(),r=F):r=t}e.on("readable",o);const i=x(e,{writable:!1},(e=>{n=e?R(n,e):null,r(),r=F}));try{while(1){const t=e.destroyed?null:e.read();if(null!==t)yield t;else{if(n)throw n;if(null===n)return;await new u(o)}}}catch(a){throw n=R(n,a),n}finally{!n&&!1===(null===t||void 0===t?void 0:t.destroyOnReturn)||void 0!==n&&!e._readableState.autoDestroy?(e.off("readable",o),i()):E.destroyer(e,null)}}function je(e,t){if(0===t.length)return null;let n;return t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n}function Re(e){const t=e._readableState;_("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(Ae,t,e))}function Ae(e,t){if(_("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&0===e.length)if(e.endEmitted=!0,t.emit("end"),t.writable&&!1===t.allowHalfOpen)r.nextTick(Ne,t);else if(e.autoDestroy){const e=t._writableState,n=!e||e.autoDestroy&&(e.finished||!1===e.writable);n&&t.destroy()}}function Ne(e){const t=e.writable&&!e.writableEnded&&!e.destroyed;t&&e.end()}let ke;function De(){return void 0===ke&&(ke={}),ke}se.prototype.read=function(e){_("read",e),void 0===e?e=NaN:i(e)||(e=s(e,10));const t=this._readableState,n=e;if(e>t.highWaterMark&&(t.highWaterMark=ue(e)),0!==e&&(t.state&=~G),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return _("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?Re(this):he(this),null;if(e=fe(e,t),0===e&&t.ended)return 0===t.length&&Re(this),null;let r,o=0!==(t.state&q);if(_("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&(o=!0,_("length less than watermark",o)),t.ended||t.reading||t.destroyed||t.errored||!t.constructed)o=!1,_("reading, ended or constructing",o);else if(o){_("do read"),t.state|=H|V,0===t.length&&(t.state|=q);try{this._read(t.highWaterMark)}catch(a){W(this,a)}t.state&=~V,t.reading||(e=fe(n,t))}return r=e>0?je(e,t):null,null===r?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&Re(this)),null===r||t.errorEmitted||t.closeEmitted||(t.dataEmitted=!0,this.emit("data",r)),r},se.prototype._read=function(e){throw new N("_read()")},se.prototype.pipe=function(e,t){const n=this,o=this._readableState;1===o.pipes.length&&(o.multiAwaitDrain||(o.multiAwaitDrain=!0,o.awaitDrainWriters=new f(o.awaitDrainWriters?[o.awaitDrainWriters]:[]))),o.pipes.push(e),_("pipe count=%d opts=%j",o.pipes.length,t);const i=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr,a=i?l:m;function s(e,t){_("onunpipe"),e===n&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,u())}function l(){_("onend"),e.end()}let c;o.endEmitted?r.nextTick(a):n.once("end",a),e.on("unpipe",s);let d=!1;function u(){_("cleanup"),e.removeListener("close",y),e.removeListener("finish",b),c&&e.removeListener("drain",c),e.removeListener("error",g),e.removeListener("unpipe",s),n.removeListener("end",l),n.removeListener("end",m),n.removeListener("data",h),d=!0,c&&o.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&c()}function p(){d||(1===o.pipes.length&&o.pipes[0]===e?(_("false write response, pause",0),o.awaitDrainWriters=e,o.multiAwaitDrain=!1):o.pipes.length>1&&o.pipes.includes(e)&&(_("false write response, pause",o.awaitDrainWriters.size),o.awaitDrainWriters.add(e)),n.pause()),c||(c=ve(n,e),e.on("drain",c))}function h(t){_("ondata");const n=e.write(t);_("dest.write",n),!1===n&&p()}function g(t){if(_("onerror",t),m(),e.removeListener("error",g),0===e.listenerCount("error")){const n=e._writableState||e._readableState;n&&!n.errorEmitted?W(e,t):e.emit("error",t)}}function y(){e.removeListener("finish",b),m()}function b(){_("onfinish"),e.removeListener("close",y),m()}function m(){_("unpipe"),n.unpipe(e)}return n.on("data",h),v(e,"error",g),e.once("close",y),e.once("finish",b),e.emit("pipe",n),!0===e.writableNeedDrain?p():o.flowing||(_("pipe resume"),n.resume()),e},se.prototype.unpipe=function(e){const t=this._readableState,n={hasUnpiped:!1};if(0===t.pipes.length)return this;if(!e){const e=t.pipes;t.pipes=[],this.pause();for(let t=0;t<e.length;t++)e[t].emit("unpipe",this,{hasUnpiped:!1});return this}const r=o(t.pipes,e);return-1===r||(t.pipes.splice(r,1),0===t.pipes.length&&this.pause(),e.emit("unpipe",this,n)),this},se.prototype.on=function(e,t){const n=b.prototype.on.call(this,e,t),o=this._readableState;return"data"===e?(o.readableListening=this.listenerCount("readable")>0,!1!==o.flowing&&this.resume()):"readable"===e&&(o.endEmitted||o.readableListening||(o.readableListening=o.needReadable=!0,o.flowing=!1,o.emittedReadable=!1,_("on readable",o.length,o.reading),o.length?he(this):o.reading||r.nextTick(we,this))),n},se.prototype.addListener=se.prototype.on,se.prototype.removeListener=function(e,t){const n=b.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(me,this),n},se.prototype.off=se.prototype.removeListener,se.prototype.removeAllListeners=function(e){const t=b.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||r.nextTick(me,this),t},se.prototype.resume=function(){const e=this._readableState;return e.flowing||(_("resume"),e.flowing=!e.readableListening,xe(this,e)),e[C]=!1,this},se.prototype.pause=function(){return _("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(_("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[C]=!0,this},se.prototype.wrap=function(e){let t=!1;e.on("data",(n=>{!this.push(n)&&e.pause&&(t=!0,e.pause())})),e.on("end",(()=>{this.push(null)})),e.on("error",(e=>{W(this,e)})),e.on("close",(()=>{this.destroy()})),e.on("destroy",(()=>{this.destroy()})),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};const n=c(e);for(let r=1;r<n.length;r++){const t=n[r];void 0===this[t]&&"function"===typeof e[t]&&(this[t]=e[t].bind(e))}return this},se.prototype[h]=function(){return Ee(this)},se.prototype.iterator=function(e){return void 0!==e&&L(e,"options"),Ee(this,e)},l(se.prototype,{readable:{__proto__:null,get(){const e=this._readableState;return!!e&&!1!==e.readable&&!e.destroyed&&!e.errorEmitted&&!e.endEmitted},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),l(ae.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[C]},set(e){this[C]=!!e}}}),se._fromList=je,se.from=function(e,t){return P(se,e,t)},se.fromWeb=function(e,t){return De().newStreamReadableFromReadableStream(e,t)},se.toWeb=function(e,t){return De().newReadableStreamFromStreamReadable(e,t)},se.wrap=function(e,t){var n,r;return new se({objectMode:null===(n=null!==(r=e.readableObjectMode)&&void 0!==r?r:e.objectMode)||void 0===n||n,...t,destroy(t,n){E.destroyer(e,t),n(t)}}).wrap(e)}},33716:function(e,t,n){"use strict";const{MathFloor:r,NumberIsInteger:o}=n(53464),{validateInteger:i}=n(95793),{ERR_INVALID_ARG_VALUE:a}=n(52837).codes;let s=16384,l=16;function c(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}function d(e){return e?l:s}function u(e,t){i(t,"value",0),e?l=t:s=t}function f(e,t,n,i){const s=c(t,i,n);if(null!=s){if(!o(s)||s<0){const e=i?`options.${n}`:"options.highWaterMark";throw new a(e,s)}return r(s)}return d(e.objectMode)}e.exports={getHighWaterMark:f,getDefaultHighWaterMark:d,setDefaultHighWaterMark:u}},53606:function(e,t,n){"use strict";const{ObjectSetPrototypeOf:r,Symbol:o}=n(53464);e.exports=c;const{ERR_METHOD_NOT_IMPLEMENTED:i}=n(52837).codes,a=n(41928),{getHighWaterMark:s}=n(33716);r(c.prototype,a.prototype),r(c,a);const l=o("kCallback");function c(e){if(!(this instanceof c))return new c(e);const t=e?s(this,e,"readableHighWaterMark",!0):null;0===t&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),a.call(this,e),this._readableState.sync=!1,this[l]=null,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",u)}function d(e){"function"!==typeof this._flush||this.destroyed?(this.push(null),e&&e()):this._flush(((t,n)=>{t?e?e(t):this.destroy(t):(null!=n&&this.push(n),this.push(null),e&&e())}))}function u(){this._final!==d&&d.call(this)}c.prototype._final=d,c.prototype._transform=function(e,t,n){throw new i("_transform()")},c.prototype._write=function(e,t,n){const r=this._readableState,o=this._writableState,i=r.length;this._transform(e,t,((e,t)=>{e?n(e):(null!=t&&this.push(t),o.ended||i===r.length||r.length<r.highWaterMark?n():this[l]=n)}))},c.prototype._read=function(){if(this[l]){const e=this[l];this[l]=null,e()}}},25066:function(e,t,n){"use strict";const{SymbolAsyncIterator:r,SymbolIterator:o,SymbolFor:i}=n(53464),a=i("nodejs.stream.destroyed"),s=i("nodejs.stream.errored"),l=i("nodejs.stream.readable"),c=i("nodejs.stream.writable"),d=i("nodejs.stream.disturbed"),u=i("nodejs.webstream.isClosedPromise"),f=i("nodejs.webstream.controllerErrorFunction");function p(e,t=!1){var n;return!(!e||"function"!==typeof e.pipe||"function"!==typeof e.on||t&&("function"!==typeof e.pause||"function"!==typeof e.resume)||e._writableState&&!1===(null===(n=e._readableState)||void 0===n?void 0:n.readable)||e._writableState&&!e._readableState)}function h(e){var t;return!(!e||"function"!==typeof e.write||"function"!==typeof e.on||e._readableState&&!1===(null===(t=e._writableState)||void 0===t?void 0:t.writable))}function g(e){return!(!e||"function"!==typeof e.pipe||!e._readableState||"function"!==typeof e.on||"function"!==typeof e.write)}function y(e){return e&&(e._readableState||e._writableState||"function"===typeof e.write&&"function"===typeof e.on||"function"===typeof e.pipe&&"function"===typeof e.on)}function b(e){return!(!e||y(e)||"function"!==typeof e.pipeThrough||"function"!==typeof e.getReader||"function"!==typeof e.cancel)}function v(e){return!(!e||y(e)||"function"!==typeof e.getWriter||"function"!==typeof e.abort)}function m(e){return!(!e||y(e)||"object"!==typeof e.readable||"object"!==typeof e.writable)}function w(e){return b(e)||v(e)||m(e)}function x(e,t){return null!=e&&(!0===t?"function"===typeof e[r]:!1===t?"function"===typeof e[o]:"function"===typeof e[r]||"function"===typeof e[o])}function _(e){if(!y(e))return null;const t=e._writableState,n=e._readableState,r=t||n;return!!(e.destroyed||e[a]||null!==r&&void 0!==r&&r.destroyed)}function S(e){if(!h(e))return null;if(!0===e.writableEnded)return!0;const t=e._writableState;return(null===t||void 0===t||!t.errored)&&("boolean"!==typeof(null===t||void 0===t?void 0:t.ended)?null:t.ended)}function E(e,t){if(!h(e))return null;if(!0===e.writableFinished)return!0;const n=e._writableState;return(null===n||void 0===n||!n.errored)&&("boolean"!==typeof(null===n||void 0===n?void 0:n.finished)?null:!!(n.finished||!1===t&&!0===n.ended&&0===n.length))}function I(e){if(!p(e))return null;if(!0===e.readableEnded)return!0;const t=e._readableState;return!(!t||t.errored)&&("boolean"!==typeof(null===t||void 0===t?void 0:t.ended)?null:t.ended)}function j(e,t){if(!p(e))return null;const n=e._readableState;return(null===n||void 0===n||!n.errored)&&("boolean"!==typeof(null===n||void 0===n?void 0:n.endEmitted)?null:!!(n.endEmitted||!1===t&&!0===n.ended&&0===n.length))}function R(e){return e&&null!=e[l]?e[l]:"boolean"!==typeof(null===e||void 0===e?void 0:e.readable)?null:!_(e)&&(p(e)&&e.readable&&!j(e))}function A(e){return e&&null!=e[c]?e[c]:"boolean"!==typeof(null===e||void 0===e?void 0:e.writable)?null:!_(e)&&(h(e)&&e.writable&&!S(e))}function N(e,t){return y(e)?!!_(e)||(!1===(null===t||void 0===t?void 0:t.readable)||!R(e))&&(!1===(null===t||void 0===t?void 0:t.writable)||!A(e)):null}function k(e){var t,n;return y(e)?e.writableErrored?e.writableErrored:null!==(t=null===(n=e._writableState)||void 0===n?void 0:n.errored)&&void 0!==t?t:null:null}function D(e){var t,n;return y(e)?e.readableErrored?e.readableErrored:null!==(t=null===(n=e._readableState)||void 0===n?void 0:n.errored)&&void 0!==t?t:null:null}function O(e){if(!y(e))return null;if("boolean"===typeof e.closed)return e.closed;const t=e._writableState,n=e._readableState;return"boolean"===typeof(null===t||void 0===t?void 0:t.closed)||"boolean"===typeof(null===n||void 0===n?void 0:n.closed)?(null===t||void 0===t?void 0:t.closed)||(null===n||void 0===n?void 0:n.closed):"boolean"===typeof e._closed&&T(e)?e._closed:null}function T(e){return"boolean"===typeof e._closed&&"boolean"===typeof e._defaultKeepAlive&&"boolean"===typeof e._removedConnection&&"boolean"===typeof e._removedContLen}function L(e){return"boolean"===typeof e._sent100&&T(e)}function C(e){var t;return"boolean"===typeof e._consuming&&"boolean"===typeof e._dumped&&void 0===(null===(t=e.req)||void 0===t?void 0:t.upgradeOrConnect)}function M(e){if(!y(e))return null;const t=e._writableState,n=e._readableState,r=t||n;return!r&&L(e)||!!(r&&r.autoDestroy&&r.emitClose&&!1===r.closed)}function P(e){var t;return!(!e||!(null!==(t=e[d])&&void 0!==t?t:e.readableDidRead||e.readableAborted))}function F(e){var t,n,r,o,i,a,l,c,d,u;return!(!e||!(null!==(t=null!==(n=null!==(r=null!==(o=null!==(i=null!==(a=e[s])&&void 0!==a?a:e.readableErrored)&&void 0!==i?i:e.writableErrored)&&void 0!==o?o:null===(l=e._readableState)||void 0===l?void 0:l.errorEmitted)&&void 0!==r?r:null===(c=e._writableState)||void 0===c?void 0:c.errorEmitted)&&void 0!==n?n:null===(d=e._readableState)||void 0===d?void 0:d.errored)&&void 0!==t?t:null===(u=e._writableState)||void 0===u?void 0:u.errored))}e.exports={isDestroyed:_,kIsDestroyed:a,isDisturbed:P,kIsDisturbed:d,isErrored:F,kIsErrored:s,isReadable:R,kIsReadable:l,kIsClosedPromise:u,kControllerErrorFunction:f,kIsWritable:c,isClosed:O,isDuplexNodeStream:g,isFinished:N,isIterable:x,isReadableNodeStream:p,isReadableStream:b,isReadableEnded:I,isReadableFinished:j,isReadableErrored:D,isNodeStream:y,isWebStream:w,isWritable:A,isWritableNodeStream:h,isWritableStream:v,isWritableEnded:S,isWritableFinished:E,isWritableErrored:k,isServerRequest:C,isServerResponse:L,willEmitClose:M,isTransformStream:m}},51572:function(e,t,n){const r=n(34155),{ArrayPrototypeSlice:o,Error:i,FunctionPrototypeSymbolHasInstance:a,ObjectDefineProperty:s,ObjectDefineProperties:l,ObjectSetPrototypeOf:c,StringPrototypeToLowerCase:d,Symbol:u,SymbolHasInstance:f}=n(53464);e.exports=L,L.WritableState=O;const{EventEmitter:p}=n(17187),h=n(78951).Stream,{Buffer:g}=n(48764),y=n(28697),{addAbortSignal:b}=n(86053),{getHighWaterMark:v,getDefaultHighWaterMark:m}=n(33716),{ERR_INVALID_ARG_TYPE:w,ERR_METHOD_NOT_IMPLEMENTED:x,ERR_MULTIPLE_CALLBACK:_,ERR_STREAM_CANNOT_PIPE:S,ERR_STREAM_DESTROYED:E,ERR_STREAM_ALREADY_FINISHED:I,ERR_STREAM_NULL_VALUES:j,ERR_STREAM_WRITE_AFTER_END:R,ERR_UNKNOWN_ENCODING:A}=n(52837).codes,{errorOrDestroy:N}=y;function k(){}c(L.prototype,h.prototype),c(L,h);const D=u("kOnFinished");function O(e,t,r){"boolean"!==typeof r&&(r=t instanceof n(41928)),this.objectMode=!(!e||!e.objectMode),r&&(this.objectMode=this.objectMode||!(!e||!e.writableObjectMode)),this.highWaterMark=e?v(this,e,"writableHighWaterMark",r):m(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const o=!(!e||!1!==e.decodeStrings);this.decodeStrings=!o,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=W.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,T(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[D]=[]}function T(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}function L(e){const t=this instanceof n(41928);if(!t&&!a(L,this))return new L(e);this._writableState=new O(e,this,t),e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final),"function"===typeof e.construct&&(this._construct=e.construct),e.signal&&b(e.signal,this)),h.call(this,e),y.construct(this,(()=>{const e=this._writableState;e.writing||H(this,e),G(this,e)}))}function C(e,t,n,o){const i=e._writableState;if("function"===typeof n)o=n,n=i.defaultEncoding;else{if(n){if("buffer"!==n&&!g.isEncoding(n))throw new A(n)}else n=i.defaultEncoding;"function"!==typeof o&&(o=k)}if(null===t)throw new j;if(!i.objectMode)if("string"===typeof t)!1!==i.decodeStrings&&(t=g.from(t,n),n="buffer");else if(t instanceof g)n="buffer";else{if(!h._isUint8Array(t))throw new w("chunk",["string","Buffer","Uint8Array"],t);t=h._uint8ArrayToBuffer(t),n="buffer"}let a;return i.ending?a=new R:i.destroyed&&(a=new E("write")),a?(r.nextTick(o,a),N(e,a,!0),a):(i.pendingcb++,M(e,i,t,n,o))}function M(e,t,n,r,o){const i=t.objectMode?1:n.length;t.length+=i;const a=t.length<t.highWaterMark;return a||(t.needDrain=!0),t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:n,encoding:r,callback:o}),t.allBuffers&&"buffer"!==r&&(t.allBuffers=!1),t.allNoop&&o!==k&&(t.allNoop=!1)):(t.writelen=i,t.writecb=o,t.writing=!0,t.sync=!0,e._write(n,r,t.onwrite),t.sync=!1),a&&!t.errored&&!t.destroyed}function P(e,t,n,r,o,i,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new E("write")):n?e._writev(o,t.onwrite):e._write(o,i,t.onwrite),t.sync=!1}function F(e,t,n,r){--t.pendingcb,r(n),$(t),N(e,n)}function W(e,t){const n=e._writableState,o=n.sync,i=n.writecb;"function"===typeof i?(n.writing=!1,n.writecb=null,n.length-=n.writelen,n.writelen=0,t?(t.stack,n.errored||(n.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),o?r.nextTick(F,e,n,t,i):F(e,n,t,i)):(n.buffered.length>n.bufferedIndex&&H(e,n),o?null!==n.afterWriteTickInfo&&n.afterWriteTickInfo.cb===i?n.afterWriteTickInfo.count++:(n.afterWriteTickInfo={count:1,cb:i,stream:e,state:n},r.nextTick(J,n.afterWriteTickInfo)):B(e,n,1,i))):N(e,new _)}function J({stream:e,state:t,count:n,cb:r}){return t.afterWriteTickInfo=null,B(e,t,n,r)}function B(e,t,n,r){const o=!t.ending&&!e.destroyed&&0===t.length&&t.needDrain;o&&(t.needDrain=!1,e.emit("drain"));while(n-- >0)t.pendingcb--,r();t.destroyed&&$(t),G(e,t)}function $(e){if(e.writing)return;for(let o=e.bufferedIndex;o<e.buffered.length;++o){var t;const{chunk:n,callback:r}=e.buffered[o],i=e.objectMode?1:n.length;e.length-=i,r(null!==(t=e.errored)&&void 0!==t?t:new E("write"))}const n=e[D].splice(0);for(let o=0;o<n.length;o++){var r;n[o](null!==(r=e.errored)&&void 0!==r?r:new E("end"))}T(e)}function H(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;const{buffered:n,bufferedIndex:r,objectMode:i}=t,a=n.length-r;if(!a)return;let s=r;if(t.bufferProcessing=!0,a>1&&e._writev){t.pendingcb-=a-1;const r=t.allNoop?k:e=>{for(let t=s;t<n.length;++t)n[t].callback(e)},i=t.allNoop&&0===s?n:o(n,s);i.allBuffers=t.allBuffers,P(e,t,!0,t.length,i,"",r),T(t)}else{do{const{chunk:r,encoding:o,callback:a}=n[s];n[s++]=null;const l=i?1:r.length;P(e,t,!1,l,r,o,a)}while(s<n.length&&!t.writing);s===n.length?T(t):s>256?(n.splice(0,s),t.bufferedIndex=0):t.bufferedIndex=s}t.bufferProcessing=!1}function U(e){return e.ending&&!e.destroyed&&e.constructed&&0===e.length&&!e.errored&&0===e.buffered.length&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function V(e,t){let n=!1;function o(o){if(n)N(e,null!==o&&void 0!==o?o:_());else if(n=!0,t.pendingcb--,o){const n=t[D].splice(0);for(let e=0;e<n.length;e++)n[e](o);N(e,o,t.sync)}else U(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,r.nextTick(z,e,t))}t.sync=!0,t.pendingcb++;try{e._final(o)}catch(i){o(i)}t.sync=!1}function q(e,t){t.prefinished||t.finalCalled||("function"!==typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.finalCalled=!0,V(e,t)))}function G(e,t,n){U(t)&&(q(e,t),0===t.pendingcb&&(n?(t.pendingcb++,r.nextTick(((e,t)=>{U(t)?z(e,t):t.pendingcb--}),e,t)):U(t)&&(t.pendingcb++,z(e,t))))}function z(e,t){t.pendingcb--,t.finished=!0;const n=t[D].splice(0);for(let r=0;r<n.length;r++)n[r]();if(e.emit("finish"),t.autoDestroy){const t=e._readableState,n=!t||t.autoDestroy&&(t.endEmitted||!1===t.readable);n&&e.destroy()}}O.prototype.getBuffer=function(){return o(this.buffered,this.bufferedIndex)},s(O.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),s(L,f,{__proto__:null,value:function(e){return!!a(this,e)||this===L&&(e&&e._writableState instanceof O)}}),L.prototype.pipe=function(){N(this,new S)},L.prototype.write=function(e,t,n){return!0===C(this,e,t,n)},L.prototype.cork=function(){this._writableState.corked++},L.prototype.uncork=function(){const e=this._writableState;e.corked&&(e.corked--,e.writing||H(this,e))},L.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=d(e)),!g.isEncoding(e))throw new A(e);return this._writableState.defaultEncoding=e,this},L.prototype._write=function(e,t,n){if(!this._writev)throw new x("_write()");this._writev([{chunk:e,encoding:t}],n)},L.prototype._writev=null,L.prototype.end=function(e,t,n){const o=this._writableState;let a;if("function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e){const n=C(this,e,t);n instanceof i&&(a=n)}return o.corked&&(o.corked=1,this.uncork()),a||(o.errored||o.ending?o.finished?a=new I("end"):o.destroyed&&(a=new E("end")):(o.ending=!0,G(this,o,!0),o.ended=!0)),"function"===typeof n&&(a||o.finished?r.nextTick(n,a):o[D].push(n)),this},l(L.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){const e=this._writableState;return!!e&&!1!==e.writable&&!e.destroyed&&!e.errored&&!e.ending&&!e.ended},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const e=this._writableState;return!!e&&(!e.destroyed&&!e.ending&&e.needDrain)}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const K=y.destroy;let Q;function X(){return void 0===Q&&(Q={}),Q}L.prototype.destroy=function(e,t){const n=this._writableState;return!n.destroyed&&(n.bufferedIndex<n.buffered.length||n[D].length)&&r.nextTick($,n),K.call(this,e,t),this},L.prototype._undestroy=y.undestroy,L.prototype._destroy=function(e,t){t(e)},L.prototype[p.captureRejectionSymbol]=function(e){this.destroy(e)},L.fromWeb=function(e,t){return X().newStreamWritableFromWritableStream(e,t)},L.toWeb=function(e){return X().newWritableStreamFromStreamWritable(e)}},95793:function(e,t,n){"use strict";const{ArrayIsArray:r,ArrayPrototypeIncludes:o,ArrayPrototypeJoin:i,ArrayPrototypeMap:a,NumberIsInteger:s,NumberIsNaN:l,NumberMAX_SAFE_INTEGER:c,NumberMIN_SAFE_INTEGER:d,NumberParseInt:u,ObjectPrototypeHasOwnProperty:f,RegExpPrototypeExec:p,String:h,StringPrototypeToUpperCase:g,StringPrototypeTrim:y}=n(53464),{hideStackFrames:b,codes:{ERR_SOCKET_BAD_PORT:v,ERR_INVALID_ARG_TYPE:m,ERR_INVALID_ARG_VALUE:w,ERR_OUT_OF_RANGE:x,ERR_UNKNOWN_SIGNAL:_}}=n(52837),{normalizeEncoding:S}=n(74138),{isAsyncFunction:E,isArrayBufferView:I}=n(74138).types,j={};function R(e){return e===(0|e)}function A(e){return e===e>>>0}const N=/^[0-7]+$/,k="must be a 32-bit unsigned integer or an octal string";function D(e,t,n){if("undefined"===typeof e&&(e=n),"string"===typeof e){if(null===p(N,e))throw new w(t,e,k);e=u(e,8)}return L(e,t),e}const O=b(((e,t,n=d,r=c)=>{if("number"!==typeof e)throw new m(t,"number",e);if(!s(e))throw new x(t,"an integer",e);if(e<n||e>r)throw new x(t,`>= ${n} && <= ${r}`,e)})),T=b(((e,t,n=-2147483648,r=2147483647)=>{if("number"!==typeof e)throw new m(t,"number",e);if(!s(e))throw new x(t,"an integer",e);if(e<n||e>r)throw new x(t,`>= ${n} && <= ${r}`,e)})),L=b(((e,t,n=!1)=>{if("number"!==typeof e)throw new m(t,"number",e);if(!s(e))throw new x(t,"an integer",e);const r=n?1:0,o=4294967295;if(e<r||e>o)throw new x(t,`>= ${r} && <= ${o}`,e)}));function C(e,t){if("string"!==typeof e)throw new m(t,"string",e)}function M(e,t,n=void 0,r){if("number"!==typeof e)throw new m(t,"number",e);if(null!=n&&e<n||null!=r&&e>r||(null!=n||null!=r)&&l(e))throw new x(t,`${null!=n?`>= ${n}`:""}${null!=n&&null!=r?" && ":""}${null!=r?`<= ${r}`:""}`,e)}const P=b(((e,t,n)=>{if(!o(n,e)){const r=i(a(n,(e=>"string"===typeof e?`'${e}'`:h(e))),", "),o="must be one of: "+r;throw new w(t,e,o)}}));function F(e,t){if("boolean"!==typeof e)throw new m(t,"boolean",e)}function W(e,t,n){return null!=e&&f(e,t)?e[t]:n}const J=b(((e,t,n=null)=>{const o=W(n,"allowArray",!1),i=W(n,"allowFunction",!1),a=W(n,"nullable",!1);if(!a&&null===e||!o&&r(e)||"object"!==typeof e&&(!i||"function"!==typeof e))throw new m(t,"Object",e)})),B=b(((e,t)=>{if(null!=e&&"object"!==typeof e&&"function"!==typeof e)throw new m(t,"a dictionary",e)})),$=b(((e,t,n=0)=>{if(!r(e))throw new m(t,"Array",e);if(e.length<n){const r=`must be longer than ${n}`;throw new w(t,e,r)}}));function H(e,t){$(e,t);for(let n=0;n<e.length;n++)C(e[n],`${t}[${n}]`)}function U(e,t){$(e,t);for(let n=0;n<e.length;n++)F(e[n],`${t}[${n}]`)}function V(e,t){$(e,t);for(let n=0;n<e.length;n++){const r=e[n],o=`${t}[${n}]`;if(null==r)throw new m(o,"AbortSignal",r);Q(r,o)}}function q(e,t="signal"){if(C(e,t),void 0===j[e]){if(void 0!==j[g(e)])throw new _(e+" (signals must use all capital letters)");throw new _(e)}}const G=b(((e,t="buffer")=>{if(!I(e))throw new m(t,["Buffer","TypedArray","DataView"],e)}));function z(e,t){const n=S(t),r=e.length;if("hex"===n&&r%2!==0)throw new w("encoding",t,`is invalid for data of length ${r}`)}function K(e,t="Port",n=!0){if("number"!==typeof e&&"string"!==typeof e||"string"===typeof e&&0===y(e).length||+e!==+e>>>0||e>65535||0===e&&!n)throw new v(t,e,n);return 0|e}const Q=b(((e,t)=>{if(void 0!==e&&(null===e||"object"!==typeof e||!("aborted"in e)))throw new m(t,"AbortSignal",e)})),X=b(((e,t)=>{if("function"!==typeof e)throw new m(t,"Function",e)})),Y=b(((e,t)=>{if("function"!==typeof e||E(e))throw new m(t,"Function",e)})),Z=b(((e,t)=>{if(void 0!==e)throw new m(t,"undefined",e)}));function ee(e,t,n){if(!o(n,e))throw new m(t,`('${i(n,"|")}')`,e)}const te=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ne(e,t){if("undefined"===typeof e||!p(te,e))throw new w(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function re(e){if("string"===typeof e)return ne(e,"hints"),e;if(r(e)){const t=e.length;let n="";if(0===t)return n;for(let r=0;r<t;r++){const o=e[r];ne(o,"hints"),n+=o,r!==t-1&&(n+=", ")}return n}throw new w("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}e.exports={isInt32:R,isUint32:A,parseFileMode:D,validateArray:$,validateStringArray:H,validateBooleanArray:U,validateAbortSignalArray:V,validateBoolean:F,validateBuffer:G,validateDictionary:B,validateEncoding:z,validateFunction:X,validateInt32:T,validateInteger:O,validateNumber:M,validateObject:J,validateOneOf:P,validatePlainFunction:Y,validatePort:K,validateSignalName:q,validateString:C,validateUint32:L,validateUndefined:Z,validateUnion:ee,validateAbortSignal:Q,validateLinkHeaderValue:re}},57164:function(e,t,n){"use strict";const r=n(17373),o=n(97019),i=r.Readable.destroy;e.exports=r.Readable,e.exports._uint8ArrayToBuffer=r._uint8ArrayToBuffer,e.exports._isUint8Array=r._isUint8Array,e.exports.isDisturbed=r.isDisturbed,e.exports.isErrored=r.isErrored,e.exports.isReadable=r.isReadable,e.exports.Readable=r.Readable,e.exports.Writable=r.Writable,e.exports.Duplex=r.Duplex,e.exports.Transform=r.Transform,e.exports.PassThrough=r.PassThrough,e.exports.addAbortSignal=r.addAbortSignal,e.exports.finished=r.finished,e.exports.destroy=r.destroy,e.exports.destroy=i,e.exports.pipeline=r.pipeline,e.exports.compose=r.compose,Object.defineProperty(r,"promises",{configurable:!0,enumerable:!0,get(){return o}}),e.exports.Stream=r.Stream,e.exports["default"]=e.exports},52837:function(e,t,n){"use strict";const{format:r,inspect:o,AggregateError:i}=n(74138),a=globalThis.AggregateError||i,s=Symbol("kIsNodeError"),l=["string","function","number","object","Function","Object","boolean","bigint","symbol"],c=/^([A-Z][a-z0-9]*)+$/,d="__node_internal_",u={};function f(e,t){if(!e)throw new u.ERR_INTERNAL_ASSERTION(t)}function p(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function h(e,t,n){if("function"===typeof t)return f(t.length<=n.length,`Code: ${e}; The provided arguments length (${n.length}) does not match the required ones (${t.length}).`),t(...n);const o=(t.match(/%[dfijoOs]/g)||[]).length;return f(o===n.length,`Code: ${e}; The provided arguments length (${n.length}) does not match the required ones (${o}).`),0===n.length?t:r(t,...n)}function g(e,t,n){n||(n=Error);class r extends n{constructor(...n){super(h(e,t,n))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(r.prototype,{name:{value:n.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),r.prototype.code=e,r.prototype[s]=!0,u[e]=r}function y(e){const t=d+e.name;return Object.defineProperty(e,"name",{value:t}),e}function b(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;const n=new a([t,e],t.message);return n.code=t.code,n}return e||t}class v extends Error{constructor(e="The operation was aborted",t=void 0){if(void 0!==t&&"object"!==typeof t)throw new u.ERR_INVALID_ARG_TYPE("options","Object",t);super(e,t),this.code="ABORT_ERR",this.name="AbortError"}}g("ERR_ASSERTION","%s",Error),g("ERR_INVALID_ARG_TYPE",((e,t,n)=>{f("string"===typeof e,"'name' must be a string"),Array.isArray(t)||(t=[t]);let r="The ";e.endsWith(" argument")?r+=`${e} `:r+=`"${e}" ${e.includes(".")?"property":"argument"} `,r+="must be ";const i=[],a=[],s=[];for(const o of t)f("string"===typeof o,"All expected entries have to be of type string"),l.includes(o)?i.push(o.toLowerCase()):c.test(o)?a.push(o):(f("object"!==o,'The value "object" should be written as "Object"'),s.push(o));if(a.length>0){const e=i.indexOf("object");-1!==e&&(i.splice(i,e,1),a.push("Object"))}if(i.length>0){switch(i.length){case 1:r+=`of type ${i[0]}`;break;case 2:r+=`one of type ${i[0]} or ${i[1]}`;break;default:{const e=i.pop();r+=`one of type ${i.join(", ")}, or ${e}`}}(a.length>0||s.length>0)&&(r+=" or ")}if(a.length>0){switch(a.length){case 1:r+=`an instance of ${a[0]}`;break;case 2:r+=`an instance of ${a[0]} or ${a[1]}`;break;default:{const e=a.pop();r+=`an instance of ${a.join(", ")}, or ${e}`}}s.length>0&&(r+=" or ")}switch(s.length){case 0:break;case 1:s[0].toLowerCase()!==s[0]&&(r+="an "),r+=`${s[0]}`;break;case 2:r+=`one of ${s[0]} or ${s[1]}`;break;default:{const e=s.pop();r+=`one of ${s.join(", ")}, or ${e}`}}if(null==n)r+=`. Received ${n}`;else if("function"===typeof n&&n.name)r+=`. Received function ${n.name}`;else if("object"===typeof n){var d;if(null!==(d=n.constructor)&&void 0!==d&&d.name)r+=`. Received an instance of ${n.constructor.name}`;else{const e=o(n,{depth:-1});r+=`. Received ${e}`}}else{let e=o(n,{colors:!1});e.length>25&&(e=`${e.slice(0,25)}...`),r+=`. Received type ${typeof n} (${e})`}return r}),TypeError),g("ERR_INVALID_ARG_VALUE",((e,t,n="is invalid")=>{let r=o(t);r.length>128&&(r=r.slice(0,128)+"...");const i=e.includes(".")?"property":"argument";return`The ${i} '${e}' ${n}. Received ${r}`}),TypeError),g("ERR_INVALID_RETURN_VALUE",((e,t,n)=>{var r;const o=null!==n&&void 0!==n&&null!==(r=n.constructor)&&void 0!==r&&r.name?`instance of ${n.constructor.name}`:"type "+typeof n;return`Expected ${e} to be returned from the "${t}" function but got ${o}.`}),TypeError),g("ERR_MISSING_ARGS",((...e)=>{let t;f(e.length>0,"At least one arg needs to be specified");const n=e.length;switch(e=(Array.isArray(e)?e:[e]).map((e=>`"${e}"`)).join(" or "),n){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{const n=e.pop();t+=`The ${e.join(", ")}, and ${n} arguments`}break}return`${t} must be specified`}),TypeError),g("ERR_OUT_OF_RANGE",((e,t,n)=>{let r;return f(t,'Missing "range" argument'),Number.isInteger(n)&&Math.abs(n)>2**32?r=p(String(n)):"bigint"===typeof n?(r=String(n),(n>2n**32n||n<-(2n**32n))&&(r=p(r)),r+="n"):r=o(n),`The value of "${e}" is out of range. It must be ${t}. Received ${r}`}),RangeError),g("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),g("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),g("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),g("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),g("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),g("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),g("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),g("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),g("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),g("ERR_STREAM_WRITE_AFTER_END","write after end",Error),g("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:v,aggregateTwoErrors:y(b),hideStackFrames:y,codes:u}},53464:function(e){"use strict";e.exports={ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,t){return e.includes(t)},ArrayPrototypeIndexOf(e,t){return e.indexOf(t)},ArrayPrototypeJoin(e,t){return e.join(t)},ArrayPrototypeMap(e,t){return e.map(t)},ArrayPrototypePop(e,t){return e.pop(t)},ArrayPrototypePush(e,t){return e.push(t)},ArrayPrototypeSlice(e,t,n){return e.slice(t,n)},Error:Error,FunctionPrototypeCall(e,t,...n){return e.call(t,...n)},FunctionPrototypeSymbolHasInstance(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},MathFloor:Math.floor,Number:Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,t){return Object.defineProperties(e,t)},ObjectDefineProperty(e,t,n){return Object.defineProperty(e,t,n)},ObjectGetOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,t){return Object.setPrototypeOf(e,t)},Promise:Promise,PromisePrototypeCatch(e,t){return e.catch(t)},PromisePrototypeThen(e,t,n){return e.then(t,n)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,t){return e.test(t)},SafeSet:Set,String:String,StringPrototypeSlice(e,t,n){return e.slice(t,n)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol:Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,t,n){return e.set(t,n)},Boolean:Boolean,Uint8Array:Uint8Array}},74138:function(e,t,n){"use strict";const r=n(48764),{kResistStopPropagation:o,SymbolDispose:i}=n(53464),a=globalThis.AbortSignal||n(28599).AbortSignal,s=globalThis.AbortController||n(28599).AbortController,l=Object.getPrototypeOf((async function(){})).constructor,c=globalThis.Blob||r.Blob,d="undefined"!==typeof c?function(e){return e instanceof c}:function(e){return!1},u=(e,t)=>{if(void 0!==e&&(null===e||"object"!==typeof e||!("aborted"in e)))throw new ERR_INVALID_ARG_TYPE(t,"AbortSignal",e)},f=(e,t)=>{if("function"!==typeof e)throw new ERR_INVALID_ARG_TYPE(t,"Function",e)};class p extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError("Expected input to be an Array, got "+typeof e);let t="";for(let n=0;n<e.length;n++)t+=`    ${e[n].stack}\n`;super(t),this.name="AggregateError",this.errors=e}}e.exports={AggregateError:p,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(...n){t||(t=!0,e.apply(this,n))}},createDeferredPromise:function(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));return{promise:n,resolve:e,reject:t}},promisify(e){return new Promise(((t,n)=>{e(((e,...r)=>e?n(e):t(...r)))}))},debuglog(){return function(){}},format(e,...t){return e.replace(/%([sdifj])/g,(function(...[e,n]){const r=t.shift();if("f"===n)return r.toFixed(6);if("j"===n)return JSON.stringify(r);if("s"===n&&"object"===typeof r){const e=r.constructor!==Object?r.constructor.name:"";return`${e} {}`.trim()}return r.toString()}))},inspect(e){switch(typeof e){case"string":if(e.includes("'")){if(!e.includes('"'))return`"${e}"`;if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}},types:{isAsyncFunction(e){return e instanceof l},isArrayBufferView(e){return ArrayBuffer.isView(e)}},isBlob:d,deprecate(e,t){return e},addAbortListener:n(17187).addAbortListener||function(e,t){if(void 0===e)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",e);let n;return u(e,"signal"),f(t,"listener"),e.aborted?queueMicrotask((()=>t())):(e.addEventListener("abort",t,{__proto__:null,once:!0,[o]:!0}),n=()=>{e.removeEventListener("abort",t)}),{__proto__:null,[i](){var e;null===(e=n)||void 0===e||e()}}},AbortSignalAny:a.any||function(e){if(1===e.length)return e[0];const t=new s,n=()=>t.abort();return e.forEach((e=>{u(e,"signals"),e.addEventListener("abort",n,{once:!0})})),t.signal.addEventListener("abort",(()=>{e.forEach((e=>e.removeEventListener("abort",n)))}),{once:!0}),t.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},17373:function(e,t,n){const{Buffer:r}=n(48764),{ObjectDefineProperty:o,ObjectKeys:i,ReflectApply:a}=n(53464),{promisify:{custom:s}}=n(74138),{streamReturningOperators:l,promiseReturningOperators:c}=n(71902),{codes:{ERR_ILLEGAL_CONSTRUCTOR:d}}=n(52837),u=n(73705),{setDefaultHighWaterMark:f,getDefaultHighWaterMark:p}=n(33716),{pipeline:h}=n(93101),{destroyer:g}=n(28697),y=n(14434),b=n(97019),v=n(25066),m=e.exports=n(78951).Stream;m.isDestroyed=v.isDestroyed,m.isDisturbed=v.isDisturbed,m.isErrored=v.isErrored,m.isReadable=v.isReadable,m.isWritable=v.isWritable,m.Readable=n(75009);for(const _ of i(l)){const S=l[_];function w(...e){if(new.target)throw d();return m.Readable.from(a(S,this,e))}o(w,"name",{__proto__:null,value:S.name}),o(w,"length",{__proto__:null,value:S.length}),o(m.Readable.prototype,_,{__proto__:null,value:w,enumerable:!1,configurable:!0,writable:!0})}for(const E of i(c)){const I=c[E];function w(...e){if(new.target)throw d();return a(I,this,e)}o(w,"name",{__proto__:null,value:I.name}),o(w,"length",{__proto__:null,value:I.length}),o(m.Readable.prototype,E,{__proto__:null,value:w,enumerable:!1,configurable:!0,writable:!0})}m.Writable=n(51572),m.Duplex=n(41928),m.Transform=n(53606),m.PassThrough=n(75955),m.pipeline=h;const{addAbortSignal:x}=n(86053);m.addAbortSignal=x,m.finished=y,m.destroy=g,m.compose=u,m.setDefaultHighWaterMark=f,m.getDefaultHighWaterMark=p,o(m,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return b}}),o(h,s,{__proto__:null,enumerable:!0,get(){return b.pipeline}}),o(y,s,{__proto__:null,enumerable:!0,get(){return b.finished}}),m.Stream=m,m._isUint8Array=function(e){return e instanceof Uint8Array},m._uint8ArrayToBuffer=function(e){return r.from(e.buffer,e.byteOffset,e.byteLength)}},97019:function(e,t,n){"use strict";const{ArrayPrototypePop:r,Promise:o}=n(53464),{isIterable:i,isNodeStream:a,isWebStream:s}=n(25066),{pipelineImpl:l}=n(93101),{finished:c}=n(14434);function d(...e){return new o(((t,n)=>{let o,c;const d=e[e.length-1];if(d&&"object"===typeof d&&!a(d)&&!i(d)&&!s(d)){const t=r(e);o=t.signal,c=t.end}l(e,((e,r)=>{e?n(e):t(r)}),{signal:o,end:c})}))}n(17373),e.exports={finished:c,pipeline:d}},95456:function(e){"use strict";e.exports=function e(t){return null===t||"object"!==typeof t||null!=t.toJSON?JSON.stringify(t):Array.isArray(t)?"["+t.reduce(((t,n,r)=>{const o=0===r?"":",",i=void 0===n||"symbol"===typeof n?null:n;return t+o+e(i)}),"")+"]":"{"+Object.keys(t).sort().reduce(((n,r,o)=>{if(void 0===t[r]||"symbol"===typeof t[r])return n;const i=0===n.length?"":",";return n+i+e(r)+":"+e(t[r])}),"")+"}"}},68058:function(e,t,n){"use strict";const{isArray:r,isObject:o,isString:i}=n(30832),{asArray:a}=n(51055),{prependBase:s}=n(82278),l=n(54093),c=n(26767),d=10;function u(e){throw new l("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e})}function f({context:e,base:t}){if(!e)return;const n=e["@context"];if(i(n))e["@context"]=s(t,n);else if(r(n))for(let r=0;r<n.length;++r){const e=n[r];i(e)?n[r]=s(t,e):o(e)&&f({context:{"@context":e},base:t})}else if(o(n))for(const r in n)f({context:n[r],base:t})}e.exports=class{constructor({sharedCache:e}){this.perOpCache=new Map,this.sharedCache=e}async resolve({activeCtx:e,context:t,documentLoader:n,base:s,cycles:l=new Set}){t&&o(t)&&t["@context"]&&(t=t["@context"]),t=a(t);const d=[];for(const a of t){if(i(a)){let t=this._get(a);t||(t=await this._resolveRemoteContext({activeCtx:e,url:a,documentLoader:n,base:s,cycles:l})),r(t)?d.push(...t):d.push(t);continue}if(null===a){d.push(new c({document:null}));continue}o(a)||u(t);const f=JSON.stringify(a);let p=this._get(f);p||(p=new c({document:a}),this._cacheResolvedContext({key:f,resolved:p,tag:"static"})),d.push(p)}return d}_get(e){let t=this.perOpCache.get(e);if(!t){const n=this.sharedCache.get(e);n&&(t=n.get("static"),t&&this.perOpCache.set(e,t))}return t}_cacheResolvedContext({key:e,resolved:t,tag:n}){if(this.perOpCache.set(e,t),void 0!==n){let r=this.sharedCache.get(e);r||(r=new Map,this.sharedCache.set(e,r)),r.set(n,t)}return t}async _resolveRemoteContext({activeCtx:e,url:t,documentLoader:n,base:r,cycles:o}){t=s(r,t);const{context:i,remoteDoc:a}=await this._fetchContext({activeCtx:e,url:t,documentLoader:n,cycles:o});r=a.documentUrl||t,f({context:i,base:r});const l=await this.resolve({activeCtx:e,context:i,documentLoader:n,base:r,cycles:o});return this._cacheResolvedContext({key:t,resolved:l,tag:a.tag}),l}async _fetchContext({activeCtx:e,url:t,documentLoader:n,cycles:a}){if(a.size>d)throw new l("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"json-ld-1.0"===e.processingMode?"loading remote context failed":"context overflow",max:d});if(a.has(t))throw new l("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"json-ld-1.0"===e.processingMode?"recursive context inclusion":"context overflow",url:t});let s,c;a.add(t);try{c=await n(t),s=c.document||null,i(s)&&(s=JSON.parse(s))}catch(u){throw new l("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:t,cause:u})}if(!o(s))throw new l("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:t});return s="@context"in s?{"@context":s["@context"]}:{"@context":{}},c.contextUrl&&(r(s["@context"])||(s["@context"]=[s["@context"]]),s["@context"].push(c.contextUrl)),{context:s,remoteDoc:c}}}},54093:function(e){"use strict";e.exports=class extends Error{constructor(e="An unspecified JSON-LD error occurred.",t="jsonld.Error",n={}){super(e),this.name=t,this.message=e,this.details=n}}},60731:function(e){"use strict";e.exports=e=>{class t{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(t,n){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(t,n)},t.expand=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(t)},t.flatten=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(t)},t}},69048:function(e,t,n){"use strict";e.exports=n(47055).NQuads},40533:function(e){"use strict";e.exports=class{constructor(){this._requests={}}wrapLoader(e){const t=this;return t._loader=e,function(){return t.add.apply(t,arguments)}}async add(e){let t=this._requests[e];if(t)return Promise.resolve(t);t=this._requests[e]=this._loader(e);try{return await t}finally{delete this._requests[e]}}}},26767:function(e,t,n){"use strict";const r=n(80421),o=10;e.exports=class{constructor({document:e}){this.document=e,this.cache=new r({max:o})}getProcessed(e){return this.cache.get(e)}setProcessed(e,t){this.cache.set(e,t)}}},83251:function(e,t,n){"use strict";const r=n(54093),{isArray:o,isObject:i,isString:a,isUndefined:s}=n(30832),{isList:l,isValue:c,isGraph:d,isSimpleGraph:u,isSubjectReference:f}=n(18463),{expandIri:p,getContextValue:h,isKeyword:g,process:y,processingMode:b}=n(54131),{removeBase:v,prependBase:m}=n(82278),{REGEX_KEYWORD:w,addValue:x,asArray:_,compareShortestLeast:S}=n(51055),E={};function I(e,t,n,r,o,a){null===a&&(a="@null");const s=[];if(("@id"===a||"@reverse"===a)&&i(n)&&"@id"in n){"@reverse"===a&&s.push("@reverse");const t=E.compactIri({activeCtx:e,iri:n["@id"],relativeTo:{vocab:!0}});e.mappings.has(t)&&e.mappings.get(t)&&e.mappings.get(t)["@id"]===n["@id"]?s.push.apply(s,["@vocab","@id"]):s.push.apply(s,["@id","@vocab"])}else{s.push(a);const e=s.find((e=>e.includes("_")));e&&s.push(e.replace(/^[^_]+_/,"_"))}s.push("@none");const l=e.inverse[t];for(const i of r){if(!(i in l))continue;const e=l[i][o];for(const t of s)if(t in e)return e[t]}return null}function j(e,t,n){if("@nest"!==p(e,t,{vocab:!0},n))throw new r("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}e.exports=E,E.compact=async({activeCtx:e,activeProperty:t=null,element:n,options:p={}})=>{if(o(n)){let r=[];for(let o=0;o<n.length;++o){const i=await E.compact({activeCtx:e,activeProperty:t,element:n[o],options:p});null!==i&&r.push(i)}if(p.compactArrays&&1===r.length){const n=h(e,t,"@container")||[];0===n.length&&(r=r[0])}return r}const v=h(e,t,"@context");if(s(v)||(e=await y({activeCtx:e,localCtx:v,propagate:!0,overrideProtected:!0,options:p})),i(n)){if(p.link&&"@id"in n&&p.link.hasOwnProperty(n["@id"])){const e=p.link[n["@id"]];for(let t=0;t<e.length;++t)if(e[t].expanded===n)return e[t].compacted}if(c(n)||f(n)){const r=E.compactValue({activeCtx:e,activeProperty:t,value:n,options:p});return p.link&&f(n)&&(p.link.hasOwnProperty(n["@id"])||(p.link[n["@id"]]=[]),p.link[n["@id"]].push({expanded:n,compacted:r})),r}if(l(n)){const r=h(e,t,"@container")||[];if(r.includes("@list"))return E.compact({activeCtx:e,activeProperty:t,element:n["@list"],options:p})}const v="@reverse"===t,m={},w=e;c(n)||f(n)||(e=e.revertToPreviousContext());const S=h(w,t,"@context");s(S)||(e=await y({activeCtx:e,localCtx:S,propagate:!0,overrideProtected:!0,options:p})),p.link&&"@id"in n&&(p.link.hasOwnProperty(n["@id"])||(p.link[n["@id"]]=[]),p.link[n["@id"]].push({expanded:n,compacted:m}));let I=n["@type"]||[];I.length>1&&(I=Array.from(I).sort());const R=e;for(const t of I){const n=E.compactIri({activeCtx:R,iri:t,relativeTo:{vocab:!0}}),r=h(w,n,"@context");s(r)||(e=await y({activeCtx:e,localCtx:r,options:p,propagate:!1}))}const A=Object.keys(n).sort();for(const s of A){const f=n[s];if("@id"!==s)if("@type"!==s)if("@reverse"!==s)if("@preserve"!==s)if("@index"!==s)if("@graph"!==s&&"@list"!==s&&"@included"!==s&&g(s)){const t=E.compactIri({activeCtx:e,iri:s,relativeTo:{vocab:!0}});x(m,t,f)}else{if(!o(f))throw new r("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(0===f.length){const t=E.compactIri({activeCtx:e,iri:s,value:f,relativeTo:{vocab:!0},reverse:v}),n=e.mappings.has(t)?e.mappings.get(t)["@nest"]:null;let r=m;n&&(j(e,n,p),i(m[n])||(m[n]={}),r=m[n]),x(r,t,f,{propertyIsArray:!0})}for(const t of f){const n=E.compactIri({activeCtx:e,iri:s,value:t,relativeTo:{vocab:!0},reverse:v}),r=e.mappings.has(n)?e.mappings.get(n)["@nest"]:null;let f=m;r&&(j(e,r,p),i(m[r])||(m[r]={}),f=m[r]);const g=h(e,n,"@container")||[],y=d(t),b=l(t);let w;b?w=t["@list"]:y&&(w=t["@graph"]);let S=await E.compact({activeCtx:e,activeProperty:n,element:b||y?w:t,options:p});if(b){if(o(S)||(S=[S]),g.includes("@list")){x(f,n,S,{valueIsArray:!0,allowDuplicate:!0});continue}S={[E.compactIri({activeCtx:e,iri:"@list",relativeTo:{vocab:!0}})]:S},"@index"in t&&(S[E.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"])}if(y)if(g.includes("@graph")&&(g.includes("@id")||g.includes("@index")&&u(t))){let r;f.hasOwnProperty(n)?r=f[n]:f[n]=r={};const o=(g.includes("@id")?t["@id"]:t["@index"])||E.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}});x(r,o,S,{propertyIsArray:!p.compactArrays||g.includes("@set")})}else g.includes("@graph")&&u(t)?(o(S)&&S.length>1&&(S={"@included":S}),x(f,n,S,{propertyIsArray:!p.compactArrays||g.includes("@set")})):(o(S)&&1===S.length&&p.compactArrays&&(S=S[0]),S={[E.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}})]:S},"@id"in t&&(S[E.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=t["@id"]),"@index"in t&&(S[E.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"]),x(f,n,S,{propertyIsArray:!p.compactArrays||g.includes("@set")}));else if(g.includes("@language")||g.includes("@index")||g.includes("@id")||g.includes("@type")){let r,o;if(f.hasOwnProperty(n)?r=f[n]:f[n]=r={},g.includes("@language"))c(S)&&(S=S["@value"]),o=t["@language"];else if(g.includes("@index")){const r=h(e,n,"@index")||"@index",i=E.compactIri({activeCtx:e,iri:r,relativeTo:{vocab:!0}});if("@index"===r)o=t["@index"],delete S[i];else{let e;if([o,...e]=_(S[r]||[]),a(o))switch(e.length){case 0:delete S[r];break;case 1:S[r]=e[0];break;default:S[r]=e;break}else o=null}}else if(g.includes("@id")){const t=E.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});o=S[t],delete S[t]}else if(g.includes("@type")){const r=E.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}});let i;switch([o,...i]=_(S[r]||[]),i.length){case 0:delete S[r];break;case 1:S[r]=i[0];break;default:S[r]=i;break}1===Object.keys(S).length&&"@id"in t&&(S=await E.compact({activeCtx:e,activeProperty:n,element:{"@id":t["@id"]},options:p}))}o||(o=E.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}})),x(r,o,S,{propertyIsArray:g.includes("@set")})}else{const e=!p.compactArrays||g.includes("@set")||g.includes("@list")||o(S)&&0===S.length||"@list"===s||"@graph"===s;x(f,n,S,{propertyIsArray:e})}}}else{const n=h(e,t,"@container")||[];if(n.includes("@index"))continue;const r=E.compactIri({activeCtx:e,iri:s,relativeTo:{vocab:!0}});x(m,r,f)}else{const n=await E.compact({activeCtx:e,activeProperty:t,element:f,options:p});o(n)&&0===n.length||x(m,s,n)}else{const t=await E.compact({activeCtx:e,activeProperty:"@reverse",element:f,options:p});for(const n in t)if(e.mappings.has(n)&&e.mappings.get(n).reverse){const r=t[n],o=h(e,n,"@container")||[],i=o.includes("@set")||!p.compactArrays;x(m,n,r,{propertyIsArray:i}),delete t[n]}if(Object.keys(t).length>0){const n=E.compactIri({activeCtx:e,iri:s,relativeTo:{vocab:!0}});x(m,n,t)}}else{let t=_(f).map((e=>E.compactIri({activeCtx:w,iri:e,relativeTo:{vocab:!0}})));1===t.length&&(t=t[0]);const n=E.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}}),r=h(e,n,"@container")||[],i=r.includes("@set")&&b(e,1.1),a=i||o(t)&&0===f.length;x(m,n,t,{propertyIsArray:a})}else{let t=_(f).map((t=>E.compactIri({activeCtx:e,iri:t,relativeTo:{vocab:!1},base:p.base})));1===t.length&&(t=t[0]);const n=E.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});m[n]=t}}return m}return n},E.compactIri=({activeCtx:e,iri:t,value:n=null,relativeTo:o={vocab:!1},reverse:a=!1,base:s=null})=>{if(null===t)return t;e.isPropertyTermScoped&&e.previousContext&&(e=e.previousContext);const u=e.getInverse();if(g(t)&&t in u&&"@none"in u[t]&&"@type"in u[t]["@none"]&&"@none"in u[t]["@none"]["@type"])return u[t]["@none"]["@type"]["@none"];if(o.vocab&&t in u){const r=e["@language"]||"@none",o=[];i(n)&&"@index"in n&&!("@graph"in n)&&o.push("@index","@index@set"),i(n)&&"@preserve"in n&&(n=n["@preserve"][0]),d(n)?("@index"in n&&o.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in n&&o.push("@graph@id","@graph@id@set"),o.push("@graph","@graph@set","@set"),"@index"in n||o.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in n||o.push("@graph@id","@graph@id@set")):i(n)&&!c(n)&&o.push("@id","@id@set","@type","@set@type");let s="@language",u="@null";if(a)s="@type",u="@reverse",o.push("@set");else if(l(n)){"@index"in n||o.push("@list");const e=n["@list"];if(0===e.length)s="@any",u="@none";else{let t=0===e.length?r:null,n=null;for(let r=0;r<e.length;++r){const o=e[r];let i="@none",a="@none";if(c(o))if("@direction"in o){const e=(o["@language"]||"").toLowerCase(),t=o["@direction"];i=`${e}_${t}`}else"@language"in o?i=o["@language"].toLowerCase():"@type"in o?a=o["@type"]:i="@null";else a="@id";if(null===t?t=i:i!==t&&c(o)&&(t="@none"),null===n?n=a:a!==n&&(n="@none"),"@none"===t&&"@none"===n)break}t=t||"@none",n=n||"@none","@none"!==n?(s="@type",u=n):u=t}}else{if(c(n))if("@language"in n&&!("@index"in n)){o.push("@language","@language@set"),u=n["@language"];const e=n["@direction"];e&&(u=`${u}_${e}`)}else"@direction"in n&&!("@index"in n)?u=`_${n["@direction"]}`:"@type"in n&&(s="@type",u=n["@type"]);else s="@type",u="@id";o.push("@set")}o.push("@none"),i(n)&&!("@index"in n)&&o.push("@index","@index@set"),c(n)&&1===Object.keys(n).length&&o.push("@language","@language@set");const f=I(e,t,n,o,s,u);if(null!==f)return f}if(o.vocab&&"@vocab"in e){const n=e["@vocab"];if(0===t.indexOf(n)&&t!==n){const r=t.substr(n.length);if(!e.mappings.has(r))return r}}let f=null;const p=[];let h=e.fastCurieMap;const y=t.length-1;for(let r=0;r<y&&t[r]in h;++r)h=h[t[r]],""in h&&p.push(h[""][0]);for(let r=p.length-1;r>=0;--r){const o=p[r],i=o.terms;for(const r of i){const i=r+":"+t.substr(o.iri.length),a=e.mappings.get(r)._prefix&&(!e.mappings.has(i)||null===n&&e.mappings.get(i)["@id"]===t);a&&(null===f||S(i,f)<0)&&(f=i)}}if(null!==f)return f;for(const[i,l]of e.mappings)if(l&&l._prefix&&t.startsWith(i+":"))throw new r(`Absolute IRI "${t}" confused with prefix "${i}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:e});if(!o.vocab){if("@base"in e){if(e["@base"]){const n=v(m(s,e["@base"]),t);return w.test(n)?`./${n}`:n}return t}return v(s,t)}return t},E.compactValue=({activeCtx:e,activeProperty:t,value:n,options:r})=>{if(c(n)){const r=h(e,t,"@type"),o=h(e,t,"@language"),i=h(e,t,"@direction"),s=h(e,t,"@container")||[],l="@index"in n&&!s.includes("@index");if(!l&&"@none"!==r){if(n["@type"]===r)return n["@value"];if("@language"in n&&n["@language"]===o&&"@direction"in n&&n["@direction"]===i)return n["@value"];if("@language"in n&&n["@language"]===o)return n["@value"];if("@direction"in n&&n["@direction"]===i)return n["@value"]}const c=Object.keys(n).length,d=1===c||2===c&&"@index"in n&&!l,u="@language"in e,f=a(n["@value"]),p=e.mappings.has(t)&&null===e.mappings.get(t)["@language"];if(d&&"@none"!==r&&(!u||!f||p))return n["@value"];const g={};return l&&(g[E.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=n["@index"]),"@type"in n?g[E.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}})]=E.compactIri({activeCtx:e,iri:n["@type"],relativeTo:{vocab:!0}}):"@language"in n&&(g[E.compactIri({activeCtx:e,iri:"@language",relativeTo:{vocab:!0}})]=n["@language"]),"@direction"in n&&(g[E.compactIri({activeCtx:e,iri:"@direction",relativeTo:{vocab:!0}})]=n["@direction"]),g[E.compactIri({activeCtx:e,iri:"@value",relativeTo:{vocab:!0}})]=n["@value"],g}const o=p(e,t,{vocab:!0},r),i=h(e,t,"@type"),s=E.compactIri({activeCtx:e,iri:n["@id"],relativeTo:{vocab:"@vocab"===i},base:r.base});return"@id"===i||"@vocab"===i||"@graph"===o?s:{[E.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]:s}}},93770:function(e){"use strict";const t="http://www.w3.org/1999/02/22-rdf-syntax-ns#",n="http://www.w3.org/2001/XMLSchema#";e.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:t,RDF_LIST:t+"List",RDF_FIRST:t+"first",RDF_REST:t+"rest",RDF_NIL:t+"nil",RDF_TYPE:t+"type",RDF_PLAIN_LITERAL:t+"PlainLiteral",RDF_XML_LITERAL:t+"XMLLiteral",RDF_JSON_LITERAL:t+"JSON",RDF_OBJECT:t+"object",RDF_LANGSTRING:t+"langString",XSD:n,XSD_BOOLEAN:n+"boolean",XSD_DOUBLE:n+"double",XSD_INTEGER:n+"integer",XSD_STRING:n+"string"}},54131:function(e,t,n){"use strict";const r=n(51055),o=n(54093),{isArray:i,isObject:a,isString:s,isUndefined:l}=n(30832),{isAbsolute:c,isRelative:d,prependBase:u}=n(82278),{handleEvent:f}=n(91696),{REGEX_BCP47:p,REGEX_KEYWORD:h,asArray:g,compareShortestLeast:y}=n(51055),b=new Map,v=1e4,m={};function w(e,t,n,r,o,i){if(null===t||!s(t)||m.isKeyword(t))return t;if(t.match(h))return null;if(r&&r.hasOwnProperty(t)&&!0!==o.get(t)&&m.createTermDefinition({activeCtx:e,localCtx:r,term:t,defined:o,options:i}),n=n||{},n.vocab){const n=e.mappings.get(t);if(null===n)return null;if(a(n)&&"@id"in n)return n["@id"]}const l=t.indexOf(":");if(l>0){const n=t.substr(0,l),a=t.substr(l+1);if("_"===n||0===a.indexOf("//"))return t;r&&r.hasOwnProperty(n)&&m.createTermDefinition({activeCtx:e,localCtx:r,term:n,defined:o,options:i});const s=e.mappings.get(n);if(s&&s._prefix)return s["@id"]+a;if(c(t))return t}if(n.vocab&&"@vocab"in e){const n=e["@vocab"]+t;t=n}else if(n.base){let n,r;"@base"in e?e["@base"]?(r=u(i.base,e["@base"]),n=u(r,t)):(r=e["@base"],n=t):(r=i.base,n=u(i.base,t)),t=n}return t}function x(e,t){if(!e||"object"!==typeof e||!t||"object"!==typeof t)return e===t;const n=Array.isArray(e);if(n!==Array.isArray(t))return!1;if(n){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!x(e[n],t[n]))return!1;return!0}const r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(const i in e){let n=e[i],r=t[i];if("@container"===i&&Array.isArray(n)&&Array.isArray(r)&&(n=n.slice().sort(),r=r.slice().sort()),!x(n,r))return!1}return!0}e.exports=m,m.process=async({activeCtx:e,localCtx:t,options:n,propagate:r=!0,overrideProtected:l=!1,cycles:h=new Set})=>{a(t)&&"@context"in t&&i(t["@context"])&&(t=t["@context"]);const y=g(t);if(0===y.length)return e;const b=[],v=[({event:e,next:t})=>{b.push(e),t()}];n.eventHandler&&v.push(n.eventHandler);const x=n;n={...n,eventHandler:v};const _=await n.contextResolver.resolve({activeCtx:e,context:t,documentLoader:n.documentLoader,base:n.base});a(_[0].document)&&"boolean"===typeof _[0].document["@propagate"]&&(r=_[0].document["@propagate"]);let S=e;r||S.previousContext||(S=S.clone(),S.previousContext=e);for(const i of _){let{document:r}=i;if(e=S,null===r){if(!l&&0!==Object.keys(e.protected).length)throw new o("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});S=e=m.getInitialContext(n).clone();continue}const g=i.getProcessed(e);if(g){if(x.eventHandler)for(const e of g.events)f({event:e,options:x});S=e=g.context;continue}if(a(r)&&"@context"in r&&(r=r["@context"]),!a(r))throw new o("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:r});S=S.clone();const y=new Map;if("@version"in r){if(1.1!==r["@version"])throw new o("Unsupported JSON-LD version: "+r["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:r});if(e.processingMode&&"json-ld-1.0"===e.processingMode)throw new o("@version: "+r["@version"]+" not compatible with "+e.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:r});S.processingMode="json-ld-1.1",S["@version"]=r["@version"],y.set("@version",!0)}if(S.processingMode=S.processingMode||e.processingMode,"@base"in r){let e=r["@base"];if(null===e||c(e));else{if(!d(e))throw new o('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:r});e=u(S["@base"],e)}S["@base"]=e,y.set("@base",!0)}if("@vocab"in r){const e=r["@vocab"];if(null===e)delete S["@vocab"];else{if(!s(e))throw new o('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:r});if(!c(e)&&m.processingMode(S,1))throw new o('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:r});{const t=w(S,e,{vocab:!0,base:!0},void 0,void 0,n);c(t)||n.eventHandler&&f({event:{type:["JsonLdEvent"],code:"relative @vocab reference",level:"warning",message:"Relative @vocab reference found.",details:{vocab:t}},options:n}),S["@vocab"]=t}}y.set("@vocab",!0)}if("@language"in r){const e=r["@language"];if(null===e)delete S["@language"];else{if(!s(e))throw new o('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:r});e.match(p)||n.eventHandler&&f({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:e}},options:n}),S["@language"]=e.toLowerCase()}y.set("@language",!0)}if("@direction"in r){const t=r["@direction"];if("json-ld-1.0"===e.processingMode)throw new o("Invalid JSON-LD syntax; @direction not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:r});if(null===t)delete S["@direction"];else{if("ltr"!==t&&"rtl"!==t)throw new o('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:r});S["@direction"]=t}y.set("@direction",!0)}if("@propagate"in r){const n=r["@propagate"];if("json-ld-1.0"===e.processingMode)throw new o("Invalid JSON-LD syntax; @propagate not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:r});if("boolean"!==typeof n)throw new o("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:t});y.set("@propagate",!0)}if("@import"in r){const i=r["@import"];if("json-ld-1.0"===e.processingMode)throw new o("Invalid JSON-LD syntax; @import not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:r});if(!s(i))throw new o("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:t});const a=await n.contextResolver.resolve({activeCtx:e,context:i,documentLoader:n.documentLoader,base:n.base});if(1!==a.length)throw new o("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:t});const l=a[0].getProcessed(e);if(l)r=l;else{const n=a[0].document;if("@import"in n)throw new o("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:t});for(const e in n)r.hasOwnProperty(e)||(r[e]=n[e]);a[0].setProcessed(e,r)}y.set("@import",!0)}y.set("@protected",r["@protected"]||!1);for(const e in r)if(m.createTermDefinition({activeCtx:S,localCtx:r,term:e,defined:y,options:n,overrideProtected:l}),a(r[e])&&"@context"in r[e]){const t=r[e]["@context"];let i=!0;if(s(t)){const e=u(n.base,t);h.has(e)?i=!1:h.add(e)}if(i)try{await m.process({activeCtx:S.clone(),localCtx:r[e]["@context"],overrideProtected:!0,options:n,cycles:h})}catch(E){throw new o("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:r[e]["@context"],term:e})}}i.setProcessed(e,{context:S,events:b})}return S},m.createTermDefinition=({activeCtx:e,localCtx:t,term:n,defined:r,options:l,overrideProtected:d=!1})=>{if(r.has(n)){if(r.get(n))return;throw new o("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:n})}let u;if(r.set(n,!1),t.hasOwnProperty(n)&&(u=t[n]),"@type"===n&&a(u)&&"@set"===(u["@container"]||"@set")&&m.processingMode(e,1.1)){const e=["@container","@id","@protected"],r=Object.keys(u);if(0===r.length||r.some((t=>!e.includes(t))))throw new o("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:n})}else{if(m.isKeyword(n))throw new o("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:n});if(n.match(h))return void(l.eventHandler&&f({event:{type:["JsonLdEvent"],code:"reserved term",level:"warning",message:'Terms beginning with "@" are reserved for future use and dropped.',details:{term:n}},options:l}));if(""===n)throw new o("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t})}const p=e.mappings.get(n);e.mappings.has(n)&&e.mappings.delete(n);let g=!1;if((s(u)||null===u)&&(g=!0,u={"@id":u}),!a(u))throw new o("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});const y={};e.mappings.set(n,y),y.reverse=!1;const b=["@container","@id","@language","@reverse","@type"];m.processingMode(e,1.1)&&b.push("@context","@direction","@index","@nest","@prefix","@protected");for(const i in u)if(!b.includes(i))throw new o("Invalid JSON-LD syntax; a term definition must not contain "+i,"jsonld.SyntaxError",{code:"invalid term definition",context:t});const v=n.indexOf(":");if(y._termHasColon=v>0,"@reverse"in u){if("@id"in u)throw new o("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});if("@nest"in u)throw new o("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});const i=u["@reverse"];if(!s(i))throw new o("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(i.match(h))return l.eventHandler&&f({event:{type:["JsonLdEvent"],code:"reserved @reverse value",level:"warning",message:'@reverse values beginning with "@" are reserved for future use and dropped.',details:{reverse:i}},options:l}),void(p?e.mappings.set(n,p):e.mappings.delete(n));const a=w(e,i,{vocab:!0,base:!1},t,r,l);if(!c(a))throw new o("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});y["@id"]=a,y.reverse=!0}else if("@id"in u){let i=u["@id"];if(i&&!s(i))throw new o("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(null===i)y["@id"]=null;else{if(!m.isKeyword(i)&&i.match(h))return l.eventHandler&&f({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:'@id values beginning with "@" are reserved for future use and dropped.',details:{id:i}},options:l}),void(p?e.mappings.set(n,p):e.mappings.delete(n));if(i!==n){if(i=w(e,i,{vocab:!0,base:!1},t,r,l),!c(i)&&!m.isKeyword(i))throw new o("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(n.match(/(?::[^:])|\//)){const a=new Map(r).set(n,!0),s=w(e,n,{vocab:!0,base:!1},t,a,l);if(s!==i)throw new o("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t})}y["@id"]=i,y._prefix=g&&!y._termHasColon&&null!==i.match(/[:\/\?#\[\]@]$/)}}}if(!("@id"in y))if(y._termHasColon){const o=n.substr(0,v);if(t.hasOwnProperty(o)&&m.createTermDefinition({activeCtx:e,localCtx:t,term:o,defined:r,options:l}),e.mappings.has(o)){const t=n.substr(v+1);y["@id"]=e.mappings.get(o)["@id"]+t}else y["@id"]=n}else if("@type"===n)y["@id"]=n;else{if(!("@vocab"in e))throw new o("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:n});y["@id"]=e["@vocab"]+n}if((!0===u["@protected"]||!0===r.get("@protected")&&!1!==u["@protected"])&&(e.protected[n]=!0,y.protected=!0),r.set(n,!0),"@type"in u){let n=u["@type"];if(!s(n))throw new o("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if("@json"===n||"@none"===n){if(m.processingMode(e,1))throw new o(`Invalid JSON-LD syntax; an @context @type value must not be "${n}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else if("@id"!==n&&"@vocab"!==n){if(n=w(e,n,{vocab:!0,base:!1},t,r,l),!c(n))throw new o("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(0===n.indexOf("_:"))throw new o("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}y["@type"]=n}if("@container"in u){const n=s(u["@container"])?[u["@container"]]:u["@container"]||[],r=["@list","@set","@index","@language"];let a=!0;const l=n.includes("@set");if(m.processingMode(e,1.1)){if(r.push("@graph","@id","@type"),n.includes("@list")){if(1!==n.length)throw new o("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else if(n.includes("@graph")){if(n.some((e=>"@graph"!==e&&"@id"!==e&&"@index"!==e&&"@set"!==e)))throw new o("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else a&=n.length<=(l?2:1);if(n.includes("@type")&&(y["@type"]=y["@type"]||"@id",!["@id","@vocab"].includes(y["@type"])))throw new o("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else a&=!i(u["@container"]),a&=n.length<=1;if(a&=n.every((e=>r.includes(e))),a&=!(l&&n.includes("@list")),!a)throw new o("Invalid JSON-LD syntax; @context @container value must be one of the following: "+r.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(y.reverse&&!n.every((e=>["@index","@set"].includes(e))))throw new o("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});y["@container"]=n}if("@index"in u){if(!("@container"in u)||!y["@container"].includes("@index"))throw new o(`Invalid JSON-LD syntax; @index without @index in @container: "${u["@index"]}" on term "${n}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});if(!s(u["@index"])||0===u["@index"].indexOf("@"))throw new o(`Invalid JSON-LD syntax; @index must expand to an IRI: "${u["@index"]}" on term "${n}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});y["@index"]=u["@index"]}if("@context"in u&&(y["@context"]=u["@context"]),"@language"in u&&!("@type"in u)){let e=u["@language"];if(null!==e&&!s(e))throw new o("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});null!==e&&(e=e.toLowerCase()),y["@language"]=e}if("@prefix"in u){if(n.match(/:|\//))throw new o("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(m.isKeyword(y["@id"]))throw new o("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:t});if("boolean"!==typeof u["@prefix"])throw new o("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:t});y._prefix=!0===u["@prefix"]}if("@direction"in u){const e=u["@direction"];if(null!==e&&"ltr"!==e&&"rtl"!==e)throw new o('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:t});y["@direction"]=e}if("@nest"in u){const e=u["@nest"];if(!s(e)||"@nest"!==e&&0===e.indexOf("@"))throw new o("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:t});y["@nest"]=e}
// disallow aliasing @context and @preserve
const _=y["@id"];if("@context"===_||"@preserve"===_)throw new o("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t});if(p&&p.protected&&!d&&(e.protected[n]=!0,y.protected=!0,!x(p,y)))throw new o("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:t,term:n})},m.expandIri=(e,t,n,r)=>w(e,t,n,void 0,void 0,r),m.getInitialContext=e=>{const t=JSON.stringify({processingMode:e.processingMode}),n=b.get(t);if(n)return n;const o={processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:i,clone:l,revertToPreviousContext:c,protected:{}};return b.size===v&&b.clear(),b.set(t,o),o;function i(){const e=this;if(e.inverse)return e.inverse;const t=e.inverse={},n=e.fastCurieMap={},r={},o=(e["@language"]||"@none").toLowerCase(),i=e["@direction"],l=e.mappings,c=[...l.keys()].sort(y);for(const a of c){const e=l.get(a);if(null===e)continue;let c=e["@container"]||"@none";if(c=[].concat(c).sort().join(""),null===e["@id"])continue;const d=g(e["@id"]);for(const l of d){let d=t[l];const u=m.isKeyword(l);if(d)u||e._termHasColon||r[l].push(a);else if(t[l]=d={},!u&&!e._termHasColon){r[l]=[a];const e={iri:l,terms:r[l]};l[0]in n?n[l[0]].push(e):n[l[0]]=[e]}if(d[c]||(d[c]={"@language":{},"@type":{},"@any":{}}),d=d[c],s(a,d["@any"],"@none"),e.reverse)s(a,d["@type"],"@reverse");else if("@none"===e["@type"])s(a,d["@any"],"@none"),s(a,d["@language"],"@none"),s(a,d["@type"],"@none");else if("@type"in e)s(a,d["@type"],e["@type"]);else if("@language"in e&&"@direction"in e){const t=e["@language"],n=e["@direction"];s(a,d["@language"],t&&n?`${t}_${n}`.toLowerCase():t?t.toLowerCase():n?`_${n}`:"@null")}else"@language"in e?s(a,d["@language"],(e["@language"]||"@null").toLowerCase()):"@direction"in e?e["@direction"]?s(a,d["@language"],`_${e["@direction"]}`):s(a,d["@language"],"@none"):i?(s(a,d["@language"],`_${i}`),s(a,d["@language"],"@none"),s(a,d["@type"],"@none")):(s(a,d["@language"],o),s(a,d["@language"],"@none"),s(a,d["@type"],"@none"))}}for(const s in n)a(n,s,1);return t}function a(e,t,n){const r=e[t],o=e[t]={};let i,s;for(const a of r)i=a.iri,s=n>=i.length?"":i[n],s in o?o[s].push(a):o[s]=[a];for(const l in o)""!==l&&a(o,l,n+1)}function s(e,t,n){t.hasOwnProperty(n)||(t[n]=e)}function l(){const e={};return e.mappings=r.clone(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,e.protected=r.clone(this.protected),this.previousContext&&(e.previousContext=this.previousContext.clone()),e.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(e["@base"]=this["@base"]),"@language"in this&&(e["@language"]=this["@language"]),"@vocab"in this&&(e["@vocab"]=this["@vocab"]),e}function c(){return this.previousContext?this.previousContext.clone():this}},m.getContextValue=(e,t,n)=>{if(null===t){if("@context"===n)return;return null}if(e.mappings.has(t)){const r=e.mappings.get(t);if(l(n))return r;if(r.hasOwnProperty(n))return r[n]}return"@language"===n&&n in e||"@direction"===n&&n in e?e[n]:"@context"!==n?null:void 0},m.processingMode=(e,t)=>t.toString()>="1.1"?!e.processingMode||e.processingMode>="json-ld-"+t.toString():"json-ld-1.0"===e.processingMode,m.isKeyword=e=>{if(!s(e)||"@"!==e[0])return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1}},8831:function(e,t,n){"use strict";const{parseLinkHeader:r,buildHeaders:o}=n(51055),{LINK_HEADER_CONTEXT:i}=n(93770),a=n(54093),s=n(40533),{prependBase:l}=n(82278),c=/(^|(\r\n))link:/i;function d(e,t,n){e=e||XMLHttpRequest;const r=new e;return new Promise(((e,o)=>{r.onload=()=>e(r),r.onerror=e=>o(e),r.open("GET",t,!0);for(const t in n)r.setRequestHeader(t,n[t]);r.send()}))}e.exports=({secure:e,headers:t={},xhr:n}={headers:{}})=>{t=o(t);const u=new s;return u.wrapLoader(f);async function f(o){if(0!==o.indexOf("http:")&&0!==o.indexOf("https:"))throw new a('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:o});if(e&&0!==o.indexOf("https"))throw new a('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:o});let s;try{s=await d(n,o,t)}catch(y){throw new a("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:o,cause:y})}if(s.status>=400)throw new a("URL could not be dereferenced: "+s.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:o,httpStatusCode:s.status});let u={contextUrl:null,documentUrl:o,document:s.response},p=null;const h=s.getResponseHeader("Content-Type");let g;if(c.test(s.getAllResponseHeaders())&&(g=s.getResponseHeader("Link")),g&&"application/ld+json"!==h){const e=r(g),t=e[i];if(Array.isArray(t))throw new a("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:o});t&&(u.contextUrl=t.target),p=e.alternate,p&&"application/ld+json"==p.type&&!(h||"").match(/^application\/(\w*\+)?json$/)&&(u=await f(l(o,p.target)))}return u}}},91696:function(e,t,n){"use strict";const r=n(54093),{isArray:o}=n(30832),{asArray:i}=n(51055),a={};function s({event:e,handlers:t}){let n=!0;for(let i=0;n&&i<t.length;++i){n=!1;const a=t[i];if(o(a))n=s({event:e,handlers:a});else if("function"===typeof a)a({event:e,next:()=>{n=!0}});else{if("object"!==typeof a)throw new r("Invalid event handler.","jsonld.InvalidEventHandler",{event:e});e.code in a?a[e.code]({event:e,next:()=>{n=!0}}):n=!0}}return n}e.exports=a,a.defaultEventHandler=null,a.setupEventHandler=({options:e={}})=>{const t=[].concat(e.safe?a.safeEventHandler:[],e.eventHandler?i(e.eventHandler):[],a.defaultEventHandler?a.defaultEventHandler:[]);return 0===t.length?null:t},a.handleEvent=({event:e,options:t})=>{s({event:e,handlers:t.eventHandler})};const l=new Set(["empty object","free-floating scalar","invalid @language value","invalid property","null @id value","null @value value","object with only @id","object with only @language","object with only @list","object with only @value","relative @id reference","relative @type reference","relative @vocab reference","reserved @id value","reserved @reverse value","reserved term","blank node predicate","relative graph reference","relative object reference","relative predicate reference","relative subject reference","rdfDirection not set"]);a.safeEventHandler=function({event:e,next:t}){if("warning"===e.level&&l.has(e.code))throw new r("Safe mode validation error.","jsonld.ValidationError",{event:e});t()},a.logEventHandler=function({event:e,next:t}){console.log(`EVENT: ${e.message}`,{event:e}),t()},a.logWarningEventHandler=function({event:e,next:t}){"warning"===e.level&&console.warn(`WARNING: ${e.message}`,{event:e}),t()},a.unhandledEventHandler=function({event:e}){throw new r("No handler for event.","jsonld.UnhandledEvent",{event:e})},a.setDefaultEventHandler=function({eventHandler:e}={}){a.defaultEventHandler=e?i(e):null}},62759:function(e,t,n){"use strict";const r=n(54093),{isArray:o,isObject:i,isEmptyObject:a,isString:s,isUndefined:l}=n(30832),{isList:c,isValue:d,isGraph:u,isSubject:f}=n(18463),{expandIri:p,getContextValue:h,isKeyword:g,process:y,processingMode:b}=n(54131),{isAbsolute:v}=n(82278),{REGEX_BCP47:m,REGEX_KEYWORD:w,addValue:x,asArray:_,getValues:S,validateTypeValue:E}=n(51055),{handleEvent:I}=n(91696),j={};function R({value:e,count:t,options:n}){if(0===t||"@value"in e||"@list"in e||1===t&&"@id"in e){if(n.eventHandler){let r,o;0===t?(r="empty object",o="Dropping empty object."):"@value"in e?(r="object with only @value",o="Dropping object with only @value."):"@list"in e?(r="object with only @list",o="Dropping object with only @list."):1===t&&"@id"in e&&(r="object with only @id",o="Dropping object with only @id."),I({event:{type:["JsonLdEvent"],code:r,level:"warning",message:o,details:{value:e}},options:n})}return null}return e}async function A({activeCtx:e,activeProperty:t,expandedActiveProperty:n,element:u,expandedParent:w,options:S={},insideList:N,typeKey:O,typeScopedContext:T}){const L=Object.keys(u).sort(),C=[];let M;const P=u[O]&&"@json"===p(e,o(u[O])?u[O][0]:u[O],{vocab:!0},{...S,typeExpansion:!0});for(const A of L){let N,O=u[A];if("@context"===A)continue;const L=p(e,A,{vocab:!0},S);if(null===L||!v(L)&&!g(L)){S.eventHandler&&I({event:{type:["JsonLdEvent"],code:"invalid property",level:"warning",message:"Dropping property that did not expand into an absolute IRI or keyword.",details:{property:A,expandedProperty:L}},options:S});continue}if(g(L)){if("@reverse"===n)throw new r("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:O});if(L in w&&"@included"!==L&&"@type"!==L)throw new r("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:L})}if("@id"===L){if(!s(O)){if(!S.isFrame)throw new r('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:O});if(i(O)){if(!a(O))throw new r('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:O})}else{if(!o(O))throw new r('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:O});if(!O.every((e=>s(e))))throw new r('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:O})}}x(w,"@id",_(O).map((t=>{if(s(t)){const n=p(e,t,{base:!0},S);return S.eventHandler&&(null===n?I(null===t?{event:{type:["JsonLdEvent"],code:"null @id value",level:"warning",message:"Null @id found.",details:{id:t}},options:S}:{event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:t}},options:S}):v(n)||I({event:{type:["JsonLdEvent"],code:"relative @id reference",level:"warning",message:"Relative @id reference found.",details:{id:t,expandedId:n}},options:S})),n}return t})),{propertyIsArray:S.isFrame});continue}if("@type"===L){i(O)&&(O=Object.fromEntries(Object.entries(O).map((([e,t])=>[p(T,e,{vocab:!0}),_(t).map((e=>p(T,e,{base:!0,vocab:!0},{...S,typeExpansion:!0})))])))),E(O,S.isFrame),x(w,"@type",_(O).map((e=>{if(s(e)){const t=p(T,e,{base:!0,vocab:!0},{...S,typeExpansion:!0});return"@json"===t||v(t)||S.eventHandler&&I({event:{type:["JsonLdEvent"],code:"relative @type reference",level:"warning",message:"Relative @type reference found.",details:{type:e}},options:S}),t}return e})),{propertyIsArray:!!S.isFrame});continue}if("@included"===L&&b(e,1.1)){const n=_(await j.expand({activeCtx:e,activeProperty:t,element:O,options:S}));if(!n.every((e=>f(e))))throw new r("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:O});x(w,"@included",n,{propertyIsArray:!0});continue}if("@graph"===L&&!i(O)&&!o(O))throw new r('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:O});if("@value"===L){M=O,P&&b(e,1.1)?w["@value"]=O:x(w,"@value",O,{propertyIsArray:S.isFrame});continue}if("@language"===L){if(null===O)continue;if(!s(O)&&!S.isFrame)throw new r('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:O});O=_(O).map((e=>s(e)?e.toLowerCase():e));for(const e of O)s(e)&&!e.match(m)&&S.eventHandler&&I({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:e}},options:S});x(w,"@language",O,{propertyIsArray:S.isFrame});continue}if("@direction"===L){if(!s(O)&&!S.isFrame)throw new r('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:O});O=_(O);for(const e of O)if(s(e)&&"ltr"!==e&&"rtl"!==e)throw new r('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:O});x(w,"@direction",O,{propertyIsArray:S.isFrame});continue}if("@index"===L){if(!s(O))throw new r('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:O});x(w,"@index",O);continue}if("@reverse"===L){if(!i(O))throw new r('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:O});if(N=await j.expand({activeCtx:e,activeProperty:"@reverse",element:O,options:S}),"@reverse"in N)for(const e in N["@reverse"])x(w,e,N["@reverse"][e],{propertyIsArray:!0});let t=w["@reverse"]||null;for(const e in N){if("@reverse"===e)continue;null===t&&(t=w["@reverse"]={}),x(t,e,[],{propertyIsArray:!0});const n=N[e];for(let o=0;o<n.length;++o){const i=n[o];if(d(i)||c(i))throw new r('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:N});x(t,e,i,{propertyIsArray:!0})}}continue}if("@nest"===L){C.push(A);continue}let F=e;const W=h(e,A,"@context");l(W)||(F=await y({activeCtx:e,localCtx:W,propagate:!0,overrideProtected:!0,options:S}));const J=h(e,A,"@container")||[];if(J.includes("@language")&&i(O)){const e=h(F,A,"@direction");N=k(F,O,e,S)}else if(J.includes("@index")&&i(O)){const t=J.includes("@graph"),n=h(F,A,"@index")||"@index",r="@index"!==n&&p(e,n,{vocab:!0},S);N=await D({activeCtx:F,options:S,activeProperty:A,value:O,asGraph:t,indexKey:n,propertyIndex:r})}else if(J.includes("@id")&&i(O)){const e=J.includes("@graph");N=await D({activeCtx:F,options:S,activeProperty:A,value:O,asGraph:e,indexKey:"@id"})}else if(J.includes("@type")&&i(O))N=await D({activeCtx:F.revertToPreviousContext(),options:S,activeProperty:A,value:O,asGraph:!1,indexKey:"@type"});else{const r="@list"===L;if(r||"@set"===L){let e=t;r&&"@graph"===n&&(e=null),N=await j.expand({activeCtx:F,activeProperty:e,element:O,options:S,insideList:r})}else N="@json"===h(e,A,"@type")?{"@type":"@json","@value":O}:await j.expand({activeCtx:F,activeProperty:A,element:O,options:S,insideList:!1})}if(null!==N||"@value"===L){if("@list"!==L&&!c(N)&&J.includes("@list")&&(N={"@list":_(N)}),J.includes("@graph")&&!J.some((e=>"@id"===e||"@index"===e))){if(N=_(N),S.isFrame||(N=N.filter((e=>{const t=Object.keys(e).length;return null!==R({value:e,count:t,options:S})}))),0===N.length)continue;N=N.map((e=>({"@graph":_(e)})))}if(F.mappings.has(A)&&F.mappings.get(A).reverse){const e=w["@reverse"]=w["@reverse"]||{};N=_(N);for(let t=0;t<N.length;++t){const n=N[t];if(d(n)||c(n))throw new r('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:N});x(e,L,n,{propertyIsArray:!0})}}else x(w,L,N,{propertyIsArray:!0})}}if("@value"in w)if("@json"===w["@type"]&&b(e,1.1));else if((i(M)||o(M))&&!S.isFrame)throw new r('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:M});for(const a of C){const s=o(u[a])?u[a]:[u[a]];for(const o of s){if(!i(o)||Object.keys(o).some((t=>"@value"===p(e,t,{vocab:!0},S))))throw new r("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:o});await A({activeCtx:e,activeProperty:t,expandedActiveProperty:n,element:o,expandedParent:w,options:S,insideList:N,typeScopedContext:T,typeKey:O})}}}function N({activeCtx:e,activeProperty:t,value:n,options:r}){if(null===n||void 0===n)return null;const o=p(e,t,{vocab:!0},r);if("@id"===o)return p(e,n,{base:!0},r);if("@type"===o)return p(e,n,{vocab:!0,base:!0},{...r,typeExpansion:!0});const i=h(e,t,"@type");if(("@id"===i||"@graph"===o)&&s(n)){const o=p(e,n,{base:!0},r);return null===o&&n.match(w)&&r.eventHandler&&I({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:t}},options:r}),{"@id":o}}if("@vocab"===i&&s(n))return{"@id":p(e,n,{vocab:!0,base:!0},r)};if(g(o))return n;const a={};if(i&&!["@id","@vocab","@none"].includes(i))a["@type"]=i;else if(s(n)){const n=h(e,t,"@language");null!==n&&(a["@language"]=n);const r=h(e,t,"@direction");null!==r&&(a["@direction"]=r)}return["boolean","number","string"].includes(typeof n)||(n=n.toString()),a["@value"]=n,a}function k(e,t,n,i){const a=[],l=Object.keys(t).sort();for(const c of l){const l=p(e,c,{vocab:!0},i);let d=t[c];o(d)||(d=[d]);for(const e of d){if(null===e)continue;if(!s(e))throw new r("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});const o={"@value":e};"@none"!==l&&(c.match(m)||i.eventHandler&&I({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:c}},options:i}),o["@language"]=c.toLowerCase()),n&&(o["@direction"]=n),a.push(o)}}return a}async function D({activeCtx:e,options:t,activeProperty:n,value:i,asGraph:a,indexKey:s,propertyIndex:c}){const f=[],g=Object.keys(i).sort(),b="@type"===s;for(let v of g){if(b){const n=h(e,v,"@context");l(n)||(e=await y({activeCtx:e,localCtx:n,propagate:!1,options:t}))}let g,m=i[v];o(m)||(m=[m]),m=await j.expand({activeCtx:e,activeProperty:n,element:m,options:t,insideList:!1,insideIndex:!0}),g=c?"@none"===v?"@none":N({activeCtx:e,activeProperty:s,value:v,options:t}):p(e,v,{vocab:!0},t),"@id"===s?v=p(e,v,{base:!0},t):b&&(v=g);for(let e of m){if(a&&!u(e)&&(e={"@graph":[e]}),"@type"===s)"@none"===g||(e["@type"]?e["@type"]=[v].concat(e["@type"]):e["@type"]=[v]);else{if(d(e)&&!["@language","@type","@index"].includes(s))throw new r(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${s}".`,"jsonld.SyntaxError",{code:"invalid value object",value:e});c?"@none"!==g&&x(e,c,g,{propertyIsArray:!0,prependValue:!0}):"@none"===g||s in e||(e[s]=v)}f.push(e)}}return f}e.exports=j,j.expand=async({activeCtx:e,activeProperty:t=null,element:n,options:c={},insideList:d=!1,insideIndex:u=!1,typeScopedContext:f=null})=>{if(null===n||void 0===n)return null;if("@default"===t&&(c=Object.assign({},c,{isFrame:!1})),!o(n)&&!i(n))return d||null!==t&&"@graph"!==p(e,t,{vocab:!0},c)?N({activeCtx:e,activeProperty:t,value:n,options:c}):(c.eventHandler&&I({event:{type:["JsonLdEvent"],code:"free-floating scalar",level:"warning",message:"Dropping free-floating scalar not in a list.",details:{value:n}},options:c}),null);if(o(n)){let r=[];const i=h(e,t,"@container")||[];d=d||i.includes("@list");for(let a=0;a<n.length;++a){let i=await j.expand({activeCtx:e,activeProperty:t,element:n[a],options:c,insideIndex:u,typeScopedContext:f});d&&o(i)&&(i={"@list":i}),null!==i&&(o(i)?r=r.concat(i):r.push(i))}return r}const g=p(e,t,{vocab:!0},c),m=h(e,t,"@context");f=f||(e.previousContext?e:null);let w=Object.keys(n).sort(),x=!u;if(x&&f&&w.length<=2&&!w.includes("@context"))for(const r of w){const t=p(f,r,{vocab:!0},c);if("@value"===t){x=!1,e=f;break}if("@id"===t&&1===w.length){x=!1;break}}x&&(e=e.revertToPreviousContext()),l(m)||(e=await y({activeCtx:e,localCtx:m,propagate:!0,overrideProtected:!0,options:c})),"@context"in n&&(e=await y({activeCtx:e,localCtx:n["@context"],options:c})),f=e;let E=null;for(const r of w){const t=p(e,r,{vocab:!0},c);if("@type"===t){E=E||r;const t=n[r],o=Array.isArray(t)?t.length>1?t.slice().sort():t:[t];for(const n of o){const t=h(f,n,"@context");l(t)||(e=await y({activeCtx:e,localCtx:t,options:c,propagate:!1}))}}}let k={};await A({activeCtx:e,activeProperty:t,expandedActiveProperty:g,element:n,expandedParent:k,options:c,insideList:d,typeKey:E,typeScopedContext:f}),w=Object.keys(k);let D=w.length;if("@value"in k){if("@type"in k&&("@language"in k||"@direction"in k))throw new r('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:k});let t=D-1;if("@type"in k&&(t-=1),"@index"in k&&(t-=1),"@language"in k&&(t-=1),"@direction"in k&&(t-=1),0!==t)throw new r('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:k});const n=null===k["@value"]?[]:_(k["@value"]),o=S(k,"@type");if(b(e,1.1)&&o.includes("@json")&&1===o.length);else if(0===n.length)c.eventHandler&&I({event:{type:["JsonLdEvent"],code:"null @value value",level:"warning",message:"Dropping null @value value.",details:{value:k}},options:c}),k=null;else{if(!n.every((e=>s(e)||a(e)))&&"@language"in k)throw new r("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:k});if(!o.every((e=>v(e)&&!(s(e)&&0===e.indexOf("_:"))||a(e))))throw new r('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:k})}}else if("@type"in k&&!o(k["@type"]))k["@type"]=[k["@type"]];else if("@set"in k||"@list"in k){if(D>1&&(2!==D||!("@index"in k)))throw new r('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:k});"@set"in k&&(k=k["@set"],w=Object.keys(k),D=w.length)}else 1===D&&"@language"in k&&(c.eventHandler&&I({event:{type:["JsonLdEvent"],code:"object with only @language",level:"warning",message:"Dropping object with only @language.",details:{value:k}},options:c}),k=null);return!i(k)||c.keepFreeFloatingNodes||d||null!==t&&"@graph"!==g&&!(h(e,t,"@container")||[]).includes("@graph")||(k=R({value:k,count:D,options:c})),k}},41565:function(e,t,n){"use strict";const{isSubjectReference:r}=n(18463),{createMergedNodeMap:o}=n(32664),i={};e.exports=i,i.flatten=e=>{const t=o(e),n=[],i=Object.keys(t).sort();for(let o=0;o<i.length;++o){const e=t[i[o]];r(e)||n.push(e)}return n}},63859:function(e,t,n){"use strict";const{isKeyword:r}=n(54131),o=n(18463),i=n(30832),a=n(51055),s=n(82278),l=n(54093),{createNodeMap:c,mergeNodeMapGraphs:d}=n(32664),u={};function f(e){const t={};for(const n in e)void 0!==e[n]&&(t["@"+n]=[e[n]]);return[t]}function p(e,t,n){for(let r=n.length-1;r>=0;--r){const o=n[r];if(o.graph===t&&o.subject["@id"]===e["@id"])return!0}return!1}function h(e,t,n){const r="@"+n;let o=r in e?e[r][0]:t[n];if("embed"===n)if(!0===o)o="@once";else if(!1===o)o="@never";else if("@always"!==o&&"@never"!==o&&"@link"!==o&&"@first"!==o&&"@last"!==o&&"@once"!==o)throw new l("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:e});return o}function g(e){if(!i.isArray(e)||1!==e.length||!i.isObject(e[0]))throw new l("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e});if("@id"in e[0])for(const t of a.asArray(e[0]["@id"]))if(!i.isObject(t)&&!s.isAbsolute(t)||i.isString(t)&&0===t.indexOf("_:"))throw new l("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e});if("@type"in e[0])for(const t of a.asArray(e[0]["@type"]))if(!i.isObject(t)&&!s.isAbsolute(t)&&"@json"!==t||i.isString(t)&&0===t.indexOf("_:"))throw new l("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}function y(e,t,n,r){const o={};for(const i of t){const t=e.graphMap[e.graph][i];b(e,t,n,r)&&(o[i]=t)}return o}function b(e,t,n,s){let l=!0,c=!1;for(const d in n){let u=!1;const f=a.getValues(t,d),p=0===a.getValues(n,d).length;if("@id"===d){if(i.isEmptyObject(n["@id"][0]||{})?u=!0:n["@id"].length>=0&&(u=n["@id"].includes(f[0])),!s.requireAll)return u}else if("@type"===d){if(l=!1,p){if(f.length>0)return!1;u=!0}else if(1===n["@type"].length&&i.isEmptyObject(n["@type"][0]))u=f.length>0;else for(const e of n["@type"])u=!(!i.isObject(e)||!("@default"in e))||(u||f.some((t=>t===e)));if(!s.requireAll)return u}else{if(r(d))continue;{const t=a.getValues(n,d)[0];let r=!1;if(t&&(g([t]),r="@default"in t),l=!1,0===f.length&&r)continue;if(f.length>0&&p)return!1;if(void 0===t){if(f.length>0)return!1;u=!0}else if(o.isList(t)){const n=t["@list"][0];if(o.isList(f[0])){const t=f[0]["@list"];o.isValue(n)?u=t.some((e=>_(n,e))):(o.isSubject(n)||o.isSubjectReference(n))&&(u=t.some((t=>x(e,n,t,s))))}}else u=o.isValue(t)?f.some((e=>_(t,e))):o.isSubjectReference(t)?f.some((n=>x(e,t,n,s))):!!i.isObject(t)&&f.length>0}}if(!u&&s.requireAll)return!1;c=c||u}return l||c}function v(e,t){const n=e.uniqueEmbeds[e.graph],r=n[t],o=r.parent,s=r.property,l={"@id":t};if(i.isArray(o)){for(let i=0;i<o.length;++i)if(a.compareValues(o[i],l)){o[i]=l;break}}else{const e=i.isArray(o[s]);a.removeValue(o,s,l,{propertyIsArray:e}),a.addValue(o,s,l,{propertyIsArray:e})}const c=e=>{const t=Object.keys(n);for(const r of t)r in n&&i.isObject(n[r].parent)&&n[r].parent["@id"]===e&&(delete n[r],c(r))};c(t)}
/**
 * Removes the @preserve keywords from expanded result of framing.
 *
 * @param input the framed, framed output.
 * @param options the framing options used.
 *
 * @return the resulting output.
 */function m(e,t){if(i.isArray(e))return e.map((e=>m(e,t)));if(i.isObject(e)){
// remove @preserve
if("@preserve"in e)return e["@preserve"][0];if(o.isValue(e))return e;if(o.isList(e))return e["@list"]=m(e["@list"],t),e;if("@id"in e){const n=e["@id"];if(t.link.hasOwnProperty(n)){const r=t.link[n].indexOf(e);if(-1!==r)return t.link[n][r];t.link[n].push(e)}else t.link[n]=[e]}for(const n in e)"@id"===n&&t.bnodesToClear.includes(e[n])?delete e["@id"]:e[n]=m(e[n],t)}return e}function w(e,t,n){i.isObject(e)?a.addValue(e,t,n,{propertyIsArray:!0}):e.push(n)}function x(e,t,n,r){if(!("@id"in n))return!1;const o=e.subjects[n["@id"]];return o&&b(e,o,t,r)}function _(e,t){const n=t["@value"],r=t["@type"],o=t["@language"],a=e["@value"]?i.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],s=e["@type"]?i.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],l=e["@language"]?i.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return 0===a.length&&0===s.length&&0===l.length||!(!a.includes(n)&&!i.isEmptyObject(a[0]))&&(!!(!r&&0===s.length||s.includes(r)||r&&i.isEmptyObject(s[0]))&&!!(!o&&0===l.length||l.includes(o)||o&&i.isEmptyObject(l[0])))}e.exports=u,u.frameMergedOrDefault=(e,t,n)=>{const r={options:n,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},o=new a.IdentifierIssuer("_:b");c(e,r.graphMap,"@default",o),n.merged&&(r.graphMap["@merged"]=d(r.graphMap),r.graph="@merged"),r.subjects=r.graphMap[r.graph];const i=[];return u.frame(r,Object.keys(r.subjects).sort(),t,i),n.pruneBlankNodeIdentifiers&&(n.bnodesToClear=Object.keys(r.bnodeMap).filter((e=>1===r.bnodeMap[e].length))),
// remove @preserve from results
n.link={},m(i,n)},u.frame=(e,t,n,s,c=null)=>{g(n),n=n[0];const d=e.options,b={embed:h(n,d,"embed"),explicit:h(n,d,"explicit"),requireAll:h(n,d,"requireAll")};e.link.hasOwnProperty(e.graph)||(e.link[e.graph]={});const m=e.link[e.graph],x=y(e,t,n,b),S=Object.keys(x).sort();for(const g of S){const y=x[g];if(null===c?e.uniqueEmbeds={[e.graph]:{}}:e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{},"@link"===b.embed&&g in m){w(s,c,m[g]);continue}const S={"@id":g};if(0===g.indexOf("_:")&&a.addValue(e.bnodeMap,g,S,{propertyIsArray:!0}),m[g]=S,("@first"===b.embed||"@last"===b.embed)&&e.is11)throw new l("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:n});if(e.embedded||!e.uniqueEmbeds[e.graph].hasOwnProperty(g))if(!e.embedded||"@never"!==b.embed&&!p(y,e.graph,e.subjectStack))if(!e.embedded||"@first"!=b.embed&&"@once"!=b.embed||!e.uniqueEmbeds[e.graph].hasOwnProperty(g)){if("@last"===b.embed&&g in e.uniqueEmbeds[e.graph]&&v(e,g),e.uniqueEmbeds[e.graph][g]={parent:s,property:c},e.subjectStack.push({subject:y,graph:e.graph}),g in e.graphMap){let t=!1,r=null;"@graph"in n?(r=n["@graph"][0],t=!("@merged"===g||"@default"===g),i.isObject(r)||(r={})):(t="@merged"!==e.graph,r={}),t&&u.frame({...e,graph:g,embedded:!1},Object.keys(e.graphMap[g]).sort(),[r],S,"@graph")}"@included"in n&&u.frame({...e,embedded:!1},t,n["@included"],S,"@included");for(const t of Object.keys(y).sort())if(r(t)){if(S[t]=a.clone(y[t]),"@type"===t)for(const n of y["@type"])0===n.indexOf("_:")&&a.addValue(e.bnodeMap,n,S,{propertyIsArray:!0})}else if(!b.explicit||t in n)for(const r of y[t]){const i=t in n?n[t]:f(b);if(o.isList(r)){const i=n[t]&&n[t][0]&&n[t][0]["@list"]?n[t][0]["@list"]:f(b),s={"@list":[]};w(S,t,s);const l=r["@list"];for(const t of l)o.isSubjectReference(t)?u.frame({...e,embedded:!0},[t["@id"]],i,s,"@list"):w(s,"@list",a.clone(t))}else o.isSubjectReference(r)?u.frame({...e,embedded:!0},[r["@id"]],i,S,t):_(i[0],r)&&w(S,t,a.clone(r))}for(const e of Object.keys(n).sort()){if("@type"===e){if(!i.isObject(n[e][0])||!("@default"in n[e][0]))continue}else if(r(e))continue;const t=n[e][0]||{},o=h(t,d,"omitDefault");if(!o&&!(e in S)){let n="@null";"@default"in t&&(n=a.clone(t["@default"])),i.isArray(n)||(n=[n]),S[e]=[{"@preserve":n}]}}for(const t of Object.keys(n["@reverse"]||{}).sort()){const r=n["@reverse"][t];for(const n of Object.keys(e.subjects)){const o=a.getValues(e.subjects[n],t);o.some((e=>e["@id"]===g))&&(S["@reverse"]=S["@reverse"]||{},a.addValue(S["@reverse"],t,[],{propertyIsArray:!0}),u.frame({...e,embedded:!0},[n],r,S["@reverse"][t],c))}}w(s,c,S),e.subjectStack.pop()}else w(s,c,S);else w(s,c,S)}},u.cleanupNull=(e,t)=>{if(i.isArray(e)){const n=e.map((e=>u.cleanupNull(e,t)));return n.filter((e=>e))}if("@null"===e)return null;if(i.isObject(e)){if("@id"in e){const n=e["@id"];if(t.link.hasOwnProperty(n)){const r=t.link[n].indexOf(e);if(-1!==r)return t.link[n][r];t.link[n].push(e)}else t.link[n]=[e]}for(const n in e)e[n]=u.cleanupNull(e[n],t)}return e}},25076:function(e,t,n){"use strict";const r=n(54093),o=n(18463),i=n(30832),{REGEX_BCP47:a,addValue:s}=n(51055),{handleEvent:l}=n(91696),{RDF_LIST:c,RDF_FIRST:d,RDF_REST:u,RDF_NIL:f,RDF_TYPE:p,RDF_JSON_LITERAL:h,XSD_BOOLEAN:g,XSD_DOUBLE:y,XSD_INTEGER:b,XSD_STRING:v}=n(93770),m={};function w(e,t,n,o){if(e.termType.endsWith("Node"))return{"@id":e.value};const s={"@value":e.value};if(e.language)e.language.match(a)||o.eventHandler&&l({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:e.language}},options:o}),s["@language"]=e.language;else{let d=e.datatype.value;if(d||(d=v),d===h){d="@json";try{s["@value"]=JSON.parse(s["@value"])}catch(c){throw new r("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:s["@value"],cause:c})}}if(t){if(d===g)"true"===s["@value"]?s["@value"]=!0:"false"===s["@value"]&&(s["@value"]=!1);else if(i.isNumeric(s["@value"]))if(d===b){const e=parseInt(s["@value"],10);e.toFixed(0)===s["@value"]&&(s["@value"]=e)}else d===y&&(s["@value"]=parseFloat(s["@value"]));[g,b,y,v].includes(d)||(s["@type"]=d)}else if("i18n-datatype"===n&&d.startsWith("https://www.w3.org/ns/i18n#")){const[,e,t]=d.split(/[#_]/);e.length>0&&(s["@language"]=e,e.match(a)||o.eventHandler&&l({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:e}},options:o})),s["@direction"]=t}else d!==v&&(s["@type"]=d)}return s}e.exports=m,m.fromRDF=async(e,t)=>{const{useRdfType:n=!1,useNativeTypes:a=!1,rdfDirection:l=null}=t,h={},g={"@default":h},y={};if(l){if("compound-literal"===l)throw new r("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:l});if("i18n-datatype"!==l)throw new r("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:l})}for(const r of e){const e="DefaultGraph"===r.graph.termType?"@default":r.graph.value;e in g||(g[e]={}),"@default"===e||e in h||(h[e]={"@id":e});const o=g[e],i=r.subject.value,c=r.predicate.value,d=r.object;i in o||(o[i]={"@id":i});const u=o[i],b=d.termType.endsWith("Node");if(b&&!(d.value in o)&&(o[d.value]={"@id":d.value}),c===p&&!n&&b){s(u,"@type",d.value,{propertyIsArray:!0});continue}const v=w(d,a,l,t);if(s(u,c,v,{propertyIsArray:!0}),b)if(d.value===f){const e=o[d.value];"usages"in e||(e.usages=[]),e.usages.push({node:u,property:c,value:v})}else d.value in y?y[d.value]=!1:y[d.value]={node:u,property:c,value:v}}for(const r in g){const e=g[r];if(!(f in e))continue;const t=e[f];if(t.usages){for(let n of t.usages){let t=n.node,r=n.property,a=n.value;const s=[],l=[];let f=Object.keys(t).length;while(r===u&&i.isObject(y[t["@id"]])&&i.isArray(t[d])&&1===t[d].length&&i.isArray(t[u])&&1===t[u].length&&(3===f||4===f&&i.isArray(t["@type"])&&1===t["@type"].length&&t["@type"][0]===c))if(s.push(t[d][0]),l.push(t["@id"]),n=y[t["@id"]],t=n.node,r=n.property,a=n.value,f=Object.keys(t).length,!o.isBlankNode(t))break;delete a["@id"],a["@list"]=s.reverse();for(const n of l)delete e[n]}delete t.usages}}const b=[],v=Object.keys(h).sort();for(const r of v){const e=h[r];if(r in g){const t=e["@graph"]=[],n=g[r],i=Object.keys(n).sort();for(const e of i){const r=n[e];o.isSubjectReference(r)||t.push(r)}}o.isSubjectReference(e)||b.push(e)}return b}},18463:function(e,t,n){"use strict";const r=n(30832),o={};e.exports=o,o.isSubject=e=>{if(r.isObject(e)&&!("@value"in e||"@set"in e||"@list"in e)){const t=Object.keys(e).length;return t>1||!("@id"in e)}return!1},o.isSubjectReference=e=>r.isObject(e)&&1===Object.keys(e).length&&"@id"in e,o.isValue=e=>r.isObject(e)&&"@value"in e,o.isList=e=>r.isObject(e)&&"@list"in e,o.isGraph=e=>r.isObject(e)&&"@graph"in e&&1===Object.keys(e).filter((e=>"@id"!==e&&"@index"!==e)).length,o.isSimpleGraph=e=>o.isGraph(e)&&!("@id"in e),o.isBlankNode=e=>{if(r.isObject(e)){if("@id"in e){const t=e["@id"];return!r.isString(t)||0===t.indexOf("_:")}return 0===Object.keys(e).length||!("@value"in e||"@set"in e||"@list"in e)}return!1}},36805:function(e,t,n){
/**
 * A JavaScript implementation of the JSON-LD API.
 *
 * @author Dave Longley
 *
 * @license BSD 3-Clause License
 * Copyright (c) 2011-2022 Digital Bazaar, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright
 * notice, this list of conditions and the following disclaimer in the
 * documentation and/or other materials provided with the distribution.
 *
 * Neither the name of the Digital Bazaar, Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
const r=n(47055),o=n(67222),i=n(51055),a=n(68058),s=i.IdentifierIssuer,l=n(54093),c=n(80421),d=n(69048),{expand:u}=n(62759),{flatten:f}=n(41565),{fromRDF:p}=n(25076),{toRDF:h}=n(19382),{frameMergedOrDefault:g,cleanupNull:y}=n(63859),{isArray:b,isObject:v,isString:m}=n(30832),{isSubjectReference:w}=n(18463),{expandIri:x,getInitialContext:_,process:S,processingMode:E}=n(54131),{compact:I,compactIri:j}=n(83251),{createNodeMap:R,createMergedNodeMap:A,mergeNodeMaps:N}=n(32664),{logEventHandler:k,logWarningEventHandler:D,safeEventHandler:O,setDefaultEventHandler:T,setupEventHandler:L,strictEventHandler:C,unhandledEventHandler:M}=n(91696),P=function(e){const t={},P=100,F=new c({max:P});function W(t,{documentLoader:n=e.documentLoader,...r}){if(t&&"compactionMap"in t)throw new l('"compactionMap" not supported.',"jsonld.OptionsError");if(t&&"expansionMap"in t)throw new l('"expansionMap" not supported.',"jsonld.OptionsError");return Object.assign({},{documentLoader:n},r,t,{eventHandler:L({options:t})})}return e.compact=async function(t,n,r){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(null===n)throw new l("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(null===t)return null;let o;r=W(r,{base:m(t)?t:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new s("_:b"),contextResolver:new a({sharedCache:F})}),r.link&&(r.skipExpansion=!0),r.compactToRelative||delete r.base,o=r.skipExpansion?t:await e.expand(t,r);const c=await e.processContext(_(r),n,r);let d=await I({activeCtx:c,element:o,options:r});r.compactArrays&&!r.graph&&b(d)?1===d.length?d=d[0]:0===d.length&&(d={}):r.graph&&v(d)&&(d=[d]),v(n)&&"@context"in n&&(n=n["@context"]),n=i.clone(n),b(n)||(n=[n]);const u=n;n=[];for(let e=0;e<u.length;++e)(!v(u[e])||Object.keys(u[e]).length>0)&&n.push(u[e]);const f=n.length>0;if(1===n.length&&(n=n[0]),b(d)){const e=j({activeCtx:c,iri:"@graph",relativeTo:{vocab:!0}}),t=d;d={},f&&(d["@context"]=n),d[e]=t}else if(v(d)&&f){const e=d;d={"@context":n};for(const t in e)d[t]=e[t]}return d},e.expand=async function(t,n){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");n=W(n,{keepFreeFloatingNodes:!1,contextResolver:new a({sharedCache:F})});const r={},o=[];if("expandContext"in n){const e=i.clone(n.expandContext);v(e)&&"@context"in e?r.expandContext=e:r.expandContext={"@context":e},o.push(r.expandContext)}let s;if(m(t)){const i=await e.get(t,n);s=i.documentUrl,r.input=i.document,i.contextUrl&&(r.remoteContext={"@context":i.contextUrl},o.push(r.remoteContext))}else r.input=i.clone(t);"base"in n||(n.base=s||"");let l=_(n);for(const e of o)l=await S({activeCtx:l,localCtx:e,options:n});let c=await u({activeCtx:l,element:r.input,options:n});return v(c)&&"@graph"in c&&1===Object.keys(c).length?c=c["@graph"]:null===c&&(c=[]),b(c)||(c=[c]),c},e.flatten=async function(t,n,r){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");n="function"===typeof n?null:n||null,r=W(r,{base:m(t)?t:"",contextResolver:new a({sharedCache:F})});const o=await e.expand(t,r),i=f(o);if(null===n)return i;r.graph=!0,r.skipExpansion=!0;const s=await e.compact(i,n,r);return s},e.frame=async function(t,n,r){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(r=W(r,{base:m(t)?t:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new a({sharedCache:F})}),m(n)){const t=await e.get(n,r);if(n=t.document,t.contextUrl){let e=n["@context"];e?b(e)?e.push(t.contextUrl):e=[e,t.contextUrl]:e=t.contextUrl,n["@context"]=e}}const o=n&&n["@context"]||{},i=await e.processContext(_(r),o,r);r.hasOwnProperty("omitGraph")||(r.omitGraph=E(i,1.1)),r.hasOwnProperty("pruneBlankNodeIdentifiers")||(r.pruneBlankNodeIdentifiers=E(i,1.1));const s=await e.expand(t,r),l={...r};l.isFrame=!0,l.keepFreeFloatingNodes=!0;const c=await e.expand(n,l),d=Object.keys(n).map((e=>x(i,e,{vocab:!0})));l.merged=!d.includes("@graph"),l.is11=E(i,1.1);const u=g(s,c,l);l.graph=!r.omitGraph,l.skipExpansion=!0,l.link={},l.framing=!0;let f=await e.compact(u,o,l);return l.link={},f=y(f,l),f},e.link=async function(t,n,r){const o={};return n&&(o["@context"]=n),o["@embed"]="@link",e.frame(t,o,r)},e.normalize=e.canonize=async function(t,n){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if(n=W(n,{base:m(t)?t:null,algorithm:"URDNA2015",skipExpansion:!1,safe:!0,contextResolver:new a({sharedCache:F})}),"inputFormat"in n){if("application/n-quads"!==n.inputFormat&&"application/nquads"!==n.inputFormat)throw new l("Unknown canonicalization input format.","jsonld.CanonizeError");const e=d.parse(t);return r.canonize(e,n)}const o={...n};delete o.format,o.produceGeneralizedRdf=!1;const i=await e.toRDF(t,o);return r.canonize(i,n)},e.fromRDF=async function(e,n){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");n=W(n,{format:m(e)?"application/n-quads":void 0});const{format:r}=n;let{rdfParser:o}=n;if(r){if(o=o||t[r],!o)throw new l("Unknown input format.","jsonld.UnknownFormat",{format:r})}else o=()=>e;const i=await o(e);return p(i,n)},e.toRDF=async function(t,n){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");let r;n=W(n,{base:m(t)?t:"",skipExpansion:!1,contextResolver:new a({sharedCache:F})}),r=n.skipExpansion?t:await e.expand(t,n);const o=h(r,n);if(n.format){if("application/n-quads"===n.format||"application/nquads"===n.format)return d.serialize(o);throw new l("Unknown output format.","jsonld.UnknownFormat",{format:n.format})}return o},e.createNodeMap=async function(t,n){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");n=W(n,{base:m(t)?t:"",contextResolver:new a({sharedCache:F})});const r=await e.expand(t,n);return A(r,n)},e.merge=async function(t,n,r){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!b(t))throw new TypeError('Could not merge, "docs" must be an array.');n="function"===typeof n?null:n||null,r=W(r,{contextResolver:new a({sharedCache:F})});const o=await Promise.all(t.map((t=>{const n={...r};return e.expand(t,n)})));let l=!0;"mergeNodes"in r&&(l=r.mergeNodes);const c=r.issuer||new s("_:b"),d={"@default":{}};for(let e=0;e<o.length;++e){const t=i.relabelBlankNodes(o[e],{issuer:new s("_:b"+e+"-")}),n=l||0===e?d:{"@default":{}};if(R(t,n,"@default",c),n!==d)for(const e in n){const t=n[e];if(!(e in d)){d[e]=t;continue}const r=d[e];for(const e in t)e in r||(r[e]=t[e])}}const u=N(d),f=[],p=Object.keys(u).sort();for(let e=0;e<p.length;++e){const t=u[p[e]];w(t)||f.push(t)}if(null===n)return f;r.graph=!0,r.skipExpansion=!0;const h=await e.compact(f,n,r);return h},Object.defineProperty(e,"documentLoader",{get:()=>e._documentLoader,set:t=>e._documentLoader=t}),e.documentLoader=async e=>{throw new l("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:e})},e.get=async function(t,n){let r;r="function"===typeof n.documentLoader?n.documentLoader:e.documentLoader;const o=await r(t);try{if(!o.document)throw new l("No remote document found at the given URL.","jsonld.NullRemoteDocument");m(o.document)&&(o.document=JSON.parse(o.document))}catch(i){throw new l("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:i,remoteDoc:o})}return o},e.processContext=async function(e,t,n){return n=W(n,{base:"",contextResolver:new a({sharedCache:F})}),null===t?_(n):(t=i.clone(t),v(t)&&"@context"in t||(t={"@context":t}),S({activeCtx:e,localCtx:t,options:n}))},e.getContextValue=n(54131).getContextValue,e.documentLoaders={},e.useDocumentLoader=function(t){if(!(t in e.documentLoaders))throw new l('Unknown document loader type: "'+t+'"',"jsonld.UnknownDocumentLoader",{type:t});e.documentLoader=e.documentLoaders[t].apply(e,Array.prototype.slice.call(arguments,1))},e.registerRDFParser=function(e,n){t[e]=n},e.unregisterRDFParser=function(e){delete t[e]},e.registerRDFParser("application/n-quads",d.parse),e.registerRDFParser("application/nquads",d.parse),e.url=n(82278),e.logEventHandler=k,e.logWarningEventHandler=D,e.safeEventHandler=O,e.setDefaultEventHandler=T,e.strictEventHandler=C,e.unhandledEventHandler=M,e.util=i,Object.assign(e,i),e.promises=e,e.RequestQueue=n(40533),e.JsonLdProcessor=n(60731)(e),o.setupGlobals(e),o.setupDocumentLoaders(e),e},F=function(){return P((function(){return F()}))};P(F),e.exports=F},32664:function(e,t,n){"use strict";const{isKeyword:r}=n(54131),o=n(18463),i=n(30832),a=n(51055),s=n(54093),l={};e.exports=l,l.createMergedNodeMap=(e,t)=>{t=t||{};const n=t.issuer||new a.IdentifierIssuer("_:b"),r={"@default":{}};return l.createNodeMap(e,r,"@default",n),l.mergeNodeMaps(r)},l.createNodeMap=(e,t,n,c,d,u)=>{if(i.isArray(e)){for(const r of e)l.createNodeMap(r,t,n,c,void 0,u);return}if(!i.isObject(e))return void(u&&u.push(e));if(o.isValue(e)){if("@type"in e){let t=e["@type"];0===t.indexOf("_:")&&(e["@type"]=t=c.getId(t))}return void(u&&u.push(e))}if(u&&o.isList(e)){const r=[];return l.createNodeMap(e["@list"],t,n,c,d,r),void u.push({"@list":r})}if("@type"in e){const t=e["@type"];for(const e of t)0===e.indexOf("_:")&&c.getId(e)}i.isUndefined(d)&&(d=o.isBlankNode(e)?c.getId(e["@id"]):e["@id"]),u&&u.push({"@id":d});const f=t[n],p=f[d]=f[d]||{};p["@id"]=d;const h=Object.keys(e).sort();for(let i of h){if("@id"===i)continue;if("@reverse"===i){const r={"@id":d},i=e["@reverse"];for(const e in i){const s=i[e];for(const i of s){let s=i["@id"];o.isBlankNode(i)&&(s=c.getId(s)),l.createNodeMap(i,t,n,c,s),a.addValue(f[s],e,r,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if("@graph"===i){d in t||(t[d]={}),l.createNodeMap(e[i],t,d,c);continue}if("@included"===i){l.createNodeMap(e[i],t,n,c);continue}if("@type"!==i&&r(i)){if("@index"===i&&i in p&&(e[i]!==p[i]||e[i]["@id"]!==p[i]["@id"]))throw new s("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:p});p[i]=e[i];continue}const u=e[i];if(0===i.indexOf("_:")&&(i=c.getId(i)),0!==u.length)for(let e of u)if("@type"===i&&(e=0===e.indexOf("_:")?c.getId(e):e),o.isSubject(e)||o.isSubjectReference(e)){if("@id"in e&&!e["@id"])continue;const r=o.isBlankNode(e)?c.getId(e["@id"]):e["@id"];a.addValue(p,i,{"@id":r},{propertyIsArray:!0,allowDuplicate:!1}),l.createNodeMap(e,t,n,c,r)}else if(o.isValue(e))a.addValue(p,i,e,{propertyIsArray:!0,allowDuplicate:!1});else if(o.isList(e)){const r=[];l.createNodeMap(e["@list"],t,n,c,d,r),e={"@list":r},a.addValue(p,i,e,{propertyIsArray:!0,allowDuplicate:!1})}else l.createNodeMap(e,t,n,c,d),a.addValue(p,i,e,{propertyIsArray:!0,allowDuplicate:!1});else a.addValue(p,i,[],{propertyIsArray:!0})}},l.mergeNodeMapGraphs=e=>{const t={};for(const n of Object.keys(e).sort())for(const o of Object.keys(e[n]).sort()){const i=e[n][o];o in t||(t[o]={"@id":o});const s=t[o];for(const e of Object.keys(i).sort())if(r(e)&&"@type"!==e)s[e]=a.clone(i[e]);else for(const t of i[e])a.addValue(s,e,a.clone(t),{propertyIsArray:!0,allowDuplicate:!1})}return t},l.mergeNodeMaps=e=>{const t=e["@default"],n=Object.keys(e).sort();for(const r of n){if("@default"===r)continue;const n=e[r];let i=t[r];i?"@graph"in i||(i["@graph"]=[]):t[r]=i={"@id":r,"@graph":[]};const a=i["@graph"];for(const e of Object.keys(n).sort()){const t=n[e];o.isSubjectReference(t)||a.push(t)}}return t}},67222:function(e,t,n){"use strict";const r=n(8831),o={};e.exports=o,o.setupDocumentLoaders=function(e){"undefined"!==typeof XMLHttpRequest&&(e.documentLoaders.xhr=r,e.useDocumentLoader("xhr"))},o.setupGlobals=function(e){"undefined"===typeof globalThis.JsonLdProcessor&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor})}},19382:function(e,t,n){"use strict";const{createNodeMap:r}=n(32664),{isKeyword:o}=n(54131),i=n(18463),a=n(95456),s=n(54093),l=n(30832),c=n(51055),{handleEvent:d}=n(91696),{RDF_FIRST:u,RDF_REST:f,RDF_NIL:p,RDF_TYPE:h,RDF_JSON_LITERAL:g,RDF_LANGSTRING:y,XSD_BOOLEAN:b,XSD_DOUBLE:v,XSD_INTEGER:m,XSD_STRING:w}=n(93770),{isAbsolute:x}=n(82278),_={};function S(e,t,n,r,i){const a=Object.keys(t).sort();for(const s of a){const a=t[s],l=Object.keys(a).sort();for(let t of l){const l=a[t];if("@type"===t)t=h;else if(o(t))continue;for(const o of l){const a={termType:s.startsWith("_:")?"BlankNode":"NamedNode",value:s};if(!x(s)){i.eventHandler&&d({event:{type:["JsonLdEvent"],code:"relative subject reference",level:"warning",message:"Relative subject reference found.",details:{subject:s}},options:i});continue}const l={termType:t.startsWith("_:")?"BlankNode":"NamedNode",value:t};if(!x(t)){i.eventHandler&&d({event:{type:["JsonLdEvent"],code:"relative predicate reference",level:"warning",message:"Relative predicate reference found.",details:{predicate:t}},options:i});continue}if("BlankNode"===l.termType&&!i.produceGeneralizedRdf){i.eventHandler&&d({event:{type:["JsonLdEvent"],code:"blank node predicate",level:"warning",message:"Dropping blank node predicate.",details:{property:r.getOldIds().find((e=>r.getId(e)===t))}},options:i});continue}const c=I(o,r,e,n,i.rdfDirection,i);c&&e.push({subject:a,predicate:l,object:c,graph:n})}}}}function E(e,t,n,r,o,i){const a={termType:"NamedNode",value:u},s={termType:"NamedNode",value:f},l={termType:"NamedNode",value:p},c=e.pop(),d=c?{termType:"BlankNode",value:t.getId()}:l;let h=d;for(const u of e){const e=I(u,t,n,r,o,i),l={termType:"BlankNode",value:t.getId()};n.push({subject:h,predicate:a,object:e,graph:r}),n.push({subject:h,predicate:s,object:l,graph:r}),h=l}if(c){const e=I(c,t,n,r,o,i);n.push({subject:h,predicate:a,object:e,graph:r}),n.push({subject:h,predicate:s,object:l,graph:r})}return d}function I(e,t,n,r,o,c){const u={};if(i.isValue(e)){u.termType="Literal",u.value=void 0,u.datatype={termType:"NamedNode"};let t=e["@value"];const n=e["@type"]||null;if("@json"===n)u.value=a(t),u.datatype.value=g;else if(l.isBoolean(t))u.value=t.toString(),u.datatype.value=n||b;else if(l.isDouble(t)||n===v)l.isDouble(t)||(t=parseFloat(t)),u.value=t.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),u.datatype.value=n||v;else if(l.isNumber(t))u.value=t.toFixed(0),u.datatype.value=n||m;else if("@direction"in e&&"i18n-datatype"===o){const n=(e["@language"]||"").toLowerCase(),r=e["@direction"],o=`https://www.w3.org/ns/i18n#${n}_${r}`;u.datatype.value=o,u.value=t}else{if("@direction"in e&&"compound-literal"===o)throw new s("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:o});if("@direction"in e&&o)throw new s("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:o});"@language"in e?("@direction"in e&&!o&&c.eventHandler&&d({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:u.value}},options:c}),u.value=t,u.datatype.value=n||y,u.language=e["@language"]):("@direction"in e&&!o&&c.eventHandler&&d({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:u.value}},options:c}),u.value=t,u.datatype.value=n||w)}}else if(i.isList(e)){const i=E(e["@list"],t,n,r,o,c);u.termType=i.termType,u.value=i.value}else{const t=l.isObject(e)?e["@id"]:e;u.termType=t.startsWith("_:")?"BlankNode":"NamedNode",u.value=t}return"NamedNode"!==u.termType||x(u.value)?u:(c.eventHandler&&d({event:{type:["JsonLdEvent"],code:"relative object reference",level:"warning",message:"Relative object reference found.",details:{object:u.value}},options:c}),null)}e.exports=_,_.toRDF=(e,t)=>{const n=new c.IdentifierIssuer("_:b"),o={"@default":{}};r(e,o,"@default",n);const i=[],a=Object.keys(o).sort();for(const r of a){let e;if("@default"===r)e={termType:"DefaultGraph",value:""};else{if(!x(r)){t.eventHandler&&d({event:{type:["JsonLdEvent"],code:"relative graph reference",level:"warning",message:"Relative graph reference found.",details:{graph:r}},options:t});continue}e=r.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"},e.value=r}S(i,o[r],e,n,t)}return i}},30832:function(e){"use strict";const t={};e.exports=t,t.isArray=Array.isArray,t.isBoolean=e=>"boolean"===typeof e||"[object Boolean]"===Object.prototype.toString.call(e),t.isDouble=e=>t.isNumber(e)&&(-1!==String(e).indexOf(".")||Math.abs(e)>=1e21),t.isEmptyObject=e=>t.isObject(e)&&0===Object.keys(e).length,t.isNumber=e=>"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e),t.isNumeric=e=>!isNaN(parseFloat(e))&&isFinite(e),t.isObject=e=>"[object Object]"===Object.prototype.toString.call(e),t.isString=e=>"string"===typeof e||"[object String]"===Object.prototype.toString.call(e),t.isUndefined=e=>"undefined"===typeof e},82278:function(e,t,n){"use strict";const r=n(30832),o={};e.exports=o,o.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([a-zA-Z][a-zA-Z0-9+-.]*):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},o.parse=(e,t)=>{const n={},r=o.parsers[t||"full"],i=r.regex.exec(e);let a=r.keys.length;while(a--)n[r.keys[a]]=void 0===i[a]?null:i[a];return("https"===n.scheme&&"443"===n.port||"http"===n.scheme&&"80"===n.port)&&(n.href=n.href.replace(":"+n.port,""),n.authority=n.authority.replace(":"+n.port,""),n.port=null),n.normalizedPath=o.removeDotSegments(n.path),n},o.prependBase=(e,t)=>{if(null===e)return t;if(o.isAbsolute(t))return t;e&&!r.isString(e)||(e=o.parse(e||""));const n=o.parse(t),i={protocol:e.protocol||""};if(null!==n.authority)i.authority=n.authority,i.path=n.path,i.query=n.query;else if(i.authority=e.authority,""===n.path)i.path=e.path,null!==n.query?i.query=n.query:i.query=e.query;else{if(0===n.path.indexOf("/"))i.path=n.path;else{let t=e.path;t=t.substr(0,t.lastIndexOf("/")+1),(t.length>0||e.authority)&&"/"!==t.substr(-1)&&(t+="/"),t+=n.path,i.path=t}i.query=n.query}""!==n.path&&(i.path=o.removeDotSegments(i.path));let a=i.protocol;return null!==i.authority&&(a+="//"+i.authority),a+=i.path,null!==i.query&&(a+="?"+i.query),null!==n.fragment&&(a+="#"+n.fragment),""===a&&(a="./"),a},o.removeBase=(e,t)=>{if(null===e)return t;e&&!r.isString(e)||(e=o.parse(e||""));let n="";if(""!==e.href?n+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(n+="//"),0!==t.indexOf(n))return t;const i=o.parse(t.substr(n.length)),a=e.normalizedPath.split("/"),s=i.normalizedPath.split("/"),l=i.fragment||i.query?0:1;while(a.length>0&&s.length>l){if(a[0]!==s[0])break;a.shift(),s.shift()}let c="";if(a.length>0){a.pop();for(let e=0;e<a.length;++e)c+="../"}return c+=s.join("/"),null!==i.query&&(c+="?"+i.query),null!==i.fragment&&(c+="#"+i.fragment),""===c&&(c="./"),c},o.removeDotSegments=e=>{if(0===e.length)return"";const t=e.split("/"),n=[];while(t.length>0){const e=t.shift(),r=0===t.length;"."!==e?".."!==e?n.push(e):(n.pop(),r&&n.push("")):r&&n.push("")}return"/"===e[0]&&n.length>0&&""!==n[0]&&n.unshift(""),1===n.length&&""===n[0]?"/":n.join("/")};const i=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;o.isAbsolute=e=>r.isString(e)&&i.test(e),o.isRelative=e=>r.isString(e)},51055:function(e,t,n){"use strict";const r=n(18463),o=n(30832),i=n(47055).IdentifierIssuer,a=n(54093),s=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,l=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,c=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,d=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,u=/^@[a-zA-Z]+$/,f={headers:{accept:"application/ld+json, application/json"}},p={};function h(e,t){if(o.isArray(t))for(let n=0;n<t.length;++n)t[n]=h(e,t[n]);else if(r.isList(t))t["@list"]=h(e,t["@list"]);else if(o.isObject(t)){r.isBlankNode(t)&&(t["@id"]=e.getId(t["@id"]));const n=Object.keys(t).sort();for(let r=0;r<n.length;++r){const o=n[r];"@id"!==o&&(t[o]=h(e,t[o]))}}return t}e.exports=p,p.IdentifierIssuer=i,p.REGEX_BCP47=s,p.REGEX_KEYWORD=u,p.clone=function(e){if(e&&"object"===typeof e){let t;if(o.isArray(e)){t=[];for(let n=0;n<e.length;++n)t[n]=p.clone(e[n])}else if(e instanceof Map){t=new Map;for(const[n,r]of e)t.set(n,p.clone(r))}else if(e instanceof Set){t=new Set;for(const n of e)t.add(p.clone(n))}else if(o.isObject(e)){t={};for(const n in e)t[n]=p.clone(e[n])}else t=e.toString();return t}return e},p.asArray=function(e){return Array.isArray(e)?e:[e]},p.buildHeaders=(e={})=>{const t=Object.keys(e).some((e=>"accept"===e.toLowerCase()));if(t)throw new RangeError('Accept header may not be specified; only "'+f.headers.accept+'" is supported.');return Object.assign({Accept:f.headers.accept},e)},p.parseLinkHeader=e=>{const t={},n=e.match(l);for(let r=0;r<n.length;++r){let e=n[r].match(c);if(!e)continue;const o={target:e[1]},i=e[2];while(e=d.exec(i))o[e[1]]=void 0===e[2]?e[3]:e[2];const a=o.rel||"";Array.isArray(t[a])?t[a].push(o):t.hasOwnProperty(a)?t[a]=[t[a],o]:t[a]=o}return t},p.validateTypeValue=(e,t)=>{if(!o.isString(e)&&(!o.isArray(e)||!e.every((e=>o.isString(e))))){if(t&&o.isObject(e))switch(Object.keys(e).length){case 0:return;case 1:if("@default"in e&&p.asArray(e["@default"]).every((e=>o.isString(e))))return}throw new a('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}},p.hasProperty=(e,t)=>{if(e.hasOwnProperty(t)){const n=e[t];return!o.isArray(n)||n.length>0}return!1},p.hasValue=(e,t,n)=>{if(p.hasProperty(e,t)){let i=e[t];const a=r.isList(i);if(o.isArray(i)||a){a&&(i=i["@list"]);for(let e=0;e<i.length;++e)if(p.compareValues(n,i[e]))return!0}else if(!o.isArray(n))return p.compareValues(n,i)}return!1},p.addValue=(e,t,n,r)=>{if(r=r||{},"propertyIsArray"in r||(r.propertyIsArray=!1),"valueIsArray"in r||(r.valueIsArray=!1),"allowDuplicate"in r||(r.allowDuplicate=!0),"prependValue"in r||(r.prependValue=!1),r.valueIsArray)e[t]=n;else if(o.isArray(n)){0===n.length&&r.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]),r.prependValue&&(n=n.concat(e[t]),e[t]=[]);for(let o=0;o<n.length;++o)p.addValue(e,t,n[o],r)}else if(e.hasOwnProperty(t)){const i=!r.allowDuplicate&&p.hasValue(e,t,n);o.isArray(e[t])||i&&!r.propertyIsArray||(e[t]=[e[t]]),i||(r.prependValue?e[t].unshift(n):e[t].push(n))}else e[t]=r.propertyIsArray?[n]:n},p.getValues=(e,t)=>[].concat(e[t]||[]),p.removeProperty=(e,t)=>{delete e[t]},p.removeValue=(e,t,n,r)=>{r=r||{},"propertyIsArray"in r||(r.propertyIsArray=!1);const o=p.getValues(e,t).filter((e=>!p.compareValues(e,n)));0===o.length?p.removeProperty(e,t):1!==o.length||r.propertyIsArray?e[t]=o:e[t]=o[0]},p.relabelBlankNodes=(e,t)=>{t=t||{};const n=t.issuer||new i("_:b");return h(n,e)},p.compareValues=(e,t)=>e===t||(!(!r.isValue(e)||!r.isValue(t)||e["@value"]!==t["@value"]||e["@type"]!==t["@type"]||e["@language"]!==t["@language"]||e["@index"]!==t["@index"])||!!(o.isObject(e)&&"@id"in e&&o.isObject(t)&&"@id"in t)&&e["@id"]===t["@id"]),p.compareShortestLeast=(e,t)=>e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1},80421:function(e,t,n){"use strict";const r=n(48701),o=Symbol("max"),i=Symbol("length"),a=Symbol("lengthCalculator"),s=Symbol("allowStale"),l=Symbol("maxAge"),c=Symbol("dispose"),d=Symbol("noDisposeOnSet"),u=Symbol("lruList"),f=Symbol("cache"),p=Symbol("updateAgeOnGet"),h=()=>1;class g{constructor(e){if("number"===typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!==typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[o]=e.max||1/0;const t=e.length||h;if(this[a]="function"!==typeof t?h:t,this[s]=e.stale||!1,e.maxAge&&"number"!==typeof e.maxAge)throw new TypeError("maxAge must be a number");this[l]=e.maxAge||0,this[c]=e.dispose,this[d]=e.noDisposeOnSet||!1,this[p]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!==typeof e||e<0)throw new TypeError("max must be a non-negative number");this[o]=e||1/0,v(this)}get max(){return this[o]}set allowStale(e){this[s]=!!e}get allowStale(){return this[s]}set maxAge(e){if("number"!==typeof e)throw new TypeError("maxAge must be a non-negative number");this[l]=e,v(this)}get maxAge(){return this[l]}set lengthCalculator(e){"function"!==typeof e&&(e=h),e!==this[a]&&(this[a]=e,this[i]=0,this[u].forEach((e=>{e.length=this[a](e.value,e.key),this[i]+=e.length}))),v(this)}get lengthCalculator(){return this[a]}get length(){return this[i]}get itemCount(){return this[u].length}rforEach(e,t){t=t||this;for(let n=this[u].tail;null!==n;){const r=n.prev;x(this,e,n,t),n=r}}forEach(e,t){t=t||this;for(let n=this[u].head;null!==n;){const r=n.next;x(this,e,n,t),n=r}}keys(){return this[u].toArray().map((e=>e.key))}values(){return this[u].toArray().map((e=>e.value))}reset(){this[c]&&this[u]&&this[u].length&&this[u].forEach((e=>this[c](e.key,e.value))),this[f]=new Map,this[u]=new r,this[i]=0}dump(){return this[u].map((e=>!b(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[u]}set(e,t,n){if(n=n||this[l],n&&"number"!==typeof n)throw new TypeError("maxAge must be a number");const r=n?Date.now():0,s=this[a](t,e);if(this[f].has(e)){if(s>this[o])return m(this,this[f].get(e)),!1;const a=this[f].get(e),l=a.value;return this[c]&&(this[d]||this[c](e,l.value)),l.now=r,l.maxAge=n,l.value=t,this[i]+=s-l.length,l.length=s,this.get(e),v(this),!0}const p=new w(e,t,s,r,n);return p.length>this[o]?(this[c]&&this[c](e,t),!1):(this[i]+=p.length,this[u].unshift(p),this[f].set(e,this[u].head),v(this),!0)}has(e){if(!this[f].has(e))return!1;const t=this[f].get(e).value;return!b(this,t)}get(e){return y(this,e,!0)}peek(e){return y(this,e,!1)}pop(){const e=this[u].tail;return e?(m(this,e),e.value):null}del(e){m(this,this[f].get(e))}load(e){this.reset();const t=Date.now();for(let n=e.length-1;n>=0;n--){const r=e[n],o=r.e||0;if(0===o)this.set(r.k,r.v);else{const e=o-t;e>0&&this.set(r.k,r.v,e)}}}prune(){this[f].forEach(((e,t)=>y(this,t,!1)))}}const y=(e,t,n)=>{const r=e[f].get(t);if(r){const t=r.value;if(b(e,t)){if(m(e,r),!e[s])return}else n&&(e[p]&&(r.value.now=Date.now()),e[u].unshiftNode(r));return t.value}},b=(e,t)=>{if(!t||!t.maxAge&&!e[l])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[l]&&n>e[l]},v=e=>{if(e[i]>e[o])for(let t=e[u].tail;e[i]>e[o]&&null!==t;){const n=t.prev;m(e,t),t=n}},m=(e,t)=>{if(t){const n=t.value;e[c]&&e[c](n.key,n.value),e[i]-=n.length,e[f].delete(n.key),e[u].removeNode(t)}};class w{constructor(e,t,n,r,o){this.key=e,this.value=t,this.length=n,this.now=r,this.maxAge=o||0}}const x=(e,t,n,r)=>{let o=n.value;b(e,o)&&(m(e,n),e[s]||(o=void 0)),o&&t.call(r,o.value,o.key,e)};e.exports=g},36890:function(e){"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},48701:function(e,t,n){"use strict";function r(e){var t=this;if(t instanceof r||(t=new r),t.tail=null,t.head=null,t.length=0,e&&"function"===typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,o=arguments.length;n<o;n++)t.push(arguments[n]);return t}function o(e,t,n){var r=t===e.head?new s(n,null,t,e):new s(n,t,t.next,e);return null===r.next&&(e.tail=r),null===r.prev&&(e.head=r),e.length++,r}function i(e,t){e.tail=new s(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function a(e,t){e.head=new s(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function s(e,t,n,r){if(!(this instanceof s))return new s(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}e.exports=r,r.Node=s,r.create=r,r.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},r.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},r.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},r.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)i(this,arguments[e]);return this.length},r.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)a(this,arguments[e]);return this.length},r.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},r.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},r.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;null!==n;r++)e.call(t,n.value,r,this),n=n.next},r.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;null!==n;r--)e.call(t,n.value,r,this),n=n.prev},r.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},r.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},r.prototype.map=function(e,t){t=t||this;for(var n=new r,o=this.head;null!==o;)n.push(e.call(t,o.value,this)),o=o.next;return n},r.prototype.mapReverse=function(e,t){t=t||this;for(var n=new r,o=this.tail;null!==o;)n.push(e.call(t,o.value,this)),o=o.prev;return n},r.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var o=0;null!==r;o++)n=e(n,r.value,o),r=r.next;return n},r.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var o=this.length-1;null!==r;o--)n=e(n,r.value,o),r=r.prev;return n},r.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},r.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},r.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=0,i=this.head;null!==i&&o<e;o++)i=i.next;for(;null!==i&&o<t;o++,i=i.next)n.push(i.value);return n},r.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=this.length,i=this.tail;null!==i&&o>t;o--)i=i.prev;for(;null!==i&&o>e;o--,i=i.prev)n.push(i.value);return n},r.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,i=this.head;null!==i&&r<e;r++)i=i.next;var a=[];for(r=0;i&&r<t;r++)a.push(i.value),i=this.removeNode(i);null===i&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(r=0;r<n.length;r++)i=o(this,i,n[r]);return a},r.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};try{n(36890)(r)}catch(l){}},47055:function(e,t,n){e.exports=n(29344)},12401:function(e){"use strict";e.exports=class e{constructor(e,t=new Map,n=0){this.prefix=e,this._existing=t,this.counter=n}clone(){const{prefix:t,_existing:n,counter:r}=this;return new e(t,new Map(n),r)}getId(e){const t=e&&this._existing.get(e);if(t)return t;const n=this.prefix+this.counter;return this.counter++,e&&this._existing.set(e,n),n}hasId(e){return this._existing.has(e)}getOldIds(){return[...this._existing.keys()]}}},75947:function(e,t,n){"use strict";
/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */n(24889);const r=self.crypto||self.msCrypto;e.exports=class{constructor(e){if(!r||!r.subtle)throw new Error("crypto.subtle not found.");if("sha256"===e)this.algorithm={name:"SHA-256"};else{if("sha1"!==e)throw new Error(`Unsupported algorithm "${e}".`);this.algorithm={name:"SHA-1"}}this._content=""}update(e){this._content+=e}async digest(){const e=(new TextEncoder).encode(this._content),t=new Uint8Array(await r.subtle.digest(this.algorithm,e));let n="";for(let r=0;r<t.length;++r)n+=t[r].toString(16).padStart(2,"0");return n}}},69980:function(e){"use strict";
/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const t="http://www.w3.org/1999/02/22-rdf-syntax-ns#",n=t+"langString",r="http://www.w3.org/2001/XMLSchema#string",o="NamedNode",i="BlankNode",a="Literal",s="DefaultGraph",l={};function c(e,t){return e.subject.termType===t.subject.termType&&e.object.termType===t.object.termType&&(e.subject.value===t.subject.value&&e.predicate.value===t.predicate.value&&e.object.value===t.object.value&&(e.object.termType!==a||e.object.datatype.termType===t.object.datatype.termType&&e.object.language===t.object.language&&e.object.datatype.value===t.object.datatype.value))}(()=>{const e="(?:<([^:]+:[^>]*)>)",t="A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�",n=t+"_",r=n+"0-9-·̀-ͯ‿-⁀",o="(_:(?:["+n+"0-9])(?:(?:["+r+".])*(?:["+r+"]))?)",i=o,a='"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"',s="(?:\\^\\^"+e+")",c="(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*))",d="(?:"+a+"(?:"+s+"|"+c+")?)",u="[ \\t]+",f="[ \\t]*",p="(?:"+e+"|"+i+")"+u,h=e+u,g="(?:"+e+"|"+i+"|"+d+")"+f,y="(?:\\.|(?:(?:"+e+"|"+i+")"+f+"\\.))";l.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,l.empty=new RegExp("^"+f+"$"),l.quad=new RegExp("^"+f+p+h+g+y+f+"$")})(),e.exports=class e{static parse(e){const t=[],d={},u=e.split(l.eoln);let f=0;for(const h of u){if(f++,l.empty.test(h))continue;const e=h.match(l.quad);if(null===e)throw new Error("N-Quads parse error on line "+f+".");const u={subject:null,predicate:null,object:null,graph:null};if(void 0!==e[1]?u.subject={termType:o,value:e[1]}:u.subject={termType:i,value:e[2]},u.predicate={termType:o,value:e[3]},void 0!==e[4]?u.object={termType:o,value:e[4]}:void 0!==e[5]?u.object={termType:i,value:e[5]}:(u.object={termType:a,value:void 0,datatype:{termType:o}},void 0!==e[7]?u.object.datatype.value=e[7]:void 0!==e[8]?(u.object.datatype.value=n,u.object.language=e[8]):u.object.datatype.value=r,u.object.value=p(e[6])),void 0!==e[9]?u.graph={termType:o,value:e[9]}:void 0!==e[10]?u.graph={termType:i,value:e[10]}:u.graph={termType:s,value:""},u.graph.value in d){let e=!0;const n=d[u.graph.value];for(const t of n)if(c(t,u)){e=!1;break}e&&(n.push(u),t.push(u))}else d[u.graph.value]=[u],t.push(u)}return t}static serialize(t){Array.isArray(t)||(t=e.legacyDatasetToQuads(t));const n=[];for(const r of t)n.push(e.serializeQuad(r));return n.sort().join("")}static serializeQuadComponents(e,t,a,s){let l="";return e.termType===o?l+=`<${e.value}>`:l+=`${e.value}`,l+=` <${t.value}> `,a.termType===o?l+=`<${a.value}>`:a.termType===i?l+=a.value:(l+=`"${u(a.value)}"`,a.datatype.value===n?a.language&&(l+=`@${a.language}`):a.datatype.value!==r&&(l+=`^^<${a.datatype.value}>`)),s.termType===o?l+=` <${s.value}>`:s.termType===i&&(l+=` ${s.value}`),l+=" .\n",l}static serializeQuad(t){return e.serializeQuadComponents(t.subject,t.predicate,t.object,t.graph)}static legacyDatasetToQuads(e){const t=[],l={"blank node":i,IRI:o,literal:a};for(const c in e){const d=e[c];d.forEach((e=>{const d={};for(const t in e){const i=e[t],s={termType:l[i.type],value:i.value};s.termType===a&&(s.datatype={termType:o},"datatype"in i&&(s.datatype.value=i.datatype),"language"in i?("datatype"in i||(s.datatype.value=n),s.language=i.language):"datatype"in i||(s.datatype.value=r)),d[t]=s}d.graph="@default"===c?{termType:s,value:""}:{termType:c.startsWith("_:")?i:o,value:c},t.push(d)}))}return t}};const d=/["\\\n\r]/g;function u(e){return e.replace(d,(function(e){switch(e){case'"':return'\\"';case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r"}}))}const f=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;function p(e){return e.replace(f,(function(e,t,n,r){if(t)switch(t){case"t":return"\t";case"b":return"\b";case"n":return"\n";case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(n)return String.fromCharCode(parseInt(n,16));if(r)throw new Error("Unsupported U escape")}))}},68326:function(e){"use strict";
/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */e.exports=class{constructor(e){this.current=e.sort(),this.done=!1,this.dir=new Map;for(let t=0;t<e.length;++t)this.dir.set(e[t],!0)}hasNext(){return!this.done}next(){const{current:e,dir:t}=this,n=e.slice();let r=null,o=0;const i=e.length;for(let a=0;a<i;++a){const n=e[a],s=t.get(n);(null===r||n>r)&&(s&&a>0&&n>e[a-1]||!s&&a<i-1&&n>e[a+1])&&(r=n,o=a)}if(null===r)this.done=!0;else{const n=t.get(r)?o-1:o+1;e[o]=e[n],e[n]=r;for(const o of e)o>r&&t.set(o,!t.get(o))}return n}}},23445:function(e,t,n){"use strict";
/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const r=n(12401),o=n(75947),i=n(68326),a=n(69980);function s(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}e.exports=class{constructor({createMessageDigest:e=(()=>new o("sha256")),canonicalIdMap:t=new Map,maxDeepIterations:n=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new r("_:c14n",t),this.createMessageDigest=e,this.maxDeepIterations=n,this.quads=null,this.deepIterations=null}async main(e){this.deepIterations=new Map,this.quads=e;for(const r of e)this._addBlankNodeQuadInfo({quad:r,component:r.subject}),this._addBlankNodeQuadInfo({quad:r,component:r.object}),this._addBlankNodeQuadInfo({quad:r,component:r.graph});const t=new Map,n=[...this.blankNodeInfo.keys()];let o=0;for(const r of n)++o%100===0&&await this._yield(),await this._hashAndTrackBlankNode({id:r,hashToBlankNodes:t});const i=[...t.keys()].sort(),l=[];for(const r of i){const e=t.get(r);if(e.length>1){l.push(e);continue}const n=e[0];this.canonicalIssuer.getId(n)}for(const a of l){const e=[];for(const t of a){if(this.canonicalIssuer.hasId(t))continue;const n=new r("_:b");n.getId(t);const o=await this.hashNDegreeQuads(t,n);e.push(o)}e.sort(s);for(const t of e){const e=t.issuer.getOldIds();for(const t of e)this.canonicalIssuer.getId(t)}}const c=[];for(const r of this.quads){const e=a.serializeQuadComponents(this._componentWithCanonicalId(r.subject),r.predicate,this._componentWithCanonicalId(r.object),this._componentWithCanonicalId(r.graph));c.push(e)}return c.sort(),c.join("")}async hashFirstDegreeQuads(e){const t=[],n=this.blankNodeInfo.get(e),r=n.quads;for(const i of r){const n={subject:null,predicate:i.predicate,object:null,graph:null};n.subject=this.modifyFirstDegreeComponent(e,i.subject,"subject"),n.object=this.modifyFirstDegreeComponent(e,i.object,"object"),n.graph=this.modifyFirstDegreeComponent(e,i.graph,"graph"),t.push(a.serializeQuad(n))}t.sort();const o=this.createMessageDigest();for(const i of t)o.update(i);return n.hash=await o.digest(),n.hash}async hashRelatedBlankNode(e,t,n,r){let o;o=this.canonicalIssuer.hasId(e)?this.canonicalIssuer.getId(e):n.hasId(e)?n.getId(e):this.blankNodeInfo.get(e).hash;const i=this.createMessageDigest();return i.update(r),"g"!==r&&i.update(this.getRelatedPredicate(t)),i.update(o),i.digest()}async hashNDegreeQuads(e,t){const n=this.deepIterations.get(e)||0;if(n>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(e,n+1);const r=this.createMessageDigest(),o=await this.createHashToRelated(e,t),a=[...o.keys()].sort();for(const s of a){r.update(s);let e,n="";const a=new i(o.get(s));let l=0;while(a.hasNext()){const r=a.next();++l%3===0&&await this._yield();let o=t.clone(),i="";const s=[];let c=!1;for(const e of r)if(this.canonicalIssuer.hasId(e)?i+=this.canonicalIssuer.getId(e):(o.hasId(e)||s.push(e),i+=o.getId(e)),0!==n.length&&i>n){c=!0;break}if(!c){for(const e of s){const t=await this.hashNDegreeQuads(e,o);if(i+=o.getId(e),i+=`<${t.hash}>`,o=t.issuer,0!==n.length&&i>n){c=!0;break}}c||(0===n.length||i<n)&&(n=i,e=o)}}r.update(n),t=e}return{hash:await r.digest(),issuer:t}}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return`<${e.predicate.value}>`}async createHashToRelated(e,t){const n=new Map,r=this.blankNodeInfo.get(e).quads;let o=0;for(const i of r)++o%100===0&&await this._yield(),await Promise.all([this._addRelatedBlankNodeHash({quad:i,component:i.subject,position:"s",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:i,component:i.object,position:"o",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:i,component:i.graph,position:"g",id:e,issuer:t,hashToRelated:n})]);return n}async _hashAndTrackBlankNode({id:e,hashToBlankNodes:t}){const n=await this.hashFirstDegreeQuads(e),r=t.get(n);r?r.push(e):t.set(n,[e])}_addBlankNodeQuadInfo({quad:e,component:t}){if("BlankNode"!==t.termType)return;const n=t.value,r=this.blankNodeInfo.get(n);r?r.quads.add(e):this.blankNodeInfo.set(n,{quads:new Set([e]),hash:null})}async _addRelatedBlankNodeHash({quad:e,component:t,position:n,id:r,issuer:o,hashToRelated:i}){if("BlankNode"!==t.termType||t.value===r)return;const a=t.value,s=await this.hashRelatedBlankNode(a,e,o,n),l=i.get(s);l?l.push(a):i.set(s,[a])}_componentWithCanonicalId(e){return"BlankNode"!==e.termType||e.value.startsWith(this.canonicalIssuer.prefix)?e:{termType:"BlankNode",value:this.canonicalIssuer.getId(e.value)}}async _yield(){return new Promise((e=>setImmediate(e)))}}},5643:function(e,t,n){"use strict";
/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const r=n(12401),o=n(75947),i=n(68326),a=n(69980);function s(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}e.exports=class{constructor({createMessageDigest:e=(()=>new o("sha256")),canonicalIdMap:t=new Map,maxDeepIterations:n=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new r("_:c14n",t),this.createMessageDigest=e,this.maxDeepIterations=n,this.quads=null,this.deepIterations=null}main(e){this.deepIterations=new Map,this.quads=e;for(const r of e)this._addBlankNodeQuadInfo({quad:r,component:r.subject}),this._addBlankNodeQuadInfo({quad:r,component:r.object}),this._addBlankNodeQuadInfo({quad:r,component:r.graph});const t=new Map,n=[...this.blankNodeInfo.keys()];for(const r of n)this._hashAndTrackBlankNode({id:r,hashToBlankNodes:t});const o=[...t.keys()].sort(),i=[];for(const r of o){const e=t.get(r);if(e.length>1){i.push(e);continue}const n=e[0];this.canonicalIssuer.getId(n)}for(const a of i){const e=[];for(const t of a){if(this.canonicalIssuer.hasId(t))continue;const n=new r("_:b");n.getId(t);const o=this.hashNDegreeQuads(t,n);e.push(o)}e.sort(s);for(const t of e){const e=t.issuer.getOldIds();for(const t of e)this.canonicalIssuer.getId(t)}}const l=[];for(const r of this.quads){const e=a.serializeQuadComponents(this._componentWithCanonicalId({component:r.subject}),r.predicate,this._componentWithCanonicalId({component:r.object}),this._componentWithCanonicalId({component:r.graph}));l.push(e)}return l.sort(),l.join("")}hashFirstDegreeQuads(e){const t=[],n=this.blankNodeInfo.get(e),r=n.quads;for(const i of r){const n={subject:null,predicate:i.predicate,object:null,graph:null};n.subject=this.modifyFirstDegreeComponent(e,i.subject,"subject"),n.object=this.modifyFirstDegreeComponent(e,i.object,"object"),n.graph=this.modifyFirstDegreeComponent(e,i.graph,"graph"),t.push(a.serializeQuad(n))}t.sort();const o=this.createMessageDigest();for(const i of t)o.update(i);return n.hash=o.digest(),n.hash}hashRelatedBlankNode(e,t,n,r){let o;o=this.canonicalIssuer.hasId(e)?this.canonicalIssuer.getId(e):n.hasId(e)?n.getId(e):this.blankNodeInfo.get(e).hash;const i=this.createMessageDigest();return i.update(r),"g"!==r&&i.update(this.getRelatedPredicate(t)),i.update(o),i.digest()}hashNDegreeQuads(e,t){const n=this.deepIterations.get(e)||0;if(n>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(e,n+1);const r=this.createMessageDigest(),o=this.createHashToRelated(e,t),a=[...o.keys()].sort();for(const s of a){r.update(s);let e,n="";const a=new i(o.get(s));while(a.hasNext()){const r=a.next();let o=t.clone(),i="";const s=[];let l=!1;for(const e of r)if(this.canonicalIssuer.hasId(e)?i+=this.canonicalIssuer.getId(e):(o.hasId(e)||s.push(e),i+=o.getId(e)),0!==n.length&&i>n){l=!0;break}if(!l){for(const e of s){const t=this.hashNDegreeQuads(e,o);if(i+=o.getId(e),i+=`<${t.hash}>`,o=t.issuer,0!==n.length&&i>n){l=!0;break}}l||(0===n.length||i<n)&&(n=i,e=o)}}r.update(n),t=e}return{hash:r.digest(),issuer:t}}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return`<${e.predicate.value}>`}createHashToRelated(e,t){const n=new Map,r=this.blankNodeInfo.get(e).quads;for(const o of r)this._addRelatedBlankNodeHash({quad:o,component:o.subject,position:"s",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:o,component:o.object,position:"o",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:o,component:o.graph,position:"g",id:e,issuer:t,hashToRelated:n});return n}_hashAndTrackBlankNode({id:e,hashToBlankNodes:t}){const n=this.hashFirstDegreeQuads(e),r=t.get(n);r?r.push(e):t.set(n,[e])}_addBlankNodeQuadInfo({quad:e,component:t}){if("BlankNode"!==t.termType)return;const n=t.value,r=this.blankNodeInfo.get(n);r?r.quads.add(e):this.blankNodeInfo.set(n,{quads:new Set([e]),hash:null})}_addRelatedBlankNodeHash({quad:e,component:t,position:n,id:r,issuer:o,hashToRelated:i}){if("BlankNode"!==t.termType||t.value===r)return;const a=t.value,s=this.hashRelatedBlankNode(a,e,o,n),l=i.get(s);l?l.push(a):i.set(s,[a])}_componentWithCanonicalId({component:e}){return"BlankNode"!==e.termType||e.value.startsWith(this.canonicalIssuer.prefix)?e:{termType:"BlankNode",value:this.canonicalIssuer.getId(e.value)}}}},89201:function(e,t,n){"use strict";
/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const r=n(75947),o=n(23445);e.exports=class extends o{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new r("sha1")}modifyFirstDegreeComponent(e,t,n){return"BlankNode"!==t.termType?t:"graph"===n?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return e.predicate.value}async createHashToRelated(e,t){const n=new Map,r=this.blankNodeInfo.get(e).quads;let o=0;for(const i of r){let r,a;if("BlankNode"===i.subject.termType&&i.subject.value!==e)a=i.subject.value,r="p";else{if("BlankNode"!==i.object.termType||i.object.value===e)continue;a=i.object.value,r="r"}++o%100===0&&await this._yield();const s=await this.hashRelatedBlankNode(a,i,t,r),l=n.get(s);l?l.push(a):n.set(s,[a])}return n}}},17702:function(e,t,n){"use strict";
/*!
 * Copyright (c) 2016-2021 Digital Bazaar, Inc. All rights reserved.
 */const r=n(75947),o=n(5643);e.exports=class extends o{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new r("sha1")}modifyFirstDegreeComponent(e,t,n){return"BlankNode"!==t.termType?t:"graph"===n?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return e.predicate.value}createHashToRelated(e,t){const n=new Map,r=this.blankNodeInfo.get(e).quads;for(const o of r){let r,i;if("BlankNode"===o.subject.termType&&o.subject.value!==e)i=o.subject.value,r="p";else{if("BlankNode"!==o.object.termType||o.object.value===e)continue;i=o.object.value,r="r"}const a=this.hashRelatedBlankNode(i,o,t,r),s=n.get(a);s?s.push(i):n.set(a,[i])}return n}}},29344:function(e,t,n){"use strict";const r=n(23445),o=n(89201),i=n(5643),a=n(17702);let s;try{s=n(97670)}catch(c){}function l(e){return Array.isArray(e)?e:t.NQuads.legacyDatasetToQuads(e)}t.NQuads=n(69980),t.IdentifierIssuer=n(12401),t._rdfCanonizeNative=function(e){return e&&(s=e),s},t.canonize=async function(e,t){const n=l(e,t);if(t.useNative){if(!s)throw new Error("rdf-canonize-native not available");if(t.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return new Promise(((e,r)=>s.canonize(n,t,((t,n)=>t?r(t):e(n)))))}if("URDNA2015"===t.algorithm)return new r(t).main(n);if("URGNA2012"===t.algorithm){if(t.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new o(t).main(n)}if(!("algorithm"in t))throw new Error("No RDF Dataset Canonicalization algorithm specified.");throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)},t._canonizeSync=function(e,t){const n=l(e,t);if(t.useNative){if(!s)throw new Error("rdf-canonize-native not available");if(t.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return s.canonizeSync(n,t)}if("URDNA2015"===t.algorithm)return new i(t).main(n);if("URGNA2012"===t.algorithm){if(t.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new a(t).main(n)}if(!("algorithm"in t))throw new Error("No RDF Dataset Canonicalization algorithm specified.");throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)}},24889:function(e,t,n){var r=n(34155);(function(e,t){"use strict";if(!e.setImmediate){var n,o=1,i={},a=!1,s=e.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(e);l=l&&l.setTimeout?l:e,"[object process]"==={}.toString.call(e.process)?p():h()?g():e.MessageChannel?y():s&&"onreadystatechange"in s.createElement("script")?b():v(),l.setImmediate=c,l.clearImmediate=d}function c(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var a={callback:e,args:t};return i[o]=a,n(o),o++}function d(e){delete i[e]}function u(e){var n=e.callback,r=e.args;switch(r.length){case 0:n();break;case 1:n(r[0]);break;case 2:n(r[0],r[1]);break;case 3:n(r[0],r[1],r[2]);break;default:n.apply(t,r);break}}function f(e){if(a)setTimeout(f,0,e);else{var t=i[e];if(t){a=!0;try{u(t)}finally{d(e),a=!1}}}}function p(){n=function(e){r.nextTick((function(){f(e)}))}}function h(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}function g(){var t="setImmediate$"+Math.random()+"$",r=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&f(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),n=function(n){e.postMessage(t+n,"*")}}function y(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;f(t)},n=function(t){e.port2.postMessage(t)}}function b(){var e=s.documentElement;n=function(t){var n=s.createElement("script");n.onreadystatechange=function(){f(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}function v(){n=function(e){setTimeout(f,0,e)}}})("undefined"===typeof self?"undefined"===typeof n.g?this:n.g:self)},97670:function(){},77689:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(90540),o=n(36805),i=n(57164),a=n(41775);class s extends i.Readable{constructor(e,{baseIRI:t,compact:n,context:r={},encoding:o="object",flatten:i,frame:a,prettyPrint:s,skipContext:l}={}){super({objectMode:!0,read:()=>{}}),this.compact=n,this.context=r,this.encoding=o,this.flatten=i,this.frame=a,this.prettyPrint=s,this.skipContext=l,t&&(this.context["@base"]=t.value||t.toString()),e.on("prefix",((e,t)=>{this.context[e]||(this.context[e]=t.value)})),this.handleData(e)}async handleData(e){try{const t=(await(0,a.Z)(e)).map(s.toJsonldQuad),n=await o.fromRDF(t),r=await this.transform(n,this.options);this.push(r),this.push(null)}catch(t){this.emit("error",t)}}async transform(e){return this.compact&&(e=await o.compact(e,this.context)),this.flatten&&(e=await o.flatten(e,this.context)),this.frame&&(e=await o.frame(e,this.context)),this.skipContext&&e["@context"]&&delete e["@context"],"string"===this.encoding?this.prettyPrint?JSON.stringify(e,null,2):JSON.stringify(e):e}static toJsonldQuad(e){return{subject:s.toJsonldTerm(e.subject),predicate:s.toJsonldTerm(e.predicate),object:s.toJsonldTerm(e.object),graph:s.toJsonldTerm(e.graph)}}static toJsonldTerm(e){return"BlankNode"===e.termType?{termType:"BlankNode",value:`_:${e.value}`}:e}}var l=s;class c extends r.Z{constructor(e){super(l,e)}}var d=c}}]);
//# sourceMappingURL=689.96a6be26.js.map