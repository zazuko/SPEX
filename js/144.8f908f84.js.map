{"version":3,"file":"js/144.8f908f84.js","mappings":"2GAAA,MAAMA,EAAmB,EAAQ,OAC3BC,EAAO,EAAQ,OAErB,MAAMC,UAAmBD,EACvBE,YAAaC,GACXC,MAAML,EAAkBI,EAC1B,EAGFE,EAAOC,QAAUL,C,oBCTjB,MAAMM,EACJL,YAAaM,GACXC,KAAKD,OAASA,EACdC,KAAKC,MAAQ,EACf,CAEAC,KAAMC,GACJH,KAAKC,MAAMC,KAAKC,EAClB,CAEAC,MACEJ,KAAKD,OAAOG,KAAKF,KAAKC,OACtBD,KAAKD,OAAOG,KAAK,KACnB,EAGFN,EAAOC,QAAUC,C,wBChBjB,MAAMO,EAAW,EAAQ,OACnBP,EAAgB,EAAQ,OACxBQ,EAAgB,EAAQ,OAE9B,MAAMhB,UAAyBe,EAC7BZ,YAAac,GAAO,SAAEC,EAAW,UAAa,CAAC,GAc7C,GAbAb,MAAM,CACJc,YAAY,EACZC,KAAM,SAGS,WAAbF,IACFR,KAAKW,QAAU,IAAIb,EAAcE,OAGlB,WAAbQ,IACFR,KAAKW,QAAU,IAAIL,EAAcN,QAG9BA,KAAKW,QACR,MAAM,IAAIC,MAAM,qBAAqBJ,KAGvCD,EAAMM,GAAG,QAAQC,IACf,MAAMX,EAAS,CAAC,EAChB,IAAIY,EAASZ,EAEe,iBAAxBW,EAAKE,MAAMC,WACbd,EAAO,OAASW,EAAKE,MAAME,MAC3Bf,EAAO,UAAY,CAAC,EACpBY,EAASZ,EAAO,WAGlBY,EAAO,OAASzB,EAAiB6B,aAAaL,EAAKM,SAEtB,oDAAzBN,EAAKO,UAAUH,MACjBH,EAAO,SAAWzB,EAAiB6B,aAAaL,EAAKQ,QAErDP,EAAOD,EAAKO,UAAUH,OAAS5B,EAAiBiC,YAAYT,EAAKQ,QAGnEtB,KAAKW,QAAQT,KAAKC,EAAM,IAG1BI,EAAMM,GAAG,OAAO,IAAMb,KAAKW,QAAQP,QAEnCG,EAAMM,GAAG,SAASW,GAAOxB,KAAKyB,KAAK,QAASD,IAC9C,CAEAE,oBAAqBN,GACnB,MAA4B,cAArBA,EAAQH,SAA2B,KAAOG,EAAQF,MAAQE,EAAQF,KAC3E,CAEAQ,mBAAoBJ,GAClB,MAAwB,cAApBA,EAAOL,SACF,CAAE,MAAOK,EAAOJ,OAGD,cAApBI,EAAOL,SACF,CAAE,MAAO,KAAOK,EAAOJ,OAG5BI,EAAOK,SACF,CAAE,YAAaL,EAAOK,SAAU,SAAUL,EAAOJ,OAC/CI,EAAOM,UAAsC,4CAA1BN,EAAOM,SAASV,MACrC,CAAE,QAASI,EAAOM,SAASV,MAAO,SAAUI,EAAOJ,OAEnDI,EAAOJ,KAElB,EAGFtB,EAAOC,QAAUP,C,oBCxEjB,MAAMgB,EACJb,YAAaM,GACXC,KAAKD,OAASA,EACdC,KAAK6B,OAAQ,EAEb7B,KAAKD,OAAOG,KAAK,IACnB,CAEAA,KAAMC,GACAH,KAAK6B,MACP7B,KAAK6B,OAAQ,EAEb7B,KAAKD,OAAOG,KAAK,KAGnBF,KAAKD,OAAOG,KAAK4B,KAAKC,UAAU5B,GAClC,CAEAC,MACEJ,KAAKD,OAAOG,KAAK,KACjBF,KAAKD,OAAOG,KAAK,KACnB,EAGFN,EAAOC,QAAUS,C","sources":["webpack://@zazuko/spex/./node_modules/@rdfjs/serializer-jsonld/index.js","webpack://@zazuko/spex/./node_modules/@rdfjs/serializer-jsonld/lib/ObjectEncoder.js","webpack://@zazuko/spex/./node_modules/@rdfjs/serializer-jsonld/lib/SerializerStream.js","webpack://@zazuko/spex/./node_modules/@rdfjs/serializer-jsonld/lib/StringEncoder.js"],"sourcesContent":["const SerializerStream = require('./lib/SerializerStream')\nconst Sink = require('@rdfjs/sink')\n\nclass Serializer extends Sink {\n  constructor (options) {\n    super(SerializerStream, options)\n  }\n}\n\nmodule.exports = Serializer\n","class ObjectEncoder {\n  constructor (stream) {\n    this.stream = stream\n    this.array = []\n  }\n\n  push (jsonld) {\n    this.array.push(jsonld)\n  }\n\n  end () {\n    this.stream.push(this.array)\n    this.stream.push(null)\n  }\n}\n\nmodule.exports = ObjectEncoder\n","const Readable = require('readable-stream')\nconst ObjectEncoder = require('./ObjectEncoder')\nconst StringEncoder = require('./StringEncoder')\n\nclass SerializerStream extends Readable {\n  constructor (input, { encoding = 'object' } = {}) {\n    super({\n      objectMode: true,\n      read: () => {}\n    })\n\n    if (encoding === 'object') {\n      this.encoder = new ObjectEncoder(this)\n    }\n\n    if (encoding === 'string') {\n      this.encoder = new StringEncoder(this)\n    }\n\n    if (!this.encoder) {\n      throw new Error(`unknown encoding: ${encoding}`)\n    }\n\n    input.on('data', quad => {\n      const jsonld = {}\n      let triple = jsonld\n\n      if (quad.graph.termType !== 'DefaultGraph') {\n        jsonld['@id'] = quad.graph.value\n        jsonld['@graph'] = {}\n        triple = jsonld['@graph']\n      }\n\n      triple['@id'] = SerializerStream.subjectValue(quad.subject)\n\n      if (quad.predicate.value === 'http://www.w3.org/1999/02/22-rdf-syntax-ns#type') {\n        triple['@type'] = SerializerStream.subjectValue(quad.object)\n      } else {\n        triple[quad.predicate.value] = SerializerStream.objectValue(quad.object)\n      }\n\n      this.encoder.push(jsonld)\n    })\n\n    input.on('end', () => this.encoder.end())\n\n    input.on('error', err => this.emit('error', err))\n  }\n\n  static subjectValue (subject) {\n    return subject.termType === 'BlankNode' ? '_:' + subject.value : subject.value\n  }\n\n  static objectValue (object) {\n    if (object.termType === 'NamedNode') {\n      return { '@id': object.value }\n    }\n\n    if (object.termType === 'BlankNode') {\n      return { '@id': '_:' + object.value }\n    }\n\n    if (object.language) {\n      return { '@language': object.language, '@value': object.value }\n    } else if (object.datatype && object.datatype.value !== 'http://www.w3.org/2001/XMLSchema#string') {\n      return { '@type': object.datatype.value, '@value': object.value }\n    } else {\n      return object.value\n    }\n  }\n}\n\nmodule.exports = SerializerStream\n","class StringEncoder {\n  constructor (stream) {\n    this.stream = stream\n    this.first = true\n\n    this.stream.push('[')\n  }\n\n  push (jsonld) {\n    if (this.first) {\n      this.first = false\n    } else {\n      this.stream.push(',')\n    }\n\n    this.stream.push(JSON.stringify(jsonld))\n  }\n\n  end () {\n    this.stream.push(']')\n    this.stream.push(null)\n  }\n}\n\nmodule.exports = StringEncoder\n"],"names":["SerializerStream","Sink","Serializer","constructor","options","super","module","exports","ObjectEncoder","stream","this","array","push","jsonld","end","Readable","StringEncoder","input","encoding","objectMode","read","encoder","Error","on","quad","triple","graph","termType","value","subjectValue","subject","predicate","object","objectValue","err","emit","static","language","datatype","first","JSON","stringify"],"sourceRoot":""}