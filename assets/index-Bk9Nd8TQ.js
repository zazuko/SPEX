var d={},o={},x;function b(){if(x)return o;x=1,Object.defineProperty(o,"__esModule",{value:!0}),o.removeDotSegmentsOfPath=o.removeDotSegments=o.resolve=void 0;function O(e,n){n=n||"";const t=n.indexOf("#");if(t>0&&(n=n.substr(0,t)),!e.length){if(n.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${n}' for value '${e}'`);return n}if(e.startsWith("?")){const g=n.indexOf("?");return g>0&&(n=n.substr(0,g)),n+e}if(e.startsWith("#"))return n+e;if(!n.length){const g=e.indexOf(":");if(g<0)throw new Error(`Found invalid relative IRI '${e}' for a missing baseIRI`);return f(e,g)}const r=e.indexOf(":");if(r>=0)return f(e,r);const s=n.indexOf(":");if(s<0)throw new Error(`Found invalid baseIRI '${n}' for value '${e}'`);const h=n.substr(0,s+1);if(e.indexOf("//")===0)return h+f(e,r);let i;if(n.indexOf("//",s)===s+1){if(i=n.indexOf("/",s+3),i<0)return n.length>s+3?n+"/"+f(e,r):h+f(e,r)}else if(i=n.indexOf("/",s+1),i<0)return h+f(e,r);if(e.indexOf("/")===0)return n.substr(0,i)+c(e);let l=n.substr(i);const m=l.lastIndexOf("/");return m>=0&&m<l.length-1&&(l=l.substr(0,m+1),e[0]==="."&&e[1]!=="."&&e[1]!=="/"&&e[2]&&(e=e.substr(1))),e=l+e,e=c(e),n.substr(0,i)+e}o.resolve=O;function c(e){const n=[];let t=0;for(;t<e.length;)switch(e[t]){case"/":if(e[t+1]===".")if(e[t+2]==="."){if(!u(e[t+3])){n.push([]),t++;break}n.pop(),e[t+3]||n.push([]),t+=3}else{if(!u(e[t+2])){n.push([]),t++;break}e[t+2]||n.push([]),t+=2}else n.push([]),t++;break;case"#":case"?":n.length||n.push([]),n[n.length-1].push(e.substr(t)),t=e.length;break;default:n.length||n.push([]),n[n.length-1].push(e[t]),t++;break}return"/"+n.map(r=>r.join("")).join("/")}o.removeDotSegments=c;function f(e,n){let t=n+1;n>=0?e[n+1]==="/"&&e[n+2]==="/"&&(t=n+3):e[0]==="/"&&e[1]==="/"&&(t=2);const r=e.indexOf("/",t);if(r<0)return e;const s=e.substr(0,r),h=e.substr(r);return s+c(h)}o.removeDotSegmentsOfPath=f;function u(e){return!e||e==="#"||e==="?"||e==="/"}return o}var S;function P(){return S||(S=1,function(O){var c=d&&d.__createBinding||(Object.create?function(u,e,n,t){t===void 0&&(t=n),Object.defineProperty(u,t,{enumerable:!0,get:function(){return e[n]}})}:function(u,e,n,t){t===void 0&&(t=n),u[t]=e[n]}),f=d&&d.__exportStar||function(u,e){for(var n in u)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&c(e,u,n)};Object.defineProperty(O,"__esModule",{value:!0}),f(b(),O)}(d)),d}export{P as r};
