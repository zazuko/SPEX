import{u as De,x as xe,y as Fe,z as ke,A as yr,E as _r}from"./index-CLau4BBQ.js";var ze={exports:{}},Ke={exports:{}},Je,Dt;function ce(){if(Dt)return Je;Dt=1;class u extends Error{constructor(p){if(!Array.isArray(p))throw new TypeError(`Expected input to be an Array, got ${typeof p}`);let N="";for(let B=0;B<p.length;B++)N+=`    ${p[B].stack}
`;super(N),this.name="AggregateError",this.errors=p}}return Je={AggregateError:u,ArrayIsArray(o){return Array.isArray(o)},ArrayPrototypeIncludes(o,p){return o.includes(p)},ArrayPrototypeIndexOf(o,p){return o.indexOf(p)},ArrayPrototypeJoin(o,p){return o.join(p)},ArrayPrototypeMap(o,p){return o.map(p)},ArrayPrototypePop(o,p){return o.pop(p)},ArrayPrototypePush(o,p){return o.push(p)},ArrayPrototypeSlice(o,p,N){return o.slice(p,N)},Error,FunctionPrototypeCall(o,p,...N){return o.call(p,...N)},FunctionPrototypeSymbolHasInstance(o,p){return Function.prototype[Symbol.hasInstance].call(o,p)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(o,p){return Object.defineProperties(o,p)},ObjectDefineProperty(o,p,N){return Object.defineProperty(o,p,N)},ObjectGetOwnPropertyDescriptor(o,p){return Object.getOwnPropertyDescriptor(o,p)},ObjectKeys(o){return Object.keys(o)},ObjectSetPrototypeOf(o,p){return Object.setPrototypeOf(o,p)},Promise,PromisePrototypeCatch(o,p){return o.catch(p)},PromisePrototypeThen(o,p,N){return o.then(p,N)},PromiseReject(o){return Promise.reject(o)},PromiseResolve(o){return Promise.resolve(o)},ReflectApply:Reflect.apply,RegExpPrototypeTest(o,p){return o.test(p)},SafeSet:Set,String,StringPrototypeSlice(o,p,N){return o.slice(p,N)},StringPrototypeToLowerCase(o){return o.toLowerCase()},StringPrototypeToUpperCase(o){return o.toUpperCase()},StringPrototypeTrim(o){return o.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(o,p,N){return o.set(p,N)},Boolean,Uint8Array},Je}var Xe={exports:{}},Qe,kt;function er(){return kt||(kt=1,Qe={format(u,...o){return u.replace(/%([sdifj])/g,function(...[p,N]){const B=o.shift();return N==="f"?B.toFixed(6):N==="j"?JSON.stringify(B):N==="s"&&typeof B=="object"?`${B.constructor!==Object?B.constructor.name:""} {}`.trim():B.toString()})},inspect(u){switch(typeof u){case"string":if(u.includes("'"))if(u.includes('"')){if(!u.includes("`")&&!u.includes("${"))return`\`${u}\``}else return`"${u}"`;return`'${u}'`;case"number":return isNaN(u)?"NaN":Object.is(u,-0)?String(u):u;case"bigint":return`${String(u)}n`;case"boolean":case"undefined":return String(u);case"object":return"{}"}}}),Qe}var Ze,Nt;function pe(){if(Nt)return Ze;Nt=1;const{format:u,inspect:o}=er(),{AggregateError:p}=ce(),N=globalThis.AggregateError||p,B=Symbol("kIsNodeError"),R=["string","function","number","object","Function","Object","boolean","bigint","symbol"],C=/^([A-Z][a-z0-9]*)+$/,y="__node_internal_",L={};function E(s,m){if(!s)throw new L.ERR_INTERNAL_ASSERTION(m)}function I(s){let m="",c=s.length;const a=s[0]==="-"?1:0;for(;c>=a+4;c-=3)m=`_${s.slice(c-3,c)}${m}`;return`${s.slice(0,c)}${m}`}function M(s,m,c){if(typeof m=="function")return E(m.length<=c.length,`Code: ${s}; The provided arguments length (${c.length}) does not match the required ones (${m.length}).`),m(...c);const a=(m.match(/%[dfijoOs]/g)||[]).length;return E(a===c.length,`Code: ${s}; The provided arguments length (${c.length}) does not match the required ones (${a}).`),c.length===0?m:u(m,...c)}function P(s,m,c){c||(c=Error);class a extends c{constructor(...z){super(M(s,m,z))}toString(){return`${this.name} [${s}]: ${this.message}`}}Object.defineProperties(a.prototype,{name:{value:c.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${s}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),a.prototype.code=s,a.prototype[B]=!0,L[s]=a}function U(s){const m=y+s.name;return Object.defineProperty(s,"name",{value:m}),s}function q(s,m){if(s&&m&&s!==m){if(Array.isArray(m.errors))return m.errors.push(s),m;const c=new N([m,s],m.message);return c.code=m.code,c}return s||m}class D extends Error{constructor(m="The operation was aborted",c=void 0){if(c!==void 0&&typeof c!="object")throw new L.ERR_INVALID_ARG_TYPE("options","Object",c);super(m,c),this.code="ABORT_ERR",this.name="AbortError"}}return P("ERR_ASSERTION","%s",Error),P("ERR_INVALID_ARG_TYPE",(s,m,c)=>{E(typeof s=="string","'name' must be a string"),Array.isArray(m)||(m=[m]);let a="The ";s.endsWith(" argument")?a+=`${s} `:a+=`"${s}" ${s.includes(".")?"property":"argument"} `,a+="must be ";const J=[],z=[],le=[];for(const Y of m)E(typeof Y=="string","All expected entries have to be of type string"),R.includes(Y)?J.push(Y.toLowerCase()):C.test(Y)?z.push(Y):(E(Y!=="object",'The value "object" should be written as "Object"'),le.push(Y));if(z.length>0){const Y=J.indexOf("object");Y!==-1&&(J.splice(J,Y,1),z.push("Object"))}if(J.length>0){switch(J.length){case 1:a+=`of type ${J[0]}`;break;case 2:a+=`one of type ${J[0]} or ${J[1]}`;break;default:{const Y=J.pop();a+=`one of type ${J.join(", ")}, or ${Y}`}}(z.length>0||le.length>0)&&(a+=" or ")}if(z.length>0){switch(z.length){case 1:a+=`an instance of ${z[0]}`;break;case 2:a+=`an instance of ${z[0]} or ${z[1]}`;break;default:{const Y=z.pop();a+=`an instance of ${z.join(", ")}, or ${Y}`}}le.length>0&&(a+=" or ")}switch(le.length){case 0:break;case 1:le[0].toLowerCase()!==le[0]&&(a+="an "),a+=`${le[0]}`;break;case 2:a+=`one of ${le[0]} or ${le[1]}`;break;default:{const Y=le.pop();a+=`one of ${le.join(", ")}, or ${Y}`}}if(c==null)a+=`. Received ${c}`;else if(typeof c=="function"&&c.name)a+=`. Received function ${c.name}`;else if(typeof c=="object"){var oe;if((oe=c.constructor)!==null&&oe!==void 0&&oe.name)a+=`. Received an instance of ${c.constructor.name}`;else{const Y=o(c,{depth:-1});a+=`. Received ${Y}`}}else{let Y=o(c,{colors:!1});Y.length>25&&(Y=`${Y.slice(0,25)}...`),a+=`. Received type ${typeof c} (${Y})`}return a},TypeError),P("ERR_INVALID_ARG_VALUE",(s,m,c="is invalid")=>{let a=o(m);return a.length>128&&(a=a.slice(0,128)+"..."),`The ${s.includes(".")?"property":"argument"} '${s}' ${c}. Received ${a}`},TypeError),P("ERR_INVALID_RETURN_VALUE",(s,m,c)=>{var a;const J=c!=null&&(a=c.constructor)!==null&&a!==void 0&&a.name?`instance of ${c.constructor.name}`:`type ${typeof c}`;return`Expected ${s} to be returned from the "${m}" function but got ${J}.`},TypeError),P("ERR_MISSING_ARGS",(...s)=>{E(s.length>0,"At least one arg needs to be specified");let m;const c=s.length;switch(s=(Array.isArray(s)?s:[s]).map(a=>`"${a}"`).join(" or "),c){case 1:m+=`The ${s[0]} argument`;break;case 2:m+=`The ${s[0]} and ${s[1]} arguments`;break;default:{const a=s.pop();m+=`The ${s.join(", ")}, and ${a} arguments`}break}return`${m} must be specified`},TypeError),P("ERR_OUT_OF_RANGE",(s,m,c)=>{E(m,'Missing "range" argument');let a;if(Number.isInteger(c)&&Math.abs(c)>2**32)a=I(String(c));else if(typeof c=="bigint"){a=String(c);const J=BigInt(2)**BigInt(32);(c>J||c<-J)&&(a=I(a)),a+="n"}else a=o(c);return`The value of "${s}" is out of range. It must be ${m}. Received ${a}`},RangeError),P("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),P("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),P("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),P("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),P("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),P("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),P("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),P("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),P("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),P("ERR_STREAM_WRITE_AFTER_END","write after end",Error),P("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),Ze={AbortError:D,aggregateTwoErrors:U(q),hideStackFrames:U,codes:L},Ze}var Pt;function _e(){return Pt||(Pt=1,function(u){const o=De(),{format:p,inspect:N}=er(),{codes:{ERR_INVALID_ARG_TYPE:B}}=pe(),{kResistStopPropagation:R,AggregateError:C,SymbolDispose:y}=ce(),L=globalThis.AbortSignal||xe().AbortSignal,E=globalThis.AbortController||xe().AbortController,I=Object.getPrototypeOf(async function(){}).constructor,M=globalThis.Blob||o.Blob,P=typeof M<"u"?function(s){return s instanceof M}:function(s){return!1},U=(D,s)=>{if(D!==void 0&&(D===null||typeof D!="object"||!("aborted"in D)))throw new B(s,"AbortSignal",D)},q=(D,s)=>{if(typeof D!="function")throw new B(s,"Function",D)};u.exports={AggregateError:C,kEmptyObject:Object.freeze({}),once(D){let s=!1;return function(...m){s||(s=!0,D.apply(this,m))}},createDeferredPromise:function(){let D,s;return{promise:new Promise((c,a)=>{D=c,s=a}),resolve:D,reject:s}},promisify(D){return new Promise((s,m)=>{D((c,...a)=>c?m(c):s(...a))})},debuglog(){return function(){}},format:p,inspect:N,types:{isAsyncFunction(D){return D instanceof I},isArrayBufferView(D){return ArrayBuffer.isView(D)}},isBlob:P,deprecate(D,s){return D},addAbortListener:Fe().addAbortListener||function(s,m){if(s===void 0)throw new B("signal","AbortSignal",s);U(s,"signal"),q(m,"listener");let c;return s.aborted?queueMicrotask(()=>m()):(s.addEventListener("abort",m,{__proto__:null,once:!0,[R]:!0}),c=()=>{s.removeEventListener("abort",m)}),{__proto__:null,[y](){var a;(a=c)===null||a===void 0||a()}}},AbortSignalAny:L.any||function(s){if(s.length===1)return s[0];const m=new E,c=()=>m.abort();return s.forEach(a=>{U(a,"signals"),a.addEventListener("abort",c,{once:!0})}),m.signal.addEventListener("abort",()=>{s.forEach(a=>a.removeEventListener("abort",c))},{once:!0}),m.signal}},u.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}(Xe)),Xe.exports}var Ce={},et,Lt;function Oe(){if(Lt)return et;Lt=1;const{ArrayIsArray:u,ArrayPrototypeIncludes:o,ArrayPrototypeJoin:p,ArrayPrototypeMap:N,NumberIsInteger:B,NumberIsNaN:R,NumberMAX_SAFE_INTEGER:C,NumberMIN_SAFE_INTEGER:y,NumberParseInt:L,ObjectPrototypeHasOwnProperty:E,RegExpPrototypeExec:I,String:M,StringPrototypeToUpperCase:P,StringPrototypeTrim:U}=ce(),{hideStackFrames:q,codes:{ERR_SOCKET_BAD_PORT:D,ERR_INVALID_ARG_TYPE:s,ERR_INVALID_ARG_VALUE:m,ERR_OUT_OF_RANGE:c,ERR_UNKNOWN_SIGNAL:a}}=pe(),{normalizeEncoding:J}=_e(),{isAsyncFunction:z,isArrayBufferView:le}=_e().types,oe={};function Y(n){return n===(n|0)}function ue(n){return n===n>>>0}const w=/^[0-7]+$/,h="must be a 32-bit unsigned integer or an octal string";function k(n,T,O){if(typeof n>"u"&&(n=O),typeof n=="string"){if(I(w,n)===null)throw new m(T,n,h);n=L(n,8)}return K(n,T),n}const f=q((n,T,O=y,g=C)=>{if(typeof n!="number")throw new s(T,"number",n);if(!B(n))throw new c(T,"an integer",n);if(n<O||n>g)throw new c(T,`>= ${O} && <= ${g}`,n)}),H=q((n,T,O=-2147483648,g=2147483647)=>{if(typeof n!="number")throw new s(T,"number",n);if(!B(n))throw new c(T,"an integer",n);if(n<O||n>g)throw new c(T,`>= ${O} && <= ${g}`,n)}),K=q((n,T,O=!1)=>{if(typeof n!="number")throw new s(T,"number",n);if(!B(n))throw new c(T,"an integer",n);const g=O?1:0,fe=4294967295;if(n<g||n>fe)throw new c(T,`>= ${g} && <= ${fe}`,n)});function ee(n,T){if(typeof n!="string")throw new s(T,"string",n)}function ae(n,T,O=void 0,g){if(typeof n!="number")throw new s(T,"number",n);if(O!=null&&n<O||g!=null&&n>g||(O!=null||g!=null)&&R(n))throw new c(T,`${O!=null?`>= ${O}`:""}${O!=null&&g!=null?" && ":""}${g!=null?`<= ${g}`:""}`,n)}const S=q((n,T,O)=>{if(!o(O,n)){const fe="must be one of: "+p(N(O,ye=>typeof ye=="string"?`'${ye}'`:M(ye)),", ");throw new m(T,n,fe)}});function X(n,T){if(typeof n!="boolean")throw new s(T,"boolean",n)}function r(n,T,O){return n==null||!E(n,T)?O:n[T]}const A=q((n,T,O=null)=>{const g=r(O,"allowArray",!1),fe=r(O,"allowFunction",!1);if(!r(O,"nullable",!1)&&n===null||!g&&u(n)||typeof n!="object"&&(!fe||typeof n!="function"))throw new s(T,"Object",n)}),V=q((n,T)=>{if(n!=null&&typeof n!="object"&&typeof n!="function")throw new s(T,"a dictionary",n)}),_=q((n,T,O=0)=>{if(!u(n))throw new s(T,"Array",n);if(n.length<O){const g=`must be longer than ${O}`;throw new m(T,n,g)}});function Z(n,T){_(n,T);for(let O=0;O<n.length;O++)ee(n[O],`${T}[${O}]`)}function te(n,T){_(n,T);for(let O=0;O<n.length;O++)X(n[O],`${T}[${O}]`)}function se(n,T){_(n,T);for(let O=0;O<n.length;O++){const g=n[O],fe=`${T}[${O}]`;if(g==null)throw new s(fe,"AbortSignal",g);ne(g,fe)}}function ie(n,T="signal"){if(ee(n,T),oe[n]===void 0)throw oe[P(n)]!==void 0?new a(n+" (signals must use all capital letters)"):new a(n)}const b=q((n,T="buffer")=>{if(!le(n))throw new s(T,["Buffer","TypedArray","DataView"],n)});function v(n,T){const O=J(T),g=n.length;if(O==="hex"&&g%2!==0)throw new m("encoding",T,`is invalid for data of length ${g}`)}function G(n,T="Port",O=!0){if(typeof n!="number"&&typeof n!="string"||typeof n=="string"&&U(n).length===0||+n!==+n>>>0||n>65535||n===0&&!O)throw new D(T,n,O);return n|0}const ne=q((n,T)=>{if(n!==void 0&&(n===null||typeof n!="object"||!("aborted"in n)))throw new s(T,"AbortSignal",n)}),re=q((n,T)=>{if(typeof n!="function")throw new s(T,"Function",n)}),i=q((n,T)=>{if(typeof n!="function"||z(n))throw new s(T,"Function",n)}),l=q((n,T)=>{if(n!==void 0)throw new s(T,"undefined",n)});function d(n,T,O){if(!o(O,n))throw new s(T,`('${p(O,"|")}')`,n)}const $=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function W(n,T){if(typeof n>"u"||!I($,n))throw new m(T,n,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function x(n){if(typeof n=="string")return W(n,"hints"),n;if(u(n)){const T=n.length;let O="";if(T===0)return O;for(let g=0;g<T;g++){const fe=n[g];W(fe,"hints"),O+=fe,g!==T-1&&(O+=", ")}return O}throw new m("hints",n,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return et={isInt32:Y,isUint32:ue,parseFileMode:k,validateArray:_,validateStringArray:Z,validateBooleanArray:te,validateAbortSignalArray:se,validateBoolean:X,validateBuffer:b,validateDictionary:V,validateEncoding:v,validateFunction:re,validateInt32:H,validateInteger:f,validateNumber:ae,validateObject:A,validateOneOf:S,validatePlainFunction:i,validatePort:G,validateSignalName:ie,validateString:ee,validateUint32:K,validateUndefined:l,validateUnion:d,validateAbortSignal:ne,validateLinkHeaderValue:x},et}var $e={exports:{}},tt,xt;function ve(){if(xt)return tt;xt=1;const{SymbolAsyncIterator:u,SymbolIterator:o,SymbolFor:p}=ce(),N=p("nodejs.stream.destroyed"),B=p("nodejs.stream.errored"),R=p("nodejs.stream.readable"),C=p("nodejs.stream.writable"),y=p("nodejs.stream.disturbed"),L=p("nodejs.webstream.isClosedPromise"),E=p("nodejs.webstream.controllerErrorFunction");function I(r,A=!1){var V;return!!(r&&typeof r.pipe=="function"&&typeof r.on=="function"&&(!A||typeof r.pause=="function"&&typeof r.resume=="function")&&(!r._writableState||((V=r._readableState)===null||V===void 0?void 0:V.readable)!==!1)&&(!r._writableState||r._readableState))}function M(r){var A;return!!(r&&typeof r.write=="function"&&typeof r.on=="function"&&(!r._readableState||((A=r._writableState)===null||A===void 0?void 0:A.writable)!==!1))}function P(r){return!!(r&&typeof r.pipe=="function"&&r._readableState&&typeof r.on=="function"&&typeof r.write=="function")}function U(r){return r&&(r._readableState||r._writableState||typeof r.write=="function"&&typeof r.on=="function"||typeof r.pipe=="function"&&typeof r.on=="function")}function q(r){return!!(r&&!U(r)&&typeof r.pipeThrough=="function"&&typeof r.getReader=="function"&&typeof r.cancel=="function")}function D(r){return!!(r&&!U(r)&&typeof r.getWriter=="function"&&typeof r.abort=="function")}function s(r){return!!(r&&!U(r)&&typeof r.readable=="object"&&typeof r.writable=="object")}function m(r){return q(r)||D(r)||s(r)}function c(r,A){return r==null?!1:A===!0?typeof r[u]=="function":A===!1?typeof r[o]=="function":typeof r[u]=="function"||typeof r[o]=="function"}function a(r){if(!U(r))return null;const A=r._writableState,V=r._readableState,_=A||V;return!!(r.destroyed||r[N]||_!=null&&_.destroyed)}function J(r){if(!M(r))return null;if(r.writableEnded===!0)return!0;const A=r._writableState;return A!=null&&A.errored?!1:typeof(A==null?void 0:A.ended)!="boolean"?null:A.ended}function z(r,A){if(!M(r))return null;if(r.writableFinished===!0)return!0;const V=r._writableState;return V!=null&&V.errored?!1:typeof(V==null?void 0:V.finished)!="boolean"?null:!!(V.finished||A===!1&&V.ended===!0&&V.length===0)}function le(r){if(!I(r))return null;if(r.readableEnded===!0)return!0;const A=r._readableState;return!A||A.errored?!1:typeof(A==null?void 0:A.ended)!="boolean"?null:A.ended}function oe(r,A){if(!I(r))return null;const V=r._readableState;return V!=null&&V.errored?!1:typeof(V==null?void 0:V.endEmitted)!="boolean"?null:!!(V.endEmitted||A===!1&&V.ended===!0&&V.length===0)}function Y(r){return r&&r[R]!=null?r[R]:typeof(r==null?void 0:r.readable)!="boolean"?null:a(r)?!1:I(r)&&r.readable&&!oe(r)}function ue(r){return r&&r[C]!=null?r[C]:typeof(r==null?void 0:r.writable)!="boolean"?null:a(r)?!1:M(r)&&r.writable&&!J(r)}function w(r,A){return U(r)?a(r)?!0:!((A==null?void 0:A.readable)!==!1&&Y(r)||(A==null?void 0:A.writable)!==!1&&ue(r)):null}function h(r){var A,V;return U(r)?r.writableErrored?r.writableErrored:(A=(V=r._writableState)===null||V===void 0?void 0:V.errored)!==null&&A!==void 0?A:null:null}function k(r){var A,V;return U(r)?r.readableErrored?r.readableErrored:(A=(V=r._readableState)===null||V===void 0?void 0:V.errored)!==null&&A!==void 0?A:null:null}function f(r){if(!U(r))return null;if(typeof r.closed=="boolean")return r.closed;const A=r._writableState,V=r._readableState;return typeof(A==null?void 0:A.closed)=="boolean"||typeof(V==null?void 0:V.closed)=="boolean"?(A==null?void 0:A.closed)||(V==null?void 0:V.closed):typeof r._closed=="boolean"&&H(r)?r._closed:null}function H(r){return typeof r._closed=="boolean"&&typeof r._defaultKeepAlive=="boolean"&&typeof r._removedConnection=="boolean"&&typeof r._removedContLen=="boolean"}function K(r){return typeof r._sent100=="boolean"&&H(r)}function ee(r){var A;return typeof r._consuming=="boolean"&&typeof r._dumped=="boolean"&&((A=r.req)===null||A===void 0?void 0:A.upgradeOrConnect)===void 0}function ae(r){if(!U(r))return null;const A=r._writableState,V=r._readableState,_=A||V;return!_&&K(r)||!!(_&&_.autoDestroy&&_.emitClose&&_.closed===!1)}function S(r){var A;return!!(r&&((A=r[y])!==null&&A!==void 0?A:r.readableDidRead||r.readableAborted))}function X(r){var A,V,_,Z,te,se,ie,b,v,G;return!!(r&&((A=(V=(_=(Z=(te=(se=r[B])!==null&&se!==void 0?se:r.readableErrored)!==null&&te!==void 0?te:r.writableErrored)!==null&&Z!==void 0?Z:(ie=r._readableState)===null||ie===void 0?void 0:ie.errorEmitted)!==null&&_!==void 0?_:(b=r._writableState)===null||b===void 0?void 0:b.errorEmitted)!==null&&V!==void 0?V:(v=r._readableState)===null||v===void 0?void 0:v.errored)!==null&&A!==void 0?A:!((G=r._writableState)===null||G===void 0)&&G.errored))}return tt={isDestroyed:a,kIsDestroyed:N,isDisturbed:S,kIsDisturbed:y,isErrored:X,kIsErrored:B,isReadable:Y,kIsReadable:R,kIsClosedPromise:L,kControllerErrorFunction:E,kIsWritable:C,isClosed:f,isDuplexNodeStream:P,isFinished:w,isIterable:c,isReadableNodeStream:I,isReadableStream:q,isReadableEnded:le,isReadableFinished:oe,isReadableErrored:k,isNodeStream:U,isWebStream:m,isWritable:ue,isWritableNodeStream:M,isWritableStream:D,isWritableEnded:J,isWritableFinished:z,isWritableErrored:h,isServerRequest:ee,isServerResponse:K,willEmitClose:ae,isTransformStream:s},tt}var Ot;function Te(){if(Ot)return $e.exports;Ot=1;const u=ke(),{AbortError:o,codes:p}=pe(),{ERR_INVALID_ARG_TYPE:N,ERR_STREAM_PREMATURE_CLOSE:B}=p,{kEmptyObject:R,once:C}=_e(),{validateAbortSignal:y,validateFunction:L,validateObject:E,validateBoolean:I}=Oe(),{Promise:M,PromisePrototypeThen:P,SymbolDispose:U}=ce(),{isClosed:q,isReadable:D,isReadableNodeStream:s,isReadableStream:m,isReadableFinished:c,isReadableErrored:a,isWritable:J,isWritableNodeStream:z,isWritableStream:le,isWritableFinished:oe,isWritableErrored:Y,isNodeStream:ue,willEmitClose:w,kIsClosedPromise:h}=ve();let k;function f(S){return S.setHeader&&typeof S.abort=="function"}const H=()=>{};function K(S,X,r){var A,V;if(arguments.length===2?(r=X,X=R):X==null?X=R:E(X,"options"),L(r,"callback"),y(X.signal,"options.signal"),r=C(r),m(S)||le(S))return ee(S,X,r);if(!ue(S))throw new N("stream",["ReadableStream","WritableStream","Stream"],S);const _=(A=X.readable)!==null&&A!==void 0?A:s(S),Z=(V=X.writable)!==null&&V!==void 0?V:z(S),te=S._writableState,se=S._readableState,ie=()=>{S.writable||G()};let b=w(S)&&s(S)===_&&z(S)===Z,v=oe(S,!1);const G=()=>{v=!0,S.destroyed&&(b=!1),!(b&&(!S.readable||_))&&(!_||ne)&&r.call(S)};let ne=c(S,!1);const re=()=>{ne=!0,S.destroyed&&(b=!1),!(b&&(!S.writable||Z))&&(!Z||v)&&r.call(S)},i=n=>{r.call(S,n)};let l=q(S);const d=()=>{l=!0;const n=Y(S)||a(S);if(n&&typeof n!="boolean")return r.call(S,n);if(_&&!ne&&s(S,!0)&&!c(S,!1))return r.call(S,new B);if(Z&&!v&&!oe(S,!1))return r.call(S,new B);r.call(S)},$=()=>{l=!0;const n=Y(S)||a(S);if(n&&typeof n!="boolean")return r.call(S,n);r.call(S)},W=()=>{S.req.on("finish",G)};f(S)?(S.on("complete",G),b||S.on("abort",d),S.req?W():S.on("request",W)):Z&&!te&&(S.on("end",ie),S.on("close",ie)),!b&&typeof S.aborted=="boolean"&&S.on("aborted",d),S.on("end",re),S.on("finish",G),X.error!==!1&&S.on("error",i),S.on("close",d),l?u.nextTick(d):te!=null&&te.errorEmitted||se!=null&&se.errorEmitted?b||u.nextTick($):(!_&&(!b||D(S))&&(v||J(S)===!1)||!Z&&(!b||J(S))&&(ne||D(S)===!1)||se&&S.req&&S.aborted)&&u.nextTick($);const x=()=>{r=H,S.removeListener("aborted",d),S.removeListener("complete",G),S.removeListener("abort",d),S.removeListener("request",W),S.req&&S.req.removeListener("finish",G),S.removeListener("end",ie),S.removeListener("close",ie),S.removeListener("finish",G),S.removeListener("end",re),S.removeListener("error",i),S.removeListener("close",d)};if(X.signal&&!l){const n=()=>{const T=r;x(),T.call(S,new o(void 0,{cause:X.signal.reason}))};if(X.signal.aborted)u.nextTick(n);else{k=k||_e().addAbortListener;const T=k(X.signal,n),O=r;r=C((...g)=>{T[U](),O.apply(S,g)})}}return x}function ee(S,X,r){let A=!1,V=H;if(X.signal)if(V=()=>{A=!0,r.call(S,new o(void 0,{cause:X.signal.reason}))},X.signal.aborted)u.nextTick(V);else{k=k||_e().addAbortListener;const Z=k(X.signal,V),te=r;r=C((...se)=>{Z[U](),te.apply(S,se)})}const _=(...Z)=>{A||u.nextTick(()=>r.apply(S,Z))};return P(S[h].promise,_,_),H}function ae(S,X){var r;let A=!1;return X===null&&(X=R),(r=X)!==null&&r!==void 0&&r.cleanup&&(I(X.cleanup,"cleanup"),A=X.cleanup),new M((V,_)=>{const Z=K(S,X,te=>{A&&Z(),te?_(te):V()})})}return $e.exports=K,$e.exports.finished=ae,$e.exports}var rt,Wt;function Ne(){if(Wt)return rt;Wt=1;const u=ke(),{aggregateTwoErrors:o,codes:{ERR_MULTIPLE_CALLBACK:p},AbortError:N}=pe(),{Symbol:B}=ce(),{kIsDestroyed:R,isDestroyed:C,isFinished:y,isServerRequest:L}=ve(),E=B("kDestroy"),I=B("kConstruct");function M(w,h,k){w&&(w.stack,h&&!h.errored&&(h.errored=w),k&&!k.errored&&(k.errored=w))}function P(w,h){const k=this._readableState,f=this._writableState,H=f||k;return f!=null&&f.destroyed||k!=null&&k.destroyed?(typeof h=="function"&&h(),this):(M(w,f,k),f&&(f.destroyed=!0),k&&(k.destroyed=!0),H.constructed?U(this,w,h):this.once(E,function(K){U(this,o(K,w),h)}),this)}function U(w,h,k){let f=!1;function H(K){if(f)return;f=!0;const ee=w._readableState,ae=w._writableState;M(K,ae,ee),ae&&(ae.closed=!0),ee&&(ee.closed=!0),typeof k=="function"&&k(K),K?u.nextTick(q,w,K):u.nextTick(D,w)}try{w._destroy(h||null,H)}catch(K){H(K)}}function q(w,h){s(w,h),D(w)}function D(w){const h=w._readableState,k=w._writableState;k&&(k.closeEmitted=!0),h&&(h.closeEmitted=!0),(k!=null&&k.emitClose||h!=null&&h.emitClose)&&w.emit("close")}function s(w,h){const k=w._readableState,f=w._writableState;f!=null&&f.errorEmitted||k!=null&&k.errorEmitted||(f&&(f.errorEmitted=!0),k&&(k.errorEmitted=!0),w.emit("error",h))}function m(){const w=this._readableState,h=this._writableState;w&&(w.constructed=!0,w.closed=!1,w.closeEmitted=!1,w.destroyed=!1,w.errored=null,w.errorEmitted=!1,w.reading=!1,w.ended=w.readable===!1,w.endEmitted=w.readable===!1),h&&(h.constructed=!0,h.destroyed=!1,h.closed=!1,h.closeEmitted=!1,h.errored=null,h.errorEmitted=!1,h.finalCalled=!1,h.prefinished=!1,h.ended=h.writable===!1,h.ending=h.writable===!1,h.finished=h.writable===!1)}function c(w,h,k){const f=w._readableState,H=w._writableState;if(H!=null&&H.destroyed||f!=null&&f.destroyed)return this;f!=null&&f.autoDestroy||H!=null&&H.autoDestroy?w.destroy(h):h&&(h.stack,H&&!H.errored&&(H.errored=h),f&&!f.errored&&(f.errored=h),k?u.nextTick(s,w,h):s(w,h))}function a(w,h){if(typeof w._construct!="function")return;const k=w._readableState,f=w._writableState;k&&(k.constructed=!1),f&&(f.constructed=!1),w.once(I,h),!(w.listenerCount(I)>1)&&u.nextTick(J,w)}function J(w){let h=!1;function k(f){if(h){c(w,f??new p);return}h=!0;const H=w._readableState,K=w._writableState,ee=K||H;H&&(H.constructed=!0),K&&(K.constructed=!0),ee.destroyed?w.emit(E,f):f?c(w,f,!0):u.nextTick(z,w)}try{w._construct(f=>{u.nextTick(k,f)})}catch(f){u.nextTick(k,f)}}function z(w){w.emit(I)}function le(w){return(w==null?void 0:w.setHeader)&&typeof w.abort=="function"}function oe(w){w.emit("close")}function Y(w,h){w.emit("error",h),u.nextTick(oe,w)}function ue(w,h){!w||C(w)||(!h&&!y(w)&&(h=new N),L(w)?(w.socket=null,w.destroy(h)):le(w)?w.abort():le(w.req)?w.req.abort():typeof w.destroy=="function"?w.destroy(h):typeof w.close=="function"?w.close():h?u.nextTick(Y,w,h):u.nextTick(oe,w),w.destroyed||(w[R]=!0))}return rt={construct:a,destroyer:ue,destroy:P,undestroy:m,errorOrDestroy:c},rt}var nt,Ct;function _t(){if(Ct)return nt;Ct=1;const{ArrayIsArray:u,ObjectSetPrototypeOf:o}=ce(),{EventEmitter:p}=Fe();function N(R){p.call(this,R)}o(N.prototype,p.prototype),o(N,p),N.prototype.pipe=function(R,C){const y=this;function L(D){R.writable&&R.write(D)===!1&&y.pause&&y.pause()}y.on("data",L);function E(){y.readable&&y.resume&&y.resume()}R.on("drain",E),!R._isStdio&&(!C||C.end!==!1)&&(y.on("end",M),y.on("close",P));let I=!1;function M(){I||(I=!0,R.end())}function P(){I||(I=!0,typeof R.destroy=="function"&&R.destroy())}function U(D){q(),p.listenerCount(this,"error")===0&&this.emit("error",D)}B(y,"error",U),B(R,"error",U);function q(){y.removeListener("data",L),R.removeListener("drain",E),y.removeListener("end",M),y.removeListener("close",P),y.removeListener("error",U),R.removeListener("error",U),y.removeListener("end",q),y.removeListener("close",q),R.removeListener("close",q)}return y.on("end",q),y.on("close",q),R.on("close",q),R.emit("pipe",y),R};function B(R,C,y){if(typeof R.prependListener=="function")return R.prependListener(C,y);!R._events||!R._events[C]?R.on(C,y):u(R._events[C])?R._events[C].unshift(y):R._events[C]=[y,R._events[C]]}return nt={Stream:N,prependListener:B},nt}var it={exports:{}},$t;function je(){return $t||($t=1,function(u){const{SymbolDispose:o}=ce(),{AbortError:p,codes:N}=pe(),{isNodeStream:B,isWebStream:R,kControllerErrorFunction:C}=ve(),y=Te(),{ERR_INVALID_ARG_TYPE:L}=N;let E;const I=(M,P)=>{if(typeof M!="object"||!("aborted"in M))throw new L(P,"AbortSignal",M)};u.exports.addAbortSignal=function(P,U){if(I(P,"signal"),!B(U)&&!R(U))throw new L("stream",["ReadableStream","WritableStream","Stream"],U);return u.exports.addAbortSignalNoValidate(P,U)},u.exports.addAbortSignalNoValidate=function(M,P){if(typeof M!="object"||!("aborted"in M))return P;const U=B(P)?()=>{P.destroy(new p(void 0,{cause:M.reason}))}:()=>{P[C](new p(void 0,{cause:M.reason}))};if(M.aborted)U();else{E=E||_e().addAbortListener;const q=E(M,U);y(P,q[o])}return P}}(it)),it.exports}var ot,Ft;function wr(){if(Ft)return ot;Ft=1;const{StringPrototypeSlice:u,SymbolIterator:o,TypedArrayPrototypeSet:p,Uint8Array:N}=ce(),{Buffer:B}=De(),{inspect:R}=_e();return ot=class{constructor(){this.head=null,this.tail=null,this.length=0}push(y){const L={data:y,next:null};this.length>0?this.tail.next=L:this.head=L,this.tail=L,++this.length}unshift(y){const L={data:y,next:this.head};this.length===0&&(this.tail=L),this.head=L,++this.length}shift(){if(this.length===0)return;const y=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,y}clear(){this.head=this.tail=null,this.length=0}join(y){if(this.length===0)return"";let L=this.head,E=""+L.data;for(;(L=L.next)!==null;)E+=y+L.data;return E}concat(y){if(this.length===0)return B.alloc(0);const L=B.allocUnsafe(y>>>0);let E=this.head,I=0;for(;E;)p(L,E.data,I),I+=E.data.length,E=E.next;return L}consume(y,L){const E=this.head.data;if(y<E.length){const I=E.slice(0,y);return this.head.data=E.slice(y),I}return y===E.length?this.shift():L?this._getString(y):this._getBuffer(y)}first(){return this.head.data}*[o](){for(let y=this.head;y;y=y.next)yield y.data}_getString(y){let L="",E=this.head,I=0;do{const M=E.data;if(y>M.length)L+=M,y-=M.length;else{y===M.length?(L+=M,++I,E.next?this.head=E.next:this.head=this.tail=null):(L+=u(M,0,y),this.head=E,E.data=u(M,y));break}++I}while((E=E.next)!==null);return this.length-=I,L}_getBuffer(y){const L=B.allocUnsafe(y),E=y;let I=this.head,M=0;do{const P=I.data;if(y>P.length)p(L,P,E-y),y-=P.length;else{y===P.length?(p(L,P,E-y),++M,I.next?this.head=I.next:this.head=this.tail=null):(p(L,new N(P.buffer,P.byteOffset,y),E-y),this.head=I,I.data=P.slice(y));break}++M}while((I=I.next)!==null);return this.length-=M,L}[Symbol.for("nodejs.util.inspect.custom")](y,L){return R(this,{...L,depth:0,customInspect:!1})}},ot}var lt,jt;function Be(){if(jt)return lt;jt=1;const{MathFloor:u,NumberIsInteger:o}=ce(),{validateInteger:p}=Oe(),{ERR_INVALID_ARG_VALUE:N}=pe().codes;let B=16*1024,R=16;function C(I,M,P){return I.highWaterMark!=null?I.highWaterMark:M?I[P]:null}function y(I){return I?R:B}function L(I,M){p(M,"value",0),I?R=M:B=M}function E(I,M,P,U){const q=C(M,U,P);if(q!=null){if(!o(q)||q<0){const D=U?`options.${P}`:"options.highWaterMark";throw new N(D,q)}return u(q)}return y(I.objectMode)}return lt={getHighWaterMark:E,getDefaultHighWaterMark:y,setDefaultHighWaterMark:L},lt}var at,Bt;function tr(){if(Bt)return at;Bt=1;const u=ke(),{PromisePrototypeThen:o,SymbolAsyncIterator:p,SymbolIterator:N}=ce(),{Buffer:B}=De(),{ERR_INVALID_ARG_TYPE:R,ERR_STREAM_NULL_VALUES:C}=pe().codes;function y(L,E,I){let M;if(typeof E=="string"||E instanceof B)return new L({objectMode:!0,...I,read(){this.push(E),this.push(null)}});let P;if(E&&E[p])P=!0,M=E[p]();else if(E&&E[N])P=!1,M=E[N]();else throw new R("iterable",["Iterable"],E);const U=new L({objectMode:!0,highWaterMark:1,...I});let q=!1;U._read=function(){q||(q=!0,s())},U._destroy=function(m,c){o(D(m),()=>u.nextTick(c,m),a=>u.nextTick(c,a||m))};async function D(m){const c=m!=null,a=typeof M.throw=="function";if(c&&a){const{value:J,done:z}=await M.throw(m);if(await J,z)return}if(typeof M.return=="function"){const{value:J}=await M.return();await J}}async function s(){for(;;){try{const{value:m,done:c}=P?await M.next():M.next();if(c)U.push(null);else{const a=m&&typeof m.then=="function"?await m:m;if(a===null)throw q=!1,new C;if(U.push(a))continue;q=!1}}catch(m){U.destroy(m)}break}}return U}return at=y,at}var st,qt;function qe(){if(qt)return st;qt=1;const u=ke(),{ArrayPrototypeIndexOf:o,NumberIsInteger:p,NumberIsNaN:N,NumberParseInt:B,ObjectDefineProperties:R,ObjectKeys:C,ObjectSetPrototypeOf:y,Promise:L,SafeSet:E,SymbolAsyncDispose:I,SymbolAsyncIterator:M,Symbol:P}=ce();st=g,g.ReadableState=O;const{EventEmitter:U}=Fe(),{Stream:q,prependListener:D}=_t(),{Buffer:s}=De(),{addAbortSignal:m}=je(),c=Te();let a=_e().debuglog("stream",e=>{a=e});const J=wr(),z=Ne(),{getHighWaterMark:le,getDefaultHighWaterMark:oe}=Be(),{aggregateTwoErrors:Y,codes:{ERR_INVALID_ARG_TYPE:ue,ERR_METHOD_NOT_IMPLEMENTED:w,ERR_OUT_OF_RANGE:h,ERR_STREAM_PUSH_AFTER_EOF:k,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:f},AbortError:H}=pe(),{validateObject:K}=Oe(),ee=P("kPaused"),{StringDecoder:ae}=yr(),S=tr();y(g.prototype,q.prototype),y(g,q);const X=()=>{},{errorOrDestroy:r}=z,A=1,V=2,_=4,Z=8,te=16,se=32,ie=64,b=128,v=256,G=512,ne=1024,re=2048,i=4096,l=8192,d=16384,$=32768,W=65536,x=1<<17,n=1<<18;function T(e){return{enumerable:!1,get(){return(this.state&e)!==0},set(t){t?this.state|=e:this.state&=~e}}}R(O.prototype,{objectMode:T(A),ended:T(V),endEmitted:T(_),reading:T(Z),constructed:T(te),sync:T(se),needReadable:T(ie),emittedReadable:T(b),readableListening:T(v),resumeScheduled:T(G),errorEmitted:T(ne),emitClose:T(re),autoDestroy:T(i),destroyed:T(l),closed:T(d),closeEmitted:T($),multiAwaitDrain:T(W),readingMore:T(x),dataEmitted:T(n)});function O(e,t,F){typeof F!="boolean"&&(F=t instanceof Ae()),this.state=re|i|te|se,e&&e.objectMode&&(this.state|=A),F&&e&&e.readableObjectMode&&(this.state|=A),this.highWaterMark=e?le(this,e,"readableHighWaterMark",F):oe(!1),this.buffer=new J,this.length=0,this.pipes=[],this.flowing=null,this[ee]=null,e&&e.emitClose===!1&&(this.state&=-2049),e&&e.autoDestroy===!1&&(this.state&=-4097),this.errored=null,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new ae(e.encoding),this.encoding=e.encoding)}function g(e){if(!(this instanceof g))return new g(e);const t=this instanceof Ae();this._readableState=new O(e,this,t),e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.construct=="function"&&(this._construct=e.construct),e.signal&&!t&&m(e.signal,this)),q.call(this,e),z.construct(this,()=>{this._readableState.needReadable&&ge(this,this._readableState)})}g.prototype.destroy=z.destroy,g.prototype._undestroy=z.undestroy,g.prototype._destroy=function(e,t){t(e)},g.prototype[U.captureRejectionSymbol]=function(e){this.destroy(e)},g.prototype[I]=function(){let e;return this.destroyed||(e=this.readableEnded?null:new H,this.destroy(e)),new L((t,F)=>c(this,j=>j&&j!==e?F(j):t(null)))},g.prototype.push=function(e,t){return fe(this,e,t,!1)},g.prototype.unshift=function(e,t){return fe(this,e,t,!0)};function fe(e,t,F,j){a("readableAddChunk",t);const Q=e._readableState;let be;if((Q.state&A)===0&&(typeof t=="string"?(F=F||Q.defaultEncoding,Q.encoding!==F&&(j&&Q.encoding?t=s.from(t,F).toString(Q.encoding):(t=s.from(t,F),F=""))):t instanceof s?F="":q._isUint8Array(t)?(t=q._uint8ArrayToBuffer(t),F=""):t!=null&&(be=new ue("chunk",["string","Buffer","Uint8Array"],t))),be)r(e,be);else if(t===null)Q.state&=-9,Ee(e,Q);else if((Q.state&A)!==0||t&&t.length>0)if(j)if((Q.state&_)!==0)r(e,new f);else{if(Q.destroyed||Q.errored)return!1;ye(e,Q,t,!0)}else if(Q.ended)r(e,new k);else{if(Q.destroyed||Q.errored)return!1;Q.state&=-9,Q.decoder&&!F?(t=Q.decoder.write(t),Q.objectMode||t.length!==0?ye(e,Q,t,!1):ge(e,Q)):ye(e,Q,t,!1)}else j||(Q.state&=-9,ge(e,Q));return!Q.ended&&(Q.length<Q.highWaterMark||Q.length===0)}function ye(e,t,F,j){t.flowing&&t.length===0&&!t.sync&&e.listenerCount("data")>0?((t.state&W)!==0?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",F)):(t.length+=t.objectMode?1:F.length,j?t.buffer.unshift(F):t.buffer.push(F),(t.state&ie)!==0&&me(e)),ge(e,t)}g.prototype.isPaused=function(){const e=this._readableState;return e[ee]===!0||e.flowing===!1},g.prototype.setEncoding=function(e){const t=new ae(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;const F=this._readableState.buffer;let j="";for(const Q of F)j+=t.write(Q);return F.clear(),j!==""&&F.push(j),this._readableState.length=j.length,this};const de=1073741824;function we(e){if(e>de)throw new h("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++,e}function he(e,t){return e<=0||t.length===0&&t.ended?0:(t.state&A)!==0?1:N(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}g.prototype.read=function(e){a("read",e),e===void 0?e=NaN:p(e)||(e=B(e,10));const t=this._readableState,F=e;if(e>t.highWaterMark&&(t.highWaterMark=we(e)),e!==0&&(t.state&=-129),e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended))return a("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?Ue(this):me(this),null;if(e=he(e,t),e===0&&t.ended)return t.length===0&&Ue(this),null;let j=(t.state&ie)!==0;if(a("need readable",j),(t.length===0||t.length-e<t.highWaterMark)&&(j=!0,a("length less than watermark",j)),t.ended||t.reading||t.destroyed||t.errored||!t.constructed)j=!1,a("reading, ended or constructing",j);else if(j){a("do read"),t.state|=Z|se,t.length===0&&(t.state|=ie);try{this._read(t.highWaterMark)}catch(be){r(this,be)}t.state&=-33,t.reading||(e=he(F,t))}let Q;return e>0?Q=At(e,t):Q=null,Q===null?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null),t.length===0&&(t.ended||(t.needReadable=!0),F!==e&&t.ended&&Ue(this)),Q!==null&&!t.errorEmitted&&!t.closeEmitted&&(t.dataEmitted=!0,this.emit("data",Q)),Q};function Ee(e,t){if(a("onEofChunk"),!t.ended){if(t.decoder){const F=t.decoder.end();F&&F.length&&(t.buffer.push(F),t.length+=t.objectMode?1:F.length)}t.ended=!0,t.sync?me(e):(t.needReadable=!1,t.emittedReadable=!0,We(e))}}function me(e){const t=e._readableState;a("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(a("emitReadable",t.flowing),t.emittedReadable=!0,u.nextTick(We,e))}function We(e){const t=e._readableState;a("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&!t.errored&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,Et(e)}function ge(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,u.nextTick(ar,e,t))}function ar(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){const F=t.length;if(a("maybeReadMore read 0"),e.read(0),F===t.length)break}t.readingMore=!1}g.prototype._read=function(e){throw new w("_read()")},g.prototype.pipe=function(e,t){const F=this,j=this._readableState;j.pipes.length===1&&(j.multiAwaitDrain||(j.multiAwaitDrain=!0,j.awaitDrainWriters=new E(j.awaitDrainWriters?[j.awaitDrainWriters]:[]))),j.pipes.push(e),a("pipe count=%d opts=%j",j.pipes.length,t);const be=(!t||t.end!==!1)&&e!==u.stdout&&e!==u.stderr?mt:Pe;j.endEmitted?u.nextTick(be):F.once("end",be),e.on("unpipe",Se);function Se(Me,Re){a("onunpipe"),Me===F&&Re&&Re.hasUnpiped===!1&&(Re.hasUnpiped=!0,pr())}function mt(){a("onend"),e.end()}let Ie,Tt=!1;function pr(){a("cleanup"),e.removeListener("close",Ge),e.removeListener("finish",Ye),Ie&&e.removeListener("drain",Ie),e.removeListener("error",Ve),e.removeListener("unpipe",Se),F.removeListener("end",mt),F.removeListener("end",Pe),F.removeListener("data",Mt),Tt=!0,Ie&&j.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&Ie()}function It(){Tt||(j.pipes.length===1&&j.pipes[0]===e?(a("false write response, pause",0),j.awaitDrainWriters=e,j.multiAwaitDrain=!1):j.pipes.length>1&&j.pipes.includes(e)&&(a("false write response, pause",j.awaitDrainWriters.size),j.awaitDrainWriters.add(e)),F.pause()),Ie||(Ie=sr(F,e),e.on("drain",Ie))}F.on("data",Mt);function Mt(Me){a("ondata");const Re=e.write(Me);a("dest.write",Re),Re===!1&&It()}function Ve(Me){if(a("onerror",Me),Pe(),e.removeListener("error",Ve),e.listenerCount("error")===0){const Re=e._writableState||e._readableState;Re&&!Re.errorEmitted?r(e,Me):e.emit("error",Me)}}D(e,"error",Ve);function Ge(){e.removeListener("finish",Ye),Pe()}e.once("close",Ge);function Ye(){a("onfinish"),e.removeListener("close",Ge),Pe()}e.once("finish",Ye);function Pe(){a("unpipe"),F.unpipe(e)}return e.emit("pipe",F),e.writableNeedDrain===!0?It():j.flowing||(a("pipe resume"),F.resume()),e};function sr(e,t){return function(){const j=e._readableState;j.awaitDrainWriters===t?(a("pipeOnDrain",1),j.awaitDrainWriters=null):j.multiAwaitDrain&&(a("pipeOnDrain",j.awaitDrainWriters.size),j.awaitDrainWriters.delete(t)),(!j.awaitDrainWriters||j.awaitDrainWriters.size===0)&&e.listenerCount("data")&&e.resume()}}g.prototype.unpipe=function(e){const t=this._readableState,F={hasUnpiped:!1};if(t.pipes.length===0)return this;if(!e){const Q=t.pipes;t.pipes=[],this.pause();for(let be=0;be<Q.length;be++)Q[be].emit("unpipe",this,{hasUnpiped:!1});return this}const j=o(t.pipes,e);return j===-1?this:(t.pipes.splice(j,1),t.pipes.length===0&&this.pause(),e.emit("unpipe",this,F),this)},g.prototype.on=function(e,t){const F=q.prototype.on.call(this,e,t),j=this._readableState;return e==="data"?(j.readableListening=this.listenerCount("readable")>0,j.flowing!==!1&&this.resume()):e==="readable"&&!j.endEmitted&&!j.readableListening&&(j.readableListening=j.needReadable=!0,j.flowing=!1,j.emittedReadable=!1,a("on readable",j.length,j.reading),j.length?me(this):j.reading||u.nextTick(fr,this)),F},g.prototype.addListener=g.prototype.on,g.prototype.removeListener=function(e,t){const F=q.prototype.removeListener.call(this,e,t);return e==="readable"&&u.nextTick(St,this),F},g.prototype.off=g.prototype.removeListener,g.prototype.removeAllListeners=function(e){const t=q.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&u.nextTick(St,this),t};function St(e){const t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&t[ee]===!1?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function fr(e){a("readable nexttick read 0"),e.read(0)}g.prototype.resume=function(){const e=this._readableState;return e.flowing||(a("resume"),e.flowing=!e.readableListening,ur(this,e)),e[ee]=!1,this};function ur(e,t){t.resumeScheduled||(t.resumeScheduled=!0,u.nextTick(dr,e,t))}function dr(e,t){a("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),Et(e),t.flowing&&!t.reading&&e.read(0)}g.prototype.pause=function(){return a("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(a("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[ee]=!0,this};function Et(e){const t=e._readableState;for(a("flow",t.flowing);t.flowing&&e.read()!==null;);}g.prototype.wrap=function(e){let t=!1;e.on("data",j=>{!this.push(j)&&e.pause&&(t=!0,e.pause())}),e.on("end",()=>{this.push(null)}),e.on("error",j=>{r(this,j)}),e.on("close",()=>{this.destroy()}),e.on("destroy",()=>{this.destroy()}),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};const F=C(e);for(let j=1;j<F.length;j++){const Q=F[j];this[Q]===void 0&&typeof e[Q]=="function"&&(this[Q]=e[Q].bind(e))}return this},g.prototype[M]=function(){return Rt(this)},g.prototype.iterator=function(e){return e!==void 0&&K(e,"options"),Rt(this,e)};function Rt(e,t){typeof e.read!="function"&&(e=g.wrap(e,{objectMode:!0}));const F=cr(e,t);return F.stream=e,F}async function*cr(e,t){let F=X;function j(Se){this===e?(F(),F=X):F=Se}e.on("readable",j);let Q;const be=c(e,{writable:!1},Se=>{Q=Se?Y(Q,Se):null,F(),F=X});try{for(;;){const Se=e.destroyed?null:e.read();if(Se!==null)yield Se;else{if(Q)throw Q;if(Q===null)return;await new L(j)}}}catch(Se){throw Q=Y(Q,Se),Q}finally{(Q||(t==null?void 0:t.destroyOnReturn)!==!1)&&(Q===void 0||e._readableState.autoDestroy)?z.destroyer(e,null):(e.off("readable",j),be())}}R(g.prototype,{readable:{__proto__:null,get(){const e=this._readableState;return!!e&&e.readable!==!1&&!e.destroyed&&!e.errorEmitted&&!e.endEmitted},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),R(O.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[ee]!==!1},set(e){this[ee]=!!e}}}),g._fromList=At;function At(e,t){if(t.length===0)return null;let F;return t.objectMode?F=t.buffer.shift():!e||e>=t.length?(t.decoder?F=t.buffer.join(""):t.buffer.length===1?F=t.buffer.first():F=t.buffer.concat(t.length),t.buffer.clear()):F=t.buffer.consume(e,t.decoder),F}function Ue(e){const t=e._readableState;a("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,u.nextTick(hr,t,e))}function hr(e,t){if(a("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&e.length===0){if(e.endEmitted=!0,t.emit("end"),t.writable&&t.allowHalfOpen===!1)u.nextTick(br,t);else if(e.autoDestroy){const F=t._writableState;(!F||F.autoDestroy&&(F.finished||F.writable===!1))&&t.destroy()}}}function br(e){e.writable&&!e.writableEnded&&!e.destroyed&&e.end()}g.from=function(e,t){return S(g,e,t)};let He;function vt(){return He===void 0&&(He={}),He}return g.fromWeb=function(e,t){return vt().newStreamReadableFromReadableStream(e,t)},g.toWeb=function(e,t){return vt().newReadableStreamFromStreamReadable(e,t)},g.wrap=function(e,t){var F,j;return new g({objectMode:(F=(j=e.readableObjectMode)!==null&&j!==void 0?j:e.objectMode)!==null&&F!==void 0?F:!0,...t,destroy(Q,be){z.destroyer(e,Q),be(Q)}}).wrap(e)},st}var ft,Ut;function wt(){if(Ut)return ft;Ut=1;const u=ke(),{ArrayPrototypeSlice:o,Error:p,FunctionPrototypeSymbolHasInstance:N,ObjectDefineProperty:B,ObjectDefineProperties:R,ObjectSetPrototypeOf:C,StringPrototypeToLowerCase:y,Symbol:L,SymbolHasInstance:E}=ce();ft=K,K.WritableState=f;const{EventEmitter:I}=Fe(),M=_t().Stream,{Buffer:P}=De(),U=Ne(),{addAbortSignal:q}=je(),{getHighWaterMark:D,getDefaultHighWaterMark:s}=Be(),{ERR_INVALID_ARG_TYPE:m,ERR_METHOD_NOT_IMPLEMENTED:c,ERR_MULTIPLE_CALLBACK:a,ERR_STREAM_CANNOT_PIPE:J,ERR_STREAM_DESTROYED:z,ERR_STREAM_ALREADY_FINISHED:le,ERR_STREAM_NULL_VALUES:oe,ERR_STREAM_WRITE_AFTER_END:Y,ERR_UNKNOWN_ENCODING:ue}=pe().codes,{errorOrDestroy:w}=U;C(K.prototype,M.prototype),C(K,M);function h(){}const k=L("kOnFinished");function f(i,l,d){typeof d!="boolean"&&(d=l instanceof Ae()),this.objectMode=!!(i&&i.objectMode),d&&(this.objectMode=this.objectMode||!!(i&&i.writableObjectMode)),this.highWaterMark=i?D(this,i,"writableHighWaterMark",d):s(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const $=!!(i&&i.decodeStrings===!1);this.decodeStrings=!$,this.defaultEncoding=i&&i.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=r.bind(void 0,l),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,H(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!i||i.emitClose!==!1,this.autoDestroy=!i||i.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[k]=[]}function H(i){i.buffered=[],i.bufferedIndex=0,i.allBuffers=!0,i.allNoop=!0}f.prototype.getBuffer=function(){return o(this.buffered,this.bufferedIndex)},B(f.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function K(i){const l=this instanceof Ae();if(!l&&!N(K,this))return new K(i);this._writableState=new f(i,this,l),i&&(typeof i.write=="function"&&(this._write=i.write),typeof i.writev=="function"&&(this._writev=i.writev),typeof i.destroy=="function"&&(this._destroy=i.destroy),typeof i.final=="function"&&(this._final=i.final),typeof i.construct=="function"&&(this._construct=i.construct),i.signal&&q(i.signal,this)),M.call(this,i),U.construct(this,()=>{const d=this._writableState;d.writing||Z(this,d),b(this,d)})}B(K,E,{__proto__:null,value:function(i){return N(this,i)?!0:this!==K?!1:i&&i._writableState instanceof f}}),K.prototype.pipe=function(){w(this,new J)};function ee(i,l,d,$){const W=i._writableState;if(typeof d=="function")$=d,d=W.defaultEncoding;else{if(!d)d=W.defaultEncoding;else if(d!=="buffer"&&!P.isEncoding(d))throw new ue(d);typeof $!="function"&&($=h)}if(l===null)throw new oe;if(!W.objectMode)if(typeof l=="string")W.decodeStrings!==!1&&(l=P.from(l,d),d="buffer");else if(l instanceof P)d="buffer";else if(M._isUint8Array(l))l=M._uint8ArrayToBuffer(l),d="buffer";else throw new m("chunk",["string","Buffer","Uint8Array"],l);let x;return W.ending?x=new Y:W.destroyed&&(x=new z("write")),x?(u.nextTick($,x),w(i,x,!0),x):(W.pendingcb++,ae(i,W,l,d,$))}K.prototype.write=function(i,l,d){return ee(this,i,l,d)===!0},K.prototype.cork=function(){this._writableState.corked++},K.prototype.uncork=function(){const i=this._writableState;i.corked&&(i.corked--,i.writing||Z(this,i))},K.prototype.setDefaultEncoding=function(l){if(typeof l=="string"&&(l=y(l)),!P.isEncoding(l))throw new ue(l);return this._writableState.defaultEncoding=l,this};function ae(i,l,d,$,W){const x=l.objectMode?1:d.length;l.length+=x;const n=l.length<l.highWaterMark;return n||(l.needDrain=!0),l.writing||l.corked||l.errored||!l.constructed?(l.buffered.push({chunk:d,encoding:$,callback:W}),l.allBuffers&&$!=="buffer"&&(l.allBuffers=!1),l.allNoop&&W!==h&&(l.allNoop=!1)):(l.writelen=x,l.writecb=W,l.writing=!0,l.sync=!0,i._write(d,$,l.onwrite),l.sync=!1),n&&!l.errored&&!l.destroyed}function S(i,l,d,$,W,x,n){l.writelen=$,l.writecb=n,l.writing=!0,l.sync=!0,l.destroyed?l.onwrite(new z("write")):d?i._writev(W,l.onwrite):i._write(W,x,l.onwrite),l.sync=!1}function X(i,l,d,$){--l.pendingcb,$(d),_(l),w(i,d)}function r(i,l){const d=i._writableState,$=d.sync,W=d.writecb;if(typeof W!="function"){w(i,new a);return}d.writing=!1,d.writecb=null,d.length-=d.writelen,d.writelen=0,l?(l.stack,d.errored||(d.errored=l),i._readableState&&!i._readableState.errored&&(i._readableState.errored=l),$?u.nextTick(X,i,d,l,W):X(i,d,l,W)):(d.buffered.length>d.bufferedIndex&&Z(i,d),$?d.afterWriteTickInfo!==null&&d.afterWriteTickInfo.cb===W?d.afterWriteTickInfo.count++:(d.afterWriteTickInfo={count:1,cb:W,stream:i,state:d},u.nextTick(A,d.afterWriteTickInfo)):V(i,d,1,W))}function A({stream:i,state:l,count:d,cb:$}){return l.afterWriteTickInfo=null,V(i,l,d,$)}function V(i,l,d,$){for(!l.ending&&!i.destroyed&&l.length===0&&l.needDrain&&(l.needDrain=!1,i.emit("drain"));d-- >0;)l.pendingcb--,$();l.destroyed&&_(l),b(i,l)}function _(i){if(i.writing)return;for(let W=i.bufferedIndex;W<i.buffered.length;++W){var l;const{chunk:x,callback:n}=i.buffered[W],T=i.objectMode?1:x.length;i.length-=T,n((l=i.errored)!==null&&l!==void 0?l:new z("write"))}const d=i[k].splice(0);for(let W=0;W<d.length;W++){var $;d[W](($=i.errored)!==null&&$!==void 0?$:new z("end"))}H(i)}function Z(i,l){if(l.corked||l.bufferProcessing||l.destroyed||!l.constructed)return;const{buffered:d,bufferedIndex:$,objectMode:W}=l,x=d.length-$;if(!x)return;let n=$;if(l.bufferProcessing=!0,x>1&&i._writev){l.pendingcb-=x-1;const T=l.allNoop?h:g=>{for(let fe=n;fe<d.length;++fe)d[fe].callback(g)},O=l.allNoop&&n===0?d:o(d,n);O.allBuffers=l.allBuffers,S(i,l,!0,l.length,O,"",T),H(l)}else{do{const{chunk:T,encoding:O,callback:g}=d[n];d[n++]=null;const fe=W?1:T.length;S(i,l,!1,fe,T,O,g)}while(n<d.length&&!l.writing);n===d.length?H(l):n>256?(d.splice(0,n),l.bufferedIndex=0):l.bufferedIndex=n}l.bufferProcessing=!1}K.prototype._write=function(i,l,d){if(this._writev)this._writev([{chunk:i,encoding:l}],d);else throw new c("_write()")},K.prototype._writev=null,K.prototype.end=function(i,l,d){const $=this._writableState;typeof i=="function"?(d=i,i=null,l=null):typeof l=="function"&&(d=l,l=null);let W;if(i!=null){const x=ee(this,i,l);x instanceof p&&(W=x)}return $.corked&&($.corked=1,this.uncork()),W||(!$.errored&&!$.ending?($.ending=!0,b(this,$,!0),$.ended=!0):$.finished?W=new le("end"):$.destroyed&&(W=new z("end"))),typeof d=="function"&&(W||$.finished?u.nextTick(d,W):$[k].push(d)),this};function te(i){return i.ending&&!i.destroyed&&i.constructed&&i.length===0&&!i.errored&&i.buffered.length===0&&!i.finished&&!i.writing&&!i.errorEmitted&&!i.closeEmitted}function se(i,l){let d=!1;function $(W){if(d){w(i,W??a());return}if(d=!0,l.pendingcb--,W){const x=l[k].splice(0);for(let n=0;n<x.length;n++)x[n](W);w(i,W,l.sync)}else te(l)&&(l.prefinished=!0,i.emit("prefinish"),l.pendingcb++,u.nextTick(v,i,l))}l.sync=!0,l.pendingcb++;try{i._final($)}catch(W){$(W)}l.sync=!1}function ie(i,l){!l.prefinished&&!l.finalCalled&&(typeof i._final=="function"&&!l.destroyed?(l.finalCalled=!0,se(i,l)):(l.prefinished=!0,i.emit("prefinish")))}function b(i,l,d){te(l)&&(ie(i,l),l.pendingcb===0&&(d?(l.pendingcb++,u.nextTick(($,W)=>{te(W)?v($,W):W.pendingcb--},i,l)):te(l)&&(l.pendingcb++,v(i,l))))}function v(i,l){l.pendingcb--,l.finished=!0;const d=l[k].splice(0);for(let $=0;$<d.length;$++)d[$]();if(i.emit("finish"),l.autoDestroy){const $=i._readableState;(!$||$.autoDestroy&&($.endEmitted||$.readable===!1))&&i.destroy()}}R(K.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(i){this._writableState&&(this._writableState.destroyed=i)}},writable:{__proto__:null,get(){const i=this._writableState;return!!i&&i.writable!==!1&&!i.destroyed&&!i.errored&&!i.ending&&!i.ended},set(i){this._writableState&&(this._writableState.writable=!!i)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const i=this._writableState;return i?!i.destroyed&&!i.ending&&i.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const G=U.destroy;K.prototype.destroy=function(i,l){const d=this._writableState;return!d.destroyed&&(d.bufferedIndex<d.buffered.length||d[k].length)&&u.nextTick(_,d),G.call(this,i,l),this},K.prototype._undestroy=U.undestroy,K.prototype._destroy=function(i,l){l(i)},K.prototype[I.captureRejectionSymbol]=function(i){this.destroy(i)};let ne;function re(){return ne===void 0&&(ne={}),ne}return K.fromWeb=function(i,l){return re().newStreamWritableFromWritableStream(i,l)},K.toWeb=function(i){return re().newWritableStreamFromStreamWritable(i)},ft}var ut,Ht;function gr(){if(Ht)return ut;Ht=1;const u=ke(),o=De(),{isReadable:p,isWritable:N,isIterable:B,isNodeStream:R,isReadableNodeStream:C,isWritableNodeStream:y,isDuplexNodeStream:L,isReadableStream:E,isWritableStream:I}=ve(),M=Te(),{AbortError:P,codes:{ERR_INVALID_ARG_TYPE:U,ERR_INVALID_RETURN_VALUE:q}}=pe(),{destroyer:D}=Ne(),s=Ae(),m=qe(),c=wt(),{createDeferredPromise:a}=_e(),J=tr(),z=globalThis.Blob||o.Blob,le=typeof z<"u"?function(f){return f instanceof z}:function(f){return!1},oe=globalThis.AbortController||xe().AbortController,{FunctionPrototypeCall:Y}=ce();class ue extends s{constructor(f){super(f),(f==null?void 0:f.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(f==null?void 0:f.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}ut=function k(f,H){if(L(f))return f;if(C(f))return h({readable:f});if(y(f))return h({writable:f});if(R(f))return h({writable:!1,readable:!1});if(E(f))return h({readable:m.fromWeb(f)});if(I(f))return h({writable:c.fromWeb(f)});if(typeof f=="function"){const{value:ee,write:ae,final:S,destroy:X}=w(f);if(B(ee))return J(ue,ee,{objectMode:!0,write:ae,final:S,destroy:X});const r=ee==null?void 0:ee.then;if(typeof r=="function"){let A;const V=Y(r,ee,_=>{if(_!=null)throw new q("nully","body",_)},_=>{D(A,_)});return A=new ue({objectMode:!0,readable:!1,write:ae,final(_){S(async()=>{try{await V,u.nextTick(_,null)}catch(Z){u.nextTick(_,Z)}})},destroy:X})}throw new q("Iterable, AsyncIterable or AsyncFunction",H,ee)}if(le(f))return k(f.arrayBuffer());if(B(f))return J(ue,f,{objectMode:!0,writable:!1});if(E(f==null?void 0:f.readable)&&I(f==null?void 0:f.writable))return ue.fromWeb(f);if(typeof(f==null?void 0:f.writable)=="object"||typeof(f==null?void 0:f.readable)=="object"){const ee=f!=null&&f.readable?C(f==null?void 0:f.readable)?f==null?void 0:f.readable:k(f.readable):void 0,ae=f!=null&&f.writable?y(f==null?void 0:f.writable)?f==null?void 0:f.writable:k(f.writable):void 0;return h({readable:ee,writable:ae})}const K=f==null?void 0:f.then;if(typeof K=="function"){let ee;return Y(K,f,ae=>{ae!=null&&ee.push(ae),ee.push(null)},ae=>{D(ee,ae)}),ee=new ue({objectMode:!0,writable:!1,read(){}})}throw new U(H,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],f)};function w(k){let{promise:f,resolve:H}=a();const K=new oe,ee=K.signal;return{value:k(async function*(){for(;;){const S=f;f=null;const{chunk:X,done:r,cb:A}=await S;if(u.nextTick(A),r)return;if(ee.aborted)throw new P(void 0,{cause:ee.reason});({promise:f,resolve:H}=a()),yield X}}(),{signal:ee}),write(S,X,r){const A=H;H=null,A({chunk:S,done:!1,cb:r})},final(S){const X=H;H=null,X({done:!0,cb:S})},destroy(S,X){K.abort(),X(S)}}}function h(k){const f=k.readable&&typeof k.readable.read!="function"?m.wrap(k.readable):k.readable,H=k.writable;let K=!!p(f),ee=!!N(H),ae,S,X,r,A;function V(_){const Z=r;r=null,Z?Z(_):_&&A.destroy(_)}return A=new ue({readableObjectMode:!!(f!=null&&f.readableObjectMode),writableObjectMode:!!(H!=null&&H.writableObjectMode),readable:K,writable:ee}),ee&&(M(H,_=>{ee=!1,_&&D(f,_),V(_)}),A._write=function(_,Z,te){H.write(_,Z)?te():ae=te},A._final=function(_){H.end(),S=_},H.on("drain",function(){if(ae){const _=ae;ae=null,_()}}),H.on("finish",function(){if(S){const _=S;S=null,_()}})),K&&(M(f,_=>{K=!1,_&&D(f,_),V(_)}),f.on("readable",function(){if(X){const _=X;X=null,_()}}),f.on("end",function(){A.push(null)}),A._read=function(){for(;;){const _=f.read();if(_===null){X=A._read;return}if(!A.push(_))return}}),A._destroy=function(_,Z){!_&&r!==null&&(_=new P),X=null,ae=null,S=null,r===null?Z(_):(r=Z,D(H,_),D(f,_))},A}return ut}var dt,Vt;function Ae(){if(Vt)return dt;Vt=1;const{ObjectDefineProperties:u,ObjectGetOwnPropertyDescriptor:o,ObjectKeys:p,ObjectSetPrototypeOf:N}=ce();dt=C;const B=qe(),R=wt();N(C.prototype,B.prototype),N(C,B);{const I=p(R.prototype);for(let M=0;M<I.length;M++){const P=I[M];C.prototype[P]||(C.prototype[P]=R.prototype[P])}}function C(I){if(!(this instanceof C))return new C(I);B.call(this,I),R.call(this,I),I?(this.allowHalfOpen=I.allowHalfOpen!==!1,I.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),I.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}u(C.prototype,{writable:{__proto__:null,...o(R.prototype,"writable")},writableHighWaterMark:{__proto__:null,...o(R.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...o(R.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...o(R.prototype,"writableBuffer")},writableLength:{__proto__:null,...o(R.prototype,"writableLength")},writableFinished:{__proto__:null,...o(R.prototype,"writableFinished")},writableCorked:{__proto__:null,...o(R.prototype,"writableCorked")},writableEnded:{__proto__:null,...o(R.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...o(R.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(I){this._readableState&&this._writableState&&(this._readableState.destroyed=I,this._writableState.destroyed=I)}}});let y;function L(){return y===void 0&&(y={}),y}C.fromWeb=function(I,M){return L().newStreamDuplexFromReadableWritablePair(I,M)},C.toWeb=function(I){return L().newReadableWritablePairFromDuplex(I)};let E;return C.from=function(I){return E||(E=gr()),E(I,"body")},dt}var ct,Gt;function rr(){if(Gt)return ct;Gt=1;const{ObjectSetPrototypeOf:u,Symbol:o}=ce();ct=C;const{ERR_METHOD_NOT_IMPLEMENTED:p}=pe().codes,N=Ae(),{getHighWaterMark:B}=Be();u(C.prototype,N.prototype),u(C,N);const R=o("kCallback");function C(E){if(!(this instanceof C))return new C(E);const I=E?B(this,E,"readableHighWaterMark",!0):null;I===0&&(E={...E,highWaterMark:null,readableHighWaterMark:I,writableHighWaterMark:E.writableHighWaterMark||0}),N.call(this,E),this._readableState.sync=!1,this[R]=null,E&&(typeof E.transform=="function"&&(this._transform=E.transform),typeof E.flush=="function"&&(this._flush=E.flush)),this.on("prefinish",L)}function y(E){typeof this._flush=="function"&&!this.destroyed?this._flush((I,M)=>{if(I){E?E(I):this.destroy(I);return}M!=null&&this.push(M),this.push(null),E&&E()}):(this.push(null),E&&E())}function L(){this._final!==y&&y.call(this)}return C.prototype._final=y,C.prototype._transform=function(E,I,M){throw new p("_transform()")},C.prototype._write=function(E,I,M){const P=this._readableState,U=this._writableState,q=P.length;this._transform(E,I,(D,s)=>{if(D){M(D);return}s!=null&&this.push(s),U.ended||q===P.length||P.length<P.highWaterMark?M():this[R]=M})},C.prototype._read=function(){if(this[R]){const E=this[R];this[R]=null,E()}},ct}var ht,Yt;function nr(){if(Yt)return ht;Yt=1;const{ObjectSetPrototypeOf:u}=ce();ht=p;const o=rr();u(p.prototype,o.prototype),u(p,o);function p(N){if(!(this instanceof p))return new p(N);o.call(this,N)}return p.prototype._transform=function(N,B,R){R(null,N)},ht}var bt,zt;function gt(){if(zt)return bt;zt=1;const u=ke(),{ArrayIsArray:o,Promise:p,SymbolAsyncIterator:N,SymbolDispose:B}=ce(),R=Te(),{once:C}=_e(),y=Ne(),L=Ae(),{aggregateTwoErrors:E,codes:{ERR_INVALID_ARG_TYPE:I,ERR_INVALID_RETURN_VALUE:M,ERR_MISSING_ARGS:P,ERR_STREAM_DESTROYED:U,ERR_STREAM_PREMATURE_CLOSE:q},AbortError:D}=pe(),{validateFunction:s,validateAbortSignal:m}=Oe(),{isIterable:c,isReadable:a,isReadableNodeStream:J,isNodeStream:z,isTransformStream:le,isWebStream:oe,isReadableStream:Y,isReadableFinished:ue}=ve(),w=globalThis.AbortController||xe().AbortController;let h,k,f;function H(_,Z,te){let se=!1;_.on("close",()=>{se=!0});const ie=R(_,{readable:Z,writable:te},b=>{se=!b});return{destroy:b=>{se||(se=!0,y.destroyer(_,b||new U("pipe")))},cleanup:ie}}function K(_){return s(_[_.length-1],"streams[stream.length - 1]"),_.pop()}function ee(_){if(c(_))return _;if(J(_))return ae(_);throw new I("val",["Readable","Iterable","AsyncIterable"],_)}async function*ae(_){k||(k=qe()),yield*k.prototype[N].call(_)}async function S(_,Z,te,{end:se}){let ie,b=null;const v=re=>{if(re&&(ie=re),b){const i=b;b=null,i()}},G=()=>new p((re,i)=>{ie?i(ie):b=()=>{ie?i(ie):re()}});Z.on("drain",v);const ne=R(Z,{readable:!1},v);try{Z.writableNeedDrain&&await G();for await(const re of _)Z.write(re)||await G();se&&(Z.end(),await G()),te()}catch(re){te(ie!==re?E(ie,re):re)}finally{ne(),Z.off("drain",v)}}async function X(_,Z,te,{end:se}){le(Z)&&(Z=Z.writable);const ie=Z.getWriter();try{for await(const b of _)await ie.ready,ie.write(b).catch(()=>{});await ie.ready,se&&await ie.close(),te()}catch(b){try{await ie.abort(b),te(b)}catch(v){te(v)}}}function r(..._){return A(_,C(K(_)))}function A(_,Z,te){if(_.length===1&&o(_[0])&&(_=_[0]),_.length<2)throw new P("streams");const se=new w,ie=se.signal,b=te==null?void 0:te.signal,v=[];m(b,"options.signal");function G(){W(new D)}f=f||_e().addAbortListener;let ne;b&&(ne=f(b,G));let re,i;const l=[];let d=0;function $(O){W(O,--d===0)}function W(O,g){var fe;if(O&&(!re||re.code==="ERR_STREAM_PREMATURE_CLOSE")&&(re=O),!(!re&&!g)){for(;l.length;)l.shift()(re);(fe=ne)===null||fe===void 0||fe[B](),se.abort(),g&&(re||v.forEach(ye=>ye()),u.nextTick(Z,re,i))}}let x;for(let O=0;O<_.length;O++){const g=_[O],fe=O<_.length-1,ye=O>0,de=fe||(te==null?void 0:te.end)!==!1,we=O===_.length-1;if(z(g)){let he=function(Ee){Ee&&Ee.name!=="AbortError"&&Ee.code!=="ERR_STREAM_PREMATURE_CLOSE"&&$(Ee)};if(de){const{destroy:Ee,cleanup:me}=H(g,fe,ye);l.push(Ee),a(g)&&we&&v.push(me)}g.on("error",he),a(g)&&we&&v.push(()=>{g.removeListener("error",he)})}if(O===0)if(typeof g=="function"){if(x=g({signal:ie}),!c(x))throw new M("Iterable, AsyncIterable or Stream","source",x)}else c(g)||J(g)||le(g)?x=g:x=L.from(g);else if(typeof g=="function"){if(le(x)){var n;x=ee((n=x)===null||n===void 0?void 0:n.readable)}else x=ee(x);if(x=g(x,{signal:ie}),fe){if(!c(x,!0))throw new M("AsyncIterable",`transform[${O-1}]`,x)}else{var T;h||(h=nr());const he=new h({objectMode:!0}),Ee=(T=x)===null||T===void 0?void 0:T.then;if(typeof Ee=="function")d++,Ee.call(x,ge=>{i=ge,ge!=null&&he.write(ge),de&&he.end(),u.nextTick($)},ge=>{he.destroy(ge),u.nextTick($,ge)});else if(c(x,!0))d++,S(x,he,$,{end:de});else if(Y(x)||le(x)){const ge=x.readable||x;d++,S(ge,he,$,{end:de})}else throw new M("AsyncIterable or Promise","destination",x);x=he;const{destroy:me,cleanup:We}=H(x,!1,!0);l.push(me),we&&v.push(We)}}else if(z(g)){if(J(x)){d+=2;const he=V(x,g,$,{end:de});a(g)&&we&&v.push(he)}else if(le(x)||Y(x)){const he=x.readable||x;d++,S(he,g,$,{end:de})}else if(c(x))d++,S(x,g,$,{end:de});else throw new I("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],x);x=g}else if(oe(g)){if(J(x))d++,X(ee(x),g,$,{end:de});else if(Y(x)||c(x))d++,X(x,g,$,{end:de});else if(le(x))d++,X(x.readable,g,$,{end:de});else throw new I("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],x);x=g}else x=L.from(g)}return(ie!=null&&ie.aborted||b!=null&&b.aborted)&&u.nextTick(G),x}function V(_,Z,te,{end:se}){let ie=!1;if(Z.on("close",()=>{ie||te(new q)}),_.pipe(Z,{end:!1}),se){let b=function(){ie=!0,Z.end()};ue(_)?u.nextTick(b):_.once("end",b)}else te();return R(_,{readable:!0,writable:!1},b=>{const v=_._readableState;b&&b.code==="ERR_STREAM_PREMATURE_CLOSE"&&v&&v.ended&&!v.errored&&!v.errorEmitted?_.once("end",te).once("error",te):te(b)}),R(Z,{readable:!1,writable:!0},te)}return bt={pipelineImpl:A,pipeline:r},bt}var pt,Kt;function ir(){if(Kt)return pt;Kt=1;const{pipeline:u}=gt(),o=Ae(),{destroyer:p}=Ne(),{isNodeStream:N,isReadable:B,isWritable:R,isWebStream:C,isTransformStream:y,isWritableStream:L,isReadableStream:E}=ve(),{AbortError:I,codes:{ERR_INVALID_ARG_VALUE:M,ERR_MISSING_ARGS:P}}=pe(),U=Te();return pt=function(...D){if(D.length===0)throw new P("streams");if(D.length===1)return o.from(D[0]);const s=[...D];if(typeof D[0]=="function"&&(D[0]=o.from(D[0])),typeof D[D.length-1]=="function"){const h=D.length-1;D[h]=o.from(D[h])}for(let h=0;h<D.length;++h)if(!(!N(D[h])&&!C(D[h]))){if(h<D.length-1&&!(B(D[h])||E(D[h])||y(D[h])))throw new M(`streams[${h}]`,s[h],"must be readable");if(h>0&&!(R(D[h])||L(D[h])||y(D[h])))throw new M(`streams[${h}]`,s[h],"must be writable")}let m,c,a,J,z;function le(h){const k=J;J=null,k?k(h):h?z.destroy(h):!w&&!ue&&z.destroy()}const oe=D[0],Y=u(D,le),ue=!!(R(oe)||L(oe)||y(oe)),w=!!(B(Y)||E(Y)||y(Y));if(z=new o({writableObjectMode:!!(oe!=null&&oe.writableObjectMode),readableObjectMode:!!(Y!=null&&Y.readableObjectMode),writable:ue,readable:w}),ue){if(N(oe))z._write=function(k,f,H){oe.write(k,f)?H():m=H},z._final=function(k){oe.end(),c=k},oe.on("drain",function(){if(m){const k=m;m=null,k()}});else if(C(oe)){const f=(y(oe)?oe.writable:oe).getWriter();z._write=async function(H,K,ee){try{await f.ready,f.write(H).catch(()=>{}),ee()}catch(ae){ee(ae)}},z._final=async function(H){try{await f.ready,f.close().catch(()=>{}),c=H}catch(K){H(K)}}}const h=y(Y)?Y.readable:Y;U(h,()=>{if(c){const k=c;c=null,k()}})}if(w){if(N(Y))Y.on("readable",function(){if(a){const h=a;a=null,h()}}),Y.on("end",function(){z.push(null)}),z._read=function(){for(;;){const h=Y.read();if(h===null){a=z._read;return}if(!z.push(h))return}};else if(C(Y)){const k=(y(Y)?Y.readable:Y).getReader();z._read=async function(){for(;;)try{const{value:f,done:H}=await k.read();if(!z.push(f))return;if(H){z.push(null);return}}catch{return}}}}return z._destroy=function(h,k){!h&&J!==null&&(h=new I),a=null,m=null,c=null,J===null?k(h):(J=k,N(Y)&&p(Y,h))},z},pt}var Jt;function Sr(){if(Jt)return Ce;Jt=1;const u=globalThis.AbortController||xe().AbortController,{codes:{ERR_INVALID_ARG_VALUE:o,ERR_INVALID_ARG_TYPE:p,ERR_MISSING_ARGS:N,ERR_OUT_OF_RANGE:B},AbortError:R}=pe(),{validateAbortSignal:C,validateInteger:y,validateObject:L}=Oe(),E=ce().Symbol("kWeak"),I=ce().Symbol("kResistStopPropagation"),{finished:M}=Te(),P=ir(),{addAbortSignalNoValidate:U}=je(),{isWritable:q,isNodeStream:D}=ve(),{deprecate:s}=_e(),{ArrayPrototypePush:m,Boolean:c,MathFloor:a,Number:J,NumberIsNaN:z,Promise:le,PromiseReject:oe,PromiseResolve:Y,PromisePrototypeThen:ue,Symbol:w}=ce(),h=w("kEmpty"),k=w("kEof");function f(b,v){if(v!=null&&L(v,"options"),(v==null?void 0:v.signal)!=null&&C(v.signal,"options.signal"),D(b)&&!q(b))throw new o("stream",b,"must be writable");const G=P(this,b);return v!=null&&v.signal&&U(v.signal,G),G}function H(b,v){if(typeof b!="function")throw new p("fn",["Function","AsyncFunction"],b);v!=null&&L(v,"options"),(v==null?void 0:v.signal)!=null&&C(v.signal,"options.signal");let G=1;(v==null?void 0:v.concurrency)!=null&&(G=a(v.concurrency));let ne=G-1;return(v==null?void 0:v.highWaterMark)!=null&&(ne=a(v.highWaterMark)),y(G,"options.concurrency",1),y(ne,"options.highWaterMark",0),ne+=G,(async function*(){const i=_e().AbortSignalAny([v==null?void 0:v.signal].filter(c)),l=this,d=[],$={signal:i};let W,x,n=!1,T=0;function O(){n=!0,g()}function g(){T-=1,fe()}function fe(){x&&!n&&T<G&&d.length<ne&&(x(),x=null)}async function ye(){try{for await(let de of l){if(n)return;if(i.aborted)throw new R;try{if(de=b(de,$),de===h)continue;de=Y(de)}catch(we){de=oe(we)}T+=1,ue(de,g,O),d.push(de),W&&(W(),W=null),!n&&(d.length>=ne||T>=G)&&await new le(we=>{x=we})}d.push(k)}catch(de){const we=oe(de);ue(we,g,O),d.push(we)}finally{n=!0,W&&(W(),W=null)}}ye();try{for(;;){for(;d.length>0;){const de=await d[0];if(de===k)return;if(i.aborted)throw new R;de!==h&&(yield de),d.shift(),fe()}await new le(de=>{W=de})}}finally{n=!0,x&&(x(),x=null)}}).call(this)}function K(b=void 0){return b!=null&&L(b,"options"),(b==null?void 0:b.signal)!=null&&C(b.signal,"options.signal"),(async function*(){let G=0;for await(const re of this){var ne;if(b!=null&&(ne=b.signal)!==null&&ne!==void 0&&ne.aborted)throw new R({cause:b.signal.reason});yield[G++,re]}}).call(this)}async function ee(b,v=void 0){for await(const G of r.call(this,b,v))return!0;return!1}async function ae(b,v=void 0){if(typeof b!="function")throw new p("fn",["Function","AsyncFunction"],b);return!await ee.call(this,async(...G)=>!await b(...G),v)}async function S(b,v){for await(const G of r.call(this,b,v))return G}async function X(b,v){if(typeof b!="function")throw new p("fn",["Function","AsyncFunction"],b);async function G(ne,re){return await b(ne,re),h}for await(const ne of H.call(this,G,v));}function r(b,v){if(typeof b!="function")throw new p("fn",["Function","AsyncFunction"],b);async function G(ne,re){return await b(ne,re)?ne:h}return H.call(this,G,v)}class A extends N{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function V(b,v,G){var ne;if(typeof b!="function")throw new p("reducer",["Function","AsyncFunction"],b);G!=null&&L(G,"options"),(G==null?void 0:G.signal)!=null&&C(G.signal,"options.signal");let re=arguments.length>1;if(G!=null&&(ne=G.signal)!==null&&ne!==void 0&&ne.aborted){const W=new R(void 0,{cause:G.signal.reason});throw this.once("error",()=>{}),await M(this.destroy(W)),W}const i=new u,l=i.signal;if(G!=null&&G.signal){const W={once:!0,[E]:this,[I]:!0};G.signal.addEventListener("abort",()=>i.abort(),W)}let d=!1;try{for await(const W of this){var $;if(d=!0,G!=null&&($=G.signal)!==null&&$!==void 0&&$.aborted)throw new R;re?v=await b(v,W,{signal:l}):(v=W,re=!0)}if(!d&&!re)throw new A}finally{i.abort()}return v}async function _(b){b!=null&&L(b,"options"),(b==null?void 0:b.signal)!=null&&C(b.signal,"options.signal");const v=[];for await(const ne of this){var G;if(b!=null&&(G=b.signal)!==null&&G!==void 0&&G.aborted)throw new R(void 0,{cause:b.signal.reason});m(v,ne)}return v}function Z(b,v){const G=H.call(this,b,v);return(async function*(){for await(const re of G)yield*re}).call(this)}function te(b){if(b=J(b),z(b))return 0;if(b<0)throw new B("number",">= 0",b);return b}function se(b,v=void 0){return v!=null&&L(v,"options"),(v==null?void 0:v.signal)!=null&&C(v.signal,"options.signal"),b=te(b),(async function*(){var ne;if(v!=null&&(ne=v.signal)!==null&&ne!==void 0&&ne.aborted)throw new R;for await(const i of this){var re;if(v!=null&&(re=v.signal)!==null&&re!==void 0&&re.aborted)throw new R;b--<=0&&(yield i)}}).call(this)}function ie(b,v=void 0){return v!=null&&L(v,"options"),(v==null?void 0:v.signal)!=null&&C(v.signal,"options.signal"),b=te(b),(async function*(){var ne;if(v!=null&&(ne=v.signal)!==null&&ne!==void 0&&ne.aborted)throw new R;for await(const i of this){var re;if(v!=null&&(re=v.signal)!==null&&re!==void 0&&re.aborted)throw new R;if(b-- >0&&(yield i),b<=0)return}}).call(this)}return Ce.streamReturningOperators={asIndexedPairs:s(K,"readable.asIndexedPairs will be removed in a future version."),drop:se,filter:r,flatMap:Z,map:H,take:ie,compose:f},Ce.promiseReturningOperators={every:ae,forEach:X,reduce:V,toArray:_,some:ee,find:S},Ce}var yt,Xt;function or(){if(Xt)return yt;Xt=1;const{ArrayPrototypePop:u,Promise:o}=ce(),{isIterable:p,isNodeStream:N,isWebStream:B}=ve(),{pipelineImpl:R}=gt(),{finished:C}=Te();lr();function y(...L){return new o((E,I)=>{let M,P;const U=L[L.length-1];if(U&&typeof U=="object"&&!N(U)&&!p(U)&&!B(U)){const q=u(L);M=q.signal,P=q.end}R(L,(q,D)=>{q?I(q):E(D)},{signal:M,end:P})})}return yt={finished:C,pipeline:y},yt}var Qt;function lr(){if(Qt)return Ke.exports;Qt=1;const{Buffer:u}=De(),{ObjectDefineProperty:o,ObjectKeys:p,ReflectApply:N}=ce(),{promisify:{custom:B}}=_e(),{streamReturningOperators:R,promiseReturningOperators:C}=Sr(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:y}}=pe(),L=ir(),{setDefaultHighWaterMark:E,getDefaultHighWaterMark:I}=Be(),{pipeline:M}=gt(),{destroyer:P}=Ne(),U=Te(),q=or(),D=ve(),s=Ke.exports=_t().Stream;s.isDestroyed=D.isDestroyed,s.isDisturbed=D.isDisturbed,s.isErrored=D.isErrored,s.isReadable=D.isReadable,s.isWritable=D.isWritable,s.Readable=qe();for(const c of p(R)){let J=function(...z){if(new.target)throw y();return s.Readable.from(N(a,this,z))};const a=R[c];o(J,"name",{__proto__:null,value:a.name}),o(J,"length",{__proto__:null,value:a.length}),o(s.Readable.prototype,c,{__proto__:null,value:J,enumerable:!1,configurable:!0,writable:!0})}for(const c of p(C)){let J=function(...z){if(new.target)throw y();return N(a,this,z)};const a=C[c];o(J,"name",{__proto__:null,value:a.name}),o(J,"length",{__proto__:null,value:a.length}),o(s.Readable.prototype,c,{__proto__:null,value:J,enumerable:!1,configurable:!0,writable:!0})}s.Writable=wt(),s.Duplex=Ae(),s.Transform=rr(),s.PassThrough=nr(),s.pipeline=M;const{addAbortSignal:m}=je();return s.addAbortSignal=m,s.finished=U,s.destroy=P,s.compose=L,s.setDefaultHighWaterMark=E,s.getDefaultHighWaterMark=I,o(s,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return q}}),o(M,B,{__proto__:null,enumerable:!0,get(){return q.pipeline}}),o(U,B,{__proto__:null,enumerable:!0,get(){return q.finished}}),s.Stream=s,s._isUint8Array=function(a){return a instanceof Uint8Array},s._uint8ArrayToBuffer=function(a){return u.from(a.buffer,a.byteOffset,a.byteLength)},Ke.exports}var Zt;function Er(){return Zt||(Zt=1,function(u){const o=lr(),p=or(),N=o.Readable.destroy;u.exports=o.Readable,u.exports._uint8ArrayToBuffer=o._uint8ArrayToBuffer,u.exports._isUint8Array=o._isUint8Array,u.exports.isDisturbed=o.isDisturbed,u.exports.isErrored=o.isErrored,u.exports.isReadable=o.isReadable,u.exports.Readable=o.Readable,u.exports.Writable=o.Writable,u.exports.Duplex=o.Duplex,u.exports.Transform=o.Transform,u.exports.PassThrough=o.PassThrough,u.exports.addAbortSignal=o.addAbortSignal,u.exports.finished=o.finished,u.exports.destroy=o.destroy,u.exports.destroy=N,u.exports.pipeline=o.pipeline,u.exports.compose=o.compose,Object.defineProperty(o,"promises",{configurable:!0,enumerable:!0,get(){return p}}),u.exports.Stream=o.Stream,u.exports.default=u.exports}(ze)),ze.exports}var Rr=Er();class Ar{constructor(o){this.stream=o,this.array=[]}push(o){this.array.push(o)}end(){this.stream.push(this.array),this.stream.push(null)}}class vr{constructor(o){this.stream=o,this.first=!0,this.stream.push("[")}push(o){this.first?this.first=!1:this.stream.push(","),this.stream.push(JSON.stringify(o))}end(){this.stream.push("]"),this.stream.push(null)}}class Le extends Rr.Readable{constructor(o,{encoding:p="object"}={}){if(super({objectMode:!0,read:()=>{}}),p==="object"&&(this.encoder=new Ar(this)),p==="string"&&(this.encoder=new vr(this)),!this.encoder)throw new Error(`unknown encoding: ${p}`);o.on("data",N=>{const B={};let R=B;N.graph.termType!=="DefaultGraph"&&(B["@id"]=N.graph.value,B["@graph"]={},R=B["@graph"]),R["@id"]=Le.subjectValue(N.subject),N.predicate.value==="http://www.w3.org/1999/02/22-rdf-syntax-ns#type"?R["@type"]=Le.subjectValue(N.object):R[N.predicate.value]=Le.objectValue(N.object),this.encoder.push(B)}),o.on("end",()=>this.encoder.end()),o.on("error",N=>this.emit("error",N))}static subjectValue(o){return o.termType==="BlankNode"?"_:"+o.value:o.value}static objectValue(o){return o.termType==="NamedNode"?{"@id":o.value}:o.termType==="BlankNode"?{"@id":"_:"+o.value}:o.language?{"@language":o.language,"@value":o.value}:o.datatype&&o.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"?{"@type":o.datatype.value,"@value":o.value}:o.value}}class mr extends _r{constructor(o){super(Le,o)}}class Mr extends mr{constructor({...o}={}){super({encoding:"string",...o})}}export{Mr as default};
