import{J as ee,p as te}from"./index-CIRByK6l.js";import{r as se}from"./main-DrXIHMbz.js";function re(E,j){for(var S=0;S<j.length;S++){const I=j[S];if(typeof I!="string"&&!Array.isArray(I)){for(const A in I)if(A!=="default"&&!(A in E)){const T=Object.getOwnPropertyDescriptor(I,A);T&&Object.defineProperty(E,A,T.get?T:{enumerable:!0,get:()=>I[A]})}}}return Object.freeze(Object.defineProperty(E,Symbol.toStringTag,{value:"Module"}))}var M,G;function ie(){if(G)return M;if(G=1,typeof queueMicrotask!="function"){let f=Promise.resolve();try{queueMicrotask=e=>f.then(e).catch(t=>setTimeout(()=>{throw t},0))}catch{}}const E=se(),j=ee(),S=/^[a-z][a-z0-9+\-.]*:(?:[^\0-\x20<>"{}|^`\\]|\\u[A-Fa-f0-9]{4}|\\U[A-Fa-f0-9]{8})*$/,I=/^[a-z][a-z0-9+\-.]*:[^\0-\x20<>"{}|^`]*$/,A=/^([^\0-\x20<>"{}|^`\\]|\\u[A-Fa-f0-9]{4}|\\U[A-Fa-f0-9]{8})*$/,T=/^([^\0-\x20<>"{}|^`])*$/,b=/\\u([0-9A-Fa-f]{4})|\\U([0-9A-Fa-f]{8})/g,g=(f,e,t)=>String.fromCodePoint(parseInt(e||t,16)),B=/\s*(?:#[^\n]*\n\s*)*\s*/y,V=/\s*(#[^\n]*\n\s*)*\s*/y,y=/[\\]/,O=/[^\n]+\n/y,W=/^(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u{02ff}\u{0370}-\u{037d}\u{037f}-\u{1fff}\u{200c}-\u{200d}\u{2070}-\u{218f}\u{2c00}-\u{2fef}\u{3001}-\u{d7ff}\u{f900}-\u{fdcf}\u{fdf0}-\u{fffd}\u{10000}-\u{effff}_0-9])(?:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u{02ff}\u{0370}-\u{037d}\u{037f}-\u{1fff}\u{200c}-\u{200d}\u{2070}-\u{218f}\u{2c00}-\u{2fef}\u{3001}-\u{d7ff}\u{f900}-\u{fdcf}\u{fdf0}-\u{fffd}\u{10000}-\u{effff}_\-0-9\xb7\u{0300}-\u{036f}\u{203f}-\u{2040}.])*[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u{02ff}\u{0370}-\u{037d}\u{037f}-\u{1fff}\u{200c}-\u{200d}\u{2070}-\u{218f}\u{2c00}-\u{2fef}\u{3001}-\u{d7ff}\u{f900}-\u{fdcf}\u{fdf0}-\u{fffd}\u{10000}-\u{effff}_\-0-9\xb7\u{0300}-\u{036f}\u{203f}-\u{2040}])?$/u,Z=/^[a-z]+(-[a-z0-9]+)*$/,$=/[ \t]*/y,v=/@([A-Za-z]+(?:-[A-Za-z0-9-]+)*)(?:\s+|(?=[.,;\])#]))/y,w=/<([^>]*)>\s*/y,C=(f,e,t,s,a,l)=>{if(e)switch(e){case"t":return"	";case"n":return`
`;case"r":return"\r";case"f":return"\f";case"b":return"\b";default:console.assert(`bad regex escape char mapping: '${e}'`)}else{if(t)return t;if(s)return String.fromCodePoint(parseInt(s,16));if(a)return String.fromCodePoint(parseInt(a,16));if(l)throw l[0]==="\\"?new Error(`expected string_literal but invalid escape sequence within contents: '${l}'. failed to parse a valid token`):new Error(`expected string_literal but invalid whitespace character within contents: ${JSON.stringify(l)}. failed to parse a valid token`);console.assert("unexpected no match branch in escape sequence replace callback")}},J=/(?:\\(?:([tnrfb])|([\\"'])|u([0-9A-Fa-f]{4})|U([0-9A-Fa-f]{8}))|([\r\n]|\\.))/g,P=/(?:\\(?:([tnrfb])|([\\"'])|u([0-9A-Fa-f]{4})|U([0-9A-Fa-f]{8}))|([\r\n]|\\[^uU]|\\u[^]{4}|\\U[^]{8}))/g,U=f=>f.replace(J,C),Q=f=>{let e=K.exec(f);if(e){let t=e.index;return[f.slice(0,t).replace(P,C),f.slice(t)]}else return[f.replace(P,C),""]},[K,z]=(()=>{function f(t){let s=RegExp.prototype.exec.call(this,t);if(s){let a=s[0].length-s[1].length;s.index+=a,s[0]=s[0].slice(a)}return s}let e=(()=>{try{new RegExp("(?<!h)i")}catch{return(s,a,l)=>(a.exec=l,a)}return t=>t()})();return[e(()=>new RegExp("(?<!(?:[^\\\\]|^)(?:\\\\\\\\)*\\\\)\\\\(|u[0-9A-Fa-f]{0,3}|U[0-9A-Fa-f]{0,7})$"),/^(?:(?:[^\\]|\\.)*)(\\(?:|u[0-9A-Fa-f]{0,3}|U[0-9A-Fa-f]{0,7}))$/,function(s){let a=RegExp.prototype.exec.call(this,s);return a&&(a.index+=a[0].length-a[1].length),a}),e(()=>new RegExp('(?<!(?:[^\\\\]|^)(?:\\\\\\\\)*\\\\)"\\s*',"g"),/(?:[^\\"]|\\.)*("\s*)/y,f)]})(),q=/(?:<([^\\>]*)>|_:([^\x20\t<]+))[\x20\t]*<([^\\>]*)>[\x20\t]*(?:(?:(<[^\\>]*)>|_:([^\x20\t<]+))[\x20\t]*(?:<([^\\>]*)>|_:([^\x20\t<]+)|)[\x20\t]*\.\s*(#[^\n]*\n\s*|\n\s*)+|"([^"\\]*)(?:(")(?:\^\^<([^\\>]*)>|@([^\x20\t.]+)|)[\x20\t]*(?:<([^\\>]*)>|_:([^\x20\t<]+)|)[\x20\t]*\.\s*(#[^\n]*\n\s*|\n\s*)+)?)/y,F=/(?:<([^>]*)>|_:([^\x20\t<]+))[\x20\t]*<([^>]*)>[\x20\t]*(?:(?:(<[^>]*)>|_:([^\x20\t<]+))[\x20\t]*(?:<([^>]*)>|_:([^\x20\t<]+)|)[\x20\t]*\.\s*(#[^\n]*\n\s*|\n\s*)+|"((?:[^"\\]|\\.)*)(?:(")(?:\^\^<([^>]*)>|@([^\x20\t.]+)|)[\x20\t]*(?:<([^>]*)>|_:([^\x20\t<]+)|)[\x20\t]*\.\s*(#[^\n]*\n\s*|\n\s*)+)?)/y,D=/_:([^\x20\t<]+)/y;class Y extends E.Transform{constructor(e){super({decodeStrings:!1,writableObjectMode:!1,readableObjectMode:!0,flush:e.flush,transform:e.transform}),this.on("pipe",t=>{this._ds_input=t,typeof t.setEncoding=="function"&&t.setEncoding("utf8")})}pipe(e){let t=e;return t._writableState.objectMode?e.isGraphyWritable&&(e=E.quads_to_writable()):e=E.quads_to_json(),e!==t?(super.pipe(e),e.pipe(t)):super.pipe(t)}}class X{constructor(e){let{input:t=null,relax:s=!1,debug:a=!1}=e,l=e.allow_relative_iris||e.allowRelativeIRIs||e.allowRelativeIris||!1,u=this._dc_factory=j.adopt(e.dataFactory||e.data_factory||j.unfiltered),d=this._f_quad=u.quad;Object.assign(this,{s:e.prepend||"",n:0,_b_debug:a,_b_relax:s,_b_destroyed:!1,_b_trim_start:!0,_f_state:this.statement,_kt_subject:null,_kt_predicate:null,_kt_object:null,_s_literal:""}),this._kt_default_graph=u.defaultGraph(),this._kt_rdfs_lang_string=u.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString");let x=this._r_clean=B;e.relaxed&&console.warn(new Error("no such option 'relaxed'; did you mean 'relax' ?").stack.replace(/^Error:/,"Warning:")),"validate"in e&&console.warn(new Error("option 'validate' has been removed and validation is now on by default. Use 'relax' option if you wish to disable validation.").stack.replace(/^Error:/,"Warning:"));let R=u.namedNode,L=u.blankNode,_=u.languagedLiteral,n=l?A:S,m=l?T:I,p=this;Object.assign(this,s?{create_named_node:R,create_named_node_escapeless:R,create_blank_node:L,create_languaged_literal:_}:{create_named_node(r){return n.test(r)?R(r):p._error(`invalid IRI: "${r}"`)},create_named_node_escapeless(r){return m.test(r)?R(r):p._error(`invalid IRI: "${r}"`)},create_blank_node(r){return W.test(r)?L(r):p._error(`Invalid blank node label: "${r}"`)},create_languaged_literal(r,i){return Z.test(i)?_(r,i):p._error(`Invalid literal language tag: ${i}`)}});let o,k=!1;if(o=this.transform=new Y({transform:(r,i,c)=>{k||(o.emit("ready"),k=!1);let h=this.s+=r;if(this._b_trim_start){x.lastIndex=0;let N=x.exec(h);this.emit_comments&&this.emit_comments(N[1]),this.i=x.lastIndex}else this.i=0;this.n=h.length;try{this.parse(!0)}catch(N){return o.destroy(N)}o.emit("progress",r.length),c()},flush:r=>{if(this.s.length){if(this.s+=`
`,this._b_trim_start){x.lastIndex=0;let i=x.exec(this.s);this.emit_comments&&this.emit_comments(i[1]),this.i=x.lastIndex}else this.i=0;try{this.parse()}catch(i){return o.demolish(i)}if(this.s.length)return o.demolish(new Error(`parsing error occurred in state: statement
  ${this.s.substr(0,50)}
  ^ starting here`))}if(this._f_state!==this.statement)return o.demolish(new Error(`parsing error occurred in state: ${this._f_state.name}
  ${this.s.substr(0,50)}
  ^ starting here`));this.s=null,o.emit("progress",0),o.emit("eof"),r()}}),o._destroy=(...r)=>{this.destroy(...r)},this._f_data_quad=(r,i,c,h)=>o.push(d(r,i,c,h)),o.on("newListener",r=>{r==="comment"&&(x=V,this.emit_comments=i=>{if(!i)return;let c=i.slice(1).replace(/\n\s+$/,"").split(/\n+\s*#/g);for(let h of c)o.emit("comment",h)})}),this.bind(e),t)if(t.stream){let r=t.stream;queueMicrotask(()=>{r.pipe(o)})}else if(typeof t.string=="string"){let r=t.string;queueMicrotask(()=>{o.end(r,"utf8")})}else throw new TypeError(`Invalid argument for input parameter: ${typeof t=="object"?JSON.stringify(t):t}`);o._graphy_reader=this}_error(e){throw this._b_destroyed=!0,new Error(e)}bind(e){let t=this.transform;e.error&&t.on("error",e.error),e.comment&&t.on("comment",e.comment),e.read&&t.once("read",e.read),e.progress&&t.on("progress",e.progress),e.eof&&t.once("eof",e.eof),e.end&&t.once("end",e.end),e.finish&&t.once("finish",e.finish),e.data&&t.on("data",e.data)}parse(){let e=this._f_state();for(;typeof e=="function";)e=e.apply(this)}statement(){let e=this.s;this.n;let t=this.i,s=this._f_data_quad,a=this.create_named_node,l=this.create_named_node_escapeless,u=this.create_languaged_literal,d=this.create_blank_node,x=this._dc_factory.simpleLiteral,R=this._dc_factory.datatypedLiteral,L=this._kt_default_graph;for(;;){q.lastIndex=t;let _=q.exec(e);if(_){t=q.lastIndex;let n,m=!1;if(_[4]){let r=_[4].slice(1);n=l(r)}else if(_[5])n=d(_[5]);else{m=!0;let r=_[9];if(_[10])if(_[11]){let i=this.create_named_node_escapeless(_[11]);n=R(r,i)}else if(_[12]){let i=_[12].toLowerCase();n=u(r,i)}else n=x(r);else{this._s_literal=r,this.i=t;{let c=_[1];c||typeof c=="string"?this._kt_subject=l(c):this._kt_subject=d(_[2])}this._kt_predicate=l(_[3]);let i=this.strlit_contents();if(i&&this.statement!==i)return i;{let c=this._r_clean;c.lastIndex=this.i;let h=c.exec(e);this.emit_comments&&this.emit_comments(h[1]),t=c.lastIndex;continue}}}let p=L;if(m){let r=_[13];r||typeof r=="string"?p=l(r):_[14]&&(p=d(_[14]))}else{let r=_[6];r||typeof r=="string"?p=l(r):_[7]&&(p=d(_[7]))}let o;{let r=_[1];r||typeof r=="string"?o=l(r):o=d(_[2])}let k=_[3];s(o,l(k),n,p),this.emit_comments&&this.emit_comments(_[8]||_[15])}else{F.lastIndex=t;let n=F.exec(e);if(n){t=F.lastIndex;let m,p=!1;if(n[4]){let i=n[4].slice(1);m=a(y.test(i)?i.replace(b,g):i)}else if(n[5])m=d(y.test(n[5])?n[5].replace(b,g):n[5]);else{p=!0;let i=n[9];if(n[10])if(i=U(i),n[11]){let c=this.create_named_node(n[11]);m=R(i,c)}else if(n[12]){let c=n[12].toLowerCase();m=u(i,c)}else m=x(i);else{this._s_literal=i,this.i=t;{let h=n[1];h||typeof h=="string"?this._kt_subject=a(y.test(h)?h.replace(b,g):h):this._kt_subject=d(n[2])}this._kt_predicate=a(y.test(n[3])?n[3].replace(b,g):n[3]);let c=this.strlit_contents();if(c&&this.statement!==c)return c;{let h=this._r_clean;h.lastIndex=this.i;let N=h.exec(e);this.emit_comments&&this.emit_comments(N[1]),t=h.lastIndex;continue}}}let o=L;if(p){let i=n[13];i||typeof i=="string"?o=a(y.test(i)?i.replace(b,g):i):n[14]&&(o=d(n[14]))}else{let i=n[6];i||typeof i=="string"?o=a(y.test(i)?i.replace(b,g):i):n[7]&&(o=d(n[7]))}let k;{let i=n[1];i||typeof i=="string"?k=a(y.test(i)?i.replace(b,g):i):k=d(n[2])}let r=n[3];s(k,a(y.test(r)?r.replace(b,g):r),m,o),this.emit_comments&&this.emit_comments(n[8]||n[15])}else if(O.lastIndex=t,O.exec(e))t=O.lastIndex,this._error(`Failed to read statement:
\`${e.substr(t,80).replace(/\n/g,"⏎")} [...]\`
 ^ starting here`);else break}}return this.s=e.substr(t),this._f_state=this.statement,1}strlit_contents(){let{s:e,n:t,i:s}=this;z.lastIndex=s;let a=z.exec(e);if(a){let l=a.index,u=e.slice(s,l);return this._s_literal+=U(u),this.i=l+a[0].length,this._b_trim_start=!0,this.datatype_or_langtag()||this.statement}else{let l=e.slice(s),[u,d]=Q(l);this._s_literal+=u,this.i=s=t-d.length,this._b_trim_start=!1}return s<this.n&&s===0&&this.n>this.max_token_length?this.parse_error("strlit_contents"):(this._f_state=this.strlit_contents,this.s=e.slice(s),this.eos&&this.eos(),1)}datatype_or_langtag(){let{s:e,n:t,i:s}=this,a=e[s];for(;s<t;)if(a==="^")if(s+2<t)if(e[s+1]==="^"){w.lastIndex=s+2;let l=w.exec(e);if(l){this.i=w.lastIndex;let u=l[1].replace(b,g),d=this.create_named_node(u);return this._kt_object=this._dc_factory.datatypedLiteral(this._s_literal,d),this._s_literal="",this.post_object()}else break}else this._error(`Failed to read token after literal:
\`${e.substr(s+1,80).replace(/\n/g,"⏎")} [...]\`
 ^ starting here`);else break;else if(a==="@"){v.lastIndex=s;let l=v.exec(e);if(l)return this.i=v.lastIndex,this._kt_object=this._dc_factory.languagedLiteral(this._s_literal,l[1]),this._s_literal="",this.post_object();break}else{if(a==="<"||a==="_")return this._kt_object=this._dc_factory.simpleLiteral(this._s_literal),this._s_literal="",this.graph();if(a==="."){let l=this._dc_factory.simpleLiteral(this._s_literal);return this._s_literal="",this.i=s+1,this._f_data_quad(this._kt_subject,this._kt_predicate,l,this._kt_default_graph),this.statement}else break}return this.i=s,s<this.n&&s===0&&this.n>this.max_token_length?this.parse_error("datatype_or_langtag"):(this._f_state=this.datatype_or_langtag,this.s=e.slice(s),this.eos&&this.eos(),1)}statement_term(){let{s:e,n:t,i:s}=this,a=e.indexOf(".",s);return a>-1?(this._b_trim_start=!0,this.i=a+1,this.statement):(/^\s*$/.test(e.slice(s))||this.parse_error("statement_term"),this._b_trim_start=!1,this._f_state=this.statement_term,this.s=e.slice(s),this.eos&&this.eos(),1)}post_object(){let{s:e,n:t,i:s}=this;if($.lastIndex=s,$.exec(e),s=$.lastIndex,s>=t)return this._f_state=this.post_object,this.s=e.slice(s),this.eos&&this.eos(),1;switch(e[s]){case".":return this.i=s+1,this._f_data_quad(this._kt_subject,this._kt_predicate,this._kt_object,this._kt_default_graph),this.statement;case"<":case"_":return this.i=s,this.graph();default:this.i=s,this.parse_error("post_object")}}graph(){let{s:e,n:t,i:s}=this;w.lastIndex=s;let a=w.exec(e);if(a){this.i=w.lastIndex;let l=this.create_named_node(a[1]);return this._f_data_quad(this._kt_subject,this._kt_predicate,this._kt_object,l),this.statement_term()}else{D.lastIndex=s;let l=D.exec(e);if(l){this.i=D.lastIndex;let u=this._dc_factory.blankNode(l[1]);return this._f_data_quad(this._kt_subject,this._kt_predicate,this._kt_object,u),this.statement_term()}}return this._f_state=this.graph,this.s=e.slice(s),this.eos&&this.eos(),1}parse_error(e){return this._error(`Failed to read ${e}:
\`${this.s.substr(this.i,80).replace(/\n/g,"⏎")} [...]\`
 ^ starting here`)}destroy(e){this._f_data_quad=()=>{},!e&&this._ds_input&&this._ds_input.destroy(e),this.transform.demolish(e)}}return M=function(...f){let e={};if(f.length){let t=f[0];if(t&&t.input&&typeof t.input.string>"u"&&!t.input.stream&&(t=t.input),typeof t=="string")e.input={string:t};else if(t===null)e.input=null;else if(typeof t.setEncoding=="function")e.input={stream:t};else{if(typeof t.pipeTo=="function")throw new TypeError("Sorry, WHATWG streams are currently not supported :(");if(t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"){if(e=t,f.length>1)throw new TypeError(`unexpected argument(s) after config struct: ${f.slice(1)}`)}else throw new TypeError(`unexpected input type: ${t}`)}if(f.length>1&&(Object.assign(e,f[1]),f.length>2))throw new TypeError(`unexpected argument(s) after input and config struct: ${f.slice(2)}`)}return new X(e).transform},M}var H=ie();const ae=te(H),_e=re({__proto__:null,default:ae},[H]);export{_e as m};
