(function(Pi,un){typeof exports=="object"&&typeof module<"u"?un(exports):typeof define=="function"&&define.amd?define(["exports"],un):(Pi=typeof globalThis<"u"?globalThis:Pi||self,un(Pi.spex={}))})(this,function(Pi){"use strict";var Dbt=Object.defineProperty;var Mbt=(Pi,un,ba)=>un in Pi?Dbt(Pi,un,{enumerable:!0,configurable:!0,writable:!0,value:ba}):Pi[un]=ba;var qd=(Pi,un,ba)=>(Mbt(Pi,typeof un!="symbol"?un+"":un,ba),ba);function un(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in e)){const s=Object.getOwnPropertyDescriptor(n,o);s&&Object.defineProperty(e,o,s.get?s:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}const ba=Object.freeze(Object.defineProperty({__proto__:null,get _void(){return xme},get acl(){return Fye},get as(){return jye},get bibo(){return Wye},get cc(){return Bye},get cert(){return Uye},get cnt(){return qye},get constant(){return Hye},get crm(){return Vye},get csvw(){return Gye},get ctag(){return zye},get dash(){return Jye},get dashSparql(){return Kye},get dbo(){return Yye},get dc11(){return Xye},get dcam(){return Qye},get dcat(){return Zye},get dcmitype(){return ewe},get dcterms(){return twe},get default(){return zU},get dig(){return rwe},get discipline(){return nwe},get doap(){return iwe},get dpv(){return owe},get dqv(){return swe},get dtype(){return awe},get duv(){return lwe},get earl(){return uwe},get ebucore(){return fwe},get exif(){return cwe},get foaf(){return dwe},get frbr(){return hwe},get geo(){return pwe},get geof(){return bwe},get geor(){return gwe},get gml(){return _we},get gn(){return ywe},get gr(){return wwe},get grddl(){return mwe},get gs1(){return vwe},get gtfs(){return Swe},get http(){return Ewe},get hydra(){return Rwe},get ical(){return xwe},get la(){return Awe},get ldp(){return $we},get list(){return Twe},get locn(){return Iwe},get log(){return Nwe},get lvont(){return kwe},get m4i(){return Cwe},get ma(){return Owe},get mads(){return Lwe},get math(){return Dwe},get oa(){return Mwe},get og(){return Pwe},get oidc(){return Fwe},get org(){return jwe},get owl(){return Wwe},get pim(){return Bwe},get prefix(){return Uwe},get prov(){return qwe},get qb(){return Hwe},get qkdv(){return Vwe},get quantitykind(){return Gwe},get qudt(){return zwe},get rdau(){return Kwe},get rdf(){return Fo},get rdfa(){return Jwe},get rdfs(){return Ywe},get rev(){return Xwe},get rico(){return Qwe},get rif(){return kme},get rr(){return Zwe},get rss(){return eme},get schema(){return tme},get sd(){return rme},get sdmx(){return nme},get sem(){return ime},get set(){return ome},get sf(){return sme},get sh(){return ame},get shex(){return lme},get shsh(){return ume},get sioc(){return fme},get skos(){return cme},get skosxl(){return dme},get solid(){return hme},get sosa(){return pme},get sou(){return bme},get ssn(){return gme},get stat(){return _me},get string(){return yme},get test(){return wme},get time(){return mme},get unit(){return vme},get v(){return Cme},get vaem(){return Sme},get vann(){return Eme},get vcard(){return Rme},get vs(){return Ame},get wdr(){return Ome},get wdrs(){return $me},get wgs(){return Tme},get xhv(){return Ime},get xkos(){return Nme},get xml(){return Lme},get xsd(){return Nb}},Symbol.toStringTag,{value:"Module"}));function Ml(e,t){const r=Object.create(null),n=e.split(",");for(let o=0;o<n.length;o++)r[n[o]]=!0;return t?o=>!!r[o.toLowerCase()]:o=>!!r[o]}const Zt=Object.freeze({}),Hd=Object.freeze([]),Gn=()=>{},BW=()=>!1,Ype=/^on[^a-z]/,lb=e=>Ype.test(e),$y=e=>e.startsWith("onUpdate:"),ar=Object.assign,cx=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},Xpe=Object.prototype.hasOwnProperty,Ct=(e,t)=>Xpe.call(e,t),ut=Array.isArray,nf=e=>Ty(e)==="[object Map]",UW=e=>Ty(e)==="[object Set]",vt=e=>typeof e=="function",br=e=>typeof e=="string",dx=e=>typeof e=="symbol",Gt=e=>e!==null&&typeof e=="object",hx=e=>Gt(e)&&vt(e.then)&&vt(e.catch),qW=Object.prototype.toString,Ty=e=>qW.call(e),px=e=>Ty(e).slice(8,-1),HW=e=>Ty(e)==="[object Object]",bx=e=>br(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Iy=Ml(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Qpe=Ml("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),Ny=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},Zpe=/-(\w)/g,cs=Ny(e=>e.replace(Zpe,(t,r)=>r?r.toUpperCase():"")),ebe=/\B([A-Z])/g,Pl=Ny(e=>e.replace(ebe,"-$1").toLowerCase()),of=Ny(e=>e.charAt(0).toUpperCase()+e.slice(1)),sf=Ny(e=>e?`on${of(e)}`:""),ub=(e,t)=>!Object.is(e,t),Vd=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},ky=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},gx=e=>{const t=parseFloat(e);return isNaN(t)?e:t},tbe=e=>{const t=br(e)?Number(e):NaN;return isNaN(t)?e:t};let VW;const Cy=()=>VW||(VW=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"||typeof window<"u"?window:{});function Oy(e){if(ut(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],o=br(n)?obe(n):Oy(n);if(o)for(const s in o)t[s]=o[s]}return t}else{if(br(e))return e;if(Gt(e))return e}}const rbe=/;(?![^(]*\))/g,nbe=/:([^]+)/,ibe=/\/\*[^]*?\*\//g;function obe(e){const t={};return e.replace(ibe,"").split(rbe).forEach(r=>{if(r){const n=r.split(nbe);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function rn(e){let t="";if(br(e))t=e;else if(ut(e))for(let r=0;r<e.length;r++){const n=rn(e[r]);n&&(t+=n+" ")}else if(Gt(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const sbe="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",abe="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",lbe=Ml(sbe),ube=Ml(abe),fbe=Ml("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function GW(e){return!!e||e===""}const Wt=e=>br(e)?e:e==null?"":ut(e)||Gt(e)&&(e.toString===qW||!vt(e.toString))?JSON.stringify(e,zW,2):String(e),zW=(e,t)=>t&&t.__v_isRef?zW(e,t.value):nf(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,o])=>(r[`${n} =>`]=o,r),{})}:UW(t)?{[`Set(${t.size})`]:[...t.values()]}:Gt(t)&&!ut(t)&&!HW(t)?String(t):t;var cbe={NODE_ENV:'"production"'};function _x(e,...t){console.warn(`[Vue warn] ${e}`,...t)}let Oo;class dbe{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Oo,!t&&Oo&&(this.index=(Oo.scopes||(Oo.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const r=Oo;try{return Oo=this,t()}finally{Oo=r}}else _x("cannot run an inactive effect scope.")}on(){Oo=this}off(){Oo=this.parent}stop(t){if(this._active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function hbe(e,t=Oo){t&&t.active&&t.effects.push(e)}function pbe(){return Oo}const yx=e=>{const t=new Set(e);return t.w=0,t.n=0,t},KW=e=>(e.w&Fl)>0,JW=e=>(e.n&Fl)>0,bbe=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Fl},gbe=e=>{const{deps:t}=e;if(t.length){let r=0;for(let n=0;n<t.length;n++){const o=t[n];KW(o)&&!JW(o)?o.delete(e):t[r++]=o,o.w&=~Fl,o.n&=~Fl}t.length=r}},wx=new WeakMap;let fb=0,Fl=1;const mx=30;let zn;const af=Symbol("iterate"),vx=Symbol("Map key iterate");class Sx{constructor(t,r=null,n){this.fn=t,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,hbe(this,n)}run(){if(!this.active)return this.fn();let t=zn,r=jl;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=zn,zn=this,jl=!0,Fl=1<<++fb,fb<=mx?bbe(this):YW(this),this.fn()}finally{fb<=mx&&gbe(this),Fl=1<<--fb,zn=this.parent,jl=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){zn===this?this.deferStop=!0:this.active&&(YW(this),this.onStop&&this.onStop(),this.active=!1)}}function YW(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}let jl=!0;const XW=[];function lf(){XW.push(jl),jl=!1}function uf(){const e=XW.pop();jl=e===void 0?!0:e}function $n(e,t,r){if(jl&&zn){let n=wx.get(e);n||wx.set(e,n=new Map);let o=n.get(r);o||n.set(r,o=yx()),QW(o,{effect:zn,target:e,type:t,key:r})}}function QW(e,t){let r=!1;fb<=mx?JW(e)||(e.n|=Fl,r=!KW(e)):r=!e.has(zn),r&&(e.add(zn),zn.deps.push(e),zn.onTrack&&zn.onTrack(ar({effect:zn},t)))}function ds(e,t,r,n,o,s){const a=wx.get(e);if(!a)return;let l=[];if(t==="clear")l=[...a.values()];else if(r==="length"&&ut(e)){const u=Number(n);a.forEach((d,g)=>{(g==="length"||g>=u)&&l.push(d)})}else switch(r!==void 0&&l.push(a.get(r)),t){case"add":ut(e)?bx(r)&&l.push(a.get("length")):(l.push(a.get(af)),nf(e)&&l.push(a.get(vx)));break;case"delete":ut(e)||(l.push(a.get(af)),nf(e)&&l.push(a.get(vx)));break;case"set":nf(e)&&l.push(a.get(af));break}const f={target:e,type:t,key:r,newValue:n,oldValue:o,oldTarget:s};if(l.length===1)l[0]&&Ex(l[0],f);else{const u=[];for(const d of l)d&&u.push(...d);Ex(yx(u),f)}}function Ex(e,t){const r=ut(e)?e:[...e];for(const n of r)n.computed&&ZW(n,t);for(const n of r)n.computed||ZW(n,t)}function ZW(e,t){(e!==zn||e.allowRecurse)&&(e.onTrigger&&e.onTrigger(ar({effect:e},t)),e.scheduler?e.scheduler():e.run())}const _be=Ml("__proto__,__v_isRef,__isVue"),eB=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(dx)),ybe=Ly(),wbe=Ly(!1,!0),mbe=Ly(!0),vbe=Ly(!0,!0),tB=Sbe();function Sbe(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const n=nt(this);for(let s=0,a=this.length;s<a;s++)$n(n,"get",s+"");const o=n[t](...r);return o===-1||o===!1?n[t](...r.map(nt)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){lf();const n=nt(this)[t].apply(this,r);return uf(),n}}),e}function Ebe(e){const t=nt(this);return $n(t,"has",e),t.hasOwnProperty(e)}function Ly(e=!1,t=!1){return function(n,o,s){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&s===(e?t?hB:dB:t?cB:fB).get(n))return n;const a=ut(n);if(!e){if(a&&Ct(tB,o))return Reflect.get(tB,o,s);if(o==="hasOwnProperty")return Ebe}const l=Reflect.get(n,o,s);return(dx(o)?eB.has(o):_be(o))||(e||$n(n,"get",o),t)?l:Hr(l)?a&&bx(o)?l:l.value:Gt(l)?e?pB(l):Uy(l):l}}const Rbe=rB(),xbe=rB(!0);function rB(e=!1){return function(r,n,o,s){let a=r[n];if(Bl(a)&&Hr(a)&&!Hr(o))return!1;if(!e&&(!Hy(o)&&!Bl(o)&&(a=nt(a),o=nt(o)),!ut(r)&&Hr(a)&&!Hr(o)))return a.value=o,!0;const l=ut(r)&&bx(n)?Number(n)<r.length:Ct(r,n),f=Reflect.set(r,n,o,s);return r===nt(s)&&(l?ub(o,a)&&ds(r,"set",n,o,a):ds(r,"add",n,o)),f}}function Abe(e,t){const r=Ct(e,t),n=e[t],o=Reflect.deleteProperty(e,t);return o&&r&&ds(e,"delete",t,void 0,n),o}function $be(e,t){const r=Reflect.has(e,t);return(!dx(t)||!eB.has(t))&&$n(e,"has",t),r}function Tbe(e){return $n(e,"iterate",ut(e)?"length":af),Reflect.ownKeys(e)}const nB={get:ybe,set:Rbe,deleteProperty:Abe,has:$be,ownKeys:Tbe},iB={get:mbe,set(e,t){return _x(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0},deleteProperty(e,t){return _x(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0}},Ibe=ar({},nB,{get:wbe,set:xbe}),Nbe=ar({},iB,{get:vbe}),Rx=e=>e,Dy=e=>Reflect.getPrototypeOf(e);function My(e,t,r=!1,n=!1){e=e.__v_raw;const o=nt(e),s=nt(t);r||(t!==s&&$n(o,"get",t),$n(o,"get",s));const{has:a}=Dy(o),l=n?Rx:r?Ax:db;if(a.call(o,t))return l(e.get(t));if(a.call(o,s))return l(e.get(s));e!==o&&e.get(t)}function Py(e,t=!1){const r=this.__v_raw,n=nt(r),o=nt(e);return t||(e!==o&&$n(n,"has",e),$n(n,"has",o)),e===o?r.has(e):r.has(e)||r.has(o)}function Fy(e,t=!1){return e=e.__v_raw,!t&&$n(nt(e),"iterate",af),Reflect.get(e,"size",e)}function oB(e){e=nt(e);const t=nt(this);return Dy(t).has.call(t,e)||(t.add(e),ds(t,"add",e,e)),this}function sB(e,t){t=nt(t);const r=nt(this),{has:n,get:o}=Dy(r);let s=n.call(r,e);s?uB(r,n,e):(e=nt(e),s=n.call(r,e));const a=o.call(r,e);return r.set(e,t),s?ub(t,a)&&ds(r,"set",e,t,a):ds(r,"add",e,t),this}function aB(e){const t=nt(this),{has:r,get:n}=Dy(t);let o=r.call(t,e);o?uB(t,r,e):(e=nt(e),o=r.call(t,e));const s=n?n.call(t,e):void 0,a=t.delete(e);return o&&ds(t,"delete",e,void 0,s),a}function lB(){const e=nt(this),t=e.size!==0,r=nf(e)?new Map(e):new Set(e),n=e.clear();return t&&ds(e,"clear",void 0,void 0,r),n}function jy(e,t){return function(n,o){const s=this,a=s.__v_raw,l=nt(a),f=t?Rx:e?Ax:db;return!e&&$n(l,"iterate",af),a.forEach((u,d)=>n.call(o,f(u),f(d),s))}}function Wy(e,t,r){return function(...n){const o=this.__v_raw,s=nt(o),a=nf(s),l=e==="entries"||e===Symbol.iterator&&a,f=e==="keys"&&a,u=o[e](...n),d=r?Rx:t?Ax:db;return!t&&$n(s,"iterate",f?vx:af),{next(){const{value:g,done:h}=u.next();return h?{value:g,done:h}:{value:l?[d(g[0]),d(g[1])]:d(g),done:h}},[Symbol.iterator](){return this}}}}function Wl(e){return function(...t){{const r=t[0]?`on key "${t[0]}" `:"";console.warn(`${of(e)} operation ${r}failed: target is readonly.`,nt(this))}return e==="delete"?!1:this}}function kbe(){const e={get(s){return My(this,s)},get size(){return Fy(this)},has:Py,add:oB,set:sB,delete:aB,clear:lB,forEach:jy(!1,!1)},t={get(s){return My(this,s,!1,!0)},get size(){return Fy(this)},has:Py,add:oB,set:sB,delete:aB,clear:lB,forEach:jy(!1,!0)},r={get(s){return My(this,s,!0)},get size(){return Fy(this,!0)},has(s){return Py.call(this,s,!0)},add:Wl("add"),set:Wl("set"),delete:Wl("delete"),clear:Wl("clear"),forEach:jy(!0,!1)},n={get(s){return My(this,s,!0,!0)},get size(){return Fy(this,!0)},has(s){return Py.call(this,s,!0)},add:Wl("add"),set:Wl("set"),delete:Wl("delete"),clear:Wl("clear"),forEach:jy(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=Wy(s,!1,!1),r[s]=Wy(s,!0,!1),t[s]=Wy(s,!1,!0),n[s]=Wy(s,!0,!0)}),[e,r,t,n]}const[Cbe,Obe,Lbe,Dbe]=kbe();function By(e,t){const r=t?e?Dbe:Lbe:e?Obe:Cbe;return(n,o,s)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?n:Reflect.get(Ct(r,o)&&o in n?r:n,o,s)}const Mbe={get:By(!1,!1)},Pbe={get:By(!1,!0)},Fbe={get:By(!0,!1)},jbe={get:By(!0,!0)};function uB(e,t,r){const n=nt(r);if(n!==r&&t.call(e,n)){const o=px(e);console.warn(`Reactive ${o} contains both the raw and reactive versions of the same object${o==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const fB=new WeakMap,cB=new WeakMap,dB=new WeakMap,hB=new WeakMap;function Wbe(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Bbe(e){return e.__v_skip||!Object.isExtensible(e)?0:Wbe(px(e))}function Uy(e){return Bl(e)?e:qy(e,!1,nB,Mbe,fB)}function Ube(e){return qy(e,!1,Ibe,Pbe,cB)}function pB(e){return qy(e,!0,iB,Fbe,dB)}function cb(e){return qy(e,!0,Nbe,jbe,hB)}function qy(e,t,r,n,o){if(!Gt(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=o.get(e);if(s)return s;const a=Bbe(e);if(a===0)return e;const l=new Proxy(e,a===2?n:r);return o.set(e,l),l}function ff(e){return Bl(e)?ff(e.__v_raw):!!(e&&e.__v_isReactive)}function Bl(e){return!!(e&&e.__v_isReadonly)}function Hy(e){return!!(e&&e.__v_isShallow)}function xx(e){return ff(e)||Bl(e)}function nt(e){const t=e&&e.__v_raw;return t?nt(t):e}function bB(e){return ky(e,"__v_skip",!0),e}const db=e=>Gt(e)?Uy(e):e,Ax=e=>Gt(e)?pB(e):e;function gB(e){jl&&zn&&(e=nt(e),QW(e.dep||(e.dep=yx()),{target:e,type:"get",key:"value"}))}function _B(e,t){e=nt(e);const r=e.dep;r&&Ex(r,{target:e,type:"set",key:"value",newValue:t})}function Hr(e){return!!(e&&e.__v_isRef===!0)}function qe(e){return yB(e,!1)}function qbe(e){return yB(e,!0)}function yB(e,t){return Hr(e)?e:new Hbe(e,t)}class Hbe{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:nt(t),this._value=r?t:db(t)}get value(){return gB(this),this._value}set value(t){const r=this.__v_isShallow||Hy(t)||Bl(t);t=r?t:nt(t),ub(t,this._rawValue)&&(this._rawValue=t,this._value=r?t:db(t),_B(this,t))}}function Ze(e){return Hr(e)?e.value:e}const Vbe={get:(e,t,r)=>Ze(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const o=e[t];return Hr(o)&&!Hr(r)?(o.value=r,!0):Reflect.set(e,t,r,n)}};function wB(e){return ff(e)?e:new Proxy(e,Vbe)}class Gbe{constructor(t,r,n,o){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Sx(t,()=>{this._dirty||(this._dirty=!0,_B(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=n}get value(){const t=nt(this);return gB(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function zbe(e,t,r=!1){let n,o;const s=vt(e);s?(n=e,o=cbe.NODE_ENV!=="production"?()=>{console.warn("Write operation failed: computed value is readonly")}:Gn):(n=e.get,o=e.set);const a=new Gbe(n,o,s||!o,r);return t&&!r&&(a.effect.onTrack=t.onTrack,a.effect.onTrigger=t.onTrigger),a}var Vy={NODE_ENV:'"production"'};const cf=[];function Gy(e){cf.push(e)}function zy(){cf.pop()}function Fe(e,...t){lf();const r=cf.length?cf[cf.length-1].component:null,n=r&&r.appContext.config.warnHandler,o=Kbe();if(n)ga(n,r,11,[e+t.join(""),r&&r.proxy,o.map(({vnode:s})=>`at <${fw(r,s.type)}>`).join(`
`),o]);else{const s=[`[Vue warn]: ${e}`,...t];o.length&&s.push(`
`,...Jbe(o)),console.warn(...s)}uf()}function Kbe(){let e=cf[cf.length-1];if(!e)return[];const t=[];for(;e;){const r=t[0];r&&r.vnode===e?r.recurseCount++:t.push({vnode:e,recurseCount:0});const n=e.component&&e.component.parent;e=n&&n.vnode}return t}function Jbe(e){const t=[];return e.forEach((r,n)=>{t.push(...n===0?[]:[`
`],...Ybe(r))}),t}function Ybe({vnode:e,recurseCount:t}){const r=t>0?`... (${t} recursive calls)`:"",n=e.component?e.component.parent==null:!1,o=` at <${fw(e.component,e.type,n)}`,s=">"+r;return e.props?[o,...Xbe(e.props),s]:[o+s]}function Xbe(e){const t=[],r=Object.keys(e);return r.slice(0,3).forEach(n=>{t.push(...mB(n,e[n]))}),r.length>3&&t.push(" ..."),t}function mB(e,t,r){return br(t)?(t=JSON.stringify(t),r?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?r?t:[`${e}=${t}`]:Hr(t)?(t=mB(e,nt(t.value),!0),r?t:[`${e}=Ref<`,t,">"]):vt(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=nt(t),r?t:[`${e}=`,t])}function Qbe(e,t){e!==void 0&&(typeof e!="number"?Fe(`${t} is not a valid number - got ${JSON.stringify(e)}.`):isNaN(e)&&Fe(`${t} is NaN - the duration expression might be incorrect.`))}const $x={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/core"};function ga(e,t,r,n){let o;try{o=n?e(...n):e()}catch(s){Ky(s,t,r)}return o}function Zi(e,t,r,n){if(vt(e)){const s=ga(e,t,r,n);return s&&hx(s)&&s.catch(a=>{Ky(a,t,r)}),s}const o=[];for(let s=0;s<e.length;s++)o.push(Zi(e[s],t,r,n));return o}function Ky(e,t,r,n=!0){const o=t?t.vnode:null;if(t){let s=t.parent;const a=t.proxy,l=$x[r];for(;s;){const u=s.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](e,a,l)===!1)return}s=s.parent}const f=t.appContext.config.errorHandler;if(f){ga(f,null,10,[e,a,l]);return}}Zbe(e,r,o,n)}function Zbe(e,t,r,n=!0){{const o=$x[t];if(r&&Gy(r),Fe(`Unhandled error${o?` during execution of ${o}`:""}`),r&&zy(),n)throw e;console.error(e)}}let hb=!1,Tx=!1;const Tn=[];let hs=0;const Gd=[];let ps=null,Ul=0;const vB=Promise.resolve();let Ix=null;const ege=100;function fn(e){const t=Ix||vB;return e?t.then(this?e.bind(this):e):t}function tge(e){let t=hs+1,r=Tn.length;for(;t<r;){const n=t+r>>>1;pb(Tn[n])<e?t=n+1:r=n}return t}function Jy(e){(!Tn.length||!Tn.includes(e,hb&&e.allowRecurse?hs+1:hs))&&(e.id==null?Tn.push(e):Tn.splice(tge(e.id),0,e),SB())}function SB(){!hb&&!Tx&&(Tx=!0,Ix=vB.then(AB))}function rge(e){const t=Tn.indexOf(e);t>hs&&Tn.splice(t,1)}function EB(e){ut(e)?Gd.push(...e):(!ps||!ps.includes(e,e.allowRecurse?Ul+1:Ul))&&Gd.push(e),SB()}function RB(e,t=hb?hs+1:0){for(e=e||new Map;t<Tn.length;t++){const r=Tn[t];if(r&&r.pre){if(Nx(e,r))continue;Tn.splice(t,1),t--,r()}}}function xB(e){if(Gd.length){const t=[...new Set(Gd)];if(Gd.length=0,ps){ps.push(...t);return}for(ps=t,e=e||new Map,ps.sort((r,n)=>pb(r)-pb(n)),Ul=0;Ul<ps.length;Ul++)Nx(e,ps[Ul])||ps[Ul]();ps=null,Ul=0}}const pb=e=>e.id==null?1/0:e.id,nge=(e,t)=>{const r=pb(e)-pb(t);if(r===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function AB(e){Tx=!1,hb=!0,e=e||new Map,Tn.sort(nge);const t=r=>Nx(e,r);try{for(hs=0;hs<Tn.length;hs++){const r=Tn[hs];if(r&&r.active!==!1){if(Vy.NODE_ENV!=="production"&&t(r))continue;ga(r,null,14)}}}finally{hs=0,Tn.length=0,xB(e),hb=!1,Ix=null,(Tn.length||Gd.length)&&AB(e)}}function Nx(e,t){if(!e.has(t))e.set(t,1);else{const r=e.get(t);if(r>ege){const n=t.ownerInstance,o=n&&n1(n.type);return Fe(`Maximum recursive updates exceeded${o?` in component <${o}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`),!0}else e.set(t,r+1)}}let ql=!1;const zd=new Set;Cy().__VUE_HMR_RUNTIME__={createRecord:kx($B),rerender:kx(sge),reload:kx(age)};const df=new Map;function ige(e){const t=e.type.__hmrId;let r=df.get(t);r||($B(t,e.type),r=df.get(t)),r.instances.add(e)}function oge(e){df.get(e.type.__hmrId).instances.delete(e)}function $B(e,t){return df.has(e)?!1:(df.set(e,{initialDef:bb(t),instances:new Set}),!0)}function bb(e){return vU(e)?e.__vccOpts:e}function sge(e,t){const r=df.get(e);r&&(r.initialDef.render=t,[...r.instances].forEach(n=>{t&&(n.render=t,bb(n.type).render=t),n.renderCache=[],ql=!0,n.update(),ql=!1}))}function age(e,t){const r=df.get(e);if(!r)return;t=bb(t),TB(r.initialDef,t);const n=[...r.instances];for(const o of n){const s=bb(o.type);zd.has(s)||(s!==r.initialDef&&TB(s,t),zd.add(s)),o.appContext.propsCache.delete(o.type),o.appContext.emitsCache.delete(o.type),o.appContext.optionsCache.delete(o.type),o.ceReload?(zd.add(s),o.ceReload(t.styles),zd.delete(s)):o.parent?Jy(o.parent.update):o.appContext.reload?o.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required.")}EB(()=>{for(const o of n)zd.delete(bb(o.type))})}function TB(e,t){ar(e,t);for(const r in e)r!=="__file"&&!(r in t)&&delete e[r]}function kx(e){return(t,r)=>{try{return e(t,r)}catch(n){console.error(n),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let bs,gb=[],Cx=!1;function _b(e,...t){bs?bs.emit(e,...t):Cx||gb.push({event:e,args:t})}function IB(e,t){var r,n;bs=e,bs?(bs.enabled=!0,gb.forEach(({event:o,args:s})=>bs.emit(o,...s)),gb=[]):typeof window<"u"&&window.HTMLElement&&!((n=(r=window.navigator)==null?void 0:r.userAgent)!=null&&n.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{IB(s,t)}),setTimeout(()=>{bs||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Cx=!0,gb=[])},3e3)):(Cx=!0,gb=[])}function lge(e,t){_b("app:init",e,t,{Fragment:Dt,Text:Sb,Comment:nn,Static:Eb})}function uge(e){_b("app:unmount",e)}const fge=Ox("component:added"),NB=Ox("component:updated"),cge=Ox("component:removed"),dge=e=>{bs&&typeof bs.cleanupBuffer=="function"&&!bs.cleanupBuffer(e)&&cge(e)};function Ox(e){return t=>{_b(e,t.appContext.app,t.uid,t.parent?t.parent.uid:void 0,t)}}const hge=kB("perf:start"),pge=kB("perf:end");function kB(e){return(t,r,n)=>{_b(e,t.appContext.app,t.uid,t,r,n)}}function bge(e,t,r){_b("component:emit",e.appContext.app,e,t,r)}function gge(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||Zt;{const{emitsOptions:d,propsOptions:[g]}=e;if(d)if(!(t in d))(!g||!(sf(t)in g))&&Fe(`Component emitted event "${t}" but it is neither declared in the emits option nor as an "${sf(t)}" prop.`);else{const h=d[t];vt(h)&&(h(...r)||Fe(`Invalid event arguments: event validation failed for event "${t}".`))}}let o=r;const s=t.startsWith("update:"),a=s&&t.slice(7);if(a&&a in n){const d=`${a==="modelValue"?"model":a}Modifiers`,{number:g,trim:h}=n[d]||Zt;h&&(o=r.map(p=>br(p)?p.trim():p)),g&&(o=r.map(gx))}bge(e,t,o);{const d=t.toLowerCase();d!==t&&n[sf(d)]&&Fe(`Event "${d}" is emitted in component ${fw(e,e.type)} but the handler is registered for "${t}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${Pl(t)}" instead of "${t}".`)}let l,f=n[l=sf(t)]||n[l=sf(cs(t))];!f&&s&&(f=n[l=sf(Pl(t))]),f&&Zi(f,e,6,o);const u=n[l+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Zi(u,e,6,o)}}function CB(e,t,r=!1){const n=t.emitsCache,o=n.get(e);if(o!==void 0)return o;const s=e.emits;let a={},l=!1;if(!vt(e)){const f=u=>{const d=CB(u,t,!0);d&&(l=!0,ar(a,d))};!r&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!s&&!l?(Gt(e)&&n.set(e,null),null):(ut(s)?s.forEach(f=>a[f]=null):ar(a,s),Gt(e)&&n.set(e,a),a)}function Yy(e,t){return!e||!lb(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ct(e,t[0].toLowerCase()+t.slice(1))||Ct(e,Pl(t))||Ct(e,t))}let Vr=null,Xy=null;function Qy(e){const t=Vr;return Vr=e,Xy=e&&e.type.__scopeId||null,t}function _ge(e){Xy=e}function yge(){Xy=null}function pt(e,t=Vr,r){if(!t||e._n)return e;const n=(...o)=>{n._d&&dU(-1);const s=Qy(t);let a;try{a=e(...o)}finally{Qy(s),n._d&&dU(1)}return NB(t),a};return n._n=!0,n._c=!0,n._d=!0,n}let Lx=!1;function Zy(){Lx=!0}function Dx(e){const{type:t,vnode:r,proxy:n,withProxy:o,props:s,propsOptions:[a],slots:l,attrs:f,emit:u,render:d,renderCache:g,data:h,setupState:p,ctx:w,inheritAttrs:y}=e;let v,E;const x=Qy(e);Lx=!1;try{if(r.shapeFlag&4){const $=o||n;v=Po(d.call($,$,g,s,p,h,w)),E=f}else{const $=t;Vy.NODE_ENV!=="production"&&f===s&&Zy(),v=Po($.length>1?$(s,Vy.NODE_ENV!=="production"?{get attrs(){return Zy(),f},slots:l,emit:u}:{attrs:f,slots:l,emit:u}):$(s,null)),E=t.props?f:mge(f)}}catch($){Rb.length=0,Ky($,e,1),v=Pe(nn)}let S=v,N;if(v.patchFlag>0&&v.patchFlag&2048&&([S,N]=wge(v)),E&&y!==!1){const $=Object.keys(E),{shapeFlag:D}=S;if($.length){if(D&7)a&&$.some($y)&&(E=vge(E,a)),S=Mo(S,E);else if(!Lx&&S.type!==nn){const K=Object.keys(f),q=[],k=[];for(let V=0,j=K.length;V<j;V++){const B=K[V];lb(B)?$y(B)||q.push(B[2].toLowerCase()+B.slice(3)):k.push(B)}k.length&&Fe(`Extraneous non-props attributes (${k.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes.`),q.length&&Fe(`Extraneous non-emits event listeners (${q.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.`)}}}return r.dirs&&(LB(S)||Fe("Runtime directive used on component with non-element root node. The directives will not function as intended."),S=Mo(S),S.dirs=S.dirs?S.dirs.concat(r.dirs):r.dirs),r.transition&&(LB(S)||Fe("Component inside <Transition> renders non-element root node that cannot be animated."),S.transition=r.transition),N?N(S):v=S,Qy(x),v}const wge=e=>{const t=e.children,r=e.dynamicChildren,n=OB(t);if(!n)return[e,void 0];const o=t.indexOf(n),s=r?r.indexOf(n):-1,a=l=>{t[o]=l,r&&(s>-1?r[s]=l:l.patchFlag>0&&(e.dynamicChildren=[...r,l]))};return[Po(n),a]};function OB(e){let t;for(let r=0;r<e.length;r++){const n=e[r];if(Jd(n)){if(n.type!==nn||n.children==="v-if"){if(t)return;t=n}}else return}return t}const mge=e=>{let t;for(const r in e)(r==="class"||r==="style"||lb(r))&&((t||(t={}))[r]=e[r]);return t},vge=(e,t)=>{const r={};for(const n in e)(!$y(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r},LB=e=>e.shapeFlag&7||e.type===nn;function Sge(e,t,r){const{props:n,children:o,component:s}=e,{props:a,children:l,patchFlag:f}=t,u=s.emitsOptions;if((o||l)&&ql||t.dirs||t.transition)return!0;if(r&&f>=0){if(f&1024)return!0;if(f&16)return n?DB(n,a,u):!!a;if(f&8){const d=t.dynamicProps;for(let g=0;g<d.length;g++){const h=d[g];if(a[h]!==n[h]&&!Yy(u,h))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:n===a?!1:n?a?DB(n,a,u):!0:!!a;return!1}function DB(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let o=0;o<n.length;o++){const s=n[o];if(t[s]!==e[s]&&!Yy(r,s))return!0}return!1}function Ege({vnode:e,parent:t},r){for(;t&&t.subTree===e;)(e=t.vnode).el=r,t=t.parent}const Rge=e=>e.__isSuspense;function xge(e,t){t&&t.pendingBranch?ut(e)?t.effects.push(...e):t.effects.push(e):EB(e)}function Lo(e,t){return Mx(e,null,t)}const ew={};function cn(e,t,r){return vt(t)||Fe("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),Mx(e,t,r)}function Mx(e,t,{immediate:r,deep:n,flush:o,onTrack:s,onTrigger:a}=Zt){var l;t||(r!==void 0&&Fe('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),n!==void 0&&Fe('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'));const f=$=>{Fe("Invalid watch source: ",$,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},u=pbe()===((l=Gr)==null?void 0:l.scope)?Gr:null;let d,g=!1,h=!1;if(Hr(e)?(d=()=>e.value,g=Hy(e)):ff(e)?(d=()=>e,n=!0):ut(e)?(h=!0,g=e.some($=>ff($)||Hy($)),d=()=>e.map($=>{if(Hr($))return $.value;if(ff($))return hf($);if(vt($))return ga($,u,2);f($)})):vt(e)?t?d=()=>ga(e,u,2):d=()=>{if(!(u&&u.isUnmounted))return p&&p(),Zi(e,u,3,[w])}:(d=Gn,f(e)),t&&n){const $=d;d=()=>hf($())}let p,w=$=>{p=S.onStop=()=>{ga($,u,4)}},y;if(Ab)if(w=Gn,t?r&&Zi(t,u,3,[d(),h?[]:void 0,w]):d(),o==="sync"){const $=M_e();y=$.__watcherHandles||($.__watcherHandles=[])}else return Gn;let v=h?new Array(e.length).fill(ew):ew;const E=()=>{if(S.active)if(t){const $=S.run();(n||g||(h?$.some((D,K)=>ub(D,v[K])):ub($,v)))&&(p&&p(),Zi(t,u,3,[$,v===ew?void 0:h&&v[0]===ew?[]:v,w]),v=$)}else S.run()};E.allowRecurse=!!t;let x;o==="sync"?x=E:o==="post"?x=()=>gi(E,u&&u.suspense):(E.pre=!0,u&&(E.id=u.uid),x=()=>Jy(E));const S=new Sx(d,x);S.onTrack=s,S.onTrigger=a,t?r?E():v=S.run():o==="post"?gi(S.run.bind(S),u&&u.suspense):S.run();const N=()=>{S.stop(),u&&u.scope&&cx(u.scope.effects,S)};return y&&y.push(N),N}function Age(e,t,r){const n=this.proxy,o=br(e)?e.includes(".")?MB(n,e):()=>n[e]:e.bind(n,n);let s;vt(t)?s=t:(s=t.handler,r=t);const a=Gr;Xd(this);const l=Mx(o,s.bind(n),r);return a?Xd(a):yf(),l}function MB(e,t){const r=t.split(".");return()=>{let n=e;for(let o=0;o<r.length&&n;o++)n=n[r[o]];return n}}function hf(e,t){if(!Gt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Hr(e))hf(e.value,t);else if(ut(e))for(let r=0;r<e.length;r++)hf(e[r],t);else if(UW(e)||nf(e))e.forEach(r=>{hf(r,t)});else if(HW(e))for(const r in e)hf(e[r],t);return e}function PB(e){Qpe(e)&&Fe("Do not use built-in directive ids as custom directive id: "+e)}function Kn(e,t){const r=Vr;if(r===null)return Fe("withDirectives can only be used inside render functions."),e;const n=uw(r)||r.proxy,o=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[a,l,f,u=Zt]=t[s];a&&(vt(a)&&(a={mounted:a,updated:a}),a.deep&&hf(l),o.push({dir:a,instance:n,value:l,oldValue:void 0,arg:f,modifiers:u}))}return e}function pf(e,t,r,n){const o=e.dirs,s=t&&t.dirs;for(let a=0;a<o.length;a++){const l=o[a];s&&(l.oldValue=s[a].value);let f=l.dir[n];f&&(lf(),Zi(f,r,8,[e.el,l,e,t]),uf())}}function $ge(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Sr(()=>{e.isMounted=!0}),qB(()=>{e.isUnmounting=!0}),e}const eo=[Function,Array],FB={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:eo,onEnter:eo,onAfterEnter:eo,onEnterCancelled:eo,onBeforeLeave:eo,onLeave:eo,onAfterLeave:eo,onLeaveCancelled:eo,onBeforeAppear:eo,onAppear:eo,onAfterAppear:eo,onAppearCancelled:eo},Tge={name:"BaseTransition",props:FB,setup(e,{slots:t}){const r=x_e(),n=$ge();let o;return()=>{const s=t.default&&BB(t.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){let y=!1;for(const v of s)if(v.type!==nn){if(y){Fe("<transition> can only be used on a single element or component. Use <transition-group> for lists.");break}a=v,y=!0}}const l=nt(e),{mode:f}=l;if(f&&f!=="in-out"&&f!=="out-in"&&f!=="default"&&Fe(`invalid <transition> mode: ${f}`),n.isLeaving)return Fx(a);const u=WB(a);if(!u)return Fx(a);const d=Px(u,l,n,r);jx(u,d);const g=r.subTree,h=g&&WB(g);let p=!1;const{getTransitionKey:w}=u.type;if(w){const y=w();o===void 0?o=y:y!==o&&(o=y,p=!0)}if(h&&h.type!==nn&&(!_f(u,h)||p)){const y=Px(h,l,n,r);if(jx(h,y),f==="out-in")return n.isLeaving=!0,y.afterLeave=()=>{n.isLeaving=!1,r.update.active!==!1&&r.update()},Fx(a);f==="in-out"&&u.type!==nn&&(y.delayLeave=(v,E,x)=>{const S=jB(n,h);S[String(h.key)]=h,v._leaveCb=()=>{E(),v._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=x})}return a}}};function jB(e,t){const{leavingVNodes:r}=e;let n=r.get(t.type);return n||(n=Object.create(null),r.set(t.type,n)),n}function Px(e,t,r,n){const{appear:o,mode:s,persisted:a=!1,onBeforeEnter:l,onEnter:f,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:g,onLeave:h,onAfterLeave:p,onLeaveCancelled:w,onBeforeAppear:y,onAppear:v,onAfterAppear:E,onAppearCancelled:x}=t,S=String(e.key),N=jB(r,e),$=(q,k)=>{q&&Zi(q,n,9,k)},D=(q,k)=>{const V=k[1];$(q,k),ut(q)?q.every(j=>j.length<=1)&&V():q.length<=1&&V()},K={mode:s,persisted:a,beforeEnter(q){let k=l;if(!r.isMounted)if(o)k=y||l;else return;q._leaveCb&&q._leaveCb(!0);const V=N[S];V&&_f(e,V)&&V.el._leaveCb&&V.el._leaveCb(),$(k,[q])},enter(q){let k=f,V=u,j=d;if(!r.isMounted)if(o)k=v||f,V=E||u,j=x||d;else return;let B=!1;const A=q._enterCb=U=>{B||(B=!0,U?$(j,[q]):$(V,[q]),K.delayedLeave&&K.delayedLeave(),q._enterCb=void 0)};k?D(k,[q,A]):A()},leave(q,k){const V=String(e.key);if(q._enterCb&&q._enterCb(!0),r.isUnmounting)return k();$(g,[q]);let j=!1;const B=q._leaveCb=A=>{j||(j=!0,k(),A?$(w,[q]):$(p,[q]),q._leaveCb=void 0,N[V]===e&&delete N[V])};N[V]=e,h?D(h,[q,B]):B()},clone(q){return Px(q,t,r,n)}};return K}function Fx(e){if(wb(e))return e=Mo(e),e.children=null,e}function WB(e){return wb(e)?e.children?e.children[0]:void 0:e}function jx(e,t){e.shapeFlag&6&&e.component?jx(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function BB(e,t=!1,r){let n=[],o=0;for(let s=0;s<e.length;s++){let a=e[s];const l=r==null?a.key:String(r)+String(a.key!=null?a.key:s);a.type===Dt?(a.patchFlag&128&&o++,n=n.concat(BB(a.children,t,l))):(t||a.type!==nn)&&n.push(l!=null?Mo(a,{key:l}):a)}if(o>1)for(let s=0;s<n.length;s++)n[s].patchFlag=-2;return n}function Tt(e,t){return vt(e)?ar({name:e.name},t,{setup:e}):e}const yb=e=>!!e.type.__asyncLoader,wb=e=>e.type.__isKeepAlive;function Ige(e,t){UB(e,"a",t)}function Nge(e,t){UB(e,"da",t)}function UB(e,t,r=Gr){const n=e.__wdc||(e.__wdc=()=>{let o=r;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(tw(t,n,r),r){let o=r.parent;for(;o&&o.parent;)wb(o.parent.vnode)&&kge(n,t,r,o),o=o.parent}}function kge(e,t,r,n){const o=tw(t,e,n,!0);to(()=>{cx(n[t],o)},r)}function tw(e,t,r=Gr,n=!1){if(r){const o=r[e]||(r[e]=[]),s=t.__weh||(t.__weh=(...a)=>{if(r.isUnmounted)return;lf(),Xd(r);const l=Zi(t,r,e,a);return yf(),uf(),l});return n?o.unshift(s):o.push(s),s}else{const o=sf($x[e].replace(/ hook$/,""));Fe(`${o} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const _a=e=>(t,r=Gr)=>(!Ab||e==="sp")&&tw(e,(...n)=>t(...n),r),Cge=_a("bm"),Sr=_a("m"),Oge=_a("bu"),Lge=_a("u"),qB=_a("bum"),to=_a("um"),Dge=_a("sp"),Mge=_a("rtg"),Pge=_a("rtc");function Fge(e,t=Gr){tw("ec",e,t)}const Wx="components";function Bx(e,t){return Wge(Wx,e,!0,t)||e}const jge=Symbol.for("v-ndc");function Wge(e,t,r=!0,n=!1){const o=Vr||Gr;if(o){const s=o.type;if(e===Wx){const l=n1(s,!1);if(l&&(l===t||l===cs(t)||l===of(cs(t))))return s}const a=HB(o[e]||s[e],t)||HB(o.appContext[e],t);if(!a&&n)return s;if(r&&!a){const l=e===Wx?`
If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.`:"";Fe(`Failed to resolve ${e.slice(0,-1)}: ${t}${l}`)}return a}else Fe(`resolve${of(e.slice(0,-1))} can only be used in render() or setup().`)}function HB(e,t){return e&&(e[t]||e[cs(t)]||e[of(cs(t))])}function dn(e,t,r,n){let o;const s=r&&r[n];if(ut(e)||br(e)){o=new Array(e.length);for(let a=0,l=e.length;a<l;a++)o[a]=t(e[a],a,void 0,s&&s[a])}else if(typeof e=="number"){Number.isInteger(e)||Fe(`The v-for range expect an integer value but got ${e}.`),o=new Array(e);for(let a=0;a<e;a++)o[a]=t(a+1,a,void 0,s&&s[a])}else if(Gt(e))if(e[Symbol.iterator])o=Array.from(e,(a,l)=>t(a,l,void 0,s&&s[l]));else{const a=Object.keys(e);o=new Array(a.length);for(let l=0,f=a.length;l<f;l++){const u=a[l];o[l]=t(e[u],u,l,s&&s[l])}}else o=[];return r&&(r[n]=o),o}function ya(e,t,r={},n,o){if(Vr.isCE||Vr.parent&&yb(Vr.parent)&&Vr.parent.isCE)return t!=="default"&&(r.name=t),Pe("slot",r,n&&n());let s=e[t];s&&s.length>1&&(Fe("SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template."),s=()=>[]),s&&s._c&&(s._d=!1),Ne();const a=s&&VB(s(r)),l=er(Dt,{key:r.key||a&&a.key||`_${t}`},a||(n?n():[]),a&&e._===1?64:-2);return!o&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function VB(e){return e.some(t=>Jd(t)?!(t.type===nn||t.type===Dt&&!VB(t.children)):!0)?e:null}const Ux=e=>e?yU(e)?uw(e)||e.proxy:Ux(e.parent):null,bf=ar(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>cb(e.props),$attrs:e=>cb(e.attrs),$slots:e=>cb(e.slots),$refs:e=>cb(e.refs),$parent:e=>Ux(e.parent),$root:e=>Ux(e.root),$emit:e=>e.emit,$options:e=>Gx(e),$forceUpdate:e=>e.f||(e.f=()=>Jy(e.update)),$nextTick:e=>e.n||(e.n=fn.bind(e.proxy)),$watch:e=>Age.bind(e)}),qx=e=>e==="_"||e==="$",Hx=(e,t)=>e!==Zt&&!e.__isScriptSetup&&Ct(e,t),GB={get({_:e},t){const{ctx:r,setupState:n,data:o,props:s,accessCache:a,type:l,appContext:f}=e;if(t==="__isVue")return!0;let u;if(t[0]!=="$"){const p=a[t];if(p!==void 0)switch(p){case 1:return n[t];case 2:return o[t];case 4:return r[t];case 3:return s[t]}else{if(Hx(n,t))return a[t]=1,n[t];if(o!==Zt&&Ct(o,t))return a[t]=2,o[t];if((u=e.propsOptions[0])&&Ct(u,t))return a[t]=3,s[t];if(r!==Zt&&Ct(r,t))return a[t]=4,r[t];Vx&&(a[t]=0)}}const d=bf[t];let g,h;if(d)return t==="$attrs"?($n(e,"get",t),Zy()):t==="$slots"&&$n(e,"get",t),d(e);if((g=l.__cssModules)&&(g=g[t]))return g;if(r!==Zt&&Ct(r,t))return a[t]=4,r[t];if(h=f.config.globalProperties,Ct(h,t))return h[t];Vr&&(!br(t)||t.indexOf("__v")!==0)&&(o!==Zt&&qx(t[0])&&Ct(o,t)?Fe(`Property ${JSON.stringify(t)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):e===Vr&&Fe(`Property ${JSON.stringify(t)} was accessed during render but is not defined on instance.`))},set({_:e},t,r){const{data:n,setupState:o,ctx:s}=e;return Hx(o,t)?(o[t]=r,!0):o.__isScriptSetup&&Ct(o,t)?(Fe(`Cannot mutate <script setup> binding "${t}" from Options API.`),!1):n!==Zt&&Ct(n,t)?(n[t]=r,!0):Ct(e.props,t)?(Fe(`Attempting to mutate prop "${t}". Props are readonly.`),!1):t[0]==="$"&&t.slice(1)in e?(Fe(`Attempting to mutate public property "${t}". Properties starting with $ are reserved and readonly.`),!1):(t in e.appContext.config.globalProperties?Object.defineProperty(s,t,{enumerable:!0,configurable:!0,value:r}):s[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:o,propsOptions:s}},a){let l;return!!r[a]||e!==Zt&&Ct(e,a)||Hx(t,a)||(l=s[0])&&Ct(l,a)||Ct(n,a)||Ct(bf,a)||Ct(o.config.globalProperties,a)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:Ct(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};GB.ownKeys=e=>(Fe("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(e));function Bge(e){const t={};return Object.defineProperty(t,"_",{configurable:!0,enumerable:!1,get:()=>e}),Object.keys(bf).forEach(r=>{Object.defineProperty(t,r,{configurable:!0,enumerable:!1,get:()=>bf[r](e),set:Gn})}),t}function Uge(e){const{ctx:t,propsOptions:[r]}=e;r&&Object.keys(r).forEach(n=>{Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>e.props[n],set:Gn})})}function qge(e){const{ctx:t,setupState:r}=e;Object.keys(nt(r)).forEach(n=>{if(!r.__isScriptSetup){if(qx(n[0])){Fe(`setup() return property ${JSON.stringify(n)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>r[n],set:Gn})}})}function zB(e){return ut(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}function Hge(){const e=Object.create(null);return(t,r)=>{e[r]?Fe(`${t} property "${r}" is already defined in ${e[r]}.`):e[r]=t}}let Vx=!0;function Vge(e){const t=Gx(e),r=e.proxy,n=e.ctx;Vx=!1,t.beforeCreate&&KB(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:a,watch:l,provide:f,inject:u,created:d,beforeMount:g,mounted:h,beforeUpdate:p,updated:w,activated:y,deactivated:v,beforeDestroy:E,beforeUnmount:x,destroyed:S,unmounted:N,render:$,renderTracked:D,renderTriggered:K,errorCaptured:q,serverPrefetch:k,expose:V,inheritAttrs:j,components:B,directives:A,filters:U}=t,G=Hge();{const[Q]=e.propsOptions;if(Q)for(const ne in Q)G("Props",ne)}if(u&&Gge(u,n,G),a)for(const Q in a){const ne=a[Q];vt(ne)?(Object.defineProperty(n,Q,{value:ne.bind(r),configurable:!0,enumerable:!0,writable:!0}),G("Methods",Q)):Fe(`Method "${Q}" has type "${typeof ne}" in the component definition. Did you reference the function correctly?`)}if(o){vt(o)||Fe("The data option must be a function. Plain object usage is no longer supported.");const Q=o.call(r,r);if(hx(Q)&&Fe("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!Gt(Q))Fe("data() should return an object.");else{e.data=Uy(Q);for(const ne in Q)G("Data",ne),qx(ne[0])||Object.defineProperty(n,ne,{configurable:!0,enumerable:!0,get:()=>Q[ne],set:Gn})}}if(Vx=!0,s)for(const Q in s){const ne=s[Q],se=vt(ne)?ne.bind(r,r):vt(ne.get)?ne.get.bind(r,r):Gn;se===Gn&&Fe(`Computed property "${Q}" has no getter.`);const ae=!vt(ne)&&vt(ne.set)?ne.set.bind(r):()=>{Fe(`Write operation failed: computed property "${Q}" is readonly.`)},Z=Je({get:se,set:ae});Object.defineProperty(n,Q,{enumerable:!0,configurable:!0,get:()=>Z.value,set:ge=>Z.value=ge}),G("Computed",Q)}if(l)for(const Q in l)JB(l[Q],n,r,Q);if(f){const Q=vt(f)?f.call(r):f;Reflect.ownKeys(Q).forEach(ne=>{ro(ne,Q[ne])})}d&&KB(d,e,"c");function H(Q,ne){ut(ne)?ne.forEach(se=>Q(se.bind(r))):ne&&Q(ne.bind(r))}if(H(Cge,g),H(Sr,h),H(Oge,p),H(Lge,w),H(Ige,y),H(Nge,v),H(Fge,q),H(Pge,D),H(Mge,K),H(qB,x),H(to,N),H(Dge,k),ut(V))if(V.length){const Q=e.exposed||(e.exposed={});V.forEach(ne=>{Object.defineProperty(Q,ne,{get:()=>r[ne],set:se=>r[ne]=se})})}else e.exposed||(e.exposed={});$&&e.render===Gn&&(e.render=$),j!=null&&(e.inheritAttrs=j),B&&(e.components=B),A&&(e.directives=A)}function Gge(e,t,r=Gn){ut(e)&&(e=zx(e));for(const n in e){const o=e[n];let s;Gt(o)?"default"in o?s=hn(o.from||n,o.default,!0):s=hn(o.from||n):s=hn(o),Hr(s)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):t[n]=s,r("Inject",n)}}function KB(e,t,r){Zi(ut(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function JB(e,t,r,n){const o=n.includes(".")?MB(r,n):()=>r[n];if(br(e)){const s=t[e];vt(s)?cn(o,s):Fe(`Invalid watch handler specified by key "${e}"`,s)}else if(vt(e))cn(o,e.bind(r));else if(Gt(e))if(ut(e))e.forEach(s=>JB(s,t,r,n));else{const s=vt(e.handler)?e.handler.bind(r):t[e.handler];vt(s)?cn(o,s,e):Fe(`Invalid watch handler specified by key "${e.handler}"`,s)}else Fe(`Invalid watch option: "${n}"`,e)}function Gx(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:a}}=e.appContext,l=s.get(t);let f;return l?f=l:!o.length&&!r&&!n?f=t:(f={},o.length&&o.forEach(u=>rw(f,u,a,!0)),rw(f,t,a)),Gt(t)&&s.set(t,f),f}function rw(e,t,r,n=!1){const{mixins:o,extends:s}=t;s&&rw(e,s,r,!0),o&&o.forEach(a=>rw(e,a,r,!0));for(const a in t)if(n&&a==="expose")Fe('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const l=zge[a]||r&&r[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const zge={data:YB,props:XB,emits:XB,methods:mb,computed:mb,beforeCreate:Jn,created:Jn,beforeMount:Jn,mounted:Jn,beforeUpdate:Jn,updated:Jn,beforeDestroy:Jn,beforeUnmount:Jn,destroyed:Jn,unmounted:Jn,activated:Jn,deactivated:Jn,errorCaptured:Jn,serverPrefetch:Jn,components:mb,directives:mb,watch:Jge,provide:YB,inject:Kge};function YB(e,t){return t?e?function(){return ar(vt(e)?e.call(this,this):e,vt(t)?t.call(this,this):t)}:t:e}function Kge(e,t){return mb(zx(e),zx(t))}function zx(e){if(ut(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function Jn(e,t){return e?[...new Set([].concat(e,t))]:t}function mb(e,t){return e?ar(Object.create(null),e,t):t}function XB(e,t){return e?ut(e)&&ut(t)?[...new Set([...e,...t])]:ar(Object.create(null),zB(e),zB(t??{})):t}function Jge(e,t){if(!e)return t;if(!t)return e;const r=ar(Object.create(null),e);for(const n in t)r[n]=Jn(e[n],t[n]);return r}function QB(){return{app:null,config:{isNativeTag:BW,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Yge=0;function Xge(e,t){return function(n,o=null){vt(n)||(n=ar({},n)),o!=null&&!Gt(o)&&(Fe("root props passed to app.mount() must be an object."),o=null);const s=QB();Object.defineProperty(s.config,"unwrapInjectedRef",{get(){return!0},set(){Fe("app.config.unwrapInjectedRef has been deprecated. 3.3 now alawys unwraps injected refs in Options API.")}});const a=new Set;let l=!1;const f=s.app={_uid:Yge++,_component:n,_props:o,_container:null,_context:s,_instance:null,version:SU,get config(){return s.config},set config(u){Fe("app.config cannot be replaced. Modify individual options instead.")},use(u,...d){return a.has(u)?Fe("Plugin has already been applied to target app."):u&&vt(u.install)?(a.add(u),u.install(f,...d)):vt(u)?(a.add(u),u(f,...d)):Fe('A plugin must either be a function or an object with an "install" function.'),f},mixin(u){return s.mixins.includes(u)?Fe("Mixin has already been applied to target app"+(u.name?`: ${u.name}`:"")):s.mixins.push(u),f},component(u,d){return t1(u,s.config),d?(s.components[u]&&Fe(`Component "${u}" has already been registered in target app.`),s.components[u]=d,f):s.components[u]},directive(u,d){return PB(u),d?(s.directives[u]&&Fe(`Directive "${u}" has already been registered in target app.`),s.directives[u]=d,f):s.directives[u]},mount(u,d,g){if(l)Fe("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`");else{u.__vue_app__&&Fe("There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling `app.unmount()` first.");const h=Pe(n,o);return h.appContext=s,s.reload=()=>{e(Mo(h),u,g)},d&&t?t(h,u):e(h,u,g),l=!0,f._container=u,u.__vue_app__=f,f._instance=h.component,lge(f,SU),uw(h.component)||h.component.proxy}},unmount(){l?(e(null,f._container),f._instance=null,uge(f),delete f._container.__vue_app__):Fe("Cannot unmount an app that is not mounted.")},provide(u,d){return u in s.provides&&Fe(`App already provides property with key "${String(u)}". It will be overwritten with the new value.`),s.provides[u]=d,f},runWithContext(u){nw=f;try{return u()}finally{nw=null}}};return f}}let nw=null;function ro(e,t){if(!Gr)Fe("provide() can only be used inside setup().");else{let r=Gr.provides;const n=Gr.parent&&Gr.parent.provides;n===r&&(r=Gr.provides=Object.create(n)),r[e]=t}}function hn(e,t,r=!1){const n=Gr||Vr;if(n||nw){const o=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:nw._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return r&&vt(t)?t.call(n&&n.proxy):t;Fe(`injection "${String(e)}" not found.`)}else Fe("inject() can only be used inside setup() or functional components.")}function Qge(e,t,r,n=!1){const o={},s={};ky(s,aw,1),e.propsDefaults=Object.create(null),ZB(e,t,o,s);for(const a in e.propsOptions[0])a in o||(o[a]=void 0);iU(t||{},o,e),r?e.props=n?o:Ube(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function Zge(e){for(;e;){if(e.type.__hmrId)return!0;e=e.parent}}function e_e(e,t,r,n){const{props:o,attrs:s,vnode:{patchFlag:a}}=e,l=nt(o),[f]=e.propsOptions;let u=!1;if(!Zge(e)&&(n||a>0)&&!(a&16)){if(a&8){const d=e.vnode.dynamicProps;for(let g=0;g<d.length;g++){let h=d[g];if(Yy(e.emitsOptions,h))continue;const p=t[h];if(f)if(Ct(s,h))p!==s[h]&&(s[h]=p,u=!0);else{const w=cs(h);o[w]=Kx(f,l,w,p,e,!1)}else p!==s[h]&&(s[h]=p,u=!0)}}}else{ZB(e,t,o,s)&&(u=!0);let d;for(const g in l)(!t||!Ct(t,g)&&((d=Pl(g))===g||!Ct(t,d)))&&(f?r&&(r[g]!==void 0||r[d]!==void 0)&&(o[g]=Kx(f,l,g,void 0,e,!0)):delete o[g]);if(s!==l)for(const g in s)(!t||!Ct(t,g))&&(delete s[g],u=!0)}u&&ds(e,"set","$attrs"),iU(t||{},o,e)}function ZB(e,t,r,n){const[o,s]=e.propsOptions;let a=!1,l;if(t)for(let f in t){if(Iy(f))continue;const u=t[f];let d;o&&Ct(o,d=cs(f))?!s||!s.includes(d)?r[d]=u:(l||(l={}))[d]=u:Yy(e.emitsOptions,f)||(!(f in n)||u!==n[f])&&(n[f]=u,a=!0)}if(s){const f=nt(r),u=l||Zt;for(let d=0;d<s.length;d++){const g=s[d];r[g]=Kx(o,f,g,u[g],e,!Ct(u,g))}}return a}function Kx(e,t,r,n,o,s){const a=e[r];if(a!=null){const l=Ct(a,"default");if(l&&n===void 0){const f=a.default;if(a.type!==Function&&!a.skipFactory&&vt(f)){const{propsDefaults:u}=o;r in u?n=u[r]:(Xd(o),n=u[r]=f.call(null,t),yf())}else n=f}a[0]&&(s&&!l?n=!1:a[1]&&(n===""||n===Pl(r))&&(n=!0))}return n}function eU(e,t,r=!1){const n=t.propsCache,o=n.get(e);if(o)return o;const s=e.props,a={},l=[];let f=!1;if(!vt(e)){const d=g=>{f=!0;const[h,p]=eU(g,t,!0);ar(a,h),p&&l.push(...p)};!r&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!s&&!f)return Gt(e)&&n.set(e,Hd),Hd;if(ut(s))for(let d=0;d<s.length;d++){br(s[d])||Fe("props must be strings when using array syntax.",s[d]);const g=cs(s[d]);tU(g)&&(a[g]=Zt)}else if(s){Gt(s)||Fe("invalid props options",s);for(const d in s){const g=cs(d);if(tU(g)){const h=s[d],p=a[g]=ut(h)||vt(h)?{type:h}:ar({},h);if(p){const w=nU(Boolean,p.type),y=nU(String,p.type);p[0]=w>-1,p[1]=y<0||w<y,(w>-1||Ct(p,"default"))&&l.push(g)}}}}const u=[a,l];return Gt(e)&&n.set(e,u),u}function tU(e){return e[0]!=="$"?!0:(Fe(`Invalid prop name: "${e}" is a reserved property.`),!1)}function Jx(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function rU(e,t){return Jx(e)===Jx(t)}function nU(e,t){return ut(t)?t.findIndex(r=>rU(r,e)):vt(t)&&rU(t,e)?0:-1}function iU(e,t,r){const n=nt(t),o=r.propsOptions[0];for(const s in o){let a=o[s];a!=null&&t_e(s,n[s],a,!Ct(e,s)&&!Ct(e,Pl(s)))}}function t_e(e,t,r,n){const{type:o,required:s,validator:a,skipCheck:l}=r;if(s&&n){Fe('Missing required prop: "'+e+'"');return}if(!(t==null&&!s)){if(o!=null&&o!==!0&&!l){let f=!1;const u=ut(o)?o:[o],d=[];for(let g=0;g<u.length&&!f;g++){const{valid:h,expectedType:p}=n_e(t,u[g]);d.push(p||""),f=h}if(!f){Fe(i_e(e,t,d));return}}a&&!a(t)&&Fe('Invalid prop: custom validator check failed for prop "'+e+'".')}}const r_e=Ml("String,Number,Boolean,Function,Symbol,BigInt");function n_e(e,t){let r;const n=Jx(t);if(r_e(n)){const o=typeof e;r=o===n.toLowerCase(),!r&&o==="object"&&(r=e instanceof t)}else n==="Object"?r=Gt(e):n==="Array"?r=ut(e):n==="null"?r=e===null:r=e instanceof t;return{valid:r,expectedType:n}}function i_e(e,t,r){let n=`Invalid prop: type check failed for prop "${e}". Expected ${r.map(of).join(" | ")}`;const o=r[0],s=px(t),a=oU(t,o),l=oU(t,s);return r.length===1&&sU(o)&&!o_e(o,s)&&(n+=` with value ${a}`),n+=`, got ${s} `,sU(s)&&(n+=`with value ${l}.`),n}function oU(e,t){return t==="String"?`"${e}"`:t==="Number"?`${Number(e)}`:`${e}`}function sU(e){return["string","number","boolean"].some(r=>e.toLowerCase()===r)}function o_e(...e){return e.some(t=>t.toLowerCase()==="boolean")}const aU=e=>e[0]==="_"||e==="$stable",Yx=e=>ut(e)?e.map(Po):[Po(e)],s_e=(e,t,r)=>{if(t._n)return t;const n=pt((...o)=>(Vy.NODE_ENV!=="production"&&Gr&&Fe(`Slot "${e}" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`),Yx(t(...o))),r);return n._c=!1,n},lU=(e,t,r)=>{const n=e._ctx;for(const o in e){if(aU(o))continue;const s=e[o];if(vt(s))t[o]=s_e(o,s,n);else if(s!=null){Fe(`Non-function value encountered for slot "${o}". Prefer function slots for better performance.`);const a=Yx(s);t[o]=()=>a}}},uU=(e,t)=>{wb(e.vnode)||Fe("Non-function value encountered for default slot. Prefer function slots for better performance.");const r=Yx(t);e.slots.default=()=>r},a_e=(e,t)=>{if(e.vnode.shapeFlag&32){const r=t._;r?(e.slots=nt(t),ky(t,"_",r)):lU(t,e.slots={})}else e.slots={},t&&uU(e,t);ky(e.slots,aw,1)},l_e=(e,t,r)=>{const{vnode:n,slots:o}=e;let s=!0,a=Zt;if(n.shapeFlag&32){const l=t._;l?ql?(ar(o,t),ds(e,"set","$slots")):r&&l===1?s=!1:(ar(o,t),!r&&l===1&&delete o._):(s=!t.$stable,lU(t,o)),a=t}else t&&(uU(e,t),a={default:1});if(s)for(const l in o)!aU(l)&&!(l in a)&&delete o[l]};function Xx(e,t,r,n,o=!1){if(ut(e)){e.forEach((h,p)=>Xx(h,t&&(ut(t)?t[p]:t),r,n,o));return}if(yb(n)&&!o)return;const s=n.shapeFlag&4?uw(n.component)||n.component.proxy:n.el,a=o?null:s,{i:l,r:f}=e;if(!l){Fe("Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.");return}const u=t&&t.r,d=l.refs===Zt?l.refs={}:l.refs,g=l.setupState;if(u!=null&&u!==f&&(br(u)?(d[u]=null,Ct(g,u)&&(g[u]=null)):Hr(u)&&(u.value=null)),vt(f))ga(f,l,12,[a,d]);else{const h=br(f),p=Hr(f);if(h||p){const w=()=>{if(e.f){const y=h?Ct(g,f)?g[f]:d[f]:f.value;o?ut(y)&&cx(y,s):ut(y)?y.includes(s)||y.push(s):h?(d[f]=[s],Ct(g,f)&&(g[f]=d[f])):(f.value=[s],e.k&&(d[e.k]=f.value))}else h?(d[f]=a,Ct(g,f)&&(g[f]=a)):p?(f.value=a,e.k&&(d[e.k]=a)):Fe("Invalid template ref type:",f,`(${typeof f})`)};a?(w.id=-1,gi(w,r)):w()}else Fe("Invalid template ref type:",f,`(${typeof f})`)}}let vb,Hl;function wa(e,t){e.appContext.config.performance&&iw()&&Hl.mark(`vue-${t}-${e.uid}`),hge(e,t,iw()?Hl.now():Date.now())}function ma(e,t){if(e.appContext.config.performance&&iw()){const r=`vue-${t}-${e.uid}`,n=r+":end";Hl.mark(n),Hl.measure(`<${fw(e,e.type)}> ${t}`,r,n),Hl.clearMarks(r),Hl.clearMarks(n)}pge(e,t,iw()?Hl.now():Date.now())}function iw(){return vb!==void 0||(typeof window<"u"&&window.performance?(vb=!0,Hl=window.performance):vb=!1),vb}function u_e(){const e=[];if(e.length){const t=e.length>1;console.warn(`Feature flag${t?"s":""} ${e.join(", ")} ${t?"are":"is"} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.

For more details, see https://link.vuejs.org/feature-flags.`)}}const gi=xge;function f_e(e){return c_e(e)}function c_e(e,t){u_e();const r=Cy();r.__VUE__=!0,IB(r.__VUE_DEVTOOLS_GLOBAL_HOOK__,r);const{insert:n,remove:o,patchProp:s,createElement:a,createText:l,createComment:f,setText:u,setElementText:d,parentNode:g,nextSibling:h,setScopeId:p=Gn,insertStaticContent:w}=e,y=(_,m,R,O=null,C=null,X=null,re=!1,J=null,ye=ql?!1:!!m.dynamicChildren)=>{if(_===m)return;_&&!_f(_,m)&&(O=_e(_),W(_,C,X,!0),_=null),m.patchFlag===-2&&(ye=!1,m.dynamicChildren=null);const{type:F,ref:we,shapeFlag:Ce}=m;switch(F){case Sb:v(_,m,R,O);break;case nn:E(_,m,R,O);break;case Eb:_==null?x(m,R,O,re):S(_,m,R,re);break;case Dt:A(_,m,R,O,C,X,re,J,ye);break;default:Ce&1?D(_,m,R,O,C,X,re,J,ye):Ce&6?U(_,m,R,O,C,X,re,J,ye):Ce&64||Ce&128?F.process(_,m,R,O,C,X,re,J,ye,We):Fe("Invalid VNode type:",F,`(${typeof F})`)}we!=null&&C&&Xx(we,_&&_.ref,X,m||_,!m)},v=(_,m,R,O)=>{if(_==null)n(m.el=l(m.children),R,O);else{const C=m.el=_.el;m.children!==_.children&&u(C,m.children)}},E=(_,m,R,O)=>{_==null?n(m.el=f(m.children||""),R,O):m.el=_.el},x=(_,m,R,O)=>{[_.el,_.anchor]=w(_.children,m,R,O,_.el,_.anchor)},S=(_,m,R,O)=>{if(m.children!==_.children){const C=h(_.anchor);$(_),[m.el,m.anchor]=w(m.children,R,C,O)}else m.el=_.el,m.anchor=_.anchor},N=({el:_,anchor:m},R,O)=>{let C;for(;_&&_!==m;)C=h(_),n(_,R,O),_=C;n(m,R,O)},$=({el:_,anchor:m})=>{let R;for(;_&&_!==m;)R=h(_),o(_),_=R;o(m)},D=(_,m,R,O,C,X,re,J,ye)=>{re=re||m.type==="svg",_==null?K(m,R,O,C,X,re,J,ye):V(_,m,C,X,re,J,ye)},K=(_,m,R,O,C,X,re,J)=>{let ye,F;const{type:we,props:Ce,shapeFlag:Me,transition:Ue,dirs:z}=_;if(ye=_.el=a(_.type,X,Ce&&Ce.is,Ce),Me&8?d(ye,_.children):Me&16&&k(_.children,ye,null,O,C,X&&we!=="foreignObject",re,J),z&&pf(_,null,O,"created"),q(ye,_,_.scopeId,re,O),Ce){for(const M in Ce)M!=="value"&&!Iy(M)&&s(ye,M,null,Ce[M],X,_.children,O,C,le);"value"in Ce&&s(ye,"value",null,Ce.value),(F=Ce.onVnodeBeforeMount)&&gs(F,O,_)}Object.defineProperty(ye,"__vnode",{value:_,enumerable:!1}),Object.defineProperty(ye,"__vueParentComponent",{value:O,enumerable:!1}),z&&pf(_,null,O,"beforeMount");const L=(!C||C&&!C.pendingBranch)&&Ue&&!Ue.persisted;L&&Ue.beforeEnter(ye),n(ye,m,R),((F=Ce&&Ce.onVnodeMounted)||L||z)&&gi(()=>{F&&gs(F,O,_),L&&Ue.enter(ye),z&&pf(_,null,O,"mounted")},C)},q=(_,m,R,O,C)=>{if(R&&p(_,R),O)for(let X=0;X<O.length;X++)p(_,O[X]);if(C){let X=C.subTree;if(X.patchFlag>0&&X.patchFlag&2048&&(X=OB(X.children)||X),m===X){const re=C.vnode;q(_,re,re.scopeId,re.slotScopeIds,C.parent)}}},k=(_,m,R,O,C,X,re,J,ye=0)=>{for(let F=ye;F<_.length;F++){const we=_[F]=J?Vl(_[F]):Po(_[F]);y(null,we,m,R,O,C,X,re,J)}},V=(_,m,R,O,C,X,re)=>{const J=m.el=_.el;let{patchFlag:ye,dynamicChildren:F,dirs:we}=m;ye|=_.patchFlag&16;const Ce=_.props||Zt,Me=m.props||Zt;let Ue;R&&gf(R,!1),(Ue=Me.onVnodeBeforeUpdate)&&gs(Ue,R,m,_),we&&pf(m,_,R,"beforeUpdate"),R&&gf(R,!0),ql&&(ye=0,re=!1,F=null);const z=C&&m.type!=="foreignObject";if(F?(j(_.dynamicChildren,F,J,R,O,z,X),ow(_,m)):re||se(_,m,J,null,R,O,z,X,!1),ye>0){if(ye&16)B(J,m,Ce,Me,R,O,C);else if(ye&2&&Ce.class!==Me.class&&s(J,"class",null,Me.class,C),ye&4&&s(J,"style",Ce.style,Me.style,C),ye&8){const L=m.dynamicProps;for(let M=0;M<L.length;M++){const oe=L[M],ce=Ce[oe],Se=Me[oe];(Se!==ce||oe==="value")&&s(J,oe,ce,Se,C,_.children,R,O,le)}}ye&1&&_.children!==m.children&&d(J,m.children)}else!re&&F==null&&B(J,m,Ce,Me,R,O,C);((Ue=Me.onVnodeUpdated)||we)&&gi(()=>{Ue&&gs(Ue,R,m,_),we&&pf(m,_,R,"updated")},O)},j=(_,m,R,O,C,X,re)=>{for(let J=0;J<m.length;J++){const ye=_[J],F=m[J],we=ye.el&&(ye.type===Dt||!_f(ye,F)||ye.shapeFlag&70)?g(ye.el):R;y(ye,F,we,null,O,C,X,re,!0)}},B=(_,m,R,O,C,X,re)=>{if(R!==O){if(R!==Zt)for(const J in R)!Iy(J)&&!(J in O)&&s(_,J,R[J],null,re,m.children,C,X,le);for(const J in O){if(Iy(J))continue;const ye=O[J],F=R[J];ye!==F&&J!=="value"&&s(_,J,F,ye,re,m.children,C,X,le)}"value"in O&&s(_,"value",R.value,O.value)}},A=(_,m,R,O,C,X,re,J,ye)=>{const F=m.el=_?_.el:l(""),we=m.anchor=_?_.anchor:l("");let{patchFlag:Ce,dynamicChildren:Me,slotScopeIds:Ue}=m;(ql||Ce&2048)&&(Ce=0,ye=!1,Me=null),Ue&&(J=J?J.concat(Ue):Ue),_==null?(n(F,R,O),n(we,R,O),k(m.children,R,we,C,X,re,J,ye)):Ce>0&&Ce&64&&Me&&_.dynamicChildren?(j(_.dynamicChildren,Me,R,C,X,re,J),ow(_,m)):se(_,m,R,we,C,X,re,J,ye)},U=(_,m,R,O,C,X,re,J,ye)=>{m.slotScopeIds=J,_==null?m.shapeFlag&512?C.ctx.activate(m,R,O,re,ye):G(m,R,O,C,X,re,ye):H(_,m,ye)},G=(_,m,R,O,C,X,re)=>{const J=_.component=R_e(_,O,C);if(J.type.__hmrId&&ige(J),Gy(_),wa(J,"mount"),wb(_)&&(J.ctx.renderer=We),wa(J,"init"),$_e(J),ma(J,"init"),J.asyncDep){if(C&&C.registerDep(J,Q),!_.el){const ye=J.subTree=Pe(nn);E(null,ye,m,R)}return}Q(J,_,m,R,C,X,re),zy(),ma(J,"mount")},H=(_,m,R)=>{const O=m.component=_.component;if(Sge(_,m,R))if(O.asyncDep&&!O.asyncResolved){Gy(m),ne(O,m,R),zy();return}else O.next=m,rge(O.update),O.update();else m.el=_.el,O.vnode=m},Q=(_,m,R,O,C,X,re)=>{const J=()=>{if(_.isMounted){let{next:we,bu:Ce,u:Me,parent:Ue,vnode:z}=_,L=we,M;Gy(we||_.vnode),gf(_,!1),we?(we.el=z.el,ne(_,we,re)):we=z,Ce&&Vd(Ce),(M=we.props&&we.props.onVnodeBeforeUpdate)&&gs(M,Ue,we,z),gf(_,!0),wa(_,"render");const oe=Dx(_);ma(_,"render");const ce=_.subTree;_.subTree=oe,wa(_,"patch"),y(ce,oe,g(ce.el),_e(ce),_,C,X),ma(_,"patch"),we.el=oe.el,L===null&&Ege(_,oe.el),Me&&gi(Me,C),(M=we.props&&we.props.onVnodeUpdated)&&gi(()=>gs(M,Ue,we,z),C),NB(_),zy()}else{let we;const{el:Ce,props:Me}=m,{bm:Ue,m:z,parent:L}=_,M=yb(m);if(gf(_,!1),Ue&&Vd(Ue),!M&&(we=Me&&Me.onVnodeBeforeMount)&&gs(we,L,m),gf(_,!0),Ce&&te){const oe=()=>{wa(_,"render"),_.subTree=Dx(_),ma(_,"render"),wa(_,"hydrate"),te(Ce,_.subTree,_,C,null),ma(_,"hydrate")};M?m.type.__asyncLoader().then(()=>!_.isUnmounted&&oe()):oe()}else{wa(_,"render");const oe=_.subTree=Dx(_);ma(_,"render"),wa(_,"patch"),y(null,oe,R,O,_,C,X),ma(_,"patch"),m.el=oe.el}if(z&&gi(z,C),!M&&(we=Me&&Me.onVnodeMounted)){const oe=m;gi(()=>gs(we,L,oe),C)}(m.shapeFlag&256||L&&yb(L.vnode)&&L.vnode.shapeFlag&256)&&_.a&&gi(_.a,C),_.isMounted=!0,fge(_),m=R=O=null}},ye=_.effect=new Sx(J,()=>Jy(F),_.scope),F=_.update=()=>ye.run();F.id=_.uid,gf(_,!0),ye.onTrack=_.rtc?we=>Vd(_.rtc,we):void 0,ye.onTrigger=_.rtg?we=>Vd(_.rtg,we):void 0,F.ownerInstance=_,F()},ne=(_,m,R)=>{m.component=_;const O=_.vnode.props;_.vnode=m,_.next=null,e_e(_,m.props,O,R),l_e(_,m.children,R),lf(),RB(),uf()},se=(_,m,R,O,C,X,re,J,ye=!1)=>{const F=_&&_.children,we=_?_.shapeFlag:0,Ce=m.children,{patchFlag:Me,shapeFlag:Ue}=m;if(Me>0){if(Me&128){Z(F,Ce,R,O,C,X,re,J,ye);return}else if(Me&256){ae(F,Ce,R,O,C,X,re,J,ye);return}}Ue&8?(we&16&&le(F,C,X),Ce!==F&&d(R,Ce)):we&16?Ue&16?Z(F,Ce,R,O,C,X,re,J,ye):le(F,C,X,!0):(we&8&&d(R,""),Ue&16&&k(Ce,R,O,C,X,re,J,ye))},ae=(_,m,R,O,C,X,re,J,ye)=>{_=_||Hd,m=m||Hd;const F=_.length,we=m.length,Ce=Math.min(F,we);let Me;for(Me=0;Me<Ce;Me++){const Ue=m[Me]=ye?Vl(m[Me]):Po(m[Me]);y(_[Me],Ue,R,null,C,X,re,J,ye)}F>we?le(_,C,X,!0,!1,Ce):k(m,R,O,C,X,re,J,ye,Ce)},Z=(_,m,R,O,C,X,re,J,ye)=>{let F=0;const we=m.length;let Ce=_.length-1,Me=we-1;for(;F<=Ce&&F<=Me;){const Ue=_[F],z=m[F]=ye?Vl(m[F]):Po(m[F]);if(_f(Ue,z))y(Ue,z,R,null,C,X,re,J,ye);else break;F++}for(;F<=Ce&&F<=Me;){const Ue=_[Ce],z=m[Me]=ye?Vl(m[Me]):Po(m[Me]);if(_f(Ue,z))y(Ue,z,R,null,C,X,re,J,ye);else break;Ce--,Me--}if(F>Ce){if(F<=Me){const Ue=Me+1,z=Ue<we?m[Ue].el:O;for(;F<=Me;)y(null,m[F]=ye?Vl(m[F]):Po(m[F]),R,z,C,X,re,J,ye),F++}}else if(F>Me)for(;F<=Ce;)W(_[F],C,X,!0),F++;else{const Ue=F,z=F,L=new Map;for(F=z;F<=Me;F++){const et=m[F]=ye?Vl(m[F]):Po(m[F]);et.key!=null&&(L.has(et.key)&&Fe("Duplicate keys found during update:",JSON.stringify(et.key),"Make sure keys are unique."),L.set(et.key,F))}let M,oe=0;const ce=Me-z+1;let Se=!1,ve=0;const ze=new Array(ce);for(F=0;F<ce;F++)ze[F]=0;for(F=Ue;F<=Ce;F++){const et=_[F];if(oe>=ce){W(et,C,X,!0);continue}let Xe;if(et.key!=null)Xe=L.get(et.key);else for(M=z;M<=Me;M++)if(ze[M-z]===0&&_f(et,m[M])){Xe=M;break}Xe===void 0?W(et,C,X,!0):(ze[Xe-z]=F+1,Xe>=ve?ve=Xe:Se=!0,y(et,m[Xe],R,null,C,X,re,J,ye),oe++)}const dt=Se?d_e(ze):Hd;for(M=dt.length-1,F=ce-1;F>=0;F--){const et=z+F,Xe=m[et],rt=et+1<we?m[et+1].el:O;ze[F]===0?y(null,Xe,R,rt,C,X,re,J,ye):Se&&(M<0||F!==dt[M]?ge(Xe,R,rt,2):M--)}}},ge=(_,m,R,O,C=null)=>{const{el:X,type:re,transition:J,children:ye,shapeFlag:F}=_;if(F&6){ge(_.component.subTree,m,R,O);return}if(F&128){_.suspense.move(m,R,O);return}if(F&64){re.move(_,m,R,We);return}if(re===Dt){n(X,m,R);for(let Ce=0;Ce<ye.length;Ce++)ge(ye[Ce],m,R,O);n(_.anchor,m,R);return}if(re===Eb){N(_,m,R);return}if(O!==2&&F&1&&J)if(O===0)J.beforeEnter(X),n(X,m,R),gi(()=>J.enter(X),C);else{const{leave:Ce,delayLeave:Me,afterLeave:Ue}=J,z=()=>n(X,m,R),L=()=>{Ce(X,()=>{z(),Ue&&Ue()})};Me?Me(X,z,L):L()}else n(X,m,R)},W=(_,m,R,O=!1,C=!1)=>{const{type:X,props:re,ref:J,children:ye,dynamicChildren:F,shapeFlag:we,patchFlag:Ce,dirs:Me}=_;if(J!=null&&Xx(J,null,R,_,!0),we&256){m.ctx.deactivate(_);return}const Ue=we&1&&Me,z=!yb(_);let L;if(z&&(L=re&&re.onVnodeBeforeUnmount)&&gs(L,m,_),we&6)he(_.component,R,O);else{if(we&128){_.suspense.unmount(R,O);return}Ue&&pf(_,null,m,"beforeUnmount"),we&64?_.type.remove(_,m,R,C,We,O):F&&(X!==Dt||Ce>0&&Ce&64)?le(F,m,R,!1,!0):(X===Dt&&Ce&384||!C&&we&16)&&le(ye,m,R),O&&ue(_)}(z&&(L=re&&re.onVnodeUnmounted)||Ue)&&gi(()=>{L&&gs(L,m,_),Ue&&pf(_,null,m,"unmounted")},R)},ue=_=>{const{type:m,el:R,anchor:O,transition:C}=_;if(m===Dt){_.patchFlag>0&&_.patchFlag&2048&&C&&!C.persisted?_.children.forEach(re=>{re.type===nn?o(re.el):ue(re)}):xe(R,O);return}if(m===Eb){$(_);return}const X=()=>{o(R),C&&!C.persisted&&C.afterLeave&&C.afterLeave()};if(_.shapeFlag&1&&C&&!C.persisted){const{leave:re,delayLeave:J}=C,ye=()=>re(R,X);J?J(_.el,X,ye):ye()}else X()},xe=(_,m)=>{let R;for(;_!==m;)R=h(_),o(_),_=R;o(m)},he=(_,m,R)=>{_.type.__hmrId&&oge(_);const{bum:O,scope:C,update:X,subTree:re,um:J}=_;O&&Vd(O),C.stop(),X&&(X.active=!1,W(re,_,m,R)),J&&gi(J,m),gi(()=>{_.isUnmounted=!0},m),m&&m.pendingBranch&&!m.isUnmounted&&_.asyncDep&&!_.asyncResolved&&_.suspenseId===m.pendingId&&(m.deps--,m.deps===0&&m.resolve()),dge(_)},le=(_,m,R,O=!1,C=!1,X=0)=>{for(let re=X;re<_.length;re++)W(_[re],m,R,O,C)},_e=_=>_.shapeFlag&6?_e(_.component.subTree):_.shapeFlag&128?_.suspense.next():h(_.anchor||_.el),Ae=(_,m,R)=>{_==null?m._vnode&&W(m._vnode,null,null,!0):y(m._vnode||null,_,m,null,null,null,R),RB(),xB(),m._vnode=_},We={p:y,um:W,m:ge,r:ue,mt:G,mc:k,pc:se,pbc:j,n:_e,o:e};let ie,te;return t&&([ie,te]=t(We)),{render:Ae,hydrate:ie,createApp:Xge(Ae,ie)}}function gf({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function ow(e,t,r=!1){const n=e.children,o=t.children;if(ut(n)&&ut(o))for(let s=0;s<n.length;s++){const a=n[s];let l=o[s];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[s]=Vl(o[s]),l.el=a.el),r||ow(a,l)),l.type===Sb&&(l.el=a.el),l.type===nn&&!l.el&&(l.el=a.el)}}function d_e(e){const t=e.slice(),r=[0];let n,o,s,a,l;const f=e.length;for(n=0;n<f;n++){const u=e[n];if(u!==0){if(o=r[r.length-1],e[o]<u){t[n]=o,r.push(n);continue}for(s=0,a=r.length-1;s<a;)l=s+a>>1,e[r[l]]<u?s=l+1:a=l;u<e[r[s]]&&(s>0&&(t[n]=r[s-1]),r[s]=n)}}for(s=r.length,a=r[s-1];s-- >0;)r[s]=a,a=t[a];return r}const h_e=e=>e.__isTeleport,Kd=e=>e&&(e.disabled||e.disabled===""),fU=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Qx=(e,t)=>{const r=e&&e.to;if(br(r))if(t){const n=t(r);return n||Fe(`Failed to locate Teleport target with selector "${r}". Note the target element must exist before the component is mounted - i.e. the target cannot be rendered by the component itself, and ideally should be outside of the entire Vue component tree.`),n}else return Fe("Current renderer does not support string target for Teleports. (missing querySelector renderer option)"),null;else return!r&&!Kd(e)&&Fe(`Invalid Teleport target: ${r}`),r},p_e={__isTeleport:!0,process(e,t,r,n,o,s,a,l,f,u){const{mc:d,pc:g,pbc:h,o:{insert:p,querySelector:w,createText:y,createComment:v}}=u,E=Kd(t.props);let{shapeFlag:x,children:S,dynamicChildren:N}=t;if(ql&&(f=!1,N=null),e==null){const $=t.el=v("teleport start"),D=t.anchor=v("teleport end");p($,r,n),p(D,r,n);const K=t.target=Qx(t.props,w),q=t.targetAnchor=y("");K?(p(q,K),a=a||fU(K)):E||Fe("Invalid Teleport target on mount:",K,`(${typeof K})`);const k=(V,j)=>{x&16&&d(S,V,j,o,s,a,l,f)};E?k(r,D):K&&k(K,q)}else{t.el=e.el;const $=t.anchor=e.anchor,D=t.target=e.target,K=t.targetAnchor=e.targetAnchor,q=Kd(e.props),k=q?r:D,V=q?$:K;if(a=a||fU(D),N?(h(e.dynamicChildren,N,k,o,s,a,l),ow(e,t,!0)):f||g(e,t,k,V,o,s,a,l,!1),E)q||sw(t,r,$,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const j=t.target=Qx(t.props,w);j?sw(t,j,null,u,0):Fe("Invalid Teleport target on update:",D,`(${typeof D})`)}else q&&sw(t,D,K,u,1)}cU(t)},remove(e,t,r,n,{um:o,o:{remove:s}},a){const{shapeFlag:l,children:f,anchor:u,targetAnchor:d,target:g,props:h}=e;if(g&&s(d),(a||!Kd(h))&&(s(u),l&16))for(let p=0;p<f.length;p++){const w=f[p];o(w,t,r,!0,!!w.dynamicChildren)}},move:sw,hydrate:b_e};function sw(e,t,r,{o:{insert:n},m:o},s=2){s===0&&n(e.targetAnchor,t,r);const{el:a,anchor:l,shapeFlag:f,children:u,props:d}=e,g=s===2;if(g&&n(a,t,r),(!g||Kd(d))&&f&16)for(let h=0;h<u.length;h++)o(u[h],t,r,2);g&&n(l,t,r)}function b_e(e,t,r,n,o,s,{o:{nextSibling:a,parentNode:l,querySelector:f}},u){const d=t.target=Qx(t.props,f);if(d){const g=d._lpa||d.firstChild;if(t.shapeFlag&16)if(Kd(t.props))t.anchor=u(a(e),t,l(e),r,n,o,s),t.targetAnchor=g;else{t.anchor=a(e);let h=g;for(;h;)if(h=a(h),h&&h.nodeType===8&&h.data==="teleport anchor"){t.targetAnchor=h,d._lpa=t.targetAnchor&&a(t.targetAnchor);break}u(g,t,d,r,n,o,s)}cU(t)}return t.anchor&&a(t.anchor)}const g_e=p_e;function cU(e){const t=e.ctx;if(t&&t.ut){let r=e.children[0].el;for(;r!==e.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",t.uid),r=r.nextSibling;t.ut()}}const Dt=Symbol.for("v-fgt"),Sb=Symbol.for("v-txt"),nn=Symbol.for("v-cmt"),Eb=Symbol.for("v-stc"),Rb=[];let Do=null;function Ne(e=!1){Rb.push(Do=e?null:[])}function __e(){Rb.pop(),Do=Rb[Rb.length-1]||null}let xb=1;function dU(e){xb+=e}function hU(e){return e.dynamicChildren=xb>0?Do||Hd:null,__e(),xb>0&&Do&&Do.push(e),e}function He(e,t,r,n,o,s){return hU(be(e,t,r,n,o,s,!0))}function er(e,t,r,n,o){return hU(Pe(e,t,r,n,o,!0))}function Jd(e){return e?e.__v_isVNode===!0:!1}function _f(e,t){return t.shapeFlag&6&&zd.has(t.type)?(e.shapeFlag&=-257,t.shapeFlag&=-513,!1):e.type===t.type&&e.key===t.key}const y_e=(...e)=>w_e(...e),aw="__vInternal",pU=({key:e})=>e??null,lw=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?br(e)||Hr(e)||vt(e)?{i:Vr,r:e,k:t,f:!!r}:e:null);function be(e,t=null,r=null,n=0,o=null,s=e===Dt?0:1,a=!1,l=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&pU(t),ref:t&&lw(t),scopeId:Xy,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Vr};return l?(Zx(f,r),s&128&&e.normalize(f)):r&&(f.shapeFlag|=br(r)?8:16),f.key!==f.key&&Fe("VNode created with invalid key (NaN). VNode type:",f.type),xb>0&&!a&&Do&&(f.patchFlag>0||s&6)&&f.patchFlag!==32&&Do.push(f),f}const Pe=y_e;function w_e(e,t=null,r=null,n=0,o=null,s=!1){if((!e||e===jge)&&(e||Fe(`Invalid vnode type when creating vnode: ${e}.`),e=nn),Jd(e)){const l=Mo(e,t,!0);return r&&Zx(l,r),xb>0&&!s&&Do&&(l.shapeFlag&6?Do[Do.indexOf(e)]=l:Do.push(l)),l.patchFlag|=-2,l}if(vU(e)&&(e=e.__vccOpts),t){t=m_e(t);let{class:l,style:f}=t;l&&!br(l)&&(t.class=rn(l)),Gt(f)&&(xx(f)&&!ut(f)&&(f=ar({},f)),t.style=Oy(f))}const a=br(e)?1:Rge(e)?128:h_e(e)?64:Gt(e)?4:vt(e)?2:0;return a&4&&xx(e)&&(e=nt(e),Fe("Vue received a Component which was made a reactive object. This can lead to unnecessary performance overhead, and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,e)),be(e,t,r,n,o,a,s,!0)}function m_e(e){return e?xx(e)||aw in e?ar({},e):e:null}function Mo(e,t,r=!1){const{props:n,ref:o,patchFlag:s,children:a}=e,l=t?v_e(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&pU(l),ref:t&&t.ref?r&&o?ut(o)?o.concat(lw(t)):[o,lw(t)]:lw(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s===-1&&ut(a)?a.map(bU):a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Dt?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Mo(e.ssContent),ssFallback:e.ssFallback&&Mo(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function bU(e){const t=Mo(e);return ut(e.children)&&(t.children=e.children.map(bU)),t}function _i(e=" ",t=0){return Pe(Sb,null,e,t)}function gU(e,t){const r=Pe(Eb,null,e);return r.staticCount=t,r}function Ut(e="",t=!1){return t?(Ne(),er(nn,null,e)):Pe(nn,null,e)}function Po(e){return e==null||typeof e=="boolean"?Pe(nn):ut(e)?Pe(Dt,null,e.slice()):typeof e=="object"?Vl(e):Pe(Sb,null,String(e))}function Vl(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Mo(e)}function Zx(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(ut(t))r=16;else if(typeof t=="object")if(n&65){const o=t.default;o&&(o._c&&(o._d=!1),Zx(e,o()),o._c&&(o._d=!0));return}else{r=32;const o=t._;!o&&!(aw in t)?t._ctx=Vr:o===3&&Vr&&(Vr.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else vt(t)?(t={default:t,_ctx:Vr},r=32):(t=String(t),n&64?(r=16,t=[_i(t)]):r=8);e.children=t,e.shapeFlag|=r}function v_e(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const o in n)if(o==="class")t.class!==n.class&&(t.class=rn([t.class,n.class]));else if(o==="style")t.style=Oy([t.style,n.style]);else if(lb(o)){const s=t[o],a=n[o];a&&s!==a&&!(ut(s)&&s.includes(a))&&(t[o]=s?[].concat(s,a):a)}else o!==""&&(t[o]=n[o])}return t}function gs(e,t,r,n=null){Zi(e,t,7,[r,n])}const S_e=QB();let E_e=0;function R_e(e,t,r){const n=e.type,o=(t?t.appContext:e.appContext)||S_e,s={uid:E_e++,vnode:e,type:n,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new dbe(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:eU(n,o),emitsOptions:CB(n,o),emit:null,emitted:null,propsDefaults:Zt,inheritAttrs:n.inheritAttrs,ctx:Zt,data:Zt,props:Zt,attrs:Zt,slots:Zt,refs:Zt,setupState:Zt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx=Bge(s),s.root=t?t.root:s,s.emit=gge.bind(null,s),e.ce&&e.ce(s),s}let Gr=null;const x_e=()=>Gr||Vr;let e1,Yd,_U="__VUE_INSTANCE_SETTERS__";(Yd=Cy()[_U])||(Yd=Cy()[_U]=[]),Yd.push(e=>Gr=e),e1=e=>{Yd.length>1?Yd.forEach(t=>t(e)):Yd[0](e)};const Xd=e=>{e1(e),e.scope.on()},yf=()=>{Gr&&Gr.scope.off(),e1(null)},A_e=Ml("slot,component");function t1(e,t){const r=t.isNativeTag||BW;(A_e(e)||r(e))&&Fe("Do not use built-in or reserved HTML elements as component id: "+e)}function yU(e){return e.vnode.shapeFlag&4}let Ab=!1;function $_e(e,t=!1){Ab=t;const{props:r,children:n}=e.vnode,o=yU(e);Qge(e,r,o,t),a_e(e,n);const s=o?T_e(e,t):void 0;return Ab=!1,s}function T_e(e,t){var r;const n=e.type;{if(n.name&&t1(n.name,e.appContext.config),n.components){const s=Object.keys(n.components);for(let a=0;a<s.length;a++)t1(s[a],e.appContext.config)}if(n.directives){const s=Object.keys(n.directives);for(let a=0;a<s.length;a++)PB(s[a])}n.compilerOptions&&I_e()&&Fe('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}e.accessCache=Object.create(null),e.proxy=bB(new Proxy(e.ctx,GB)),Uge(e);const{setup:o}=n;if(o){const s=e.setupContext=o.length>1?C_e(e):null;Xd(e),lf();const a=ga(o,e,0,[cb(e.props),s]);if(uf(),yf(),hx(a)){if(a.then(yf,yf),t)return a.then(l=>{wU(e,l,t)}).catch(l=>{Ky(l,e,0)});if(e.asyncDep=a,!e.suspense){const l=(r=n.name)!=null?r:"Anonymous";Fe(`Component <${l}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`)}}else wU(e,a,t)}else mU(e,t)}function wU(e,t,r){vt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Gt(t)?(Jd(t)&&Fe("setup() should not return VNodes directly - return a render function instead."),e.devtoolsRawSetupState=t,e.setupState=wB(t),qge(e)):t!==void 0&&Fe(`setup() should return an object. Received: ${t===null?"null":typeof t}`),mU(e,r)}let r1;const I_e=()=>!r1;function mU(e,t,r){const n=e.type;if(!e.render){if(!t&&r1&&!n.render){const o=n.template||Gx(e).template;if(o){wa(e,"compile");const{isCustomElement:s,compilerOptions:a}=e.appContext.config,{delimiters:l,compilerOptions:f}=n,u=ar(ar({isCustomElement:s,delimiters:l},a),f);n.render=r1(o,u),ma(e,"compile")}}e.render=n.render||Gn}Xd(e),lf(),Vge(e),uf(),yf(),!n.render&&e.render===Gn&&!t&&(n.template?Fe('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):Fe("Component is missing template or render function."))}function N_e(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,r){return Zy(),$n(e,"get","$attrs"),t[r]},set(){return Fe("setupContext.attrs is readonly."),!1},deleteProperty(){return Fe("setupContext.attrs is readonly."),!1}}))}function k_e(e){return e.slotsProxy||(e.slotsProxy=new Proxy(e.slots,{get(t,r){return $n(e,"get","$slots"),t[r]}}))}function C_e(e){return Object.freeze({get attrs(){return N_e(e)},get slots(){return k_e(e)},get emit(){return(r,...n)=>e.emit(r,...n)},expose:r=>{if(e.exposed&&Fe("expose() should be called only once per setup()."),r!=null){let n=typeof r;n==="object"&&(ut(r)?n="array":Hr(r)&&(n="ref")),n!=="object"&&Fe(`expose() should be passed a plain object, received ${n}.`)}e.exposed=r||{}}})}function uw(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(wB(bB(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in bf)return bf[r](e)},has(t,r){return r in t||r in bf}}))}const O_e=/(?:^|[-_])(\w)/g,L_e=e=>e.replace(O_e,t=>t.toUpperCase()).replace(/[-_]/g,"");function n1(e,t=!0){return vt(e)?e.displayName||e.name:e.name||t&&e.__name}function fw(e,t,r=!1){let n=n1(t);if(!n&&t.__file){const o=t.__file.match(/([^/\\]+)\.\w+$/);o&&(n=o[1])}if(!n&&e&&e.parent){const o=s=>{for(const a in s)if(s[a]===t)return a};n=o(e.components||e.parent.type.components)||o(e.appContext.components)}return n?L_e(n):r?"App":"Anonymous"}function vU(e){return vt(e)&&"__vccOpts"in e}const Je=(e,t)=>zbe(e,t,Ab);function Mr(e,t,r){const n=arguments.length;return n===2?Gt(t)&&!ut(t)?Jd(t)?Pe(e,null,[t]):Pe(e,t):Pe(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&Jd(r)&&(r=[r]),Pe(e,t,r))}const D_e=Symbol.for("v-scx"),M_e=()=>{{const e=hn(D_e);return e||Fe("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),e}};function i1(e){return!!(e&&e.__v_isShallow)}function P_e(){if(typeof window>"u")return;const e={style:"color:#3ba776"},t={style:"color:#0b1bc9"},r={style:"color:#b62e24"},n={style:"color:#9d288c"},o={header(g){return Gt(g)?g.__isVue?["div",e,"VueInstance"]:Hr(g)?["div",{},["span",e,d(g)],"<",l(g.value),">"]:ff(g)?["div",{},["span",e,i1(g)?"ShallowReactive":"Reactive"],"<",l(g),`>${Bl(g)?" (readonly)":""}`]:Bl(g)?["div",{},["span",e,i1(g)?"ShallowReadonly":"Readonly"],"<",l(g),">"]:null:null},hasBody(g){return g&&g.__isVue},body(g){if(g&&g.__isVue)return["div",{},...s(g.$)]}};function s(g){const h=[];g.type.props&&g.props&&h.push(a("props",nt(g.props))),g.setupState!==Zt&&h.push(a("setup",g.setupState)),g.data!==Zt&&h.push(a("data",nt(g.data)));const p=f(g,"computed");p&&h.push(a("computed",p));const w=f(g,"inject");return w&&h.push(a("injected",w)),h.push(["div",{},["span",{style:n.style+";opacity:0.66"},"$ (internal): "],["object",{object:g}]]),h}function a(g,h){return h=ar({},h),Object.keys(h).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},g],["div",{style:"padding-left:1.25em"},...Object.keys(h).map(p=>["div",{},["span",n,p+": "],l(h[p],!1)])]]:["span",{}]}function l(g,h=!0){return typeof g=="number"?["span",t,g]:typeof g=="string"?["span",r,JSON.stringify(g)]:typeof g=="boolean"?["span",n,g]:Gt(g)?["object",{object:h?nt(g):g}]:["span",r,String(g)]}function f(g,h){const p=g.type;if(vt(p))return;const w={};for(const y in g.ctx)u(p,y,h)&&(w[y]=g.ctx[y]);return w}function u(g,h,p){const w=g[p];if(ut(w)&&w.includes(h)||Gt(w)&&h in w||g.extends&&u(g.extends,h,p)||g.mixins&&g.mixins.some(y=>u(y,h,p)))return!0}function d(g){return i1(g)?"ShallowRef":g.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(o):window.devtoolsFormatters=[o]}const SU="3.3.4",F_e="http://www.w3.org/2000/svg",wf=typeof document<"u"?document:null,EU=wf&&wf.createElement("template"),j_e={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const o=t?wf.createElementNS(F_e,e):wf.createElement(e,r?{is:r}:void 0);return e==="select"&&n&&n.multiple!=null&&o.setAttribute("multiple",n.multiple),o},createText:e=>wf.createTextNode(e),createComment:e=>wf.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>wf.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,o,s){const a=r?r.previousSibling:t.lastChild;if(o&&(o===s||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),r),!(o===s||!(o=o.nextSibling)););else{EU.innerHTML=n?`<svg>${e}</svg>`:e;const l=EU.content;if(n){const f=l.firstChild;for(;f.firstChild;)l.appendChild(f.firstChild);l.removeChild(f)}t.insertBefore(l,r)}return[a?a.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}};function W_e(e,t,r){const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}function B_e(e,t,r){const n=e.style,o=br(r);if(r&&!o){if(t&&!br(t))for(const s in t)r[s]==null&&o1(n,s,"");for(const s in r)o1(n,s,r[s])}else{const s=n.display;o?t!==r&&(n.cssText=r):t&&e.removeAttribute("style"),"_vod"in e&&(n.display=s)}}const U_e=/[^\\];\s*$/,RU=/\s*!important$/;function o1(e,t,r){if(ut(r))r.forEach(n=>o1(e,t,n));else if(r==null&&(r=""),U_e.test(r)&&Fe(`Unexpected semicolon at the end of '${t}' style value: '${r}'`),t.startsWith("--"))e.setProperty(t,r);else{const n=q_e(e,t);RU.test(r)?e.setProperty(Pl(n),r.replace(RU,""),"important"):e[n]=r}}const xU=["Webkit","Moz","ms"],s1={};function q_e(e,t){const r=s1[t];if(r)return r;let n=cs(t);if(n!=="filter"&&n in e)return s1[t]=n;n=of(n);for(let o=0;o<xU.length;o++){const s=xU[o]+n;if(s in e)return s1[t]=s}return t}const AU="http://www.w3.org/1999/xlink";function H_e(e,t,r,n,o){if(n&&t.startsWith("xlink:"))r==null?e.removeAttributeNS(AU,t.slice(6,t.length)):e.setAttributeNS(AU,t,r);else{const s=fbe(t);r==null||s&&!GW(r)?e.removeAttribute(t):e.setAttribute(t,s?"":r)}}function V_e(e,t,r,n,o,s,a){if(t==="innerHTML"||t==="textContent"){n&&a(n,o,s),e[t]=r??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){e._value=r;const u=l==="OPTION"?e.getAttribute("value"):e.value,d=r??"";u!==d&&(e.value=d),r==null&&e.removeAttribute(t);return}let f=!1;if(r===""||r==null){const u=typeof e[t];u==="boolean"?r=GW(r):r==null&&u==="string"?(r="",f=!0):u==="number"&&(r=0,f=!0)}try{e[t]=r}catch(u){f||Fe(`Failed setting prop "${t}" on <${l.toLowerCase()}>: value ${r} is invalid.`,u)}f&&e.removeAttribute(t)}function Qd(e,t,r,n){e.addEventListener(t,r,n)}function G_e(e,t,r,n){e.removeEventListener(t,r,n)}function z_e(e,t,r,n,o=null){const s=e._vei||(e._vei={}),a=s[t];if(n&&a)a.value=n;else{const[l,f]=K_e(t);if(n){const u=s[t]=X_e(n,o);Qd(e,l,u,f)}else a&&(G_e(e,l,a,f),s[t]=void 0)}}const $U=/(?:Once|Passive|Capture)$/;function K_e(e){let t;if($U.test(e)){t={};let n;for(;n=e.match($U);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Pl(e.slice(2)),t]}let a1=0;const J_e=Promise.resolve(),Y_e=()=>a1||(J_e.then(()=>a1=0),a1=Date.now());function X_e(e,t){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;Zi(Q_e(n,r.value),t,5,[n])};return r.value=e,r.attached=Y_e(),r}function Q_e(e,t){if(ut(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>o=>!o._stopped&&n&&n(o))}else return t}const TU=/^on[a-z]/,Z_e=(e,t,r,n,o=!1,s,a,l,f)=>{t==="class"?W_e(e,n,o):t==="style"?B_e(e,r,n):lb(t)?$y(t)||z_e(e,t,r,n,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):eye(e,t,n,o))?V_e(e,t,n,s,a,l,f):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),H_e(e,t,n,o))};function eye(e,t,r,n){return n?!!(t==="innerHTML"||t==="textContent"||t in e&&TU.test(t)&&vt(r)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||TU.test(t)&&br(r)?!1:t in e}const Gl="transition",$b="animation",cw=(e,{slots:t})=>Mr(Tge,tye(e),t);cw.displayName="Transition";const IU={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};cw.props=ar({},FB,IU);const mf=(e,t=[])=>{ut(e)?e.forEach(r=>r(...t)):e&&e(...t)},NU=e=>e?ut(e)?e.some(t=>t.length>1):e.length>1:!1;function tye(e){const t={};for(const B in e)B in IU||(t[B]=e[B]);if(e.css===!1)return t;const{name:r="v",type:n,duration:o,enterFromClass:s=`${r}-enter-from`,enterActiveClass:a=`${r}-enter-active`,enterToClass:l=`${r}-enter-to`,appearFromClass:f=s,appearActiveClass:u=a,appearToClass:d=l,leaveFromClass:g=`${r}-leave-from`,leaveActiveClass:h=`${r}-leave-active`,leaveToClass:p=`${r}-leave-to`}=e,w=rye(o),y=w&&w[0],v=w&&w[1],{onBeforeEnter:E,onEnter:x,onEnterCancelled:S,onLeave:N,onLeaveCancelled:$,onBeforeAppear:D=E,onAppear:K=x,onAppearCancelled:q=S}=t,k=(B,A,U)=>{vf(B,A?d:l),vf(B,A?u:a),U&&U()},V=(B,A)=>{B._isLeaving=!1,vf(B,g),vf(B,p),vf(B,h),A&&A()},j=B=>(A,U)=>{const G=B?K:x,H=()=>k(A,B,U);mf(G,[A,H]),kU(()=>{vf(A,B?f:s),zl(A,B?d:l),NU(G)||CU(A,n,y,H)})};return ar(t,{onBeforeEnter(B){mf(E,[B]),zl(B,s),zl(B,a)},onBeforeAppear(B){mf(D,[B]),zl(B,f),zl(B,u)},onEnter:j(!1),onAppear:j(!0),onLeave(B,A){B._isLeaving=!0;const U=()=>V(B,A);zl(B,g),oye(),zl(B,h),kU(()=>{B._isLeaving&&(vf(B,g),zl(B,p),NU(N)||CU(B,n,v,U))}),mf(N,[B,U])},onEnterCancelled(B){k(B,!1),mf(S,[B])},onAppearCancelled(B){k(B,!0),mf(q,[B])},onLeaveCancelled(B){V(B),mf($,[B])}})}function rye(e){if(e==null)return null;if(Gt(e))return[l1(e.enter),l1(e.leave)];{const t=l1(e);return[t,t]}}function l1(e){const t=tbe(e);return Qbe(t,"<transition> explicit duration"),t}function zl(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e._vtc||(e._vtc=new Set)).add(t)}function vf(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const{_vtc:r}=e;r&&(r.delete(t),r.size||(e._vtc=void 0))}function kU(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let nye=0;function CU(e,t,r,n){const o=e._endId=++nye,s=()=>{o===e._endId&&n()};if(r)return setTimeout(s,r);const{type:a,timeout:l,propCount:f}=iye(e,t);if(!a)return n();const u=a+"end";let d=0;const g=()=>{e.removeEventListener(u,h),s()},h=p=>{p.target===e&&++d>=f&&g()};setTimeout(()=>{d<f&&g()},l+1),e.addEventListener(u,h)}function iye(e,t){const r=window.getComputedStyle(e),n=w=>(r[w]||"").split(", "),o=n(`${Gl}Delay`),s=n(`${Gl}Duration`),a=OU(o,s),l=n(`${$b}Delay`),f=n(`${$b}Duration`),u=OU(l,f);let d=null,g=0,h=0;t===Gl?a>0&&(d=Gl,g=a,h=s.length):t===$b?u>0&&(d=$b,g=u,h=f.length):(g=Math.max(a,u),d=g>0?a>u?Gl:$b:null,h=d?d===Gl?s.length:f.length:0);const p=d===Gl&&/\b(transform|all)(,|$)/.test(n(`${Gl}Property`).toString());return{type:d,timeout:g,propCount:h,hasTransform:p}}function OU(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,n)=>LU(r)+LU(e[n])))}function LU(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function oye(){return document.body.offsetHeight}const DU=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ut(t)?r=>Vd(t,r):t};function sye(e){e.target.composing=!0}function MU(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Kl={created(e,{modifiers:{lazy:t,trim:r,number:n}},o){e._assign=DU(o);const s=n||o.props&&o.props.type==="number";Qd(e,t?"change":"input",a=>{if(a.target.composing)return;let l=e.value;r&&(l=l.trim()),s&&(l=gx(l)),e._assign(l)}),r&&Qd(e,"change",()=>{e.value=e.value.trim()}),t||(Qd(e,"compositionstart",sye),Qd(e,"compositionend",MU),Qd(e,"change",MU))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:r,trim:n,number:o}},s){if(e._assign=DU(s),e.composing||document.activeElement===e&&e.type!=="range"&&(r||n&&e.value.trim()===t||(o||e.type==="number")&&gx(e.value)===t))return;const a=t??"";e.value!==a&&(e.value=a)}},aye=["ctrl","shift","alt","meta"],lye={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>aye.some(r=>e[`${r}Key`]&&!t.includes(r))},uye=(e,t)=>(r,...n)=>{for(let o=0;o<t.length;o++){const s=lye[t[o]];if(s&&s(r,t))return}return e(r,...n)},Sf={beforeMount(e,{value:t},{transition:r}){e._vod=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):Tb(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:n}){!t!=!r&&(n?t?(n.beforeEnter(e),Tb(e,!0),n.enter(e)):n.leave(e,()=>{Tb(e,!1)}):Tb(e,t))},beforeUnmount(e,{value:t}){Tb(e,t)}};function Tb(e,t){e.style.display=t?e._vod:"none"}const fye=ar({patchProp:Z_e},j_e);let PU;function cye(){return PU||(PU=f_e(fye))}const dye=(...e)=>{const t=cye().createApp(...e);hye(t),pye(t);const{mount:r}=t;return t.mount=n=>{const o=bye(n);if(!o)return;const s=t._component;!vt(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.innerHTML="";const a=r(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},t};function hye(e){Object.defineProperty(e.config,"isNativeTag",{value:t=>lbe(t)||ube(t),writable:!1})}function pye(e){{const t=e.config.isCustomElement;Object.defineProperty(e.config,"isCustomElement",{get(){return t},set(){Fe("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});const r=e.config.compilerOptions,n='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite-plugin-vue/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-sfc';Object.defineProperty(e.config,"compilerOptions",{get(){return Fe(n),r},set(){Fe(n)}})}}function bye(e){if(br(e)){const t=document.querySelector(e);return t||Fe(`Failed to mount app: mount target selector "${e}" returned null.`),t}return window.ShadowRoot&&e instanceof window.ShadowRoot&&e.mode==="closed"&&Fe('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs'),e}function gye(){P_e()}gye();function _ye(e,t){return Ne(),He("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[be("path",{"fill-rule":"evenodd",d:"M11.03 3.97a.75.75 0 010 1.06l-6.22 6.22H21a.75.75 0 010 1.5H4.81l6.22 6.22a.75.75 0 11-1.06 1.06l-7.5-7.5a.75.75 0 010-1.06l7.5-7.5a.75.75 0 011.06 0z","clip-rule":"evenodd"})])}function yye(e,t){return Ne(),He("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[be("path",{"fill-rule":"evenodd",d:"M4.755 10.059a7.5 7.5 0 0112.548-3.364l1.903 1.903h-3.183a.75.75 0 100 1.5h4.992a.75.75 0 00.75-.75V4.356a.75.75 0 00-1.5 0v3.18l-1.9-1.9A9 9 0 003.306 9.67a.75.75 0 101.45.388zm15.408 3.352a.75.75 0 00-.919.53 7.5 7.5 0 01-12.548 3.364l-1.902-1.903h3.183a.75.75 0 000-1.5H2.984a.75.75 0 00-.75.75v4.992a.75.75 0 001.5 0v-3.18l1.9 1.9a9 9 0 0015.059-4.035.75.75 0 00-.53-.918z","clip-rule":"evenodd"})])}function wye(e,t){return Ne(),He("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[be("path",{"fill-rule":"evenodd",d:"M15.75 2.25H21a.75.75 0 01.75.75v5.25a.75.75 0 01-1.5 0V4.81L8.03 17.03a.75.75 0 01-1.06-1.06L19.19 3.75h-3.44a.75.75 0 010-1.5zm-10.5 4.5a1.5 1.5 0 00-1.5 1.5v10.5a1.5 1.5 0 001.5 1.5h10.5a1.5 1.5 0 001.5-1.5V10.5a.75.75 0 011.5 0v8.25a3 3 0 01-3 3H5.25a3 3 0 01-3-3V8.25a3 3 0 013-3h8.25a.75.75 0 010 1.5H5.25z","clip-rule":"evenodd"})])}function mye(e,t){return Ne(),He("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[be("path",{"fill-rule":"evenodd",d:"M11.47 2.47a.75.75 0 011.06 0l4.5 4.5a.75.75 0 01-1.06 1.06l-3.22-3.22V16.5a.75.75 0 01-1.5 0V4.81L8.03 8.03a.75.75 0 01-1.06-1.06l4.5-4.5zM3 15.75a.75.75 0 01.75.75v2.25a1.5 1.5 0 001.5 1.5h13.5a1.5 1.5 0 001.5-1.5V16.5a.75.75 0 011.5 0v2.25a3 3 0 01-3 3H5.25a3 3 0 01-3-3V16.5a.75.75 0 01.75-.75z","clip-rule":"evenodd"})])}function vye(e,t){return Ne(),He("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[be("path",{"fill-rule":"evenodd",d:"M3 6.75A.75.75 0 013.75 6h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 6.75zM3 12a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 12zm0 5.25a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75a.75.75 0 01-.75-.75z","clip-rule":"evenodd"})])}function Sye(e,t){return Ne(),He("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[be("path",{"fill-rule":"evenodd",d:"M19.916 4.626a.75.75 0 01.208 1.04l-9 13.5a.75.75 0 01-1.154.114l-6-6a.75.75 0 011.06-1.06l5.353 5.353 8.493-12.739a.75.75 0 011.04-.208z","clip-rule":"evenodd"})])}function Eye(e,t){return Ne(),He("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[be("path",{"fill-rule":"evenodd",d:"M7.72 12.53a.75.75 0 010-1.06l7.5-7.5a.75.75 0 111.06 1.06L9.31 12l6.97 6.97a.75.75 0 11-1.06 1.06l-7.5-7.5z","clip-rule":"evenodd"})])}function Rye(e,t){return Ne(),He("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[be("path",{"fill-rule":"evenodd",d:"M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z","clip-rule":"evenodd"})])}function FU(e,t){return Ne(),He("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[be("path",{"fill-rule":"evenodd",d:"M17.663 3.118c.225.015.45.032.673.05C19.876 3.298 21 4.604 21 6.109v9.642a3 3 0 01-3 3V16.5c0-5.922-4.576-10.775-10.384-11.217.324-1.132 1.3-2.01 2.548-2.114.224-.019.448-.036.673-.051A3 3 0 0113.5 1.5H15a3 3 0 012.663 1.618zM12 4.5A1.5 1.5 0 0113.5 3H15a1.5 1.5 0 011.5 1.5H12z","clip-rule":"evenodd"}),be("path",{d:"M3 8.625c0-1.036.84-1.875 1.875-1.875h.375A3.75 3.75 0 019 10.5v1.875c0 1.036.84 1.875 1.875 1.875h1.875A3.75 3.75 0 0116.5 18v2.625c0 1.035-.84 1.875-1.875 1.875h-9.75A1.875 1.875 0 013 20.625v-12z"}),be("path",{d:"M10.5 10.5a5.23 5.23 0 00-1.279-3.434 9.768 9.768 0 016.963 6.963 5.23 5.23 0 00-3.434-1.279h-1.875a.375.375 0 01-.375-.375V10.5z"})])}function xye(e,t){return Ne(),He("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[be("path",{d:"M17.004 10.407c.138.435-.216.842-.672.842h-3.465a.75.75 0 01-.65-.375l-1.732-3c-.229-.396-.053-.907.393-1.004a5.252 5.252 0 016.126 3.537zM8.12 8.464c.307-.338.838-.235 1.066.16l1.732 3a.75.75 0 010 .75l-1.732 3.001c-.229.396-.76.498-1.067.16A5.231 5.231 0 016.75 12c0-1.362.519-2.603 1.37-3.536zM10.878 17.13c-.447-.097-.623-.608-.394-1.003l1.733-3.003a.75.75 0 01.65-.375h3.465c.457 0 .81.408.672.843a5.252 5.252 0 01-6.126 3.538z"}),be("path",{"fill-rule":"evenodd",d:"M21 12.75a.75.75 0 000-1.5h-.783a8.22 8.22 0 00-.237-1.357l.734-.267a.75.75 0 10-.513-1.41l-.735.268a8.24 8.24 0 00-.689-1.191l.6-.504a.75.75 0 10-.964-1.149l-.6.504a8.3 8.3 0 00-1.054-.885l.391-.678a.75.75 0 10-1.299-.75l-.39.677a8.188 8.188 0 00-1.295-.471l.136-.77a.75.75 0 00-1.477-.26l-.136.77a8.364 8.364 0 00-1.377 0l-.136-.77a.75.75 0 10-1.477.26l.136.77c-.448.121-.88.28-1.294.47l-.39-.676a.75.75 0 00-1.3.75l.392.678a8.29 8.29 0 00-1.054.885l-.6-.504a.75.75 0 00-.965 1.149l.6.503a8.243 8.243 0 00-.689 1.192L3.8 8.217a.75.75 0 10-.513 1.41l.735.267a8.222 8.222 0 00-.238 1.355h-.783a.75.75 0 000 1.5h.783c.042.464.122.917.238 1.356l-.735.268a.75.75 0 10.513 1.41l.735-.268c.197.417.428.816.69 1.192l-.6.504a.75.75 0 10.963 1.149l.601-.505c.326.323.679.62 1.054.885l-.392.68a.75.75 0 101.3.75l.39-.679c.414.192.847.35 1.294.471l-.136.771a.75.75 0 101.477.26l.137-.772a8.376 8.376 0 001.376 0l.136.773a.75.75 0 101.477-.26l-.136-.772a8.19 8.19 0 001.294-.47l.391.677a.75.75 0 101.3-.75l-.393-.679a8.282 8.282 0 001.054-.885l.601.504a.75.75 0 10.964-1.15l-.6-.503a8.24 8.24 0 00.69-1.191l.735.268a.75.75 0 10.512-1.41l-.734-.268c.115-.438.195-.892.237-1.356h.784zm-2.657-3.06a6.744 6.744 0 00-1.19-2.053 6.784 6.784 0 00-1.82-1.51A6.704 6.704 0 0012 5.25a6.801 6.801 0 00-1.225.111 6.7 6.7 0 00-2.15.792 6.784 6.784 0 00-2.952 3.489.758.758 0 01-.036.099A6.74 6.74 0 005.251 12a6.739 6.739 0 003.355 5.835l.01.006.01.005a6.706 6.706 0 002.203.802c.007 0 .014.002.021.004a6.792 6.792 0 002.301 0l.022-.004a6.707 6.707 0 002.228-.816 6.781 6.781 0 001.762-1.483l.009-.01.009-.012a6.744 6.744 0 001.18-2.064c.253-.708.39-1.47.39-2.264a6.74 6.74 0 00-.408-2.308z","clip-rule":"evenodd"})])}function Aye(e,t){return Ne(),He("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[be("path",{"fill-rule":"evenodd",d:"M10.5 6a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm0 6a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm0 6a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0z","clip-rule":"evenodd"})])}function jU(e,t){return Ne(),He("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[be("path",{d:"M3.53 2.47a.75.75 0 00-1.06 1.06l18 18a.75.75 0 101.06-1.06l-18-18zM22.676 12.553a11.249 11.249 0 01-2.631 4.31l-3.099-3.099a5.25 5.25 0 00-6.71-6.71L7.759 4.577a11.217 11.217 0 014.242-.827c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113z"}),be("path",{d:"M15.75 12c0 .18-.013.357-.037.53l-4.244-4.243A3.75 3.75 0 0115.75 12zM12.53 15.713l-4.243-4.244a3.75 3.75 0 004.243 4.243z"}),be("path",{d:"M6.75 12c0-.619.107-1.213.304-1.764l-3.1-3.1a11.25 11.25 0 00-2.63 4.31c-.12.362-.12.752 0 1.114 1.489 4.467 5.704 7.69 10.675 7.69 1.5 0 2.933-.294 4.242-.827l-2.477-2.477A5.25 5.25 0 016.75 12z"})])}function $ye(e,t){return Ne(),He("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[be("path",{d:"M12 15a3 3 0 100-6 3 3 0 000 6z"}),be("path",{"fill-rule":"evenodd",d:"M1.323 11.447C2.811 6.976 7.028 3.75 12.001 3.75c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113-1.487 4.471-5.705 7.697-10.677 7.697-4.97 0-9.186-3.223-10.675-7.69a1.762 1.762 0 010-1.113zM17.25 12a5.25 5.25 0 11-10.5 0 5.25 5.25 0 0110.5 0z","clip-rule":"evenodd"})])}function Tye(e,t){return Ne(),He("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[be("path",{"fill-rule":"evenodd",d:"M5.25 12a.75.75 0 01.75-.75h12a.75.75 0 010 1.5H6a.75.75 0 01-.75-.75z","clip-rule":"evenodd"})])}function Iye(e,t){return Ne(),He("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[be("path",{"fill-rule":"evenodd",d:"M12 5.25a.75.75 0 01.75.75v5.25H18a.75.75 0 010 1.5h-5.25V18a.75.75 0 01-1.5 0v-5.25H6a.75.75 0 010-1.5h5.25V6a.75.75 0 01.75-.75z","clip-rule":"evenodd"})])}function Nye(e,t){return Ne(),He("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[be("path",{"fill-rule":"evenodd",d:"M1.5 5.625c0-1.036.84-1.875 1.875-1.875h17.25c1.035 0 1.875.84 1.875 1.875v12.75c0 1.035-.84 1.875-1.875 1.875H3.375A1.875 1.875 0 011.5 18.375V5.625zM21 9.375A.375.375 0 0020.625 9h-7.5a.375.375 0 00-.375.375v1.5c0 .207.168.375.375.375h7.5a.375.375 0 00.375-.375v-1.5zm0 3.75a.375.375 0 00-.375-.375h-7.5a.375.375 0 00-.375.375v1.5c0 .207.168.375.375.375h7.5a.375.375 0 00.375-.375v-1.5zm0 3.75a.375.375 0 00-.375-.375h-7.5a.375.375 0 00-.375.375v1.5c0 .207.168.375.375.375h7.5a.375.375 0 00.375-.375v-1.5zM10.875 18.75a.375.375 0 00.375-.375v-1.5a.375.375 0 00-.375-.375h-7.5a.375.375 0 00-.375.375v1.5c0 .207.168.375.375.375h7.5zM3.375 15h7.5a.375.375 0 00.375-.375v-1.5a.375.375 0 00-.375-.375h-7.5a.375.375 0 00-.375.375v1.5c0 .207.168.375.375.375zm0-3.75h7.5a.375.375 0 00.375-.375v-1.5A.375.375 0 0010.875 9h-7.5A.375.375 0 003 9.375v1.5c0 .207.168.375.375.375z","clip-rule":"evenodd"})])}function Jl(e,t){return Ne(),He("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[be("path",{"fill-rule":"evenodd",d:"M5.47 5.47a.75.75 0 011.06 0L12 10.94l5.47-5.47a.75.75 0 111.06 1.06L13.06 12l5.47 5.47a.75.75 0 11-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 01-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 010-1.06z","clip-rule":"evenodd"})])}const dw={name:"splitpanes",emits:["ready","resize","resized","pane-click","pane-maximize","pane-add","pane-remove","splitter-click"],props:{horizontal:{type:Boolean},pushOtherPanes:{type:Boolean,default:!0},dblClickSplitter:{type:Boolean,default:!0},rtl:{type:Boolean,default:!1},firstSplitter:{type:Boolean}},provide(){return{requestUpdate:this.requestUpdate,onPaneAdd:this.onPaneAdd,onPaneRemove:this.onPaneRemove,onPaneClick:this.onPaneClick}},data:()=>({container:null,ready:!1,panes:[],touch:{mouseDown:!1,dragging:!1,activeSplitter:null},splitterTaps:{splitter:null,timeoutId:null}}),computed:{panesCount(){return this.panes.length},indexedPanes(){return this.panes.reduce((e,t)=>(e[t.id]=t)&&e,{})}},methods:{updatePaneComponents(){this.panes.forEach(e=>{e.update&&e.update({[this.horizontal?"height":"width"]:`${this.indexedPanes[e.id].size}%`})})},bindEvents(){document.addEventListener("mousemove",this.onMouseMove,{passive:!1}),document.addEventListener("mouseup",this.onMouseUp),"ontouchstart"in window&&(document.addEventListener("touchmove",this.onMouseMove,{passive:!1}),document.addEventListener("touchend",this.onMouseUp))},unbindEvents(){document.removeEventListener("mousemove",this.onMouseMove,{passive:!1}),document.removeEventListener("mouseup",this.onMouseUp),"ontouchstart"in window&&(document.removeEventListener("touchmove",this.onMouseMove,{passive:!1}),document.removeEventListener("touchend",this.onMouseUp))},onMouseDown(e,t){this.bindEvents(),this.touch.mouseDown=!0,this.touch.activeSplitter=t},onMouseMove(e){this.touch.mouseDown&&(e.preventDefault(),this.touch.dragging=!0,this.calculatePanesSize(this.getCurrentMouseDrag(e)),this.$emit("resize",this.panes.map(t=>({min:t.min,max:t.max,size:t.size}))))},onMouseUp(){this.touch.dragging&&this.$emit("resized",this.panes.map(e=>({min:e.min,max:e.max,size:e.size}))),this.touch.mouseDown=!1,setTimeout(()=>{this.touch.dragging=!1,this.unbindEvents()},100)},onSplitterClick(e,t){"ontouchstart"in window&&(e.preventDefault(),this.dblClickSplitter&&(this.splitterTaps.splitter===t?(clearTimeout(this.splitterTaps.timeoutId),this.splitterTaps.timeoutId=null,this.onSplitterDblClick(e,t),this.splitterTaps.splitter=null):(this.splitterTaps.splitter=t,this.splitterTaps.timeoutId=setTimeout(()=>{this.splitterTaps.splitter=null},500)))),this.touch.dragging||this.$emit("splitter-click",this.panes[t])},onSplitterDblClick(e,t){let r=0;this.panes=this.panes.map((n,o)=>(n.size=o===t?n.max:n.min,o!==t&&(r+=n.min),n)),this.panes[t].size-=r,this.$emit("pane-maximize",this.panes[t]),this.$emit("resized",this.panes.map(n=>({min:n.min,max:n.max,size:n.size})))},onPaneClick(e,t){this.$emit("pane-click",this.indexedPanes[t])},getCurrentMouseDrag(e){const t=this.container.getBoundingClientRect(),{clientX:r,clientY:n}="ontouchstart"in window&&e.touches?e.touches[0]:e;return{x:r-t.left,y:n-t.top}},getCurrentDragPercentage(e){e=e[this.horizontal?"y":"x"];const t=this.container[this.horizontal?"clientHeight":"clientWidth"];return this.rtl&&!this.horizontal&&(e=t-e),e*100/t},calculatePanesSize(e){const t=this.touch.activeSplitter;let r={prevPanesSize:this.sumPrevPanesSize(t),nextPanesSize:this.sumNextPanesSize(t),prevReachedMinPanes:0,nextReachedMinPanes:0};const n=0+(this.pushOtherPanes?0:r.prevPanesSize),o=100-(this.pushOtherPanes?0:r.nextPanesSize),s=Math.max(Math.min(this.getCurrentDragPercentage(e),o),n);let a=[t,t+1],l=this.panes[a[0]]||null,f=this.panes[a[1]]||null;const u=l.max<100&&s>=l.max+r.prevPanesSize,d=f.max<100&&s<=100-(f.max+this.sumNextPanesSize(t+1));if(u||d){u?(l.size=l.max,f.size=Math.max(100-l.max-r.prevPanesSize-r.nextPanesSize,0)):(l.size=Math.max(100-f.max-r.prevPanesSize-this.sumNextPanesSize(t+1),0),f.size=f.max);return}if(this.pushOtherPanes){const g=this.doPushOtherPanes(r,s);if(!g)return;({sums:r,panesToResize:a}=g),l=this.panes[a[0]]||null,f=this.panes[a[1]]||null}l!==null&&(l.size=Math.min(Math.max(s-r.prevPanesSize-r.prevReachedMinPanes,l.min),l.max)),f!==null&&(f.size=Math.min(Math.max(100-s-r.nextPanesSize-r.nextReachedMinPanes,f.min),f.max))},doPushOtherPanes(e,t){const r=this.touch.activeSplitter,n=[r,r+1];return t<e.prevPanesSize+this.panes[n[0]].min&&(n[0]=this.findPrevExpandedPane(r).index,e.prevReachedMinPanes=0,n[0]<r&&this.panes.forEach((o,s)=>{s>n[0]&&s<=r&&(o.size=o.min,e.prevReachedMinPanes+=o.min)}),e.prevPanesSize=this.sumPrevPanesSize(n[0]),n[0]===void 0)?(e.prevReachedMinPanes=0,this.panes[0].size=this.panes[0].min,this.panes.forEach((o,s)=>{s>0&&s<=r&&(o.size=o.min,e.prevReachedMinPanes+=o.min)}),this.panes[n[1]].size=100-e.prevReachedMinPanes-this.panes[0].min-e.prevPanesSize-e.nextPanesSize,null):t>100-e.nextPanesSize-this.panes[n[1]].min&&(n[1]=this.findNextExpandedPane(r).index,e.nextReachedMinPanes=0,n[1]>r+1&&this.panes.forEach((o,s)=>{s>r&&s<n[1]&&(o.size=o.min,e.nextReachedMinPanes+=o.min)}),e.nextPanesSize=this.sumNextPanesSize(n[1]-1),n[1]===void 0)?(e.nextReachedMinPanes=0,this.panes[this.panesCount-1].size=this.panes[this.panesCount-1].min,this.panes.forEach((o,s)=>{s<this.panesCount-1&&s>=r+1&&(o.size=o.min,e.nextReachedMinPanes+=o.min)}),this.panes[n[0]].size=100-e.prevPanesSize-e.nextReachedMinPanes-this.panes[this.panesCount-1].min-e.nextPanesSize,null):{sums:e,panesToResize:n}},sumPrevPanesSize(e){return this.panes.reduce((t,r,n)=>t+(n<e?r.size:0),0)},sumNextPanesSize(e){return this.panes.reduce((t,r,n)=>t+(n>e+1?r.size:0),0)},findPrevExpandedPane(e){return[...this.panes].reverse().find(t=>t.index<e&&t.size>t.min)||{}},findNextExpandedPane(e){return this.panes.find(t=>t.index>e+1&&t.size>t.min)||{}},checkSplitpanesNodes(){Array.from(this.container.children).forEach(e=>{const t=e.classList.contains("splitpanes__pane"),r=e.classList.contains("splitpanes__splitter");!t&&!r&&(e.parentNode.removeChild(e),console.warn("Splitpanes: Only <pane> elements are allowed at the root of <splitpanes>. One of your DOM nodes was removed."))})},addSplitter(e,t,r=!1){const n=e-1,o=document.createElement("div");o.classList.add("splitpanes__splitter"),r||(o.onmousedown=s=>this.onMouseDown(s,n),typeof window<"u"&&"ontouchstart"in window&&(o.ontouchstart=s=>this.onMouseDown(s,n)),o.onclick=s=>this.onSplitterClick(s,n+1)),this.dblClickSplitter&&(o.ondblclick=s=>this.onSplitterDblClick(s,n+1)),t.parentNode.insertBefore(o,t)},removeSplitter(e){e.onmousedown=void 0,e.onclick=void 0,e.ondblclick=void 0,e.parentNode.removeChild(e)},redoSplitters(){const e=Array.from(this.container.children);e.forEach(r=>{r.className.includes("splitpanes__splitter")&&this.removeSplitter(r)});let t=0;e.forEach(r=>{r.className.includes("splitpanes__pane")&&(!t&&this.firstSplitter?this.addSplitter(t,r,!0):t&&this.addSplitter(t,r),t++)})},requestUpdate({target:e,...t}){const r=this.indexedPanes[e._.uid];Object.entries(t).forEach(([n,o])=>r[n]=o)},onPaneAdd(e){let t=-1;Array.from(e.$el.parentNode.children).some(o=>(o.className.includes("splitpanes__pane")&&t++,o===e.$el));const r=parseFloat(e.minSize),n=parseFloat(e.maxSize);this.panes.splice(t,0,{id:e._.uid,index:t,min:isNaN(r)?0:r,max:isNaN(n)?100:n,size:e.size===null?null:parseFloat(e.size),givenSize:e.size,update:e.update}),this.panes.forEach((o,s)=>o.index=s),this.ready&&this.$nextTick(()=>{this.redoSplitters(),this.resetPaneSizes({addedPane:this.panes[t]}),this.$emit("pane-add",{index:t,panes:this.panes.map(o=>({min:o.min,max:o.max,size:o.size}))})})},onPaneRemove(e){const t=this.panes.findIndex(n=>n.id===e._.uid),r=this.panes.splice(t,1)[0];this.panes.forEach((n,o)=>n.index=o),this.$nextTick(()=>{this.redoSplitters(),this.resetPaneSizes({removedPane:{...r,index:t}}),this.$emit("pane-remove",{removed:r,panes:this.panes.map(n=>({min:n.min,max:n.max,size:n.size}))})})},resetPaneSizes(e={}){!e.addedPane&&!e.removedPane?this.initialPanesSizing():this.panes.some(t=>t.givenSize!==null||t.min||t.max<100)?this.equalizeAfterAddOrRemove(e):this.equalize(),this.ready&&this.$emit("resized",this.panes.map(t=>({min:t.min,max:t.max,size:t.size})))},equalize(){const e=100/this.panesCount;let t=0;const r=[],n=[];this.panes.forEach(o=>{o.size=Math.max(Math.min(e,o.max),o.min),t-=o.size,o.size>=o.max&&r.push(o.id),o.size<=o.min&&n.push(o.id)}),t>.1&&this.readjustSizes(t,r,n)},initialPanesSizing(){let e=100;const t=[],r=[];let n=0;this.panes.forEach(s=>{e-=s.size,s.size!==null&&n++,s.size>=s.max&&t.push(s.id),s.size<=s.min&&r.push(s.id)});let o=100;e>.1&&(this.panes.forEach(s=>{s.size===null&&(s.size=Math.max(Math.min(e/(this.panesCount-n),s.max),s.min)),o-=s.size}),o>.1&&this.readjustSizes(e,t,r))},equalizeAfterAddOrRemove({addedPane:e,removedPane:t}={}){let r=100/this.panesCount,n=0;const o=[],s=[];e&&e.givenSize!==null&&(r=(100-e.givenSize)/(this.panesCount-1)),this.panes.forEach(a=>{n-=a.size,a.size>=a.max&&o.push(a.id),a.size<=a.min&&s.push(a.id)}),!(Math.abs(n)<.1)&&(this.panes.forEach(a=>{e&&e.givenSize!==null&&e.id===a.id||(a.size=Math.max(Math.min(r,a.max),a.min)),n-=a.size,a.size>=a.max&&o.push(a.id),a.size<=a.min&&s.push(a.id)}),n>.1&&this.readjustSizes(n,o,s))},readjustSizes(e,t,r){let n;e>0?n=e/(this.panesCount-t.length):n=e/(this.panesCount-r.length),this.panes.forEach((o,s)=>{if(e>0&&!t.includes(o.id)){const a=Math.max(Math.min(o.size+n,o.max),o.min),l=a-o.size;e-=l,o.size=a}else if(!r.includes(o.id)){const a=Math.max(Math.min(o.size+n,o.max),o.min),l=a-o.size;e-=l,o.size=a}o.update({[this.horizontal?"height":"width"]:`${this.indexedPanes[o.id].size}%`})}),Math.abs(e)>.1&&this.$nextTick(()=>{this.ready&&console.warn("Splitpanes: Could not resize panes correctly due to their constraints.")})}},watch:{panes:{deep:!0,immediate:!1,handler(){this.updatePaneComponents()}},horizontal(){this.updatePaneComponents()},firstSplitter(){this.redoSplitters()},dblClickSplitter(e){[...this.container.querySelectorAll(".splitpanes__splitter")].forEach((t,r)=>{t.ondblclick=e?n=>this.onSplitterDblClick(n,r):void 0})}},beforeUnmount(){this.ready=!1},mounted(){this.container=this.$refs.container,this.checkSplitpanesNodes(),this.redoSplitters(),this.resetPaneSizes(),this.$emit("ready"),this.ready=!0},render(){return Mr("div",{ref:"container",class:["splitpanes",`splitpanes--${this.horizontal?"horizontal":"vertical"}`,{"splitpanes--dragging":this.touch.dragging}]},this.$slots.default())}},kye=(e,t)=>{const r=e.__vccOpts||e;for(const[n,o]of t)r[n]=o;return r},Cye={name:"pane",inject:["requestUpdate","onPaneAdd","onPaneRemove","onPaneClick"],props:{size:{type:[Number,String],default:null},minSize:{type:[Number,String],default:0},maxSize:{type:[Number,String],default:100}},data:()=>({style:{}}),mounted(){this.onPaneAdd(this)},beforeUnmount(){this.onPaneRemove(this)},methods:{update(e){this.style=e}},computed:{sizeNumber(){return this.size||this.size===0?parseFloat(this.size):null},minSizeNumber(){return parseFloat(this.minSize)},maxSizeNumber(){return parseFloat(this.maxSize)}},watch:{sizeNumber(e){this.requestUpdate({target:this,size:e})},minSizeNumber(e){this.requestUpdate({target:this,min:e})},maxSizeNumber(e){this.requestUpdate({target:this,max:e})}}};function Oye(e,t,r,n,o,s){return Ne(),He("div",{class:"splitpanes__pane",onClick:t[0]||(t[0]=a=>s.onPaneClick(a,e._.uid)),style:Oy(e.style)},[ya(e.$slots,"default")],4)}const va=kye(Cye,[["render",Oye]]),_s={...{acl:"http://www.w3.org/ns/auth/acl#",as:"https://www.w3.org/ns/activitystreams#",bibo:"http://purl.org/ontology/bibo/",cc:"http://creativecommons.org/ns#",cert:"http://www.w3.org/ns/auth/cert#",cnt:"http://www.w3.org/2011/content#",constant:"http://qudt.org/vocab/constant/",crm:"http://www.cidoc-crm.org/cidoc-crm/",csvw:"http://www.w3.org/ns/csvw#",ctag:"http://commontag.org/ns#","dash-sparql":"http://datashapes.org/sparql#",dash:"http://datashapes.org/dash#",dbo:"http://dbpedia.org/ontology/",dc11:"http://purl.org/dc/elements/1.1/",dcam:"http://purl.org/dc/dcam/",dcat:"http://www.w3.org/ns/dcat#",dcmitype:"http://purl.org/dc/dcmitype/",dcterms:"http://purl.org/dc/terms/",dig:"http://www.ics.forth.gr/isl/CRMdig/",discipline:"http://qudt.org/vocab/discipline/",doap:"http://usefulinc.com/ns/doap#",dpv:"http://www.w3.org/ns/dpv#",dqv:"http://www.w3.org/ns/dqv#",dtype:"http://www.linkedmodel.org/schema/dtype#",duv:"http://www.w3.org/ns/duv#",earl:"http://www.w3.org/ns/earl#",ebucore:"http://www.ebu.ch/metadata/ontologies/ebucore/ebucore#",exif:"http://www.w3.org/2003/12/exif/ns#",foaf:"http://xmlns.com/foaf/0.1/",frbr:"http://purl.org/vocab/frbr/core#",geo:"http://www.opengis.net/ont/geosparql#",geof:"http://www.opengis.net/def/function/geosparql/",geor:"http://www.opengis.net/def/rule/geosparql/",gml:"http://www.opengis.net/ont/gml#",gn:"http://www.geonames.org/ontology#",gr:"http://purl.org/goodrelations/v1#",grddl:"http://www.w3.org/2003/g/data-view#",gs1:"https://gs1.org/voc/",gtfs:"http://vocab.gtfs.org/terms#",http:"http://www.w3.org/2011/http#",hydra:"http://www.w3.org/ns/hydra/core#",ical:"http://www.w3.org/2002/12/cal/icaltzd#",la:"https://linked.art/ns/terms/",ldp:"http://www.w3.org/ns/ldp#",list:"http://www.w3.org/2000/10/swap/list#",locn:"http://www.w3.org/ns/locn#",log:"http://www.w3.org/2000/10/swap/log#",lvont:"http://lexvo.org/ontology#",m4i:"http://w3id.org/nfdi4ing/metadata4ing#",ma:"http://www.w3.org/ns/ma-ont#",mads:"http://www.loc.gov/mads/rdf/v1#",math:"http://www.w3.org/2000/10/swap/math#",oa:"http://www.w3.org/ns/oa#",og:"http://ogp.me/ns#",oidc:"http://www.w3.org/ns/solid/oidc#",org:"http://www.w3.org/ns/org#",owl:"http://www.w3.org/2002/07/owl#",pim:"http://www.w3.org/ns/pim/space#",prefix:"http://qudt.org/vocab/prefix/",prov:"http://www.w3.org/ns/prov#",qb:"http://purl.org/linked-data/cube#",qkdv:"http://qudt.org/vocab/dimensionvector/",quantitykind:"http://qudt.org/vocab/quantitykind/",qudt:"http://qudt.org/schema/qudt/",rdau:"http://rdaregistry.info/Elements/u/",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfa:"http://www.w3.org/ns/rdfa#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rev:"http://purl.org/stuff/rev#",rico:"https://www.ica.org/standards/RiC/ontology#",rr:"http://www.w3.org/ns/r2rml#",rss:"http://purl.org/rss/1.0/",schema:"http://schema.org/",sd:"http://www.w3.org/ns/sparql-service-description#",sdmx:"http://purl.org/linked-data/sdmx#",sem:"http://semanticweb.cs.vu.nl/2009/11/sem/",set:"http://www.w3.org/2000/10/swap/set#",sf:"http://www.opengis.net/ont/sf#",sh:"http://www.w3.org/ns/shacl#",shex:"http://www.w3.org/ns/shex#",shsh:"http://www.w3.org/ns/shacl-shacl#",sioc:"http://rdfs.org/sioc/ns#",skos:"http://www.w3.org/2004/02/skos/core#",skosxl:"http://www.w3.org/2008/05/skos-xl#",solid:"http://www.w3.org/ns/solid/terms#",sosa:"http://www.w3.org/ns/sosa/",sou:"http://qudt.org/vocab/sou/",ssn:"http://www.w3.org/ns/ssn/",stat:"http://www.w3.org/ns/posix/stat#",string:"http://www.w3.org/2000/10/swap/string#",test:"http://www.w3.org/2006/03/test-description#",time:"http://www.w3.org/2006/time#",unit:"http://qudt.org/vocab/unit/",vaem:"http://www.linkedmodel.org/schema/vaem#",vann:"http://purl.org/vocab/vann/",vcard:"http://www.w3.org/2006/vcard/ns#",void:"http://rdfs.org/ns/void#",vs:"http://www.w3.org/2003/06/sw-vocab-status/ns#",vso:"http://purl.org/vso/ns#",wdrs:"http://www.w3.org/2007/05/powder-s#",wgs:"http://www.w3.org/2003/01/geo/wgs84_pos#",xhv:"http://www.w3.org/1999/xhtml/vocab#",xkos:"http://rdf-vocabulary.ddialliance.org/xkos#",xsd:"http://www.w3.org/2001/XMLSchema#"},...{rif:"http://www.w3.org/2007/rif#",v:"http://rdf.data-vocabulary.org/#",wdr:"http://www.w3.org/2007/05/powder#",xml:"http://www.w3.org/XML/1998/namespace/"}};function WU(e,t={}){const r={..._s,...t},n=Array.from(Object.entries(r)).filter(([,o])=>e.startsWith(o));if(n.length){n.sort(([,s],[,a])=>a.length-s.length);const o=n[0];return e.replace(new RegExp(`^${o[1]}`),`${o[0]}:`)}return""}const Lye=e=>class{constructor(){qd(this,"dataset")}init(){const r=e(this);this.dataset=(n=[])=>new r([...n]),this.dataset.Class=r}};let hw=class Upe{constructor(t,{bind:r=!1}={}){this._factories=t.slice();for(const n of this._factories){typeof n.prototype.init=="function"&&n.prototype.init.call(this);for(const o of n.exports||[])r?this[o]=n.prototype[o].bind(this):this[o]=n.prototype[o]}}clone(){const t=new Upe(this._factories);for(const r of t._factories)typeof r.prototype.clone=="function"&&r.prototype.clone.call(t,this);return t}};function BU({parent:e,child:t}){return new Proxy({},{get(n,o){return t[o]||e[o]},set(n,o,s){return t[o]=s,!0},has(n,o){return o in t||o in e},ownKeys(){const n=Object.getOwnPropertyNames(e),o=Object.getOwnPropertyNames(t);return[...new Set([...n,...o]).values()]},getOwnPropertyDescriptor(n,o){return{enumerable:!o.toString().startsWith("_"),configurable:!0}}})}class Ib{constructor(t,{parent:r,bind:n=!1}={}){if(this._parent=r,t instanceof hw||t instanceof Ib)return BU({parent:r,child:t});this._factories=t.slice();const o=r?BU({parent:r,child:this}):this;for(const s of this._factories){typeof s.prototype.init=="function"&&s.prototype.init.call(o);for(const a of s.exports||[])n?this[a]=s.prototype[a].bind(o):this[a]=s.prototype[a]}return o}clone(){const t=new Ib(this._factories,this._parent);for(const r of t._factories)typeof r.prototype.clone=="function"&&r.prototype.clone.call(t,this);return t}}let UU=class{constructor(t){this.value=t}equals(t){return!!t&&t.termType===this.termType&&t.value===this.value}};UU.prototype.termType="BlankNode";let u1=class{equals(t){return!!t&&t.termType===this.termType}};u1.prototype.termType="DefaultGraph",u1.prototype.value="";function qU(e,t){if(!t)return null;if(t.termType==="BlankNode")return e.blankNode(t.value);if(t.termType==="DefaultGraph")return e.defaultGraph();if(t.termType==="Literal")return e.literal(t.value,t.language||e.namedNode(t.datatype.value));if(t.termType==="NamedNode")return e.namedNode(t.value);if(t.termType==="Quad"){const r=e.fromTerm(t.subject),n=e.fromTerm(t.predicate),o=e.fromTerm(t.object),s=e.fromTerm(t.graph);return e.quad(r,n,o,s)}if(t.termType==="Variable")return e.variable(t.value);throw new Error(`unknown termType ${t.termType}`)}let f1=class{constructor(t,r,n){this.value=t,this.language=r,this.datatype=n}equals(t){return!!t&&t.termType===this.termType&&t.value===this.value&&t.language===this.language&&t.datatype.equals(this.datatype)}};f1.prototype.termType="Literal";let pw=class{constructor(t){this.value=t}equals(t){return!!t&&t.termType===this.termType&&t.value===this.value}};pw.prototype.termType="NamedNode";let c1=class{constructor(t,r,n,o){this.subject=t,this.predicate=r,this.object=n,this.graph=o}equals(t){return!!t&&(t.termType==="Quad"||!t.termType)&&t.subject.equals(this.subject)&&t.predicate.equals(this.predicate)&&t.object.equals(this.object)&&t.graph.equals(this.graph)}};c1.prototype.termType="Quad",c1.prototype.value="";let HU=class{constructor(t){this.value=t}equals(t){return!!t&&t.termType===this.termType&&t.value===this.value}};HU.prototype.termType="Variable";const Dye=new pw("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),Mye=new pw("http://www.w3.org/2001/XMLSchema#string");let Zd=class{constructor(){this.init()}init(){this._data={blankNodeCounter:0,defaultGraph:new u1}}namedNode(t){return new pw(t)}blankNode(t){return t=t||"b"+ ++this._data.blankNodeCounter,new UU(t)}literal(t,r){return typeof r=="string"?new f1(t,r,Dye):new f1(t,"",r||Mye)}variable(t){return new HU(t)}defaultGraph(){return this._data.defaultGraph}quad(t,r,n,o=this.defaultGraph()){return new c1(t,r,n,o)}fromTerm(t){return qU(this,t)}fromQuad(t){return qU(this,t)}};Zd.exports=["blankNode","defaultGraph","fromQuad","fromTerm","literal","namedNode","quad","variable"];class bw extends Map{import(t,r,n){const o=this.get(t);return o?o.import(r,n):null}}class VU{constructor({factory:t}){this.factory=t,this.parsers=new bw,this.serializers=new bw}import(t){if(t.parsers)for(const[r,n]of t.parsers)this.parsers.set(r,new n.constructor({factory:this.factory}));if(t.serializers)for(const[r,n]of t.serializers)this.serializers.set(r,new n.constructor({factory:this.factory}));return this}}let GU=class{init(){this.formats=new VU({factory:this})}clone(t){this.formats.import(t.formats)}};const d1=new Zd,Pye={apply:(e,t,r)=>e(r[0]),get:(e,t)=>e(t)};function Oe(e,{factory:t=d1}={}){const r=(n="")=>t.namedNode(`${e}${n.raw||n}`);return typeof Proxy>"u"?r:new Proxy(r,Pye)}let h1=class{namespace(t){return Oe(t,{factory:this})}};h1.exports=["namespace"];class zU{init(){this.ns=ba}}const Fye=Oe("http://www.w3.org/ns/auth/acl#"),jye=Oe("https://www.w3.org/ns/activitystreams#"),Wye=Oe("http://purl.org/ontology/bibo/"),Bye=Oe("http://creativecommons.org/ns#"),Uye=Oe("http://www.w3.org/ns/auth/cert#"),qye=Oe("http://www.w3.org/2011/content#"),Hye=Oe("http://qudt.org/vocab/constant/"),Vye=Oe("http://www.cidoc-crm.org/cidoc-crm/"),Gye=Oe("http://www.w3.org/ns/csvw#"),zye=Oe("http://commontag.org/ns#"),Kye=Oe("http://datashapes.org/sparql#"),Jye=Oe("http://datashapes.org/dash#"),Yye=Oe("http://dbpedia.org/ontology/"),Xye=Oe("http://purl.org/dc/elements/1.1/"),Qye=Oe("http://purl.org/dc/dcam/"),Zye=Oe("http://www.w3.org/ns/dcat#"),ewe=Oe("http://purl.org/dc/dcmitype/"),twe=Oe("http://purl.org/dc/terms/"),rwe=Oe("http://www.ics.forth.gr/isl/CRMdig/"),nwe=Oe("http://qudt.org/vocab/discipline/"),iwe=Oe("http://usefulinc.com/ns/doap#"),owe=Oe("http://www.w3.org/ns/dpv#"),swe=Oe("http://www.w3.org/ns/dqv#"),awe=Oe("http://www.linkedmodel.org/schema/dtype#"),lwe=Oe("http://www.w3.org/ns/duv#"),uwe=Oe("http://www.w3.org/ns/earl#"),fwe=Oe("http://www.ebu.ch/metadata/ontologies/ebucore/ebucore#"),cwe=Oe("http://www.w3.org/2003/12/exif/ns#"),dwe=Oe("http://xmlns.com/foaf/0.1/"),hwe=Oe("http://purl.org/vocab/frbr/core#"),pwe=Oe("http://www.opengis.net/ont/geosparql#"),bwe=Oe("http://www.opengis.net/def/function/geosparql/"),gwe=Oe("http://www.opengis.net/def/rule/geosparql/"),_we=Oe("http://www.opengis.net/ont/gml#"),ywe=Oe("http://www.geonames.org/ontology#"),wwe=Oe("http://purl.org/goodrelations/v1#"),mwe=Oe("http://www.w3.org/2003/g/data-view#"),vwe=Oe("https://gs1.org/voc/"),Swe=Oe("http://vocab.gtfs.org/terms#"),Ewe=Oe("http://www.w3.org/2011/http#"),Rwe=Oe("http://www.w3.org/ns/hydra/core#"),xwe=Oe("http://www.w3.org/2002/12/cal/icaltzd#"),Awe=Oe("https://linked.art/ns/terms/"),$we=Oe("http://www.w3.org/ns/ldp#"),Twe=Oe("http://www.w3.org/2000/10/swap/list#"),Iwe=Oe("http://www.w3.org/ns/locn#"),Nwe=Oe("http://www.w3.org/2000/10/swap/log#"),kwe=Oe("http://lexvo.org/ontology#"),Cwe=Oe("http://w3id.org/nfdi4ing/metadata4ing#"),Owe=Oe("http://www.w3.org/ns/ma-ont#"),Lwe=Oe("http://www.loc.gov/mads/rdf/v1#"),Dwe=Oe("http://www.w3.org/2000/10/swap/math#"),Mwe=Oe("http://www.w3.org/ns/oa#"),Pwe=Oe("http://ogp.me/ns#"),Fwe=Oe("http://www.w3.org/ns/solid/oidc#"),jwe=Oe("http://www.w3.org/ns/org#"),Wwe=Oe("http://www.w3.org/2002/07/owl#"),Bwe=Oe("http://www.w3.org/ns/pim/space#"),Uwe=Oe("http://qudt.org/vocab/prefix/"),qwe=Oe("http://www.w3.org/ns/prov#"),Hwe=Oe("http://purl.org/linked-data/cube#"),Vwe=Oe("http://qudt.org/vocab/dimensionvector/"),Gwe=Oe("http://qudt.org/vocab/quantitykind/"),zwe=Oe("http://qudt.org/schema/qudt/"),Kwe=Oe("http://rdaregistry.info/Elements/u/"),Fo=Oe("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),Jwe=Oe("http://www.w3.org/ns/rdfa#"),Ywe=Oe("http://www.w3.org/2000/01/rdf-schema#"),Xwe=Oe("http://purl.org/stuff/rev#"),Qwe=Oe("https://www.ica.org/standards/RiC/ontology#"),Zwe=Oe("http://www.w3.org/ns/r2rml#"),eme=Oe("http://purl.org/rss/1.0/"),tme=Oe("http://schema.org/"),rme=Oe("http://www.w3.org/ns/sparql-service-description#"),nme=Oe("http://purl.org/linked-data/sdmx#"),ime=Oe("http://semanticweb.cs.vu.nl/2009/11/sem/"),ome=Oe("http://www.w3.org/2000/10/swap/set#"),sme=Oe("http://www.opengis.net/ont/sf#"),ame=Oe("http://www.w3.org/ns/shacl#"),lme=Oe("http://www.w3.org/ns/shex#"),ume=Oe("https://www.w3.org/ns/shacl-shacl#"),fme=Oe("http://rdfs.org/sioc/ns#"),cme=Oe("http://www.w3.org/2004/02/skos/core#"),dme=Oe("http://www.w3.org/2008/05/skos-xl#"),hme=Oe("http://www.w3.org/ns/solid/terms#"),pme=Oe("http://www.w3.org/ns/sosa/"),bme=Oe("http://qudt.org/vocab/sou/"),gme=Oe("http://www.w3.org/ns/ssn/"),_me=Oe("http://www.w3.org/ns/posix/stat#"),yme=Oe("http://www.w3.org/2000/10/swap/string#"),wme=Oe("http://www.w3.org/2006/03/test-description#"),mme=Oe("http://www.w3.org/2006/time#"),vme=Oe("http://qudt.org/vocab/unit/"),Sme=Oe("http://www.linkedmodel.org/schema/vaem#"),Eme=Oe("http://purl.org/vocab/vann/"),Rme=Oe("http://www.w3.org/2006/vcard/ns#"),xme=Oe("http://rdfs.org/ns/void#"),Ame=Oe("http://www.w3.org/2003/06/sw-vocab-status/ns#"),$me=Oe("http://www.w3.org/2007/05/powder-s#"),Tme=Oe("http://www.w3.org/2003/01/geo/wgs84_pos#"),Ime=Oe("http://www.w3.org/1999/xhtml/vocab#"),Nme=Oe("http://rdf-vocabulary.ddialliance.org/xkos#"),Nb=Oe("http://www.w3.org/2001/XMLSchema#"),kme=Oe("http://www.w3.org/2007/rif#"),Cme=Oe("http://rdf.data-vocabulary.org/#"),Ome=Oe("http://www.w3.org/2007/05/powder#"),Lme=Oe("http://www.w3.org/XML/1998/namespace/"),p1=e=>{const t=e.namespace("http://www.w3.org/2001/XMLSchema#"),r=e.namespace("http://www.w3.org/1999/02/22-rdf-syntax-ns#");return{first:r.first,nil:r.nil,rest:r.rest,langString:r.langString,xsd:t}};function yi(e,t){return typeof e>"u"||e===null?t:Array.isArray(e)?e:typeof e!="string"&&e[Symbol.iterator]?[...e]:[e]}const Ef=new hw([h1,Zd]),{xsd:b1}=p1(Ef);function Dme(e,t=Ef){return typeof e!="boolean"?null:t.literal(e.toString(),b1("boolean"))}function Mme(e,t=Ef){return typeof e!="number"?null:Number.isInteger(e)?t.literal(e.toString(10),b1("integer")):t.literal(e.toString(10),b1("double"))}function Pme(e,t=Ef){return typeof e!="string"?null:t.literal(e)}function Fme(e,t=Ef){return Dme(e,t)||Mme(e,t)||Pme(e,t)}function jme(e,t){if(e&&typeof e!="string")throw new Error("Blank node identifier must be a string");return t.blankNode(e)}function Wme(e,t,r){if(typeof e=="string")return t=t&&(t.value||t.toString()),t&&t.indexOf(":")!==-1&&(t=r.namedNode(t)),r.literal(e.toString(),t);const n=Fme(e,r);if(!n)throw new Error("The value cannot be converted to a literal node");return n}function KU(e,t){if(typeof e!="string")throw new Error("Named node must be an IRI string");return t.namedNode(e)}function JU(e,t="Literal",r,n){if(e&&typeof e=="object"&&e.termType)return e;if(e&&e.constructor.name==="URL")return KU(e.toString(),n);if(t==="BlankNode")return jme(e,n);if(!(e===null||typeof e>"u")){if(t==="Literal")return Wme(e,r,n);if(t==="NamedNode")return KU(e,n);throw new Error("unknown type")}}function Bme(e,t,r,n){return(typeof e>"u"||e===null)&&!t?e:(yi(e)||[void 0]).reduce((o,s)=>typeof s=="object"&&s.terms?o.concat(s.terms):(o.push(JU(s,t,r,n)),o),[])}const YU=p1(Ef);function Ume(e,t){const r=t.termType!=="Literal",n=YU.langString.equals(t.datatype)||YU.xsd.string.equals(t.datatype);if(r||!n)return e;const o=t.language.toLowerCase();return e.has(o)?e.get(o).push(t):e.set(o,[t]),e}function qme(e){const t=e.reduce(Ume,new Map),r=[...t.entries()];return n=>{const o=n.toLowerCase();if(o==="*")return r[0]&&r[0][1];const s=t.get(o);if(s)return s;const a=r.find(([l])=>l.startsWith(o));return a&&a[1]}}function Hme(e,{language:t}){const r=typeof t=="string"?[t]:t,n=qme(e);return r.map(n).find(Boolean)||[]}let Vme=class qpe{constructor({dataset:t,graph:r,value:n,factory:o,namespace:s}){this.dataset=t,this.graph=r,this.factory=o,this.namespace=s,this.term=JU(n,void 0,void 0,o)}clone({dataset:t=this.dataset,graph:r=this.graph,value:n,factory:o=this.factory,namespace:s=this.namespace}){return new qpe({dataset:t,graph:r,value:n,factory:o,namespace:s})}has(t,r){return this.matchProperty(yi(this.term),t,r,yi(this.graph),"subject").map(n=>this.clone({value:n}))}in(t){return this.matchProperty(null,t,yi(this.term),yi(this.graph),"subject").map(r=>this.clone({value:r}))}out(t,{language:r}={}){let n=this.matchProperty(yi(this.term),t,null,yi(this.graph),"object");return typeof r<"u"&&(n=Hme(n,{language:r})),n.map(o=>this.clone({value:o}))}addIn(t,r){const n=[];return this.term&&r.forEach(o=>{t.forEach(s=>{this.dataset.add(this.factory.quad(o,s,this.term,this.graph))}),n.push(this.clone({value:o}))}),n}addOut(t,r){const n=[];return this.term&&r.forEach(o=>{t.forEach(s=>{this.dataset.add(this.factory.quad(this.term,s,o,this.graph))}),n.push(this.clone({value:o}))}),n}addList(t,r){this.term&&t.forEach(n=>{const o=r.map(()=>this.factory.blankNode());this.dataset.add(this.factory.quad(this.term,n,o[0]||this.namespace.nil,this.graph));for(let s=0;s<o.length;s++)this.dataset.add(this.factory.quad(o[s],this.namespace.first,r[s],this.graph)),this.dataset.add(this.factory.quad(o[s],this.namespace.rest,o[s+1]||this.namespace.nil,this.graph))})}deleteIn(t,r){this.deleteMatch(r,t,yi(this.term),yi(this.graph))}deleteOut(t,r){this.deleteMatch(yi(this.term),t,r,yi(this.graph))}deleteList(t){t.forEach(r=>{for(const n of this.dataset.match(this.term,r))this.deleteItems(n)})}deleteItems(t){let r=[t];for(;!r[r.length-1].object.equals(this.namespace.nil);){const n=r[r.length-1].object;r=r.concat([...this.dataset.match(n)])}r.forEach(n=>{this.dataset.delete(n)})}match(t,r,n,o){if(!t&&!r&&!n&&!o)return[...this.dataset];t=t||[null],r=r||[null],n=n||[null],o=o||[null];const s=[];for(const a of o)for(const l of t)for(const f of r)for(const u of n)for(const d of this.dataset.match(l,f,u,a))s.push(d);return s}matchProperty(t,r,n,o,s){return this.match(t,r,n,o).map(a=>a[s])}deleteMatch(t,r,n,o){this.match(t,r,n,o).forEach(s=>{this.dataset.delete(s)})}};class wi{constructor({dataset:t,graph:r,term:n,value:o,factory:s,_context:a}){if(this.factory=s,this.namespace=p1(s),a){this._context=a;return}const l=n&&yi(n)||o&&yi(o)||[null];this._context=l.map(f=>new Vme({dataset:t,graph:r,value:f,factory:this.factory,namespace:this.namespace}))}get term(){const t=this.terms;if(t.length===1)return t[0]}get terms(){return this._context.map(t=>t.term).filter(Boolean)}get value(){const t=this.term;return t&&t.value}get values(){return this.terms.map(t=>t.value)}get dataset(){const t=this.datasets;if(t.length===1)return t[0]}get datasets(){return this._context.map(t=>t.dataset).filter(Boolean)}any(){return wi.fromContext(this._context.map(t=>t.clone({})),this)}isList(){return this.term?!!(this.term.equals(this.namespace.nil)||this.out(this.namespace.first).term):!1}list(){if(this.terms.length>1)throw new Error("iterator over multiple terms is not supported");if(this.term&&(this.term.termType!=="NamedNode"&&this.term.termType!=="BlankNode"||!this.term.equals(this.namespace.nil)&&!this.out(this.namespace.first).term))return null;let t=this;return{[Symbol.iterator]:()=>({next:()=>{if(!t.term||t.term.equals(this.namespace.nil))return{done:!0};const r=t.out(this.namespace.first);if(r.terms.length>1)throw new Error(`Invalid list: multiple values for rdf:first on ${t.value}`);const n=t.out(this.namespace.rest);if(n.terms.length>1)throw new Error(`Invalid list: multiple values for rdf:rest on ${t.value}`);return t=n,{done:!1,value:r}}})}}toArray(){return this._context.map(t=>wi.fromContext(t,this)).filter(t=>t.terms.some(Boolean))}filter(t){const r=this._context.map(n=>wi.fromContext(n,this));return wi.fromContext(this._context.filter((n,o)=>t(wi.fromContext(n,this),o,r)),this)}forEach(t){return this.toArray().forEach(t),this}map(t){return this.toArray().map(t)}toString(){return this.values.join()}node(t,{type:r,datatype:n,language:o}={}){t=this._toTermArray(t,r,n||o)||[null];const s=t.reduce((a,l)=>a.concat(this._context.reduce((f,u)=>f.concat([u.clone({value:l})]),[])),[]);return wi.fromContext(s,{factory:this.factory})}blankNode(t){return this.node(t,{type:"BlankNode"})}literal(t,r){return this.node(t,{type:"Literal",datatype:r})}namedNode(t){return this.node(t,{type:"NamedNode"})}in(t){t=this._toTermArray(t);const r=this._context.reduce((n,o)=>n.concat(o.in(t)),[]);return wi.fromContext(r,this)}out(t,r={}){t=this._toTermArray(t);const n=this._context.reduce((o,s)=>o.concat(s.out(t,r)),[]);return wi.fromContext(n,this)}has(t,r){t=this._toTermArray(t),r=this._toTermArray(r);const n=this._context.reduce((o,s)=>o.concat(s.has(t,r)),[]);return wi.fromContext(n,this)}addIn(t,r,n){if(!t)throw new Error("predicate parameter is required");typeof r=="function"&&(n=r,r=null),t=this._toTermArray(t),r=this._toTermArray(r)||[this.factory.blankNode()];const o=this._context.map(s=>s.addIn(t,r));return n&&wi.fromContext(o,this).forEach(n),this}addOut(t,r,n){if(!t)throw new Error("predicate parameter is required");typeof r=="function"&&(n=r,r=null),t=this._toTermArray(t),r=this._toTermArray(r)||[this.factory.blankNode()];const o=this._context.map(s=>s.addOut(t,r));return n&&wi.fromContext(o,this).forEach(n),this}addList(t,r){if(!t||!r)throw new Error("predicate and items parameter is required");return t=this._toTermArray(t),r=this._toTermArray(r),this._context.forEach(n=>n.addList(t,r)),this}deleteIn(t,r){return t=this._toTermArray(t),r=this._toTermArray(r),this._context.forEach(n=>n.deleteIn(t,r)),this}deleteOut(t,r){return t=this._toTermArray(t),r=this._toTermArray(r),this._context.forEach(n=>n.deleteOut(t,r)),this}deleteList(t){if(!t)throw new Error("predicate parameter is required");return t=this._toTermArray(t),this._context.forEach(r=>r.deleteList(t)),this}_toTermArray(t,r,n){return Bme(t,r,n,this.factory)}static fromContext(t,{factory:r}){return new wi({_context:yi(t),factory:r})}}function Gme({dataset:e,graph:t,term:r,value:n,factory:o=Ef,_context:s}){return new wi({dataset:e,graph:t,term:r,value:n,factory:o,_context:s})}class XU{clownface({...t}={}){return!t.dataset&&typeof this.dataset=="function"&&(t.dataset=this.dataset()),Gme({...t,factory:this})}}XU.exports=["clownface"];var nr=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};function zr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function zme(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),r}function Kme(e){return"_:"+e.value}var Jme=Kme;function Yme(e,t){return[...e].map(r=>t(r)).join(`
`)+`
`}var Xme=Yme;function Qme(){return""}var Zme=Qme;function e0e(e){return"<"+e.value+">"}var QU=e0e;const t0e=QU,r0e=/["\\\\\n\r]/,n0e=/["\\\\\n\r]/g,i0e={'"':'\\"',"\\":"\\\\","\n":"\\n","\r":"\\r"};function o0e(e){return i0e[e]}function s0e(e){return r0e.test(e)?e.replace(n0e,o0e):e}function a0e(e){const t=s0e(e.value);return e.datatype.value==="http://www.w3.org/2001/XMLSchema#string"?'"'+t+'"':e.datatype.value==="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?'"'+t+'"@'+e.language:'"'+t+'"^^'+t0e(e.datatype)}var l0e=a0e;function u0e(e,t){const r=t(e.subject),n=t(e.predicate),o=t(e.object),s=t(e.graph);return`${r} ${n} ${o} ${s?s+" ":""}.`}var f0e=u0e;function c0e(e){return"?"+e.value}var d0e=c0e;const h0e=Jme,p0e=Xme,b0e=Zme,g0e=l0e,_0e=QU,y0e=f0e,w0e=d0e;function g1(e){if(!e)return null;if(e.termType==="BlankNode")return h0e(e);if(e.termType==="DefaultGraph")return b0e();if(e.termType==="Literal")return g0e(e);if(e.termType==="NamedNode")return _0e(e);if(e.termType==="Quad"||e.subject&&e.predicate&&e.object&&e.graph)return y0e(e,g1);if(e.termType==="Variable")return w0e(e);if(e[Symbol.iterator])return p0e(e,g1);throw new Error(`unknown termType ${e.termType}`)}var m0e=g1;const Yl=zr(m0e);class kb{constructor(t){if(this.index=new Map,t)for(const[r,n]of t)this.set(r,n)}get size(){return this.index.size}clear(){this.index.clear()}delete(t){return this.index.delete(Yl(t))}*entries(){for(const[,{term:t,value:r}]of this.index)yield[t,r]}forEach(t,r){for(const n of this.entries())t.call(r,n[1],n[0],this)}get(t){const r=this.index.get(Yl(t));return r&&r.value}has(t){return this.index.has(Yl(t))}*keys(){for(const[,{term:t}]of this.index)yield t}set(t,r){const n=Yl(t);return this.index.set(n,{term:t,value:r}),this}*values(){for(const[,{value:t}]of this.index)yield t}[Symbol.iterator](){return this.entries()[Symbol.iterator]()}}let ZU=class{termMap(t){return new kb(t)}};ZU.exports=["termMap"];function e5(e){try{return Yl(e)}catch{return null}}class v0e{constructor(t){if(this.index=new Map,t)for(const r of t)this.add(r)}get size(){return this.index.size}add(t){const r=Yl(t);return this.index.has(r)||this.index.set(r,t),this}clear(){this.index.clear()}delete(t){return t?this.index.delete(e5(t)):!1}entries(){return this.values().entries()}forEach(t,r){return this.values().forEach(t,r)}has(t){return t?this.index.has(e5(t)):!1}values(){return new Set(this.index.values())}keys(){return this.values()}[Symbol.iterator](){return this.values()[Symbol.iterator]()}}let t5=class{termSet(t){return new v0e(t)}};t5.exports=["termSet"];class S0e{constructor(){this.quadLevel=new Map}add(t,r){this.quadLevel.set(Yl(t),r)}has(t,r){const n=this.quadLevel.get(Yl(t));return n===void 0?!1:n<=r}}function _1({backward:e,callback:t,dataset:r,filter:n,forward:o,term:s,visited:a=new S0e}){const l=(f,u)=>{const d=g=>{for(const h of g){if(a.has(h,u))continue;a.add(h,u);const p={dataset:r,level:u,quad:h};n(p)&&(t(p),o&&l(h.object,u+1),e&&l(h.subject,u+1))}};o&&d(r.match(f)),e&&d(r.match(null,null,f))};l(s,0)}class E0e{constructor(t,{backward:r=!1,factory:n,forward:o=!0}){this.backward=r,this.factory=n,this.filter=t,this.forward=o}forEach({term:t,dataset:r},n){_1({backward:this.backward,callback:n,dataset:r,filter:this.filter,forward:this.forward,term:t})}match({term:t,dataset:r}){const n=this.factory.dataset();return _1({backward:this.backward,callback:({quad:o})=>n.add(o),dataset:r,filter:this.filter,forward:this.forward,term:t}),n}reduce({term:t,dataset:r},n,o){let s=o;return _1({backward:this.backward,callback:a=>{s=n(a,s)},dataset:r,filter:this.filter,forward:this.forward,term:t}),s}}let r5=class{traverser(t,{backward:r=!1,forward:n=!0}={}){return new E0e(t,{backward:r,factory:this,forward:n})}};r5.exports=["traverser"];const R0e=new Ib([Zd,GU,h1,zU,XU,ZU,t5,r5]);function Rf(e){return typeof e=="string"||e instanceof String}const x0e="http://www.w3.org/2001/XMLSchema#string";function jr(e){if(typeof e=="string")return e;if(!e)return"";if(typeof e.id<"u"&&e.termType!=="Quad")return e.id;let t,r,n,o;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return`_:${e.value}`;case"Variable":return`?${e.value}`;case"DefaultGraph":return"";case"Literal":return e.language?`"${e.value}"@${e.language}`:`"${e.value}"${e.datatype&&e.datatype.value!==x0e?`^^${e.datatype.value}`:""}`;case"Quad":return t=y1(jr(e.subject)),r=y1(jr(e.predicate)),n=y1(jr(e.object)),o=e.graph.termType==="DefaultGraph"?"":` ${jr(e.graph)}`,`<<${t} ${r} ${n}${o}>>`;default:throw new Error(`Unexpected termType: ${e.termType}`)}}const A0e=/^"(.*".*)(?="[^"]*$)/;function y1(e){return e.replace(A0e,(t,r)=>`"${r.replace(/"/g,'""')}`)}class n5{constructor(t){if(this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._quads=new Map,t)for(const r of t)this.add(r)}get size(){let t=this._size;if(t!==null)return t;t=0;const r=this._graphs;let n,o;for(const s in r)for(const a in n=r[s].subjects)for(const l in o=n[a])t+=Object.keys(o[l]).length;return this._size=t,this._size}add(t){let r=jr(t.subject),n=jr(t.predicate),o=jr(t.object);const s=jr(t.graph);let a=this._graphs[s];a||(a=this._graphs[s]={subjects:{},predicates:{},objects:{}},Object.freeze(a));const l=this._ids,f=this._entities;return r=l[r]||(l[f[++this._id]=r]=this._id),n=l[n]||(l[f[++this._id]=n]=this._id),o=l[o]||(l[f[++this._id]=o]=this._id),this._addToIndex(a.subjects,r,n,o),this._addToIndex(a.predicates,n,o,r),this._addToIndex(a.objects,o,r,n),this._setQuad(r,n,o,s,t),this._size=null,this}delete(t){let r=jr(t.subject),n=jr(t.predicate),o=jr(t.object);const s=jr(t.graph),a=this._ids,l=this._graphs;let f,u,d;if(!(r=a[r])||!(n=a[n])||!(o=a[o])||!(f=l[s])||!(u=f.subjects[r])||!(d=u[n])||!(o in d))return this;this._removeFromIndex(f.subjects,r,n,o),this._removeFromIndex(f.predicates,n,o,r),this._removeFromIndex(f.objects,o,r,n),this._size!==null&&this._size--,this._deleteQuad(r,n,o,s);for(r in f.subjects)return this;return delete l[s],this}has(t){const r=jr(t.subject),n=jr(t.predicate),o=jr(t.object),s=jr(t.graph),a=this._graphs[s];if(!a)return!1;const l=this._ids;let f,u,d;return Rf(r)&&!(f=l[r])||Rf(n)&&!(u=l[n])||Rf(o)&&!(d=l[o])?!1:this._countInIndex(a.objects,d,f,u)===1}match(t,r,n,o){return this._createDataset(this._match(t,r,n,o))}[Symbol.iterator](){return this._match()[Symbol.iterator]()}_addToIndex(t,r,n,o){const s=t[r]||(t[r]={}),a=s[n]||(s[n]={}),l=o in a;return l||(a[o]=null),!l}_removeFromIndex(t,r,n,o){const s=t[r],a=s[n];delete a[o];for(const l in a)return;delete s[n];for(const l in s)return;delete t[r]}_findInIndex(t,r,n,o,s,a,l,f,u,d){let g,h,p;r&&((g=t,t={})[r]=g[r]);for(const w in t)if(h=t[w],h){n&&((g=h,h={})[n]=g[n]);for(const y in h)if(p=h[y],p){const v=o?o in p?[o]:[]:Object.keys(p);for(let E=0;E<v.length;E++){const x={[s]:w,[a]:y,[l]:v[E]},S=this._getQuad(x.subject,x.predicate,x.object,f);if(d)d.push(S);else if(u(S))return!0}}}return d}_countInIndex(t,r,n,o){let s=0,a,l,f;r&&((a=t,t={})[r]=a[r]);for(const u in t)if(l=t[u],l){n&&((a=l,l={})[n]=a[n]);for(const d in l)f=l[d],f&&(o?o in f&&s++:s+=Object.keys(f).length)}return s}_getGraphs(t){return Rf(t)?{[t]:this._graphs[t]}:this._graphs}_match(t,r,n,o){t=t&&jr(t),r=r&&jr(r),n=n&&jr(n),o=o&&jr(o);const s=[],a=this._getGraphs(o),l=this._ids;let f,u,d,g;if(Rf(t)&&!(u=l[t])||Rf(r)&&!(d=l[r])||Rf(n)&&!(g=l[n]))return s;for(const h in a)f=a[h],f&&(u?g?this._findInIndex(f.objects,g,u,d,"object","subject","predicate",h,null,s):this._findInIndex(f.subjects,u,d,null,"subject","predicate","object",h,null,s):d?this._findInIndex(f.predicates,d,g,null,"predicate","object","subject",h,null,s):g?this._findInIndex(f.objects,g,null,null,"object","subject","predicate",h,null,s):this._findInIndex(f.subjects,null,null,null,"subject","predicate","object",h,null,s));return s}_getQuad(t,r,n,o){return this._quads.get(this._toId(t,r,n,o))}_setQuad(t,r,n,o,s){this._quads.set(this._toId(t,r,n,o),s)}_deleteQuad(t,r,n,o){this._quads.delete(this._toId(t,r,n,o))}_createDataset(t){return new this.constructor(t)}_toId(t,r,n,o){return`${t}:${r}:${n}:${o}`}}function $0e(e,t){for(const r of t)e.add(r);return e}var T0e=$0e;const i5=zr(T0e);function I0e(e,t,r,n,o){const s=e.match(t,r,n,o);for(const a of s)e.delete(a);return e}var N0e=I0e;const k0e=zr(N0e);function C0e(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}var O0e=C0e;const L0e=zr(O0e);class Cb extends n5{addAll(...[t]){return i5(this,t)}deleteMatches(...t){return k0e(this,...t)}equals(...[t]){return L0e(this,t)}forEach(t){Array.from(this).forEach(r=>t(r,this))}filter(t){return new Cb([...this].filter(r=>t(r,this)))}map(t){return new Cb([...this].map(r=>t(r,this)))}match(...t){return super.match(...t)}merge(...[t]){return i5(new Cb([...this]),t)}}const Wr=new Ib([Lye(()=>Cb)],{parent:R0e});class o5{dataset(t){return new n5(t)}}o5.exports=["dataset"];function D0e(e){return!(!e||typeof e.dataset!="function")}async function gw(e){const t=[];for await(const r of e)t.push(r);return t}class Ob{constructor(t,r){this.Impl=t,this.options=r}import(t,r){const n=new this.Impl(t,{...this.options,...r});return t.on("end",()=>{n.readable||n.emit("end")}),t.on("error",o=>{n.emit("error",o)}),n}}const w1=new Set(["_write","_writableState","writable"]);function _w(e){return new Proxy(e,{has(t,r){return w1.has(r)?!1:Reflect.has(...arguments)},get(t,r){if(w1.has(r))return;const n=Reflect.get(...arguments);return n&&typeof n.bind=="function"?n.bind(t):n},set(t,r,n){if(!w1.has(r))return Reflect.set(...arguments)}})}var Ge={},yw={};yw.byteLength=F0e,yw.toByteArray=W0e,yw.fromByteArray=q0e;for(var ys=[],no=[],M0e=typeof Uint8Array<"u"?Uint8Array:Array,m1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",eh=0,P0e=m1.length;eh<P0e;++eh)ys[eh]=m1[eh],no[m1.charCodeAt(eh)]=eh;no[45]=62,no[95]=63;function s5(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function F0e(e){var t=s5(e),r=t[0],n=t[1];return(r+n)*3/4-n}function j0e(e,t,r){return(t+r)*3/4-r}function W0e(e){var t,r=s5(e),n=r[0],o=r[1],s=new M0e(j0e(e,n,o)),a=0,l=o>0?n-4:n,f;for(f=0;f<l;f+=4)t=no[e.charCodeAt(f)]<<18|no[e.charCodeAt(f+1)]<<12|no[e.charCodeAt(f+2)]<<6|no[e.charCodeAt(f+3)],s[a++]=t>>16&255,s[a++]=t>>8&255,s[a++]=t&255;return o===2&&(t=no[e.charCodeAt(f)]<<2|no[e.charCodeAt(f+1)]>>4,s[a++]=t&255),o===1&&(t=no[e.charCodeAt(f)]<<10|no[e.charCodeAt(f+1)]<<4|no[e.charCodeAt(f+2)]>>2,s[a++]=t>>8&255,s[a++]=t&255),s}function B0e(e){return ys[e>>18&63]+ys[e>>12&63]+ys[e>>6&63]+ys[e&63]}function U0e(e,t,r){for(var n,o=[],s=t;s<r;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(e[s+2]&255),o.push(B0e(n));return o.join("")}function q0e(e){for(var t,r=e.length,n=r%3,o=[],s=16383,a=0,l=r-n;a<l;a+=s)o.push(U0e(e,a,a+s>l?l:a+s));return n===1?(t=e[r-1],o.push(ys[t>>2]+ys[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],o.push(ys[t>>10]+ys[t>>4&63]+ys[t<<2&63]+"=")),o.join("")}var v1={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */v1.read=function(e,t,r,n,o){var s,a,l=o*8-n-1,f=(1<<l)-1,u=f>>1,d=-7,g=r?o-1:0,h=r?-1:1,p=e[t+g];for(g+=h,s=p&(1<<-d)-1,p>>=-d,d+=l;d>0;s=s*256+e[t+g],g+=h,d-=8);for(a=s&(1<<-d)-1,s>>=-d,d+=n;d>0;a=a*256+e[t+g],g+=h,d-=8);if(s===0)s=1-u;else{if(s===f)return a?NaN:(p?-1:1)*(1/0);a=a+Math.pow(2,n),s=s-u}return(p?-1:1)*a*Math.pow(2,s-n)},v1.write=function(e,t,r,n,o,s){var a,l,f,u=s*8-o-1,d=(1<<u)-1,g=d>>1,h=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:s-1,w=n?1:-1,y=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,a=d):(a=Math.floor(Math.log(t)/Math.LN2),t*(f=Math.pow(2,-a))<1&&(a--,f*=2),a+g>=1?t+=h/f:t+=h*Math.pow(2,1-g),t*f>=2&&(a++,f/=2),a+g>=d?(l=0,a=d):a+g>=1?(l=(t*f-1)*Math.pow(2,o),a=a+g):(l=t*Math.pow(2,g-1)*Math.pow(2,o),a=0));o>=8;e[r+p]=l&255,p+=w,l/=256,o-=8);for(a=a<<o|l,u+=o;u>0;e[r+p]=a&255,p+=w,a/=256,u-=8);e[r+p-w]|=y*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=yw,r=v1,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=l,e.SlowBuffer=x,e.INSPECT_MAX_BYTES=50;const o=2147483647;e.kMaxLength=o,l.TYPED_ARRAY_SUPPORT=s(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const z=new Uint8Array(1),L={foo:function(){return 42}};return Object.setPrototypeOf(L,Uint8Array.prototype),Object.setPrototypeOf(z,L),z.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function a(z){if(z>o)throw new RangeError('The value "'+z+'" is invalid for option "size"');const L=new Uint8Array(z);return Object.setPrototypeOf(L,l.prototype),L}function l(z,L,M){if(typeof z=="number"){if(typeof L=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(z)}return f(z,L,M)}l.poolSize=8192;function f(z,L,M){if(typeof z=="string")return h(z,L);if(ArrayBuffer.isView(z))return w(z);if(z==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z);if(F(z,ArrayBuffer)||z&&F(z.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(F(z,SharedArrayBuffer)||z&&F(z.buffer,SharedArrayBuffer)))return y(z,L,M);if(typeof z=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const oe=z.valueOf&&z.valueOf();if(oe!=null&&oe!==z)return l.from(oe,L,M);const ce=v(z);if(ce)return ce;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof z[Symbol.toPrimitive]=="function")return l.from(z[Symbol.toPrimitive]("string"),L,M);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z)}l.from=function(z,L,M){return f(z,L,M)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function u(z){if(typeof z!="number")throw new TypeError('"size" argument must be of type number');if(z<0)throw new RangeError('The value "'+z+'" is invalid for option "size"')}function d(z,L,M){return u(z),z<=0?a(z):L!==void 0?typeof M=="string"?a(z).fill(L,M):a(z).fill(L):a(z)}l.alloc=function(z,L,M){return d(z,L,M)};function g(z){return u(z),a(z<0?0:E(z)|0)}l.allocUnsafe=function(z){return g(z)},l.allocUnsafeSlow=function(z){return g(z)};function h(z,L){if((typeof L!="string"||L==="")&&(L="utf8"),!l.isEncoding(L))throw new TypeError("Unknown encoding: "+L);const M=S(z,L)|0;let oe=a(M);const ce=oe.write(z,L);return ce!==M&&(oe=oe.slice(0,ce)),oe}function p(z){const L=z.length<0?0:E(z.length)|0,M=a(L);for(let oe=0;oe<L;oe+=1)M[oe]=z[oe]&255;return M}function w(z){if(F(z,Uint8Array)){const L=new Uint8Array(z);return y(L.buffer,L.byteOffset,L.byteLength)}return p(z)}function y(z,L,M){if(L<0||z.byteLength<L)throw new RangeError('"offset" is outside of buffer bounds');if(z.byteLength<L+(M||0))throw new RangeError('"length" is outside of buffer bounds');let oe;return L===void 0&&M===void 0?oe=new Uint8Array(z):M===void 0?oe=new Uint8Array(z,L):oe=new Uint8Array(z,L,M),Object.setPrototypeOf(oe,l.prototype),oe}function v(z){if(l.isBuffer(z)){const L=E(z.length)|0,M=a(L);return M.length===0||z.copy(M,0,0,L),M}if(z.length!==void 0)return typeof z.length!="number"||we(z.length)?a(0):p(z);if(z.type==="Buffer"&&Array.isArray(z.data))return p(z.data)}function E(z){if(z>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return z|0}function x(z){return+z!=z&&(z=0),l.alloc(+z)}l.isBuffer=function(L){return L!=null&&L._isBuffer===!0&&L!==l.prototype},l.compare=function(L,M){if(F(L,Uint8Array)&&(L=l.from(L,L.offset,L.byteLength)),F(M,Uint8Array)&&(M=l.from(M,M.offset,M.byteLength)),!l.isBuffer(L)||!l.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(L===M)return 0;let oe=L.length,ce=M.length;for(let Se=0,ve=Math.min(oe,ce);Se<ve;++Se)if(L[Se]!==M[Se]){oe=L[Se],ce=M[Se];break}return oe<ce?-1:ce<oe?1:0},l.isEncoding=function(L){switch(String(L).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(L,M){if(!Array.isArray(L))throw new TypeError('"list" argument must be an Array of Buffers');if(L.length===0)return l.alloc(0);let oe;if(M===void 0)for(M=0,oe=0;oe<L.length;++oe)M+=L[oe].length;const ce=l.allocUnsafe(M);let Se=0;for(oe=0;oe<L.length;++oe){let ve=L[oe];if(F(ve,Uint8Array))Se+ve.length>ce.length?(l.isBuffer(ve)||(ve=l.from(ve)),ve.copy(ce,Se)):Uint8Array.prototype.set.call(ce,ve,Se);else if(l.isBuffer(ve))ve.copy(ce,Se);else throw new TypeError('"list" argument must be an Array of Buffers');Se+=ve.length}return ce};function S(z,L){if(l.isBuffer(z))return z.length;if(ArrayBuffer.isView(z)||F(z,ArrayBuffer))return z.byteLength;if(typeof z!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof z);const M=z.length,oe=arguments.length>2&&arguments[2]===!0;if(!oe&&M===0)return 0;let ce=!1;for(;;)switch(L){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":return C(z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M*2;case"hex":return M>>>1;case"base64":return J(z).length;default:if(ce)return oe?-1:C(z).length;L=(""+L).toLowerCase(),ce=!0}}l.byteLength=S;function N(z,L,M){let oe=!1;if((L===void 0||L<0)&&(L=0),L>this.length||((M===void 0||M>this.length)&&(M=this.length),M<=0)||(M>>>=0,L>>>=0,M<=L))return"";for(z||(z="utf8");;)switch(z){case"hex":return se(this,L,M);case"utf8":case"utf-8":return U(this,L,M);case"ascii":return Q(this,L,M);case"latin1":case"binary":return ne(this,L,M);case"base64":return A(this,L,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,L,M);default:if(oe)throw new TypeError("Unknown encoding: "+z);z=(z+"").toLowerCase(),oe=!0}}l.prototype._isBuffer=!0;function $(z,L,M){const oe=z[L];z[L]=z[M],z[M]=oe}l.prototype.swap16=function(){const L=this.length;if(L%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let M=0;M<L;M+=2)$(this,M,M+1);return this},l.prototype.swap32=function(){const L=this.length;if(L%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let M=0;M<L;M+=4)$(this,M,M+3),$(this,M+1,M+2);return this},l.prototype.swap64=function(){const L=this.length;if(L%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let M=0;M<L;M+=8)$(this,M,M+7),$(this,M+1,M+6),$(this,M+2,M+5),$(this,M+3,M+4);return this},l.prototype.toString=function(){const L=this.length;return L===0?"":arguments.length===0?U(this,0,L):N.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(L){if(!l.isBuffer(L))throw new TypeError("Argument must be a Buffer");return this===L?!0:l.compare(this,L)===0},l.prototype.inspect=function(){let L="";const M=e.INSPECT_MAX_BYTES;return L=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim(),this.length>M&&(L+=" ... "),"<Buffer "+L+">"},n&&(l.prototype[n]=l.prototype.inspect),l.prototype.compare=function(L,M,oe,ce,Se){if(F(L,Uint8Array)&&(L=l.from(L,L.offset,L.byteLength)),!l.isBuffer(L))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof L);if(M===void 0&&(M=0),oe===void 0&&(oe=L?L.length:0),ce===void 0&&(ce=0),Se===void 0&&(Se=this.length),M<0||oe>L.length||ce<0||Se>this.length)throw new RangeError("out of range index");if(ce>=Se&&M>=oe)return 0;if(ce>=Se)return-1;if(M>=oe)return 1;if(M>>>=0,oe>>>=0,ce>>>=0,Se>>>=0,this===L)return 0;let ve=Se-ce,ze=oe-M;const dt=Math.min(ve,ze),et=this.slice(ce,Se),Xe=L.slice(M,oe);for(let rt=0;rt<dt;++rt)if(et[rt]!==Xe[rt]){ve=et[rt],ze=Xe[rt];break}return ve<ze?-1:ze<ve?1:0};function D(z,L,M,oe,ce){if(z.length===0)return-1;if(typeof M=="string"?(oe=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),M=+M,we(M)&&(M=ce?0:z.length-1),M<0&&(M=z.length+M),M>=z.length){if(ce)return-1;M=z.length-1}else if(M<0)if(ce)M=0;else return-1;if(typeof L=="string"&&(L=l.from(L,oe)),l.isBuffer(L))return L.length===0?-1:K(z,L,M,oe,ce);if(typeof L=="number")return L=L&255,typeof Uint8Array.prototype.indexOf=="function"?ce?Uint8Array.prototype.indexOf.call(z,L,M):Uint8Array.prototype.lastIndexOf.call(z,L,M):K(z,[L],M,oe,ce);throw new TypeError("val must be string, number or Buffer")}function K(z,L,M,oe,ce){let Se=1,ve=z.length,ze=L.length;if(oe!==void 0&&(oe=String(oe).toLowerCase(),oe==="ucs2"||oe==="ucs-2"||oe==="utf16le"||oe==="utf-16le")){if(z.length<2||L.length<2)return-1;Se=2,ve/=2,ze/=2,M/=2}function dt(Xe,rt){return Se===1?Xe[rt]:Xe.readUInt16BE(rt*Se)}let et;if(ce){let Xe=-1;for(et=M;et<ve;et++)if(dt(z,et)===dt(L,Xe===-1?0:et-Xe)){if(Xe===-1&&(Xe=et),et-Xe+1===ze)return Xe*Se}else Xe!==-1&&(et-=et-Xe),Xe=-1}else for(M+ze>ve&&(M=ve-ze),et=M;et>=0;et--){let Xe=!0;for(let rt=0;rt<ze;rt++)if(dt(z,et+rt)!==dt(L,rt)){Xe=!1;break}if(Xe)return et}return-1}l.prototype.includes=function(L,M,oe){return this.indexOf(L,M,oe)!==-1},l.prototype.indexOf=function(L,M,oe){return D(this,L,M,oe,!0)},l.prototype.lastIndexOf=function(L,M,oe){return D(this,L,M,oe,!1)};function q(z,L,M,oe){M=Number(M)||0;const ce=z.length-M;oe?(oe=Number(oe),oe>ce&&(oe=ce)):oe=ce;const Se=L.length;oe>Se/2&&(oe=Se/2);let ve;for(ve=0;ve<oe;++ve){const ze=parseInt(L.substr(ve*2,2),16);if(we(ze))return ve;z[M+ve]=ze}return ve}function k(z,L,M,oe){return ye(C(L,z.length-M),z,M,oe)}function V(z,L,M,oe){return ye(X(L),z,M,oe)}function j(z,L,M,oe){return ye(J(L),z,M,oe)}function B(z,L,M,oe){return ye(re(L,z.length-M),z,M,oe)}l.prototype.write=function(L,M,oe,ce){if(M===void 0)ce="utf8",oe=this.length,M=0;else if(oe===void 0&&typeof M=="string")ce=M,oe=this.length,M=0;else if(isFinite(M))M=M>>>0,isFinite(oe)?(oe=oe>>>0,ce===void 0&&(ce="utf8")):(ce=oe,oe=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Se=this.length-M;if((oe===void 0||oe>Se)&&(oe=Se),L.length>0&&(oe<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");ce||(ce="utf8");let ve=!1;for(;;)switch(ce){case"hex":return q(this,L,M,oe);case"utf8":case"utf-8":return k(this,L,M,oe);case"ascii":case"latin1":case"binary":return V(this,L,M,oe);case"base64":return j(this,L,M,oe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,L,M,oe);default:if(ve)throw new TypeError("Unknown encoding: "+ce);ce=(""+ce).toLowerCase(),ve=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function A(z,L,M){return L===0&&M===z.length?t.fromByteArray(z):t.fromByteArray(z.slice(L,M))}function U(z,L,M){M=Math.min(z.length,M);const oe=[];let ce=L;for(;ce<M;){const Se=z[ce];let ve=null,ze=Se>239?4:Se>223?3:Se>191?2:1;if(ce+ze<=M){let dt,et,Xe,rt;switch(ze){case 1:Se<128&&(ve=Se);break;case 2:dt=z[ce+1],(dt&192)===128&&(rt=(Se&31)<<6|dt&63,rt>127&&(ve=rt));break;case 3:dt=z[ce+1],et=z[ce+2],(dt&192)===128&&(et&192)===128&&(rt=(Se&15)<<12|(dt&63)<<6|et&63,rt>2047&&(rt<55296||rt>57343)&&(ve=rt));break;case 4:dt=z[ce+1],et=z[ce+2],Xe=z[ce+3],(dt&192)===128&&(et&192)===128&&(Xe&192)===128&&(rt=(Se&15)<<18|(dt&63)<<12|(et&63)<<6|Xe&63,rt>65535&&rt<1114112&&(ve=rt))}}ve===null?(ve=65533,ze=1):ve>65535&&(ve-=65536,oe.push(ve>>>10&1023|55296),ve=56320|ve&1023),oe.push(ve),ce+=ze}return H(oe)}const G=4096;function H(z){const L=z.length;if(L<=G)return String.fromCharCode.apply(String,z);let M="",oe=0;for(;oe<L;)M+=String.fromCharCode.apply(String,z.slice(oe,oe+=G));return M}function Q(z,L,M){let oe="";M=Math.min(z.length,M);for(let ce=L;ce<M;++ce)oe+=String.fromCharCode(z[ce]&127);return oe}function ne(z,L,M){let oe="";M=Math.min(z.length,M);for(let ce=L;ce<M;++ce)oe+=String.fromCharCode(z[ce]);return oe}function se(z,L,M){const oe=z.length;(!L||L<0)&&(L=0),(!M||M<0||M>oe)&&(M=oe);let ce="";for(let Se=L;Se<M;++Se)ce+=Ce[z[Se]];return ce}function ae(z,L,M){const oe=z.slice(L,M);let ce="";for(let Se=0;Se<oe.length-1;Se+=2)ce+=String.fromCharCode(oe[Se]+oe[Se+1]*256);return ce}l.prototype.slice=function(L,M){const oe=this.length;L=~~L,M=M===void 0?oe:~~M,L<0?(L+=oe,L<0&&(L=0)):L>oe&&(L=oe),M<0?(M+=oe,M<0&&(M=0)):M>oe&&(M=oe),M<L&&(M=L);const ce=this.subarray(L,M);return Object.setPrototypeOf(ce,l.prototype),ce};function Z(z,L,M){if(z%1!==0||z<0)throw new RangeError("offset is not uint");if(z+L>M)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(L,M,oe){L=L>>>0,M=M>>>0,oe||Z(L,M,this.length);let ce=this[L],Se=1,ve=0;for(;++ve<M&&(Se*=256);)ce+=this[L+ve]*Se;return ce},l.prototype.readUintBE=l.prototype.readUIntBE=function(L,M,oe){L=L>>>0,M=M>>>0,oe||Z(L,M,this.length);let ce=this[L+--M],Se=1;for(;M>0&&(Se*=256);)ce+=this[L+--M]*Se;return ce},l.prototype.readUint8=l.prototype.readUInt8=function(L,M){return L=L>>>0,M||Z(L,1,this.length),this[L]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(L,M){return L=L>>>0,M||Z(L,2,this.length),this[L]|this[L+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(L,M){return L=L>>>0,M||Z(L,2,this.length),this[L]<<8|this[L+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(L,M){return L=L>>>0,M||Z(L,4,this.length),(this[L]|this[L+1]<<8|this[L+2]<<16)+this[L+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(L,M){return L=L>>>0,M||Z(L,4,this.length),this[L]*16777216+(this[L+1]<<16|this[L+2]<<8|this[L+3])},l.prototype.readBigUInt64LE=Me(function(L){L=L>>>0,_(L,"offset");const M=this[L],oe=this[L+7];(M===void 0||oe===void 0)&&m(L,this.length-8);const ce=M+this[++L]*2**8+this[++L]*2**16+this[++L]*2**24,Se=this[++L]+this[++L]*2**8+this[++L]*2**16+oe*2**24;return BigInt(ce)+(BigInt(Se)<<BigInt(32))}),l.prototype.readBigUInt64BE=Me(function(L){L=L>>>0,_(L,"offset");const M=this[L],oe=this[L+7];(M===void 0||oe===void 0)&&m(L,this.length-8);const ce=M*2**24+this[++L]*2**16+this[++L]*2**8+this[++L],Se=this[++L]*2**24+this[++L]*2**16+this[++L]*2**8+oe;return(BigInt(ce)<<BigInt(32))+BigInt(Se)}),l.prototype.readIntLE=function(L,M,oe){L=L>>>0,M=M>>>0,oe||Z(L,M,this.length);let ce=this[L],Se=1,ve=0;for(;++ve<M&&(Se*=256);)ce+=this[L+ve]*Se;return Se*=128,ce>=Se&&(ce-=Math.pow(2,8*M)),ce},l.prototype.readIntBE=function(L,M,oe){L=L>>>0,M=M>>>0,oe||Z(L,M,this.length);let ce=M,Se=1,ve=this[L+--ce];for(;ce>0&&(Se*=256);)ve+=this[L+--ce]*Se;return Se*=128,ve>=Se&&(ve-=Math.pow(2,8*M)),ve},l.prototype.readInt8=function(L,M){return L=L>>>0,M||Z(L,1,this.length),this[L]&128?(255-this[L]+1)*-1:this[L]},l.prototype.readInt16LE=function(L,M){L=L>>>0,M||Z(L,2,this.length);const oe=this[L]|this[L+1]<<8;return oe&32768?oe|4294901760:oe},l.prototype.readInt16BE=function(L,M){L=L>>>0,M||Z(L,2,this.length);const oe=this[L+1]|this[L]<<8;return oe&32768?oe|4294901760:oe},l.prototype.readInt32LE=function(L,M){return L=L>>>0,M||Z(L,4,this.length),this[L]|this[L+1]<<8|this[L+2]<<16|this[L+3]<<24},l.prototype.readInt32BE=function(L,M){return L=L>>>0,M||Z(L,4,this.length),this[L]<<24|this[L+1]<<16|this[L+2]<<8|this[L+3]},l.prototype.readBigInt64LE=Me(function(L){L=L>>>0,_(L,"offset");const M=this[L],oe=this[L+7];(M===void 0||oe===void 0)&&m(L,this.length-8);const ce=this[L+4]+this[L+5]*2**8+this[L+6]*2**16+(oe<<24);return(BigInt(ce)<<BigInt(32))+BigInt(M+this[++L]*2**8+this[++L]*2**16+this[++L]*2**24)}),l.prototype.readBigInt64BE=Me(function(L){L=L>>>0,_(L,"offset");const M=this[L],oe=this[L+7];(M===void 0||oe===void 0)&&m(L,this.length-8);const ce=(M<<24)+this[++L]*2**16+this[++L]*2**8+this[++L];return(BigInt(ce)<<BigInt(32))+BigInt(this[++L]*2**24+this[++L]*2**16+this[++L]*2**8+oe)}),l.prototype.readFloatLE=function(L,M){return L=L>>>0,M||Z(L,4,this.length),r.read(this,L,!0,23,4)},l.prototype.readFloatBE=function(L,M){return L=L>>>0,M||Z(L,4,this.length),r.read(this,L,!1,23,4)},l.prototype.readDoubleLE=function(L,M){return L=L>>>0,M||Z(L,8,this.length),r.read(this,L,!0,52,8)},l.prototype.readDoubleBE=function(L,M){return L=L>>>0,M||Z(L,8,this.length),r.read(this,L,!1,52,8)};function ge(z,L,M,oe,ce,Se){if(!l.isBuffer(z))throw new TypeError('"buffer" argument must be a Buffer instance');if(L>ce||L<Se)throw new RangeError('"value" argument is out of bounds');if(M+oe>z.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(L,M,oe,ce){if(L=+L,M=M>>>0,oe=oe>>>0,!ce){const ze=Math.pow(2,8*oe)-1;ge(this,L,M,oe,ze,0)}let Se=1,ve=0;for(this[M]=L&255;++ve<oe&&(Se*=256);)this[M+ve]=L/Se&255;return M+oe},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(L,M,oe,ce){if(L=+L,M=M>>>0,oe=oe>>>0,!ce){const ze=Math.pow(2,8*oe)-1;ge(this,L,M,oe,ze,0)}let Se=oe-1,ve=1;for(this[M+Se]=L&255;--Se>=0&&(ve*=256);)this[M+Se]=L/ve&255;return M+oe},l.prototype.writeUint8=l.prototype.writeUInt8=function(L,M,oe){return L=+L,M=M>>>0,oe||ge(this,L,M,1,255,0),this[M]=L&255,M+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(L,M,oe){return L=+L,M=M>>>0,oe||ge(this,L,M,2,65535,0),this[M]=L&255,this[M+1]=L>>>8,M+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(L,M,oe){return L=+L,M=M>>>0,oe||ge(this,L,M,2,65535,0),this[M]=L>>>8,this[M+1]=L&255,M+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(L,M,oe){return L=+L,M=M>>>0,oe||ge(this,L,M,4,4294967295,0),this[M+3]=L>>>24,this[M+2]=L>>>16,this[M+1]=L>>>8,this[M]=L&255,M+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(L,M,oe){return L=+L,M=M>>>0,oe||ge(this,L,M,4,4294967295,0),this[M]=L>>>24,this[M+1]=L>>>16,this[M+2]=L>>>8,this[M+3]=L&255,M+4};function W(z,L,M,oe,ce){te(L,oe,ce,z,M,7);let Se=Number(L&BigInt(4294967295));z[M++]=Se,Se=Se>>8,z[M++]=Se,Se=Se>>8,z[M++]=Se,Se=Se>>8,z[M++]=Se;let ve=Number(L>>BigInt(32)&BigInt(4294967295));return z[M++]=ve,ve=ve>>8,z[M++]=ve,ve=ve>>8,z[M++]=ve,ve=ve>>8,z[M++]=ve,M}function ue(z,L,M,oe,ce){te(L,oe,ce,z,M,7);let Se=Number(L&BigInt(4294967295));z[M+7]=Se,Se=Se>>8,z[M+6]=Se,Se=Se>>8,z[M+5]=Se,Se=Se>>8,z[M+4]=Se;let ve=Number(L>>BigInt(32)&BigInt(4294967295));return z[M+3]=ve,ve=ve>>8,z[M+2]=ve,ve=ve>>8,z[M+1]=ve,ve=ve>>8,z[M]=ve,M+8}l.prototype.writeBigUInt64LE=Me(function(L,M=0){return W(this,L,M,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=Me(function(L,M=0){return ue(this,L,M,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(L,M,oe,ce){if(L=+L,M=M>>>0,!ce){const dt=Math.pow(2,8*oe-1);ge(this,L,M,oe,dt-1,-dt)}let Se=0,ve=1,ze=0;for(this[M]=L&255;++Se<oe&&(ve*=256);)L<0&&ze===0&&this[M+Se-1]!==0&&(ze=1),this[M+Se]=(L/ve>>0)-ze&255;return M+oe},l.prototype.writeIntBE=function(L,M,oe,ce){if(L=+L,M=M>>>0,!ce){const dt=Math.pow(2,8*oe-1);ge(this,L,M,oe,dt-1,-dt)}let Se=oe-1,ve=1,ze=0;for(this[M+Se]=L&255;--Se>=0&&(ve*=256);)L<0&&ze===0&&this[M+Se+1]!==0&&(ze=1),this[M+Se]=(L/ve>>0)-ze&255;return M+oe},l.prototype.writeInt8=function(L,M,oe){return L=+L,M=M>>>0,oe||ge(this,L,M,1,127,-128),L<0&&(L=255+L+1),this[M]=L&255,M+1},l.prototype.writeInt16LE=function(L,M,oe){return L=+L,M=M>>>0,oe||ge(this,L,M,2,32767,-32768),this[M]=L&255,this[M+1]=L>>>8,M+2},l.prototype.writeInt16BE=function(L,M,oe){return L=+L,M=M>>>0,oe||ge(this,L,M,2,32767,-32768),this[M]=L>>>8,this[M+1]=L&255,M+2},l.prototype.writeInt32LE=function(L,M,oe){return L=+L,M=M>>>0,oe||ge(this,L,M,4,2147483647,-2147483648),this[M]=L&255,this[M+1]=L>>>8,this[M+2]=L>>>16,this[M+3]=L>>>24,M+4},l.prototype.writeInt32BE=function(L,M,oe){return L=+L,M=M>>>0,oe||ge(this,L,M,4,2147483647,-2147483648),L<0&&(L=4294967295+L+1),this[M]=L>>>24,this[M+1]=L>>>16,this[M+2]=L>>>8,this[M+3]=L&255,M+4},l.prototype.writeBigInt64LE=Me(function(L,M=0){return W(this,L,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=Me(function(L,M=0){return ue(this,L,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function xe(z,L,M,oe,ce,Se){if(M+oe>z.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function he(z,L,M,oe,ce){return L=+L,M=M>>>0,ce||xe(z,L,M,4),r.write(z,L,M,oe,23,4),M+4}l.prototype.writeFloatLE=function(L,M,oe){return he(this,L,M,!0,oe)},l.prototype.writeFloatBE=function(L,M,oe){return he(this,L,M,!1,oe)};function le(z,L,M,oe,ce){return L=+L,M=M>>>0,ce||xe(z,L,M,8),r.write(z,L,M,oe,52,8),M+8}l.prototype.writeDoubleLE=function(L,M,oe){return le(this,L,M,!0,oe)},l.prototype.writeDoubleBE=function(L,M,oe){return le(this,L,M,!1,oe)},l.prototype.copy=function(L,M,oe,ce){if(!l.isBuffer(L))throw new TypeError("argument should be a Buffer");if(oe||(oe=0),!ce&&ce!==0&&(ce=this.length),M>=L.length&&(M=L.length),M||(M=0),ce>0&&ce<oe&&(ce=oe),ce===oe||L.length===0||this.length===0)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(oe<0||oe>=this.length)throw new RangeError("Index out of range");if(ce<0)throw new RangeError("sourceEnd out of bounds");ce>this.length&&(ce=this.length),L.length-M<ce-oe&&(ce=L.length-M+oe);const Se=ce-oe;return this===L&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(M,oe,ce):Uint8Array.prototype.set.call(L,this.subarray(oe,ce),M),Se},l.prototype.fill=function(L,M,oe,ce){if(typeof L=="string"){if(typeof M=="string"?(ce=M,M=0,oe=this.length):typeof oe=="string"&&(ce=oe,oe=this.length),ce!==void 0&&typeof ce!="string")throw new TypeError("encoding must be a string");if(typeof ce=="string"&&!l.isEncoding(ce))throw new TypeError("Unknown encoding: "+ce);if(L.length===1){const ve=L.charCodeAt(0);(ce==="utf8"&&ve<128||ce==="latin1")&&(L=ve)}}else typeof L=="number"?L=L&255:typeof L=="boolean"&&(L=Number(L));if(M<0||this.length<M||this.length<oe)throw new RangeError("Out of range index");if(oe<=M)return this;M=M>>>0,oe=oe===void 0?this.length:oe>>>0,L||(L=0);let Se;if(typeof L=="number")for(Se=M;Se<oe;++Se)this[Se]=L;else{const ve=l.isBuffer(L)?L:l.from(L,ce),ze=ve.length;if(ze===0)throw new TypeError('The value "'+L+'" is invalid for argument "value"');for(Se=0;Se<oe-M;++Se)this[Se+M]=ve[Se%ze]}return this};const _e={};function Ae(z,L,M){_e[z]=class extends M{constructor(){super(),Object.defineProperty(this,"message",{value:L.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${z}]`,this.stack,delete this.name}get code(){return z}set code(ce){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ce,writable:!0})}toString(){return`${this.name} [${z}]: ${this.message}`}}}Ae("ERR_BUFFER_OUT_OF_BOUNDS",function(z){return z?`${z} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ae("ERR_INVALID_ARG_TYPE",function(z,L){return`The "${z}" argument must be of type number. Received type ${typeof L}`},TypeError),Ae("ERR_OUT_OF_RANGE",function(z,L,M){let oe=`The value of "${z}" is out of range.`,ce=M;return Number.isInteger(M)&&Math.abs(M)>2**32?ce=We(String(M)):typeof M=="bigint"&&(ce=String(M),(M>BigInt(2)**BigInt(32)||M<-(BigInt(2)**BigInt(32)))&&(ce=We(ce)),ce+="n"),oe+=` It must be ${L}. Received ${ce}`,oe},RangeError);function We(z){let L="",M=z.length;const oe=z[0]==="-"?1:0;for(;M>=oe+4;M-=3)L=`_${z.slice(M-3,M)}${L}`;return`${z.slice(0,M)}${L}`}function ie(z,L,M){_(L,"offset"),(z[L]===void 0||z[L+M]===void 0)&&m(L,z.length-(M+1))}function te(z,L,M,oe,ce,Se){if(z>M||z<L){const ve=typeof L=="bigint"?"n":"";let ze;throw Se>3?L===0||L===BigInt(0)?ze=`>= 0${ve} and < 2${ve} ** ${(Se+1)*8}${ve}`:ze=`>= -(2${ve} ** ${(Se+1)*8-1}${ve}) and < 2 ** ${(Se+1)*8-1}${ve}`:ze=`>= ${L}${ve} and <= ${M}${ve}`,new _e.ERR_OUT_OF_RANGE("value",ze,z)}ie(oe,ce,Se)}function _(z,L){if(typeof z!="number")throw new _e.ERR_INVALID_ARG_TYPE(L,"number",z)}function m(z,L,M){throw Math.floor(z)!==z?(_(z,M),new _e.ERR_OUT_OF_RANGE(M||"offset","an integer",z)):L<0?new _e.ERR_BUFFER_OUT_OF_BOUNDS:new _e.ERR_OUT_OF_RANGE(M||"offset",`>= ${M?1:0} and <= ${L}`,z)}const R=/[^+/0-9A-Za-z-_]/g;function O(z){if(z=z.split("=")[0],z=z.trim().replace(R,""),z.length<2)return"";for(;z.length%4!==0;)z=z+"=";return z}function C(z,L){L=L||1/0;let M;const oe=z.length;let ce=null;const Se=[];for(let ve=0;ve<oe;++ve){if(M=z.charCodeAt(ve),M>55295&&M<57344){if(!ce){if(M>56319){(L-=3)>-1&&Se.push(239,191,189);continue}else if(ve+1===oe){(L-=3)>-1&&Se.push(239,191,189);continue}ce=M;continue}if(M<56320){(L-=3)>-1&&Se.push(239,191,189),ce=M;continue}M=(ce-55296<<10|M-56320)+65536}else ce&&(L-=3)>-1&&Se.push(239,191,189);if(ce=null,M<128){if((L-=1)<0)break;Se.push(M)}else if(M<2048){if((L-=2)<0)break;Se.push(M>>6|192,M&63|128)}else if(M<65536){if((L-=3)<0)break;Se.push(M>>12|224,M>>6&63|128,M&63|128)}else if(M<1114112){if((L-=4)<0)break;Se.push(M>>18|240,M>>12&63|128,M>>6&63|128,M&63|128)}else throw new Error("Invalid code point")}return Se}function X(z){const L=[];for(let M=0;M<z.length;++M)L.push(z.charCodeAt(M)&255);return L}function re(z,L){let M,oe,ce;const Se=[];for(let ve=0;ve<z.length&&!((L-=2)<0);++ve)M=z.charCodeAt(ve),oe=M>>8,ce=M%256,Se.push(ce),Se.push(oe);return Se}function J(z){return t.toByteArray(O(z))}function ye(z,L,M,oe){let ce;for(ce=0;ce<oe&&!(ce+M>=L.length||ce>=z.length);++ce)L[ce+M]=z[ce];return ce}function F(z,L){return z instanceof L||z!=null&&z.constructor!=null&&z.constructor.name!=null&&z.constructor.name===L.name}function we(z){return z!==z}const Ce=function(){const z="0123456789abcdef",L=new Array(256);for(let M=0;M<16;++M){const oe=M*16;for(let ce=0;ce<16;++ce)L[oe+ce]=z[M]+z[ce]}return L}();function Me(z){return typeof BigInt>"u"?Ue:z}function Ue(){throw new Error("BigInt not supported")}})(Ge);/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let a5;var H0e=typeof queueMicrotask=="function"?queueMicrotask.bind(window):e=>(a5||(a5=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0));const V0e=zr(H0e),Lb="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Db="http://www.w3.org/2001/XMLSchema#",S1="http://www.w3.org/2000/10/swap/",ws={xsd:{decimal:`${Db}decimal`,boolean:`${Db}boolean`,double:`${Db}double`,integer:`${Db}integer`,string:`${Db}string`},rdf:{type:`${Lb}type`,nil:`${Lb}nil`,first:`${Lb}first`,rest:`${Lb}rest`,langString:`${Lb}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${S1}reify#forSome`,forAll:`${S1}reify#forAll`},log:{implies:`${S1}log#implies`}},{xsd:ww}=ws,G0e=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,l5={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},z0e=/[\x00-\x20<>\\"\{\}\|\^\`]/,K0e={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},J0e=/$0^/;class Y0e{constructor(t){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,t=t||{},this._lineMode=!!t.lineMode){this._n3Mode=!1;for(const r in this)!(r in K0e)&&this[r]instanceof RegExp&&(this[r]=J0e)}else this._n3Mode=t.n3!==!1;this._comments=!!t.comments,this._literalClosingPos=0}_tokenizeToEnd(t,r){let n=this._input,o=n.length;for(;;){let l,f;for(;l=this._newline.exec(n);)this._comments&&(f=this._comment.exec(l[0]))&&s("comment",f[1],"",this._line,l[0].length),n=n.substr(l[0].length,n.length),o=n.length,this._line++;if(!l&&(l=this._whitespace.exec(n))&&(n=n.substr(l[0].length,n.length)),this._endOfFile.test(n))return r&&(this._comments&&(f=this._comment.exec(n))&&s("comment",f[1],"",this._line,n.length),n=null,s("eof","","",this._line,0)),this._input=n;const u=this._line,d=n[0];let g="",h="",p="",w=null,y=0,v=!1;switch(d){case"^":if(n.length<3)break;if(n[1]==="^"){if(this._previousMarker="^^",n=n.substr(2),n[0]!=="<"){v=!0;break}}else{this._n3Mode&&(y=1,g="^");break}case"<":if(w=this._unescapedIri.exec(n))g="IRI",h=w[1];else if(w=this._iri.exec(n)){if(h=this._unescape(w[1]),h===null||z0e.test(h))return a(this);g="IRI"}else n.length>1&&n[1]==="<"?(g="<<",y=2):this._n3Mode&&n.length>1&&n[1]==="="&&(g="inverse",y=2,h=">");break;case">":n.length>1&&n[1]===">"&&(g=">>",y=2);break;case"_":((w=this._blank.exec(n))||r&&(w=this._blank.exec(`${n} `)))&&(g="blank",p="_",h=w[1]);break;case'"':if(w=this._simpleQuotedString.exec(n))h=w[1];else if({value:h,matchLength:y}=this._parseLiteral(n),h===null)return a(this);(w!==null||y!==0)&&(g="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(w=this._simpleApostropheString.exec(n))h=w[1];else if({value:h,matchLength:y}=this._parseLiteral(n),h===null)return a(this);(w!==null||y!==0)&&(g="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(w=this._variable.exec(n))&&(g="var",h=w[0]);break;case"@":this._previousMarker==="literal"&&(w=this._langcode.exec(n))?(g="langcode",h=w[1]):(w=this._keyword.exec(n))&&(g=w[0]);break;case".":if(n.length===1?r:n[1]<"0"||n[1]>"9"){g=".",y=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(w=this._number.exec(n)||r&&(w=this._number.exec(`${n} `)))&&(g="literal",h=w[0],p=typeof w[1]=="string"?ww.double:typeof w[2]=="string"?ww.decimal:ww.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(w=this._sparqlKeyword.exec(n))?g=w[0].toUpperCase():v=!0;break;case"f":case"t":(w=this._boolean.exec(n))?(g="literal",h=w[0],p=ww.boolean):v=!0;break;case"a":(w=this._shortPredicates.exec(n))?(g="abbreviation",h="a"):v=!0;break;case"=":this._n3Mode&&n.length>1&&(g="abbreviation",n[1]!==">"?(y=1,h="="):(y=2,h=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(y=1,g=d);break;case"{":!this._lineMode&&n.length>=2&&(n[1]==="|"?(g="{|",y=2):(g=d,y=1));break;case"|":n.length>=2&&n[1]==="}"&&(g="|}",y=2);break;default:v=!0}if(v&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(w=this._prefix.exec(n))?(g="prefix",h=w[1]||""):((w=this._prefixed.exec(n))||r&&(w=this._prefixed.exec(`${n} `)))&&(g="prefixed",p=w[1]||"",h=this._unescape(w[2]))),this._previousMarker==="^^")switch(g){case"prefixed":g="type";break;case"IRI":g="typeIRI";break;default:g=""}if(!g)return r||!/^'''|^"""/.test(n)&&/\n|\r/.test(n)?a(this):this._input=n;const E=y||w[0].length,x=s(g,h,p,u,E);this.previousToken=x,this._previousMarker=g,n=n.substr(E,n.length)}function s(l,f,u,d,g){const h=n?o-n.length:o,p=h+g,w={type:l,value:f,prefix:u,line:d,start:h,end:p};return t(null,w),w}function a(l){t(l._syntaxError(/^\S*/.exec(n)[0]))}}_unescape(t){let r=!1;const n=t.replace(G0e,(o,s,a,l)=>{if(typeof s=="string")return String.fromCharCode(Number.parseInt(s,16));if(typeof a=="string"){let f=Number.parseInt(a,16);return f<=65535?String.fromCharCode(Number.parseInt(a,16)):String.fromCharCode(55296+((f-=65536)>>10),56320+(f&1023))}return l in l5?l5[l]:(r=!0,"")});return r?null:n}_parseLiteral(t){if(t.length>=3){const r=t.match(/^(?:"""|"|'''|'|)/)[0],n=r.length;let o=Math.max(this._literalClosingPos,n);for(;(o=t.indexOf(r,o))>0;){let s=0;for(;t[o-s-1]==="\\";)s++;if(s%2===0){const a=t.substring(n,o),l=a.split(/\r\n|\r|\n/).length-1,f=o+n;if(n===1&&l!==0||n===3&&this._lineMode)break;return this._line+=l,{value:this._unescape(a),matchLength:f}}o++}this._literalClosingPos=t.length-n+1}return{value:"",matchLength:0}}_syntaxError(t){this._input=null;const r=new Error(`Unexpected "${t}" on line ${this._line}.`);return r.context={token:void 0,line:this._line,previousToken:this.previousToken},r}_readStartingBom(t){return t.startsWith("\uFEFF")?t.substr(1):t}tokenize(t,r){if(this._line=1,typeof t=="string")if(this._input=this._readStartingBom(t),typeof r=="function")V0e(()=>this._tokenizeToEnd(r,!0));else{const n=[];let o;if(this._tokenizeToEnd((s,a)=>s?o=s:n.push(a),!0),o)throw o;return n}else this._pendingBuffer=null,typeof t.setEncoding=="function"&&t.setEncoding("utf8"),t.on("data",n=>{this._input!==null&&n.length!==0&&(this._pendingBuffer&&(n=Ge.Buffer.concat([this._pendingBuffer,n]),this._pendingBuffer=null),n[n.length-1]&128?this._pendingBuffer=n:(typeof this._input>"u"?this._input=this._readStartingBom(typeof n=="string"?n:n.toString()):this._input+=n,this._tokenizeToEnd(r,!1)))}),t.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(r,!0)}),t.on("error",r)}}const{rdf:X0e,xsd:th}=ws;let mw,Q0e=0;const Z0e={namedNode:ive,blankNode:ove,variable:ave,literal:sve,defaultGraph:lve,quad:f5,triple:f5};class Xl{constructor(t){this.id=t}get value(){return this.id}equals(t){return t instanceof Xl?this.id===t.id:!!t&&this.termType===t.termType&&this.value===t.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}let u5=class extends Xl{get termType(){return"NamedNode"}},E1=class Hpe extends Xl{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const t=this.id;let r=t.lastIndexOf('"')+1;return r<t.length&&t[r++]==="@"?t.substr(r).toLowerCase():""}get datatype(){return new u5(this.datatypeString)}get datatypeString(){const t=this.id,r=t.lastIndexOf('"')+1,n=r<t.length?t[r]:"";return n==="^"?t.substr(r+2):n!=="@"?th.string:X0e.langString}equals(t){return t instanceof Hpe?this.id===t.id:!!t&&!!t.datatype&&this.termType===t.termType&&this.value===t.value&&this.language===t.language&&this.datatype.value===t.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},eve=class extends Xl{constructor(t){super(`_:${t}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}},tve=class extends Xl{constructor(t){super(`?${t}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}},rve=class extends Xl{constructor(){return super(""),mw||this}get termType(){return"DefaultGraph"}equals(t){return this===t||!!t&&this.termType===t.termType}};mw=new rve;let nve=class extends Xl{constructor(t,r,n,o){super(""),this._subject=t,this._predicate=r,this._object=n,this._graph=o||mw}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(t){return!!t&&this._subject.equals(t.subject)&&this._predicate.equals(t.predicate)&&this._object.equals(t.object)&&this._graph.equals(t.graph)}};function ive(e){return new u5(e)}function ove(e){return new eve(e||`n3-${Q0e++}`)}function sve(e,t){if(typeof t=="string")return new E1(`"${e}"@${t.toLowerCase()}`);let r=t?t.value:"";return r===""&&(typeof e=="boolean"?r=th.boolean:typeof e=="number"&&(Number.isFinite(e)?r=Number.isInteger(e)?th.integer:th.double:(r=th.double,Number.isNaN(e)||(e=e>0?"INF":"-INF")))),r===""||r===th.string?new E1(`"${e}"`):new E1(`"${e}"^^${r}`)}function ave(e){return new tve(e)}function lve(){return mw}function f5(e,t,r,n){return new nve(e,t,r,n)}let c5=0,d5=class{constructor(t){this._contextStack=[],this._graph=null,t=t||{},this._setBase(t.baseIRI),t.factory&&h5(this,t.factory);const r=typeof t.format=="string"?t.format.match(/\w*$/)[0].toLowerCase():"",n=/turtle/.test(r),o=/trig/.test(r),s=/triple/.test(r),a=/quad/.test(r),l=this._n3Mode=/n3/.test(r),f=s||a;(this._supportsNamedGraphs=!(n||l))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(n||o||s||l),this._supportsRDFStar=r===""||/star|\*$/.test(r),f&&(this._resolveRelativeIRI=u=>null),this._blankNodePrefix=typeof t.blankNodePrefix!="string"?"":t.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=t.lexer||new Y0e({lineMode:f,n3:l}),this._explicitQuantifiers=!!t.explicitQuantifiers}static _resetBlankNodePrefix(){c5=0}_setBase(t){if(!t)this._base="",this._basePath="";else{const r=t.indexOf("#");r>=0&&(t=t.substr(0,r)),this._base=t,this._basePath=t.indexOf("/")<0?t:t.replace(/[^\/?]*(?:\?.*)?$/,""),t=t.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=t[0],this._baseScheme=t[1]}}_saveContext(t,r,n,o,s){const a=this._n3Mode;this._contextStack.push({type:t,subject:n,predicate:o,object:s,graph:r,inverse:a?this._inversePredicate:!1,blankPrefix:a?this._prefixes._:"",quantified:a?this._quantified:null}),a&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(t,r){const n=this._contextStack.pop();if(!n||n.type!==t)return this._error(`Unexpected ${r.type}`,r);this._subject=n.subject,this._predicate=n.predicate,this._object=n.object,this._graph=n.graph,this._n3Mode&&(this._inversePredicate=n.inverse,this._prefixes._=n.blankPrefix,this._quantified=n.quantified)}_readInTopContext(t){switch(t.type){case"eof":return this._graph!==null?this._error("Unclosed graph",t):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(t)}}_readEntity(t,r){let n;switch(t.type){case"IRI":case"typeIRI":const o=this._resolveIRI(t.value);if(o===null)return this._error("Invalid IRI",t);n=this._namedNode(o);break;case"type":case"prefixed":const s=this._prefixes[t.prefix];if(s===void 0)return this._error(`Undefined prefix "${t.prefix}:"`,t);n=this._namedNode(s+t.value);break;case"blank":n=this._blankNode(this._prefixes[t.prefix]+t.value);break;case"var":n=this._variable(t.value.substr(1));break;default:return this._error(`Expected entity but got ${t.type}`,t)}return!r&&this._n3Mode&&n.id in this._quantified&&(n=this._quantified[n.id]),n}_readSubject(t){switch(this._predicate=null,t.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",t);case"}":return this._readPunctuation(t);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',t);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',t);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",t);if(t.prefix.length===0)return this._literalValue=t.value,this._completeSubjectLiteral;this._subject=this._literal(t.value,this._namedNode(t.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",t);default:if((this._subject=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(t){const r=t.type;switch(r){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[t.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${r}`,t):(this._subject=null,r==="]"?this._readBlankNodeTail(t):this._readPunctuation(t));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",t);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",t);default:if((this._predicate=this._readEntity(t))===void 0)return}return this._readObject}_readObject(t){switch(t.type){case"literal":if(t.prefix.length===0)return this._literalValue=t.value,this._readDataTypeOrLang;this._object=this._literal(t.value,this._namedNode(t.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",t);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",t);default:if((this._object=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(t){return t.type==="{"?this._readGraph(t):this._readPredicate(t)}_readGraph(t){return t.type!=="{"?this._error(`Expected graph but got ${t.type}`,t):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(t){return t.type==="]"?(this._subject=null,this._readBlankNodeTail(t)):(this._predicate=null,this._readPredicate(t))}_readBlankNodeTail(t){if(t.type!=="]")return this._readBlankNodePunctuation(t);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const r=this._predicate===null;return this._restoreContext("blank",t),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:r?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(t){switch(t.type){case".":case"}":return this._subject=null,this._readPunctuation(t);default:return this._readPredicate(t)}}_readListItem(t){let r=null,n=null,o=this._readListItem;const s=this._subject,a=this._contextStack,l=a[a.length-1];switch(t.type){case"[":this._saveContext("blank",this._graph,n=this._blankNode(),this.RDF_FIRST,this._subject=r=this._blankNode()),o=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,n=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",t),a.length!==0&&a[a.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(o=this._readPredicate,this._subject===this.RDF_NIL)return o}else if(o=this._getContextEndReader(),this._object===this.RDF_NIL)return o;n=this.RDF_NIL;break;case"literal":t.prefix.length===0?(this._literalValue=t.value,o=this._readListItemDataTypeOrLang):(r=this._literal(t.value,this._namedNode(t.prefix)),o=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",t);default:if((r=this._readEntity(t))===void 0)return}if(n===null&&(this._subject=n=this._blankNode()),s===null?l.predicate===null?l.subject=n:l.object=n:this._emit(s,this.RDF_REST,n,this._graph),r!==null){if(this._n3Mode&&(t.type==="IRI"||t.type==="prefixed"))return this._saveContext("item",this._graph,n,this.RDF_FIRST,r),this._subject=r,this._predicate=null,this._getPathReader(this._readListItem);this._emit(n,this.RDF_FIRST,r,this._graph)}return o}_readDataTypeOrLang(t){return this._completeObjectLiteral(t,!1)}_readListItemDataTypeOrLang(t){return this._completeObjectLiteral(t,!0)}_completeLiteral(t){let r=this._literal(this._literalValue);switch(t.type){case"type":case"typeIRI":const n=this._readEntity(t);if(n===void 0)return;r=this._literal(this._literalValue,n),t=null;break;case"langcode":r=this._literal(this._literalValue,t.value),t=null;break}return{token:t,literal:r}}_completeSubjectLiteral(t){return this._subject=this._completeLiteral(t).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(t,r){const n=this._completeLiteral(t);if(n)return this._object=n.literal,r&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),n.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(n.token))}_readFormulaTail(t){return t.type!=="}"?this._readPunctuation(t):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",t),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(t){let r,n=this._graph;const o=this._subject,s=this._inversePredicate;switch(t.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",t);if(this._n3Mode)return this._readFormulaTail(t);this._graph=null;case".":this._subject=null,r=this._contextStack.length?this._readSubject:this._readInTopContext,s&&(this._inversePredicate=!1);break;case";":r=this._readPredicate;break;case",":r=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF* syntax",t);const a=this._predicate,l=this._object;this._subject=this._quad(o,a,l,this.DEFAULTGRAPH),r=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",t);this._subject=null,r=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(n=this._readEntity(t))!==void 0){r=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}if(o!==null){const a=this._predicate,l=this._object;s?this._emit(l,a,o,n):this._emit(o,a,l,n)}return r}_readBlankNodePunctuation(t){let r;switch(t.type){case";":r=this._readPredicate;break;case",":r=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}return this._emit(this._subject,this._predicate,this._object,this._graph),r}_readQuadPunctuation(t){return t.type!=="."?this._error("Expected dot to follow quad",t):this._readInTopContext}_readPrefix(t){return t.type!=="prefix"?this._error("Expected prefix to follow @prefix",t):(this._prefix=t.value,this._readPrefixIRI)}_readPrefixIRI(t){if(t.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,t);const r=this._readEntity(t);return this._prefixes[this._prefix]=r.value,this._prefixCallback(this._prefix,r),this._readDeclarationPunctuation}_readBaseIRI(t){const r=t.type==="IRI"&&this._resolveIRI(t.value);return r?(this._setBase(r),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",t)}_readNamedGraphLabel(t){switch(t.type){case"IRI":case"blank":case"prefixed":return this._readSubject(t),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",t)}}_readNamedGraphBlankLabel(t){return t.type!=="]"?this._error("Invalid graph label",t):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(t){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(t)):t.type!=="."?this._error("Expected declaration to end with a dot",t):this._readInTopContext}_readQuantifierList(t){let r;switch(t.type){case"IRI":case"prefixed":if((r=this._readEntity(t,!0))!==void 0)break;default:return this._error(`Unexpected ${t.type}`,t)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,r,this.QUANTIFIERS_GRAPH)):this._quantified[r.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(t){return t.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(t))}_getPathReader(t){return this._afterPath=t,this._readPath}_readPath(t){switch(t.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const r=this._contextStack,n=r.length&&r[r.length-1];if(n&&n.type==="item"){const o=this._subject;this._restoreContext("item",t),this._emit(this._subject,this.RDF_FIRST,o,this._graph)}return this._afterPath(t)}}_readForwardPath(t){let r,n;const o=this._blankNode();if((n=this._readEntity(t))!==void 0)return this._predicate===null?(r=this._subject,this._subject=o):(r=this._object,this._object=o),this._emit(r,n,o,this._graph),this._readPath}_readBackwardPath(t){const r=this._blankNode();let n,o;if((n=this._readEntity(t))!==void 0)return this._predicate===null?(o=this._subject,this._subject=r):(o=this._object,this._object=r),this._emit(r,n,o,this._graph),this._readPath}_readRDFStarTailOrGraph(t){return t.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(t))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,t):this._readRDFStarTail(t)}_readRDFStarTail(t){if(t.type!==">>")return this._error(`Expected >> but got ${t.type}`,t);const r=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",t),this._subject===null?(this._subject=r,this._readPredicate):(this._object=r,this._getContextEndReader())}_getContextEndReader(){const t=this._contextStack;if(!t.length)return this._readPunctuation;switch(t[t.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(t,r,n,o){this._callback(null,this._quad(t,r,n,o||this.DEFAULTGRAPH))}_error(t,r){const n=new Error(`${t} on line ${r.line}.`);n.context={token:r,line:r.line,previousToken:this._lexer.previousToken},this._callback(n),this._callback=R1}_resolveIRI(t){return/^[a-z][a-z0-9+.-]*:/i.test(t)?t:this._resolveRelativeIRI(t)}_resolveRelativeIRI(t){if(!t.length)return this._base;switch(t[0]){case"#":return this._base+t;case"?":return this._base.replace(/(?:\?.*)?$/,t);case"/":return(t[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(t);default:return/^[^/:]*:/.test(t)?null:this._removeDotSegments(this._basePath+t)}}_removeDotSegments(t){if(!/(^|\/)\.\.?($|[/#?])/.test(t))return t;const r=t.length;let n="",o=-1,s=-1,a=0,l="/";for(;o<r;){switch(l){case":":if(s<0&&t[++o]==="/"&&t[++o]==="/")for(;(s=o+1)<r&&t[s]!=="/";)o=s;break;case"?":case"#":o=r;break;case"/":if(t[o+1]===".")switch(l=t[++o+1],l){case"/":n+=t.substring(a,o-1),a=o+1;break;case void 0:case"?":case"#":return n+t.substring(a,o)+t.substr(o+1);case".":if(l=t[++o+1],l===void 0||l==="/"||l==="?"||l==="#"){if(n+=t.substring(a,o-2),(a=n.lastIndexOf("/"))>=s&&(n=n.substr(0,a)),l!=="/")return`${n}/${t.substr(o+1)}`;a=o+1}}}l=t[++o]}return n+t.substring(a)}parse(t,r,n){if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${c5++}_`,this._prefixCallback=n||R1,this._inversePredicate=!1,this._quantified=Object.create(null),!r){const o=[];let s;if(this._callback=(a,l)=>{a?s=a:l&&o.push(l)},this._lexer.tokenize(t).every(a=>this._readCallback=this._readCallback(a)),s)throw s;return o}this._callback=r,this._lexer.tokenize(t,(o,s)=>{o!==null?(this._callback(o),this._callback=R1):this._readCallback&&(this._readCallback=this._readCallback(s))})}};function R1(){}function h5(e,t){const r=t.namedNode;e._namedNode=r,e._blankNode=t.blankNode,e._literal=t.literal,e._variable=t.variable,e._quad=t.quad,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=r(ws.rdf.first),e.RDF_REST=r(ws.rdf.rest),e.RDF_NIL=r(ws.rdf.nil),e.N3_FORALL=r(ws.r.forAll),e.N3_FORSOME=r(ws.r.forSome),e.ABBREVIATIONS={a:r(ws.rdf.type),"=":r(ws.owl.sameAs),">":r(ws.log.implies)},e.QUANTIFIERS_GRAPH=r("urn:n3:quantifiers")}h5(d5.prototype,Z0e);var p5={exports:{}},x1={exports:{}},Er={ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,t){return e.includes(t)},ArrayPrototypeIndexOf(e,t){return e.indexOf(t)},ArrayPrototypeJoin(e,t){return e.join(t)},ArrayPrototypeMap(e,t){return e.map(t)},ArrayPrototypePop(e,t){return e.pop(t)},ArrayPrototypePush(e,t){return e.push(t)},ArrayPrototypeSlice(e,t,r){return e.slice(t,r)},Error,FunctionPrototypeCall(e,t,...r){return e.call(t,...r)},FunctionPrototypeSymbolHasInstance(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,t){return Object.defineProperties(e,t)},ObjectDefineProperty(e,t,r){return Object.defineProperty(e,t,r)},ObjectGetOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,t){return Object.setPrototypeOf(e,t)},Promise,PromisePrototypeCatch(e,t){return e.catch(t)},PromisePrototypeThen(e,t,r){return e.then(t,r)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,t){return e.test(t)},SafeSet:Set,String,StringPrototypeSlice(e,t,r){return e.slice(t,r)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,t,r){return e.set(t,r)},Boolean,Uint8Array},b5={exports:{}},Mb={exports:{}},g5;function bt(){if(g5)return Mb.exports;g5=1;const{AbortController:e,AbortSignal:t}=typeof self<"u"?self:typeof window<"u"?window:void 0;return Mb.exports=e,Mb.exports.AbortSignal=t,Mb.exports.default=e,Mb.exports}var A1={exports:{}},rh=typeof Reflect=="object"?Reflect:null,_5=rh&&typeof rh.apply=="function"?rh.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},vw;rh&&typeof rh.ownKeys=="function"?vw=rh.ownKeys:Object.getOwnPropertySymbols?vw=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:vw=function(t){return Object.getOwnPropertyNames(t)};function uve(e){console&&console.warn&&console.warn(e)}var y5=Number.isNaN||function(t){return t!==t};function tr(){tr.init.call(this)}A1.exports=tr,A1.exports.once=hve,tr.EventEmitter=tr,tr.prototype._events=void 0,tr.prototype._eventsCount=0,tr.prototype._maxListeners=void 0;var w5=10;function Sw(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(tr,"defaultMaxListeners",{enumerable:!0,get:function(){return w5},set:function(e){if(typeof e!="number"||e<0||y5(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");w5=e}}),tr.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},tr.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||y5(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function m5(e){return e._maxListeners===void 0?tr.defaultMaxListeners:e._maxListeners}tr.prototype.getMaxListeners=function(){return m5(this)},tr.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var o=t==="error",s=this._events;if(s!==void 0)o=o&&s.error===void 0;else if(!o)return!1;if(o){var a;if(r.length>0&&(a=r[0]),a instanceof Error)throw a;var l=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw l.context=a,l}var f=s[t];if(f===void 0)return!1;if(typeof f=="function")_5(f,this,r);else for(var u=f.length,d=x5(f,u),n=0;n<u;++n)_5(d[n],this,r);return!0};function v5(e,t,r,n){var o,s,a;if(Sw(r),s=e._events,s===void 0?(s=e._events=Object.create(null),e._eventsCount=0):(s.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),a=s[t]),a===void 0)a=s[t]=r,++e._eventsCount;else if(typeof a=="function"?a=s[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),o=m5(e),o>0&&a.length>o&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,uve(l)}return e}tr.prototype.addListener=function(t,r){return v5(this,t,r,!1)},tr.prototype.on=tr.prototype.addListener,tr.prototype.prependListener=function(t,r){return v5(this,t,r,!0)};function fve(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function S5(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},o=fve.bind(n);return o.listener=r,n.wrapFn=o,o}tr.prototype.once=function(t,r){return Sw(r),this.on(t,S5(this,t,r)),this},tr.prototype.prependOnceListener=function(t,r){return Sw(r),this.prependListener(t,S5(this,t,r)),this},tr.prototype.removeListener=function(t,r){var n,o,s,a,l;if(Sw(r),o=this._events,o===void 0)return this;if(n=o[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete o[t],o.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(s=-1,a=n.length-1;a>=0;a--)if(n[a]===r||n[a].listener===r){l=n[a].listener,s=a;break}if(s<0)return this;s===0?n.shift():cve(n,s),n.length===1&&(o[t]=n[0]),o.removeListener!==void 0&&this.emit("removeListener",t,l||r)}return this},tr.prototype.off=tr.prototype.removeListener,tr.prototype.removeAllListeners=function(t){var r,n,o;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var s=Object.keys(n),a;for(o=0;o<s.length;++o)a=s[o],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(o=r.length-1;o>=0;o--)this.removeListener(t,r[o]);return this};function E5(e,t,r){var n=e._events;if(n===void 0)return[];var o=n[t];return o===void 0?[]:typeof o=="function"?r?[o.listener||o]:[o]:r?dve(o):x5(o,o.length)}tr.prototype.listeners=function(t){return E5(this,t,!0)},tr.prototype.rawListeners=function(t){return E5(this,t,!1)},tr.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):R5.call(e,t)},tr.prototype.listenerCount=R5;function R5(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}tr.prototype.eventNames=function(){return this._eventsCount>0?vw(this._events):[]};function x5(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function cve(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function dve(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function hve(e,t){return new Promise(function(r,n){function o(a){e.removeListener(t,s),n(a)}function s(){typeof e.removeListener=="function"&&e.removeListener("error",o),r([].slice.call(arguments))}A5(e,t,s,{once:!0}),t!=="error"&&pve(e,o,{once:!0})})}function pve(e,t,r){typeof e.on=="function"&&A5(e,"error",t,r)}function A5(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function o(s){n.once&&e.removeEventListener(t,o),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var $t=A1.exports;(function(e){const t=Ge,{kResistStopPropagation:r,SymbolDispose:n}=Er,o=globalThis.AbortSignal||bt().AbortSignal,s=globalThis.AbortController||bt().AbortController,a=Object.getPrototypeOf(async function(){}).constructor,l=globalThis.Blob||t.Blob,f=typeof l<"u"?function(p){return p instanceof l}:function(p){return!1},u=(h,p)=>{if(h!==void 0&&(h===null||typeof h!="object"||!("aborted"in h)))throw new ERR_INVALID_ARG_TYPE(p,"AbortSignal",h)},d=(h,p)=>{if(typeof h!="function")throw new ERR_INVALID_ARG_TYPE(p,"Function",h)};class g extends Error{constructor(p){if(!Array.isArray(p))throw new TypeError(`Expected input to be an Array, got ${typeof p}`);let w="";for(let y=0;y<p.length;y++)w+=`    ${p[y].stack}
`;super(w),this.name="AggregateError",this.errors=p}}e.exports={AggregateError:g,kEmptyObject:Object.freeze({}),once(h){let p=!1;return function(...w){p||(p=!0,h.apply(this,w))}},createDeferredPromise:function(){let h,p;return{promise:new Promise((y,v)=>{h=y,p=v}),resolve:h,reject:p}},promisify(h){return new Promise((p,w)=>{h((y,...v)=>y?w(y):p(...v))})},debuglog(){return function(){}},format(h,...p){return h.replace(/%([sdifj])/g,function(...[w,y]){const v=p.shift();return y==="f"?v.toFixed(6):y==="j"?JSON.stringify(v):y==="s"&&typeof v=="object"?`${v.constructor!==Object?v.constructor.name:""} {}`.trim():v.toString()})},inspect(h){switch(typeof h){case"string":if(h.includes("'"))if(h.includes('"')){if(!h.includes("`")&&!h.includes("${"))return`\`${h}\``}else return`"${h}"`;return`'${h}'`;case"number":return isNaN(h)?"NaN":Object.is(h,-0)?String(h):h;case"bigint":return`${String(h)}n`;case"boolean":case"undefined":return String(h);case"object":return"{}"}},types:{isAsyncFunction(h){return h instanceof a},isArrayBufferView(h){return ArrayBuffer.isView(h)}},isBlob:f,deprecate(h,p){return h},addAbortListener:$t.addAbortListener||function(p,w){if(p===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",p);u(p,"signal"),d(w,"listener");let y;return p.aborted?queueMicrotask(()=>w()):(p.addEventListener("abort",w,{__proto__:null,once:!0,[r]:!0}),y=()=>{p.removeEventListener("abort",w)}),{__proto__:null,[n](){var v;(v=y)===null||v===void 0||v()}}},AbortSignalAny:o.any||function(p){if(p.length===1)return p[0];const w=new s,y=()=>w.abort();return p.forEach(v=>{u(v,"signals"),v.addEventListener("abort",y,{once:!0})}),w.signal.addEventListener("abort",()=>{p.forEach(v=>v.removeEventListener("abort",y))},{once:!0}),w.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(b5);var Yn=b5.exports,$1={};const{format:bve,inspect:Ew,AggregateError:gve}=Yn,_ve=globalThis.AggregateError||gve,yve=Symbol("kIsNodeError"),wve=["string","function","number","object","Function","Object","boolean","bigint","symbol"],mve=/^([A-Z][a-z0-9]*)+$/,vve="__node_internal_",Rw={};function xf(e,t){if(!e)throw new Rw.ERR_INTERNAL_ASSERTION(t)}function $5(e){let t="",r=e.length;const n=e[0]==="-"?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function Sve(e,t,r){if(typeof t=="function")return xf(t.length<=r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${t.length}).`),t(...r);const n=(t.match(/%[dfijoOs]/g)||[]).length;return xf(n===r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?t:bve(t,...r)}function pn(e,t,r){r||(r=Error);class n extends r{constructor(...s){super(Sve(e,t,s))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=e,n.prototype[yve]=!0,Rw[e]=n}function T5(e){const t=vve+e.name;return Object.defineProperty(e,"name",{value:t}),e}function Eve(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;const r=new _ve([t,e],t.message);return r.code=t.code,r}return e||t}let Rve=class extends Error{constructor(t="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new Rw.ERR_INVALID_ARG_TYPE("options","Object",r);super(t,r),this.code="ABORT_ERR",this.name="AbortError"}};pn("ERR_ASSERTION","%s",Error),pn("ERR_INVALID_ARG_TYPE",(e,t,r)=>{xf(typeof e=="string","'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+=`${e} `:n+=`"${e}" ${e.includes(".")?"property":"argument"} `,n+="must be ";const o=[],s=[],a=[];for(const f of t)xf(typeof f=="string","All expected entries have to be of type string"),wve.includes(f)?o.push(f.toLowerCase()):mve.test(f)?s.push(f):(xf(f!=="object",'The value "object" should be written as "Object"'),a.push(f));if(s.length>0){const f=o.indexOf("object");f!==-1&&(o.splice(o,f,1),s.push("Object"))}if(o.length>0){switch(o.length){case 1:n+=`of type ${o[0]}`;break;case 2:n+=`one of type ${o[0]} or ${o[1]}`;break;default:{const f=o.pop();n+=`one of type ${o.join(", ")}, or ${f}`}}(s.length>0||a.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{const f=s.pop();n+=`an instance of ${s.join(", ")}, or ${f}`}}a.length>0&&(n+=" or ")}switch(a.length){case 0:break;case 1:a[0].toLowerCase()!==a[0]&&(n+="an "),n+=`${a[0]}`;break;case 2:n+=`one of ${a[0]} or ${a[1]}`;break;default:{const f=a.pop();n+=`one of ${a.join(", ")}, or ${f}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var l;if((l=r.constructor)!==null&&l!==void 0&&l.name)n+=`. Received an instance of ${r.constructor.name}`;else{const f=Ew(r,{depth:-1});n+=`. Received ${f}`}}else{let f=Ew(r,{colors:!1});f.length>25&&(f=`${f.slice(0,25)}...`),n+=`. Received type ${typeof r} (${f})`}return n},TypeError),pn("ERR_INVALID_ARG_VALUE",(e,t,r="is invalid")=>{let n=Ew(t);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${e.includes(".")?"property":"argument"} '${e}' ${r}. Received ${n}`},TypeError),pn("ERR_INVALID_RETURN_VALUE",(e,t,r)=>{var n;const o=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${e} to be returned from the "${t}" function but got ${o}.`},TypeError),pn("ERR_MISSING_ARGS",(...e)=>{xf(e.length>0,"At least one arg needs to be specified");let t;const r=e.length;switch(e=(Array.isArray(e)?e:[e]).map(n=>`"${n}"`).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{const n=e.pop();t+=`The ${e.join(", ")}, and ${n} arguments`}break}return`${t} must be specified`},TypeError),pn("ERR_OUT_OF_RANGE",(e,t,r)=>{xf(t,'Missing "range" argument');let n;return Number.isInteger(r)&&Math.abs(r)>2**32?n=$5(String(r)):typeof r=="bigint"?(n=String(r),(r>2n**32n||r<-(2n**32n))&&(n=$5(n)),n+="n"):n=Ew(r),`The value of "${e}" is out of range. It must be ${t}. Received ${n}`},RangeError),pn("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),pn("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),pn("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),pn("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),pn("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),pn("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),pn("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),pn("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),pn("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),pn("ERR_STREAM_WRITE_AFTER_END","write after end",Error),pn("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);var mi={AbortError:Rve,aggregateTwoErrors:T5(Eve),hideStackFrames:T5,codes:Rw};const{ArrayIsArray:T1,ArrayPrototypeIncludes:I5,ArrayPrototypeJoin:N5,ArrayPrototypeMap:xve,NumberIsInteger:I1,NumberIsNaN:Ave,NumberMAX_SAFE_INTEGER:$ve,NumberMIN_SAFE_INTEGER:Tve,NumberParseInt:Ive,ObjectPrototypeHasOwnProperty:Nve,RegExpPrototypeExec:k5,String:kve,StringPrototypeToUpperCase:Cve,StringPrototypeTrim:Ove}=Er,{hideStackFrames:io,codes:{ERR_SOCKET_BAD_PORT:Lve,ERR_INVALID_ARG_TYPE:In,ERR_INVALID_ARG_VALUE:nh,ERR_OUT_OF_RANGE:Af,ERR_UNKNOWN_SIGNAL:C5}}=mi,{normalizeEncoding:Dve}=Yn,{isAsyncFunction:Mve,isArrayBufferView:Pve}=Yn.types,O5={};function Fve(e){return e===(e|0)}function jve(e){return e===e>>>0}const Wve=/^[0-7]+$/,Bve="must be a 32-bit unsigned integer or an octal string";function Uve(e,t,r){if(typeof e>"u"&&(e=r),typeof e=="string"){if(k5(Wve,e)===null)throw new nh(t,e,Bve);e=Ive(e,8)}return L5(e,t),e}const qve=io((e,t,r=Tve,n=$ve)=>{if(typeof e!="number")throw new In(t,"number",e);if(!I1(e))throw new Af(t,"an integer",e);if(e<r||e>n)throw new Af(t,`>= ${r} && <= ${n}`,e)}),Hve=io((e,t,r=-2147483648,n=2147483647)=>{if(typeof e!="number")throw new In(t,"number",e);if(!I1(e))throw new Af(t,"an integer",e);if(e<r||e>n)throw new Af(t,`>= ${r} && <= ${n}`,e)}),L5=io((e,t,r=!1)=>{if(typeof e!="number")throw new In(t,"number",e);if(!I1(e))throw new Af(t,"an integer",e);const n=r?1:0,o=4294967295;if(e<n||e>o)throw new Af(t,`>= ${n} && <= ${o}`,e)});function N1(e,t){if(typeof e!="string")throw new In(t,"string",e)}function Vve(e,t,r=void 0,n){if(typeof e!="number")throw new In(t,"number",e);if(r!=null&&e<r||n!=null&&e>n||(r!=null||n!=null)&&Ave(e))throw new Af(t,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,e)}const Gve=io((e,t,r)=>{if(!I5(r,e)){const o="must be one of: "+N5(xve(r,s=>typeof s=="string"?`'${s}'`:kve(s)),", ");throw new nh(t,e,o)}});function D5(e,t){if(typeof e!="boolean")throw new In(t,"boolean",e)}function k1(e,t,r){return e==null||!Nve(e,t)?r:e[t]}const zve=io((e,t,r=null)=>{const n=k1(r,"allowArray",!1),o=k1(r,"allowFunction",!1);if(!k1(r,"nullable",!1)&&e===null||!n&&T1(e)||typeof e!="object"&&(!o||typeof e!="function"))throw new In(t,"Object",e)}),Kve=io((e,t)=>{if(e!=null&&typeof e!="object"&&typeof e!="function")throw new In(t,"a dictionary",e)}),xw=io((e,t,r=0)=>{if(!T1(e))throw new In(t,"Array",e);if(e.length<r){const n=`must be longer than ${r}`;throw new nh(t,e,n)}});function Jve(e,t){xw(e,t);for(let r=0;r<e.length;r++)N1(e[r],`${t}[${r}]`)}function Yve(e,t){xw(e,t);for(let r=0;r<e.length;r++)D5(e[r],`${t}[${r}]`)}function Xve(e,t){xw(e,t);for(let r=0;r<e.length;r++){const n=e[r],o=`${t}[${r}]`;if(n==null)throw new In(o,"AbortSignal",n);M5(n,o)}}function Qve(e,t="signal"){if(N1(e,t),O5[e]===void 0)throw O5[Cve(e)]!==void 0?new C5(e+" (signals must use all capital letters)"):new C5(e)}const Zve=io((e,t="buffer")=>{if(!Pve(e))throw new In(t,["Buffer","TypedArray","DataView"],e)});function eSe(e,t){const r=Dve(t),n=e.length;if(r==="hex"&&n%2!==0)throw new nh("encoding",t,`is invalid for data of length ${n}`)}function tSe(e,t="Port",r=!0){if(typeof e!="number"&&typeof e!="string"||typeof e=="string"&&Ove(e).length===0||+e!==+e>>>0||e>65535||e===0&&!r)throw new Lve(t,e,r);return e|0}const M5=io((e,t)=>{if(e!==void 0&&(e===null||typeof e!="object"||!("aborted"in e)))throw new In(t,"AbortSignal",e)}),rSe=io((e,t)=>{if(typeof e!="function")throw new In(t,"Function",e)}),nSe=io((e,t)=>{if(typeof e!="function"||Mve(e))throw new In(t,"Function",e)}),iSe=io((e,t)=>{if(e!==void 0)throw new In(t,"undefined",e)});function oSe(e,t,r){if(!I5(r,e))throw new In(t,`('${N5(r,"|")}')`,e)}const sSe=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function P5(e,t){if(typeof e>"u"||!k5(sSe,e))throw new nh(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function aSe(e){if(typeof e=="string")return P5(e,"hints"),e;if(T1(e)){const t=e.length;let r="";if(t===0)return r;for(let n=0;n<t;n++){const o=e[n];P5(o,"hints"),r+=o,n!==t-1&&(r+=", ")}return r}throw new nh("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}var Pb={isInt32:Fve,isUint32:jve,parseFileMode:Uve,validateArray:xw,validateStringArray:Jve,validateBooleanArray:Yve,validateAbortSignalArray:Xve,validateBoolean:D5,validateBuffer:Zve,validateDictionary:Kve,validateEncoding:eSe,validateFunction:rSe,validateInt32:Hve,validateInteger:qve,validateNumber:Vve,validateObject:zve,validateOneOf:Gve,validatePlainFunction:nSe,validatePort:tSe,validateSignalName:Qve,validateString:N1,validateUint32:L5,validateUndefined:iSe,validateUnion:oSe,validateAbortSignal:M5,validateLinkHeaderValue:aSe},C1={exports:{}},F5={exports:{}},Pr=F5.exports={},ms,vs;function O1(){throw new Error("setTimeout has not been defined")}function L1(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?ms=setTimeout:ms=O1}catch{ms=O1}try{typeof clearTimeout=="function"?vs=clearTimeout:vs=L1}catch{vs=L1}})();function j5(e){if(ms===setTimeout)return setTimeout(e,0);if((ms===O1||!ms)&&setTimeout)return ms=setTimeout,setTimeout(e,0);try{return ms(e,0)}catch{try{return ms.call(null,e,0)}catch{return ms.call(this,e,0)}}}function lSe(e){if(vs===clearTimeout)return clearTimeout(e);if((vs===L1||!vs)&&clearTimeout)return vs=clearTimeout,clearTimeout(e);try{return vs(e)}catch{try{return vs.call(null,e)}catch{return vs.call(this,e)}}}var Sa=[],ih=!1,$f,Aw=-1;function uSe(){!ih||!$f||(ih=!1,$f.length?Sa=$f.concat(Sa):Aw=-1,Sa.length&&W5())}function W5(){if(!ih){var e=j5(uSe);ih=!0;for(var t=Sa.length;t;){for($f=Sa,Sa=[];++Aw<t;)$f&&$f[Aw].run();Aw=-1,t=Sa.length}$f=null,ih=!1,lSe(e)}}Pr.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Sa.push(new B5(e,t)),Sa.length===1&&!ih&&j5(W5)};function B5(e,t){this.fun=e,this.array=t}B5.prototype.run=function(){this.fun.apply(null,this.array)},Pr.title="browser",Pr.browser=!0,Pr.env={},Pr.argv=[],Pr.version="",Pr.versions={};function Ea(){}Pr.on=Ea,Pr.addListener=Ea,Pr.once=Ea,Pr.off=Ea,Pr.removeListener=Ea,Pr.removeAllListeners=Ea,Pr.emit=Ea,Pr.prependListener=Ea,Pr.prependOnceListener=Ea,Pr.listeners=function(e){return[]},Pr.binding=function(e){throw new Error("process.binding is not supported")},Pr.cwd=function(){return"/"},Pr.chdir=function(e){throw new Error("process.chdir is not supported")},Pr.umask=function(){return 0};var Qe=F5.exports;const Ot=zr(Qe),{SymbolAsyncIterator:U5,SymbolIterator:q5,SymbolFor:Tf}=Er,H5=Tf("nodejs.stream.destroyed"),V5=Tf("nodejs.stream.errored"),D1=Tf("nodejs.stream.readable"),M1=Tf("nodejs.stream.writable"),G5=Tf("nodejs.stream.disturbed"),fSe=Tf("nodejs.webstream.isClosedPromise"),cSe=Tf("nodejs.webstream.controllerErrorFunction");function $w(e,t=!1){var r;return!!(e&&typeof e.pipe=="function"&&typeof e.on=="function"&&(!t||typeof e.pause=="function"&&typeof e.resume=="function")&&(!e._writableState||((r=e._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!e._writableState||e._readableState))}function Tw(e){var t;return!!(e&&typeof e.write=="function"&&typeof e.on=="function"&&(!e._readableState||((t=e._writableState)===null||t===void 0?void 0:t.writable)!==!1))}function dSe(e){return!!(e&&typeof e.pipe=="function"&&e._readableState&&typeof e.on=="function"&&typeof e.write=="function")}function Ss(e){return e&&(e._readableState||e._writableState||typeof e.write=="function"&&typeof e.on=="function"||typeof e.pipe=="function"&&typeof e.on=="function")}function z5(e){return!!(e&&!Ss(e)&&typeof e.pipeThrough=="function"&&typeof e.getReader=="function"&&typeof e.cancel=="function")}function K5(e){return!!(e&&!Ss(e)&&typeof e.getWriter=="function"&&typeof e.abort=="function")}function J5(e){return!!(e&&!Ss(e)&&typeof e.readable=="object"&&typeof e.writable=="object")}function hSe(e){return z5(e)||K5(e)||J5(e)}function pSe(e,t){return e==null?!1:t===!0?typeof e[U5]=="function":t===!1?typeof e[q5]=="function":typeof e[U5]=="function"||typeof e[q5]=="function"}function Iw(e){if(!Ss(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[H5]||n!=null&&n.destroyed)}function Y5(e){if(!Tw(e))return null;if(e.writableEnded===!0)return!0;const t=e._writableState;return t!=null&&t.errored?!1:typeof(t==null?void 0:t.ended)!="boolean"?null:t.ended}function bSe(e,t){if(!Tw(e))return null;if(e.writableFinished===!0)return!0;const r=e._writableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.finished)!="boolean"?null:!!(r.finished||t===!1&&r.ended===!0&&r.length===0)}function gSe(e){if(!$w(e))return null;if(e.readableEnded===!0)return!0;const t=e._readableState;return!t||t.errored?!1:typeof(t==null?void 0:t.ended)!="boolean"?null:t.ended}function X5(e,t){if(!$w(e))return null;const r=e._readableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.endEmitted)!="boolean"?null:!!(r.endEmitted||t===!1&&r.ended===!0&&r.length===0)}function Q5(e){return e&&e[D1]!=null?e[D1]:typeof(e==null?void 0:e.readable)!="boolean"?null:Iw(e)?!1:$w(e)&&e.readable&&!X5(e)}function Z5(e){return e&&e[M1]!=null?e[M1]:typeof(e==null?void 0:e.writable)!="boolean"?null:Iw(e)?!1:Tw(e)&&e.writable&&!Y5(e)}function _Se(e,t){return Ss(e)?Iw(e)?!0:!((t==null?void 0:t.readable)!==!1&&Q5(e)||(t==null?void 0:t.writable)!==!1&&Z5(e)):null}function ySe(e){var t,r;return Ss(e)?e.writableErrored?e.writableErrored:(t=(r=e._writableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}function wSe(e){var t,r;return Ss(e)?e.readableErrored?e.readableErrored:(t=(r=e._readableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}function mSe(e){if(!Ss(e))return null;if(typeof e.closed=="boolean")return e.closed;const t=e._writableState,r=e._readableState;return typeof(t==null?void 0:t.closed)=="boolean"||typeof(r==null?void 0:r.closed)=="boolean"?(t==null?void 0:t.closed)||(r==null?void 0:r.closed):typeof e._closed=="boolean"&&e8(e)?e._closed:null}function e8(e){return typeof e._closed=="boolean"&&typeof e._defaultKeepAlive=="boolean"&&typeof e._removedConnection=="boolean"&&typeof e._removedContLen=="boolean"}function t8(e){return typeof e._sent100=="boolean"&&e8(e)}function vSe(e){var t;return typeof e._consuming=="boolean"&&typeof e._dumped=="boolean"&&((t=e.req)===null||t===void 0?void 0:t.upgradeOrConnect)===void 0}function SSe(e){if(!Ss(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!n&&t8(e)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function ESe(e){var t;return!!(e&&((t=e[G5])!==null&&t!==void 0?t:e.readableDidRead||e.readableAborted))}function RSe(e){var t,r,n,o,s,a,l,f,u,d;return!!(e&&((t=(r=(n=(o=(s=(a=e[V5])!==null&&a!==void 0?a:e.readableErrored)!==null&&s!==void 0?s:e.writableErrored)!==null&&o!==void 0?o:(l=e._readableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&n!==void 0?n:(f=e._writableState)===null||f===void 0?void 0:f.errorEmitted)!==null&&r!==void 0?r:(u=e._readableState)===null||u===void 0?void 0:u.errored)!==null&&t!==void 0?t:!((d=e._writableState)===null||d===void 0)&&d.errored))}var Ra={isDestroyed:Iw,kIsDestroyed:H5,isDisturbed:ESe,kIsDisturbed:G5,isErrored:RSe,kIsErrored:V5,isReadable:Q5,kIsReadable:D1,kIsClosedPromise:fSe,kControllerErrorFunction:cSe,kIsWritable:M1,isClosed:mSe,isDuplexNodeStream:dSe,isFinished:_Se,isIterable:pSe,isReadableNodeStream:$w,isReadableStream:z5,isReadableEnded:gSe,isReadableFinished:X5,isReadableErrored:wSe,isNodeStream:Ss,isWebStream:hSe,isWritable:Z5,isWritableNodeStream:Tw,isWritableStream:K5,isWritableEnded:Y5,isWritableFinished:bSe,isWritableErrored:ySe,isServerRequest:vSe,isServerResponse:t8,willEmitClose:SSe,isTransformStream:J5};const Ql=Qe,{AbortError:r8,codes:xSe}=mi,{ERR_INVALID_ARG_TYPE:ASe,ERR_STREAM_PREMATURE_CLOSE:n8}=xSe,{kEmptyObject:P1,once:F1}=Yn,{validateAbortSignal:$Se,validateFunction:TSe,validateObject:ISe,validateBoolean:NSe}=Pb,{Promise:kSe,PromisePrototypeThen:CSe,SymbolDispose:i8}=Er,{isClosed:OSe,isReadable:o8,isReadableNodeStream:j1,isReadableStream:LSe,isReadableFinished:s8,isReadableErrored:a8,isWritable:l8,isWritableNodeStream:u8,isWritableStream:DSe,isWritableFinished:f8,isWritableErrored:c8,isNodeStream:MSe,willEmitClose:PSe,kIsClosedPromise:FSe}=Ra;let oh;function jSe(e){return e.setHeader&&typeof e.abort=="function"}const W1=()=>{};function d8(e,t,r){var n,o;if(arguments.length===2?(r=t,t=P1):t==null?t=P1:ISe(t,"options"),TSe(r,"callback"),$Se(t.signal,"options.signal"),r=F1(r),LSe(e)||DSe(e))return WSe(e,t,r);if(!MSe(e))throw new ASe("stream",["ReadableStream","WritableStream","Stream"],e);const s=(n=t.readable)!==null&&n!==void 0?n:j1(e),a=(o=t.writable)!==null&&o!==void 0?o:u8(e),l=e._writableState,f=e._readableState,u=()=>{e.writable||h()};let d=PSe(e)&&j1(e)===s&&u8(e)===a,g=f8(e,!1);const h=()=>{g=!0,e.destroyed&&(d=!1),!(d&&(!e.readable||s))&&(!s||p)&&r.call(e)};let p=s8(e,!1);const w=()=>{p=!0,e.destroyed&&(d=!1),!(d&&(!e.writable||a))&&(!a||g)&&r.call(e)},y=$=>{r.call(e,$)};let v=OSe(e);const E=()=>{v=!0;const $=c8(e)||a8(e);if($&&typeof $!="boolean")return r.call(e,$);if(s&&!p&&j1(e,!0)&&!s8(e,!1))return r.call(e,new n8);if(a&&!g&&!f8(e,!1))return r.call(e,new n8);r.call(e)},x=()=>{v=!0;const $=c8(e)||a8(e);if($&&typeof $!="boolean")return r.call(e,$);r.call(e)},S=()=>{e.req.on("finish",h)};jSe(e)?(e.on("complete",h),d||e.on("abort",E),e.req?S():e.on("request",S)):a&&!l&&(e.on("end",u),e.on("close",u)),!d&&typeof e.aborted=="boolean"&&e.on("aborted",E),e.on("end",w),e.on("finish",h),t.error!==!1&&e.on("error",y),e.on("close",E),v?Ql.nextTick(E):l!=null&&l.errorEmitted||f!=null&&f.errorEmitted?d||Ql.nextTick(x):(!s&&(!d||o8(e))&&(g||l8(e)===!1)||!a&&(!d||l8(e))&&(p||o8(e)===!1)||f&&e.req&&e.aborted)&&Ql.nextTick(x);const N=()=>{r=W1,e.removeListener("aborted",E),e.removeListener("complete",h),e.removeListener("abort",E),e.removeListener("request",S),e.req&&e.req.removeListener("finish",h),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",h),e.removeListener("end",w),e.removeListener("error",y),e.removeListener("close",E)};if(t.signal&&!v){const $=()=>{const D=r;N(),D.call(e,new r8(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)Ql.nextTick($);else{oh=oh||Yn.addAbortListener;const D=oh(t.signal,$),K=r;r=F1((...q)=>{D[i8](),K.apply(e,q)})}}return N}function WSe(e,t,r){let n=!1,o=W1;if(t.signal)if(o=()=>{n=!0,r.call(e,new r8(void 0,{cause:t.signal.reason}))},t.signal.aborted)Ql.nextTick(o);else{oh=oh||Yn.addAbortListener;const a=oh(t.signal,o),l=r;r=F1((...f)=>{a[i8](),l.apply(e,f)})}const s=(...a)=>{n||Ql.nextTick(()=>r.apply(e,a))};return CSe(e[FSe].promise,s,s),W1}function BSe(e,t){var r;let n=!1;return t===null&&(t=P1),(r=t)!==null&&r!==void 0&&r.cleanup&&(NSe(t.cleanup,"cleanup"),n=t.cleanup),new kSe((o,s)=>{const a=d8(e,t,l=>{n&&a(),l?s(l):o()})})}C1.exports=d8,C1.exports.finished=BSe;var Zl=C1.exports;const Es=Qe,{aggregateTwoErrors:USe,codes:{ERR_MULTIPLE_CALLBACK:qSe},AbortError:HSe}=mi,{Symbol:h8}=Er,{kIsDestroyed:VSe,isDestroyed:GSe,isFinished:zSe,isServerRequest:KSe}=Ra,p8=h8("kDestroy"),B1=h8("kConstruct");function b8(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function JSe(e,t){const r=this._readableState,n=this._writableState,o=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof t=="function"&&t(),this):(b8(e,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),o.constructed?g8(this,e,t):this.once(p8,function(s){g8(this,USe(s,e),t)}),this)}function g8(e,t,r){let n=!1;function o(s){if(n)return;n=!0;const a=e._readableState,l=e._writableState;b8(s,l,a),l&&(l.closed=!0),a&&(a.closed=!0),typeof r=="function"&&r(s),s?Es.nextTick(YSe,e,s):Es.nextTick(_8,e)}try{e._destroy(t||null,o)}catch(s){o(s)}}function YSe(e,t){U1(e,t),_8(e)}function _8(e){const t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(r!=null&&r.emitClose||t!=null&&t.emitClose)&&e.emit("close")}function U1(e,t){const r=e._readableState,n=e._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function XSe(){const e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=e.readable===!1,e.endEmitted=e.readable===!1),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=t.writable===!1,t.ending=t.writable===!1,t.finished=t.writable===!1)}function q1(e,t,r){const n=e._readableState,o=e._writableState;if(o!=null&&o.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||o!=null&&o.autoDestroy?e.destroy(t):t&&(t.stack,o&&!o.errored&&(o.errored=t),n&&!n.errored&&(n.errored=t),r?Es.nextTick(U1,e,t):U1(e,t))}function QSe(e,t){if(typeof e._construct!="function")return;const r=e._readableState,n=e._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),e.once(B1,t),!(e.listenerCount(B1)>1)&&Es.nextTick(ZSe,e)}function ZSe(e){let t=!1;function r(n){if(t){q1(e,n??new qSe);return}t=!0;const o=e._readableState,s=e._writableState,a=s||o;o&&(o.constructed=!0),s&&(s.constructed=!0),a.destroyed?e.emit(p8,n):n?q1(e,n,!0):Es.nextTick(eEe,e)}try{e._construct(n=>{Es.nextTick(r,n)})}catch(n){Es.nextTick(r,n)}}function eEe(e){e.emit(B1)}function y8(e){return(e==null?void 0:e.setHeader)&&typeof e.abort=="function"}function w8(e){e.emit("close")}function tEe(e,t){e.emit("error",t),Es.nextTick(w8,e)}function rEe(e,t){!e||GSe(e)||(!t&&!zSe(e)&&(t=new HSe),KSe(e)?(e.socket=null,e.destroy(t)):y8(e)?e.abort():y8(e.req)?e.req.abort():typeof e.destroy=="function"?e.destroy(t):typeof e.close=="function"?e.close():t?Es.nextTick(tEe,e,t):Es.nextTick(w8,e),e.destroyed||(e[VSe]=!0))}var sh={construct:QSe,destroyer:rEe,destroy:JSe,undestroy:XSe,errorOrDestroy:q1};const{ArrayIsArray:nEe,ObjectSetPrototypeOf:m8}=Er,{EventEmitter:Nw}=$t;function kw(e){Nw.call(this,e)}m8(kw.prototype,Nw.prototype),m8(kw,Nw),kw.prototype.pipe=function(e,t){const r=this;function n(d){e.writable&&e.write(d)===!1&&r.pause&&r.pause()}r.on("data",n);function o(){r.readable&&r.resume&&r.resume()}e.on("drain",o),!e._isStdio&&(!t||t.end!==!1)&&(r.on("end",a),r.on("close",l));let s=!1;function a(){s||(s=!0,e.end())}function l(){s||(s=!0,typeof e.destroy=="function"&&e.destroy())}function f(d){u(),Nw.listenerCount(this,"error")===0&&this.emit("error",d)}H1(r,"error",f),H1(e,"error",f);function u(){r.removeListener("data",n),e.removeListener("drain",o),r.removeListener("end",a),r.removeListener("close",l),r.removeListener("error",f),e.removeListener("error",f),r.removeListener("end",u),r.removeListener("close",u),e.removeListener("close",u)}return r.on("end",u),r.on("close",u),e.on("close",u),e.emit("pipe",r),e};function H1(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):nEe(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}var V1={Stream:kw,prependListener:H1},v8={exports:{}};(function(e){const{SymbolDispose:t}=Er,{AbortError:r,codes:n}=mi,{isNodeStream:o,isWebStream:s,kControllerErrorFunction:a}=Ra,l=Zl,{ERR_INVALID_ARG_TYPE:f}=n;let u;const d=(g,h)=>{if(typeof g!="object"||!("aborted"in g))throw new f(h,"AbortSignal",g)};e.exports.addAbortSignal=function(h,p){if(d(h,"signal"),!o(p)&&!s(p))throw new f("stream",["ReadableStream","WritableStream","Stream"],p);return e.exports.addAbortSignalNoValidate(h,p)},e.exports.addAbortSignalNoValidate=function(g,h){if(typeof g!="object"||!("aborted"in g))return h;const p=o(h)?()=>{h.destroy(new r(void 0,{cause:g.reason}))}:()=>{h[a](new r(void 0,{cause:g.reason}))};if(g.aborted)p();else{u=u||Yn.addAbortListener;const w=u(g,p);l(h,w[t])}return h}})(v8);var Cw=v8.exports;const{StringPrototypeSlice:S8,SymbolIterator:iEe,TypedArrayPrototypeSet:Ow,Uint8Array:oEe}=Er,{Buffer:G1}=Ge,{inspect:sEe}=Yn;var aEe=class{constructor(){this.head=null,this.tail=null,this.length=0}push(t){const r={data:t,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(t){const r={data:t,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;const t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=t+r.data;return n}concat(t){if(this.length===0)return G1.alloc(0);const r=G1.allocUnsafe(t>>>0);let n=this.head,o=0;for(;n;)Ow(r,n.data,o),o+=n.data.length,n=n.next;return r}consume(t,r){const n=this.head.data;if(t<n.length){const o=n.slice(0,t);return this.head.data=n.slice(t),o}return t===n.length?this.shift():r?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[iEe](){for(let t=this.head;t;t=t.next)yield t.data}_getString(t){let r="",n=this.head,o=0;do{const s=n.data;if(t>s.length)r+=s,t-=s.length;else{t===s.length?(r+=s,++o,n.next?this.head=n.next:this.head=this.tail=null):(r+=S8(s,0,t),this.head=n,n.data=S8(s,t));break}++o}while((n=n.next)!==null);return this.length-=o,r}_getBuffer(t){const r=G1.allocUnsafe(t),n=t;let o=this.head,s=0;do{const a=o.data;if(t>a.length)Ow(r,a,n-t),t-=a.length;else{t===a.length?(Ow(r,a,n-t),++s,o.next?this.head=o.next:this.head=this.tail=null):(Ow(r,new oEe(a.buffer,a.byteOffset,t),n-t),this.head=o,o.data=a.slice(t));break}++s}while((o=o.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](t,r){return sEe(this,{...r,depth:0,customInspect:!1})}};const{MathFloor:lEe,NumberIsInteger:uEe}=Er,{validateInteger:fEe}=Pb,{ERR_INVALID_ARG_VALUE:cEe}=mi.codes;let E8=16*1024,R8=16;function dEe(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function x8(e){return e?R8:E8}function hEe(e,t){fEe(t,"value",0),e?R8=t:E8=t}function pEe(e,t,r,n){const o=dEe(t,n,r);if(o!=null){if(!uEe(o)||o<0){const s=n?`options.${r}`:"options.highWaterMark";throw new cEe(s,o)}return lEe(o)}return x8(e.objectMode)}var Lw={getHighWaterMark:pEe,getDefaultHighWaterMark:x8,setDefaultHighWaterMark:hEe},z1={},Dw={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var A8;function bEe(){return A8||(A8=1,function(e,t){var r=Ge,n=r.Buffer;function o(a,l){for(var f in a)l[f]=a[f]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=s);function s(a,l,f){return n(a,l,f)}s.prototype=Object.create(n.prototype),o(n,s),s.from=function(a,l,f){if(typeof a=="number")throw new TypeError("Argument must not be a number");return n(a,l,f)},s.alloc=function(a,l,f){if(typeof a!="number")throw new TypeError("Argument must be a number");var u=n(a);return l!==void 0?typeof f=="string"?u.fill(l,f):u.fill(l):u.fill(0),u},s.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n(a)},s.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(a)}}(Dw,Dw.exports)),Dw.exports}var $8;function Fi(){if($8)return z1;$8=1;var e=bEe().Buffer,t=e.isEncoding||function(E){switch(E=""+E,E&&E.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(E){if(!E)return"utf8";for(var x;;)switch(E){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return E;default:if(x)return;E=(""+E).toLowerCase(),x=!0}}function n(E){var x=r(E);if(typeof x!="string"&&(e.isEncoding===t||!t(E)))throw new Error("Unknown encoding: "+E);return x||E}z1.StringDecoder=o;function o(E){this.encoding=n(E);var x;switch(this.encoding){case"utf16le":this.text=g,this.end=h,x=4;break;case"utf8":this.fillLast=f,x=4;break;case"base64":this.text=p,this.end=w,x=3;break;default:this.write=y,this.end=v;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(x)}o.prototype.write=function(E){if(E.length===0)return"";var x,S;if(this.lastNeed){if(x=this.fillLast(E),x===void 0)return"";S=this.lastNeed,this.lastNeed=0}else S=0;return S<E.length?x?x+this.text(E,S):this.text(E,S):x||""},o.prototype.end=d,o.prototype.text=u,o.prototype.fillLast=function(E){if(this.lastNeed<=E.length)return E.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);E.copy(this.lastChar,this.lastTotal-this.lastNeed,0,E.length),this.lastNeed-=E.length};function s(E){return E<=127?0:E>>5===6?2:E>>4===14?3:E>>3===30?4:E>>6===2?-1:-2}function a(E,x,S){var N=x.length-1;if(N<S)return 0;var $=s(x[N]);return $>=0?($>0&&(E.lastNeed=$-1),$):--N<S||$===-2?0:($=s(x[N]),$>=0?($>0&&(E.lastNeed=$-2),$):--N<S||$===-2?0:($=s(x[N]),$>=0?($>0&&($===2?$=0:E.lastNeed=$-3),$):0))}function l(E,x,S){if((x[0]&192)!==128)return E.lastNeed=0,"�";if(E.lastNeed>1&&x.length>1){if((x[1]&192)!==128)return E.lastNeed=1,"�";if(E.lastNeed>2&&x.length>2&&(x[2]&192)!==128)return E.lastNeed=2,"�"}}function f(E){var x=this.lastTotal-this.lastNeed,S=l(this,E);if(S!==void 0)return S;if(this.lastNeed<=E.length)return E.copy(this.lastChar,x,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);E.copy(this.lastChar,x,0,E.length),this.lastNeed-=E.length}function u(E,x){var S=a(this,E,x);if(!this.lastNeed)return E.toString("utf8",x);this.lastTotal=S;var N=E.length-(S-this.lastNeed);return E.copy(this.lastChar,0,N),E.toString("utf8",x,N)}function d(E){var x=E&&E.length?this.write(E):"";return this.lastNeed?x+"�":x}function g(E,x){if((E.length-x)%2===0){var S=E.toString("utf16le",x);if(S){var N=S.charCodeAt(S.length-1);if(N>=55296&&N<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=E[E.length-2],this.lastChar[1]=E[E.length-1],S.slice(0,-1)}return S}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=E[E.length-1],E.toString("utf16le",x,E.length-1)}function h(E){var x=E&&E.length?this.write(E):"";if(this.lastNeed){var S=this.lastTotal-this.lastNeed;return x+this.lastChar.toString("utf16le",0,S)}return x}function p(E,x){var S=(E.length-x)%3;return S===0?E.toString("base64",x):(this.lastNeed=3-S,this.lastTotal=3,S===1?this.lastChar[0]=E[E.length-1]:(this.lastChar[0]=E[E.length-2],this.lastChar[1]=E[E.length-1]),E.toString("base64",x,E.length-S))}function w(E){var x=E&&E.length?this.write(E):"";return this.lastNeed?x+this.lastChar.toString("base64",0,3-this.lastNeed):x}function y(E){return E.toString(this.encoding)}function v(E){return E&&E.length?this.write(E):""}return z1}const T8=Qe,{PromisePrototypeThen:gEe,SymbolAsyncIterator:I8,SymbolIterator:N8}=Er,{Buffer:_Ee}=Ge,{ERR_INVALID_ARG_TYPE:yEe,ERR_STREAM_NULL_VALUES:wEe}=mi.codes;function mEe(e,t,r){let n;if(typeof t=="string"||t instanceof _Ee)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});let o;if(t&&t[I8])o=!0,n=t[I8]();else if(t&&t[N8])o=!1,n=t[N8]();else throw new yEe("iterable",["Iterable"],t);const s=new e({objectMode:!0,highWaterMark:1,...r});let a=!1;s._read=function(){a||(a=!0,f())},s._destroy=function(u,d){gEe(l(u),()=>T8.nextTick(d,u),g=>T8.nextTick(d,g||u))};async function l(u){const d=u!=null,g=typeof n.throw=="function";if(d&&g){const{value:h,done:p}=await n.throw(u);if(await h,p)return}if(typeof n.return=="function"){const{value:h}=await n.return();await h}}async function f(){for(;;){try{const{value:u,done:d}=o?await n.next():n.next();if(d)s.push(null);else{const g=u&&typeof u.then=="function"?await u:u;if(g===null)throw a=!1,new wEe;if(s.push(g))continue;a=!1}}catch(u){s.destroy(u)}break}}return s}var k8=mEe,K1,C8;function Mw(){if(C8)return K1;C8=1;const e=Qe,{ArrayPrototypeIndexOf:t,NumberIsInteger:r,NumberIsNaN:n,NumberParseInt:o,ObjectDefineProperties:s,ObjectKeys:a,ObjectSetPrototypeOf:l,Promise:f,SafeSet:u,SymbolAsyncDispose:d,SymbolAsyncIterator:g,Symbol:h}=Er;K1=F,F.ReadableState=ye;const{EventEmitter:p}=$t,{Stream:w,prependListener:y}=V1,{Buffer:v}=Ge,{addAbortSignal:E}=Cw,x=Zl;let S=Yn.debuglog("stream",c=>{S=c});const N=aEe,$=sh,{getHighWaterMark:D,getDefaultHighWaterMark:K}=Lw,{aggregateTwoErrors:q,codes:{ERR_INVALID_ARG_TYPE:k,ERR_METHOD_NOT_IMPLEMENTED:V,ERR_OUT_OF_RANGE:j,ERR_STREAM_PUSH_AFTER_EOF:B,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:A},AbortError:U}=mi,{validateObject:G}=Pb,H=h("kPaused"),{StringDecoder:Q}=Fi(),ne=k8;l(F.prototype,w.prototype),l(F,w);const se=()=>{},{errorOrDestroy:ae}=$,Z=1,ge=2,W=4,ue=8,xe=16,he=32,le=64,_e=128,Ae=256,We=512,ie=1024,te=2048,_=4096,m=8192,R=16384,O=32768,C=65536,X=1<<17,re=1<<18;function J(c){return{enumerable:!1,get(){return(this.state&c)!==0},set(b){b?this.state|=c:this.state&=~c}}}s(ye.prototype,{objectMode:J(Z),ended:J(ge),endEmitted:J(W),reading:J(ue),constructed:J(xe),sync:J(he),needReadable:J(le),emittedReadable:J(_e),readableListening:J(Ae),resumeScheduled:J(We),errorEmitted:J(ie),emitClose:J(te),autoDestroy:J(_),destroyed:J(m),closed:J(R),closeEmitted:J(O),multiAwaitDrain:J(C),readingMore:J(X),dataEmitted:J(re)});function ye(c,b,I){typeof I!="boolean"&&(I=b instanceof xa()),this.state=te|_|xe|he,c&&c.objectMode&&(this.state|=Z),I&&c&&c.readableObjectMode&&(this.state|=Z),this.highWaterMark=c?D(this,c,"readableHighWaterMark",I):K(!1),this.buffer=new N,this.length=0,this.pipes=[],this.flowing=null,this[H]=null,c&&c.emitClose===!1&&(this.state&=~te),c&&c.autoDestroy===!1&&(this.state&=~_),this.errored=null,this.defaultEncoding=c&&c.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,c&&c.encoding&&(this.decoder=new Q(c.encoding),this.encoding=c.encoding)}function F(c){if(!(this instanceof F))return new F(c);const b=this instanceof xa();this._readableState=new ye(c,this,b),c&&(typeof c.read=="function"&&(this._read=c.read),typeof c.destroy=="function"&&(this._destroy=c.destroy),typeof c.construct=="function"&&(this._construct=c.construct),c.signal&&!b&&E(c.signal,this)),w.call(this,c),$.construct(this,()=>{this._readableState.needReadable&&ce(this,this._readableState)})}F.prototype.destroy=$.destroy,F.prototype._undestroy=$.undestroy,F.prototype._destroy=function(c,b){b(c)},F.prototype[p.captureRejectionSymbol]=function(c){this.destroy(c)},F.prototype[d]=function(){let c;return this.destroyed||(c=this.readableEnded?null:new U,this.destroy(c)),new f((b,I)=>x(this,T=>T&&T!==c?I(T):b(null)))},F.prototype.push=function(c,b){return we(this,c,b,!1)},F.prototype.unshift=function(c,b){return we(this,c,b,!0)};function we(c,b,I,T){S("readableAddChunk",b);const P=c._readableState;let Ee;if(P.state&Z||(typeof b=="string"?(I=I||P.defaultEncoding,P.encoding!==I&&(T&&P.encoding?b=v.from(b,I).toString(P.encoding):(b=v.from(b,I),I=""))):b instanceof v?I="":w._isUint8Array(b)?(b=w._uint8ArrayToBuffer(b),I=""):b!=null&&(Ee=new k("chunk",["string","Buffer","Uint8Array"],b))),Ee)ae(c,Ee);else if(b===null)P.state&=~ue,L(c,P);else if(P.state&Z||b&&b.length>0)if(T)if(P.state&W)ae(c,new A);else{if(P.destroyed||P.errored)return!1;Ce(c,P,b,!0)}else if(P.ended)ae(c,new B);else{if(P.destroyed||P.errored)return!1;P.state&=~ue,P.decoder&&!I?(b=P.decoder.write(b),P.objectMode||b.length!==0?Ce(c,P,b,!1):ce(c,P)):Ce(c,P,b,!1)}else T||(P.state&=~ue,ce(c,P));return!P.ended&&(P.length<P.highWaterMark||P.length===0)}function Ce(c,b,I,T){b.flowing&&b.length===0&&!b.sync&&c.listenerCount("data")>0?(b.state&C?b.awaitDrainWriters.clear():b.awaitDrainWriters=null,b.dataEmitted=!0,c.emit("data",I)):(b.length+=b.objectMode?1:I.length,T?b.buffer.unshift(I):b.buffer.push(I),b.state&le&&M(c)),ce(c,b)}F.prototype.isPaused=function(){const c=this._readableState;return c[H]===!0||c.flowing===!1},F.prototype.setEncoding=function(c){const b=new Q(c);this._readableState.decoder=b,this._readableState.encoding=this._readableState.decoder.encoding;const I=this._readableState.buffer;let T="";for(const P of I)T+=b.write(P);return I.clear(),T!==""&&I.push(T),this._readableState.length=T.length,this};const Me=1073741824;function Ue(c){if(c>Me)throw new j("size","<= 1GiB",c);return c--,c|=c>>>1,c|=c>>>2,c|=c>>>4,c|=c>>>8,c|=c>>>16,c++,c}function z(c,b){return c<=0||b.length===0&&b.ended?0:b.state&Z?1:n(c)?b.flowing&&b.length?b.buffer.first().length:b.length:c<=b.length?c:b.ended?b.length:0}F.prototype.read=function(c){S("read",c),c===void 0?c=NaN:r(c)||(c=o(c,10));const b=this._readableState,I=c;if(c>b.highWaterMark&&(b.highWaterMark=Ue(c)),c!==0&&(b.state&=~_e),c===0&&b.needReadable&&((b.highWaterMark!==0?b.length>=b.highWaterMark:b.length>0)||b.ended))return S("read: emitReadable",b.length,b.ended),b.length===0&&b.ended?ht(this):M(this),null;if(c=z(c,b),c===0&&b.ended)return b.length===0&&ht(this),null;let T=(b.state&le)!==0;if(S("need readable",T),(b.length===0||b.length-c<b.highWaterMark)&&(T=!0,S("length less than watermark",T)),b.ended||b.reading||b.destroyed||b.errored||!b.constructed)T=!1,S("reading, ended or constructing",T);else if(T){S("do read"),b.state|=ue|he,b.length===0&&(b.state|=le);try{this._read(b.highWaterMark)}catch(Ee){ae(this,Ee)}b.state&=~he,b.reading||(c=z(I,b))}let P;return c>0?P=Mt(c,b):P=null,P===null?(b.needReadable=b.length<=b.highWaterMark,c=0):(b.length-=c,b.multiAwaitDrain?b.awaitDrainWriters.clear():b.awaitDrainWriters=null),b.length===0&&(b.ended||(b.needReadable=!0),I!==c&&b.ended&&ht(this)),P!==null&&!b.errorEmitted&&!b.closeEmitted&&(b.dataEmitted=!0,this.emit("data",P)),P};function L(c,b){if(S("onEofChunk"),!b.ended){if(b.decoder){const I=b.decoder.end();I&&I.length&&(b.buffer.push(I),b.length+=b.objectMode?1:I.length)}b.ended=!0,b.sync?M(c):(b.needReadable=!1,b.emittedReadable=!0,oe(c))}}function M(c){const b=c._readableState;S("emitReadable",b.needReadable,b.emittedReadable),b.needReadable=!1,b.emittedReadable||(S("emitReadable",b.flowing),b.emittedReadable=!0,e.nextTick(oe,c))}function oe(c){const b=c._readableState;S("emitReadable_",b.destroyed,b.length,b.ended),!b.destroyed&&!b.errored&&(b.length||b.ended)&&(c.emit("readable"),b.emittedReadable=!1),b.needReadable=!b.flowing&&!b.ended&&b.length<=b.highWaterMark,rt(c)}function ce(c,b){!b.readingMore&&b.constructed&&(b.readingMore=!0,e.nextTick(Se,c,b))}function Se(c,b){for(;!b.reading&&!b.ended&&(b.length<b.highWaterMark||b.flowing&&b.length===0);){const I=b.length;if(S("maybeReadMore read 0"),c.read(0),I===b.length)break}b.readingMore=!1}F.prototype._read=function(c){throw new V("_read()")},F.prototype.pipe=function(c,b){const I=this,T=this._readableState;T.pipes.length===1&&(T.multiAwaitDrain||(T.multiAwaitDrain=!0,T.awaitDrainWriters=new u(T.awaitDrainWriters?[T.awaitDrainWriters]:[]))),T.pipes.push(c),S("pipe count=%d opts=%j",T.pipes.length,b);const Ee=(!b||b.end!==!1)&&c!==e.stdout&&c!==e.stderr?de:Ke;T.endEmitted?e.nextTick(Ee):I.once("end",Ee),c.on("unpipe",$e);function $e(ke,Te){S("onunpipe"),ke===I&&Te&&Te.hasUnpiped===!1&&(Te.hasUnpiped=!0,Re())}function de(){S("onend"),c.end()}let ee,pe=!1;function Re(){S("cleanup"),c.removeListener("close",Ye),c.removeListener("finish",tt),ee&&c.removeListener("drain",ee),c.removeListener("error",Be),c.removeListener("unpipe",$e),I.removeListener("end",de),I.removeListener("end",Ke),I.removeListener("data",Ve),pe=!0,ee&&T.awaitDrainWriters&&(!c._writableState||c._writableState.needDrain)&&ee()}function me(){pe||(T.pipes.length===1&&T.pipes[0]===c?(S("false write response, pause",0),T.awaitDrainWriters=c,T.multiAwaitDrain=!1):T.pipes.length>1&&T.pipes.includes(c)&&(S("false write response, pause",T.awaitDrainWriters.size),T.awaitDrainWriters.add(c)),I.pause()),ee||(ee=ve(I,c),c.on("drain",ee))}I.on("data",Ve);function Ve(ke){S("ondata");const Te=c.write(ke);S("dest.write",Te),Te===!1&&me()}function Be(ke){if(S("onerror",ke),Ke(),c.removeListener("error",Be),c.listenerCount("error")===0){const Te=c._writableState||c._readableState;Te&&!Te.errorEmitted?ae(c,ke):c.emit("error",ke)}}y(c,"error",Be);function Ye(){c.removeListener("finish",tt),Ke()}c.once("close",Ye);function tt(){S("onfinish"),c.removeListener("close",Ye),Ke()}c.once("finish",tt);function Ke(){S("unpipe"),I.unpipe(c)}return c.emit("pipe",I),c.writableNeedDrain===!0?me():T.flowing||(S("pipe resume"),I.resume()),c};function ve(c,b){return function(){const T=c._readableState;T.awaitDrainWriters===b?(S("pipeOnDrain",1),T.awaitDrainWriters=null):T.multiAwaitDrain&&(S("pipeOnDrain",T.awaitDrainWriters.size),T.awaitDrainWriters.delete(b)),(!T.awaitDrainWriters||T.awaitDrainWriters.size===0)&&c.listenerCount("data")&&c.resume()}}F.prototype.unpipe=function(c){const b=this._readableState,I={hasUnpiped:!1};if(b.pipes.length===0)return this;if(!c){const P=b.pipes;b.pipes=[],this.pause();for(let Ee=0;Ee<P.length;Ee++)P[Ee].emit("unpipe",this,{hasUnpiped:!1});return this}const T=t(b.pipes,c);return T===-1?this:(b.pipes.splice(T,1),b.pipes.length===0&&this.pause(),c.emit("unpipe",this,I),this)},F.prototype.on=function(c,b){const I=w.prototype.on.call(this,c,b),T=this._readableState;return c==="data"?(T.readableListening=this.listenerCount("readable")>0,T.flowing!==!1&&this.resume()):c==="readable"&&!T.endEmitted&&!T.readableListening&&(T.readableListening=T.needReadable=!0,T.flowing=!1,T.emittedReadable=!1,S("on readable",T.length,T.reading),T.length?M(this):T.reading||e.nextTick(dt,this)),I},F.prototype.addListener=F.prototype.on,F.prototype.removeListener=function(c,b){const I=w.prototype.removeListener.call(this,c,b);return c==="readable"&&e.nextTick(ze,this),I},F.prototype.off=F.prototype.removeListener,F.prototype.removeAllListeners=function(c){const b=w.prototype.removeAllListeners.apply(this,arguments);return(c==="readable"||c===void 0)&&e.nextTick(ze,this),b};function ze(c){const b=c._readableState;b.readableListening=c.listenerCount("readable")>0,b.resumeScheduled&&b[H]===!1?b.flowing=!0:c.listenerCount("data")>0?c.resume():b.readableListening||(b.flowing=null)}function dt(c){S("readable nexttick read 0"),c.read(0)}F.prototype.resume=function(){const c=this._readableState;return c.flowing||(S("resume"),c.flowing=!c.readableListening,et(this,c)),c[H]=!1,this};function et(c,b){b.resumeScheduled||(b.resumeScheduled=!0,e.nextTick(Xe,c,b))}function Xe(c,b){S("resume",b.reading),b.reading||c.read(0),b.resumeScheduled=!1,c.emit("resume"),rt(c),b.flowing&&!b.reading&&c.read(0)}F.prototype.pause=function(){return S("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(S("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[H]=!0,this};function rt(c){const b=c._readableState;for(S("flow",b.flowing);b.flowing&&c.read()!==null;);}F.prototype.wrap=function(c){let b=!1;c.on("data",T=>{!this.push(T)&&c.pause&&(b=!0,c.pause())}),c.on("end",()=>{this.push(null)}),c.on("error",T=>{ae(this,T)}),c.on("close",()=>{this.destroy()}),c.on("destroy",()=>{this.destroy()}),this._read=()=>{b&&c.resume&&(b=!1,c.resume())};const I=a(c);for(let T=1;T<I.length;T++){const P=I[T];this[P]===void 0&&typeof c[P]=="function"&&(this[P]=c[P].bind(c))}return this},F.prototype[g]=function(){return Lt(this)},F.prototype.iterator=function(c){return c!==void 0&&G(c,"options"),Lt(this,c)};function Lt(c,b){typeof c.read!="function"&&(c=F.wrap(c,{objectMode:!0}));const I=vr(c,b);return I.stream=c,I}async function*vr(c,b){let I=se;function T($e){this===c?(I(),I=se):I=$e}c.on("readable",T);let P;const Ee=x(c,{writable:!1},$e=>{P=$e?q(P,$e):null,I(),I=se});try{for(;;){const $e=c.destroyed?null:c.read();if($e!==null)yield $e;else{if(P)throw P;if(P===null)return;await new f(T)}}}catch($e){throw P=q(P,$e),P}finally{(P||(b==null?void 0:b.destroyOnReturn)!==!1)&&(P===void 0||c._readableState.autoDestroy)?$.destroyer(c,null):(c.off("readable",T),Ee())}}s(F.prototype,{readable:{__proto__:null,get(){const c=this._readableState;return!!c&&c.readable!==!1&&!c.destroyed&&!c.errorEmitted&&!c.endEmitted},set(c){this._readableState&&(this._readableState.readable=!!c)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(c){this._readableState&&(this._readableState.flowing=c)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(c){this._readableState&&(this._readableState.destroyed=c)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),s(ye.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[H]!==!1},set(c){this[H]=!!c}}}),F._fromList=Mt;function Mt(c,b){if(b.length===0)return null;let I;return b.objectMode?I=b.buffer.shift():!c||c>=b.length?(b.decoder?I=b.buffer.join(""):b.buffer.length===1?I=b.buffer.first():I=b.buffer.concat(b.length),b.buffer.clear()):I=b.buffer.consume(c,b.decoder),I}function ht(c){const b=c._readableState;S("endReadable",b.endEmitted),b.endEmitted||(b.ended=!0,e.nextTick(wr,b,c))}function wr(c,b){if(S("endReadableNT",c.endEmitted,c.length),!c.errored&&!c.closeEmitted&&!c.endEmitted&&c.length===0){if(c.endEmitted=!0,b.emit("end"),b.writable&&b.allowHalfOpen===!1)e.nextTick(rr,b);else if(c.autoDestroy){const I=b._writableState;(!I||I.autoDestroy&&(I.finished||I.writable===!1))&&b.destroy()}}}function rr(c){c.writable&&!c.writableEnded&&!c.destroyed&&c.end()}F.from=function(c,b){return ne(F,c,b)};let _t;function jt(){return _t===void 0&&(_t={}),_t}return F.fromWeb=function(c,b){return jt().newStreamReadableFromReadableStream(c,b)},F.toWeb=function(c,b){return jt().newReadableStreamFromStreamReadable(c,b)},F.wrap=function(c,b){var I,T;return new F({objectMode:(I=(T=c.readableObjectMode)!==null&&T!==void 0?T:c.objectMode)!==null&&I!==void 0?I:!0,...b,destroy(P,Ee){$.destroyer(c,P),Ee(P)}}).wrap(c)},K1}var J1,O8;function Y1(){if(O8)return J1;O8=1;const e=Qe,{ArrayPrototypeSlice:t,Error:r,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:o,ObjectDefineProperties:s,ObjectSetPrototypeOf:a,StringPrototypeToLowerCase:l,Symbol:f,SymbolHasInstance:u}=Er;J1=G,G.WritableState=A;const{EventEmitter:d}=$t,g=V1.Stream,{Buffer:h}=Ge,p=sh,{addAbortSignal:w}=Cw,{getHighWaterMark:y,getDefaultHighWaterMark:v}=Lw,{ERR_INVALID_ARG_TYPE:E,ERR_METHOD_NOT_IMPLEMENTED:x,ERR_MULTIPLE_CALLBACK:S,ERR_STREAM_CANNOT_PIPE:N,ERR_STREAM_DESTROYED:$,ERR_STREAM_ALREADY_FINISHED:D,ERR_STREAM_NULL_VALUES:K,ERR_STREAM_WRITE_AFTER_END:q,ERR_UNKNOWN_ENCODING:k}=mi.codes,{errorOrDestroy:V}=p;a(G.prototype,g.prototype),a(G,g);function j(){}const B=f("kOnFinished");function A(_,m,R){typeof R!="boolean"&&(R=m instanceof xa()),this.objectMode=!!(_&&_.objectMode),R&&(this.objectMode=this.objectMode||!!(_&&_.writableObjectMode)),this.highWaterMark=_?y(this,_,"writableHighWaterMark",R):v(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const O=!!(_&&_.decodeStrings===!1);this.decodeStrings=!O,this.defaultEncoding=_&&_.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=ae.bind(void 0,m),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,U(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!_||_.emitClose!==!1,this.autoDestroy=!_||_.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[B]=[]}function U(_){_.buffered=[],_.bufferedIndex=0,_.allBuffers=!0,_.allNoop=!0}A.prototype.getBuffer=function(){return t(this.buffered,this.bufferedIndex)},o(A.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function G(_){const m=this instanceof xa();if(!m&&!n(G,this))return new G(_);this._writableState=new A(_,this,m),_&&(typeof _.write=="function"&&(this._write=_.write),typeof _.writev=="function"&&(this._writev=_.writev),typeof _.destroy=="function"&&(this._destroy=_.destroy),typeof _.final=="function"&&(this._final=_.final),typeof _.construct=="function"&&(this._construct=_.construct),_.signal&&w(_.signal,this)),g.call(this,_),p.construct(this,()=>{const R=this._writableState;R.writing||ue(this,R),_e(this,R)})}o(G,u,{__proto__:null,value:function(_){return n(this,_)?!0:this!==G?!1:_&&_._writableState instanceof A}}),G.prototype.pipe=function(){V(this,new N)};function H(_,m,R,O){const C=_._writableState;if(typeof R=="function")O=R,R=C.defaultEncoding;else{if(!R)R=C.defaultEncoding;else if(R!=="buffer"&&!h.isEncoding(R))throw new k(R);typeof O!="function"&&(O=j)}if(m===null)throw new K;if(!C.objectMode)if(typeof m=="string")C.decodeStrings!==!1&&(m=h.from(m,R),R="buffer");else if(m instanceof h)R="buffer";else if(g._isUint8Array(m))m=g._uint8ArrayToBuffer(m),R="buffer";else throw new E("chunk",["string","Buffer","Uint8Array"],m);let X;return C.ending?X=new q:C.destroyed&&(X=new $("write")),X?(e.nextTick(O,X),V(_,X,!0),X):(C.pendingcb++,Q(_,C,m,R,O))}G.prototype.write=function(_,m,R){return H(this,_,m,R)===!0},G.prototype.cork=function(){this._writableState.corked++},G.prototype.uncork=function(){const _=this._writableState;_.corked&&(_.corked--,_.writing||ue(this,_))},G.prototype.setDefaultEncoding=function(m){if(typeof m=="string"&&(m=l(m)),!h.isEncoding(m))throw new k(m);return this._writableState.defaultEncoding=m,this};function Q(_,m,R,O,C){const X=m.objectMode?1:R.length;m.length+=X;const re=m.length<m.highWaterMark;return re||(m.needDrain=!0),m.writing||m.corked||m.errored||!m.constructed?(m.buffered.push({chunk:R,encoding:O,callback:C}),m.allBuffers&&O!=="buffer"&&(m.allBuffers=!1),m.allNoop&&C!==j&&(m.allNoop=!1)):(m.writelen=X,m.writecb=C,m.writing=!0,m.sync=!0,_._write(R,O,m.onwrite),m.sync=!1),re&&!m.errored&&!m.destroyed}function ne(_,m,R,O,C,X,re){m.writelen=O,m.writecb=re,m.writing=!0,m.sync=!0,m.destroyed?m.onwrite(new $("write")):R?_._writev(C,m.onwrite):_._write(C,X,m.onwrite),m.sync=!1}function se(_,m,R,O){--m.pendingcb,O(R),W(m),V(_,R)}function ae(_,m){const R=_._writableState,O=R.sync,C=R.writecb;if(typeof C!="function"){V(_,new S);return}R.writing=!1,R.writecb=null,R.length-=R.writelen,R.writelen=0,m?(m.stack,R.errored||(R.errored=m),_._readableState&&!_._readableState.errored&&(_._readableState.errored=m),O?e.nextTick(se,_,R,m,C):se(_,R,m,C)):(R.buffered.length>R.bufferedIndex&&ue(_,R),O?R.afterWriteTickInfo!==null&&R.afterWriteTickInfo.cb===C?R.afterWriteTickInfo.count++:(R.afterWriteTickInfo={count:1,cb:C,stream:_,state:R},e.nextTick(Z,R.afterWriteTickInfo)):ge(_,R,1,C))}function Z({stream:_,state:m,count:R,cb:O}){return m.afterWriteTickInfo=null,ge(_,m,R,O)}function ge(_,m,R,O){for(!m.ending&&!_.destroyed&&m.length===0&&m.needDrain&&(m.needDrain=!1,_.emit("drain"));R-- >0;)m.pendingcb--,O();m.destroyed&&W(m),_e(_,m)}function W(_){if(_.writing)return;for(let C=_.bufferedIndex;C<_.buffered.length;++C){var m;const{chunk:X,callback:re}=_.buffered[C],J=_.objectMode?1:X.length;_.length-=J,re((m=_.errored)!==null&&m!==void 0?m:new $("write"))}const R=_[B].splice(0);for(let C=0;C<R.length;C++){var O;R[C]((O=_.errored)!==null&&O!==void 0?O:new $("end"))}U(_)}function ue(_,m){if(m.corked||m.bufferProcessing||m.destroyed||!m.constructed)return;const{buffered:R,bufferedIndex:O,objectMode:C}=m,X=R.length-O;if(!X)return;let re=O;if(m.bufferProcessing=!0,X>1&&_._writev){m.pendingcb-=X-1;const J=m.allNoop?j:F=>{for(let we=re;we<R.length;++we)R[we].callback(F)},ye=m.allNoop&&re===0?R:t(R,re);ye.allBuffers=m.allBuffers,ne(_,m,!0,m.length,ye,"",J),U(m)}else{do{const{chunk:J,encoding:ye,callback:F}=R[re];R[re++]=null;const we=C?1:J.length;ne(_,m,!1,we,J,ye,F)}while(re<R.length&&!m.writing);re===R.length?U(m):re>256?(R.splice(0,re),m.bufferedIndex=0):m.bufferedIndex=re}m.bufferProcessing=!1}G.prototype._write=function(_,m,R){if(this._writev)this._writev([{chunk:_,encoding:m}],R);else throw new x("_write()")},G.prototype._writev=null,G.prototype.end=function(_,m,R){const O=this._writableState;typeof _=="function"?(R=_,_=null,m=null):typeof m=="function"&&(R=m,m=null);let C;if(_!=null){const X=H(this,_,m);X instanceof r&&(C=X)}return O.corked&&(O.corked=1,this.uncork()),C||(!O.errored&&!O.ending?(O.ending=!0,_e(this,O,!0),O.ended=!0):O.finished?C=new D("end"):O.destroyed&&(C=new $("end"))),typeof R=="function"&&(C||O.finished?e.nextTick(R,C):O[B].push(R)),this};function xe(_){return _.ending&&!_.destroyed&&_.constructed&&_.length===0&&!_.errored&&_.buffered.length===0&&!_.finished&&!_.writing&&!_.errorEmitted&&!_.closeEmitted}function he(_,m){let R=!1;function O(C){if(R){V(_,C??S());return}if(R=!0,m.pendingcb--,C){const X=m[B].splice(0);for(let re=0;re<X.length;re++)X[re](C);V(_,C,m.sync)}else xe(m)&&(m.prefinished=!0,_.emit("prefinish"),m.pendingcb++,e.nextTick(Ae,_,m))}m.sync=!0,m.pendingcb++;try{_._final(O)}catch(C){O(C)}m.sync=!1}function le(_,m){!m.prefinished&&!m.finalCalled&&(typeof _._final=="function"&&!m.destroyed?(m.finalCalled=!0,he(_,m)):(m.prefinished=!0,_.emit("prefinish")))}function _e(_,m,R){xe(m)&&(le(_,m),m.pendingcb===0&&(R?(m.pendingcb++,e.nextTick((O,C)=>{xe(C)?Ae(O,C):C.pendingcb--},_,m)):xe(m)&&(m.pendingcb++,Ae(_,m))))}function Ae(_,m){m.pendingcb--,m.finished=!0;const R=m[B].splice(0);for(let O=0;O<R.length;O++)R[O]();if(_.emit("finish"),m.autoDestroy){const O=_._readableState;(!O||O.autoDestroy&&(O.endEmitted||O.readable===!1))&&_.destroy()}}s(G.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(_){this._writableState&&(this._writableState.destroyed=_)}},writable:{__proto__:null,get(){const _=this._writableState;return!!_&&_.writable!==!1&&!_.destroyed&&!_.errored&&!_.ending&&!_.ended},set(_){this._writableState&&(this._writableState.writable=!!_)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const _=this._writableState;return _?!_.destroyed&&!_.ending&&_.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const We=p.destroy;G.prototype.destroy=function(_,m){const R=this._writableState;return!R.destroyed&&(R.bufferedIndex<R.buffered.length||R[B].length)&&e.nextTick(W,R),We.call(this,_,m),this},G.prototype._undestroy=p.undestroy,G.prototype._destroy=function(_,m){m(_)},G.prototype[d.captureRejectionSymbol]=function(_){this.destroy(_)};let ie;function te(){return ie===void 0&&(ie={}),ie}return G.fromWeb=function(_,m){return te().newStreamWritableFromWritableStream(_,m)},G.toWeb=function(_){return te().newWritableStreamFromStreamWritable(_)},J1}var X1,L8;function vEe(){if(L8)return X1;L8=1;const e=Qe,t=Ge,{isReadable:r,isWritable:n,isIterable:o,isNodeStream:s,isReadableNodeStream:a,isWritableNodeStream:l,isDuplexNodeStream:f,isReadableStream:u,isWritableStream:d}=Ra,g=Zl,{AbortError:h,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:w}}=mi,{destroyer:y}=sh,v=xa(),E=Mw(),x=Y1(),{createDeferredPromise:S}=Yn,N=k8,$=globalThis.Blob||t.Blob,D=typeof $<"u"?function(A){return A instanceof $}:function(A){return!1},K=globalThis.AbortController||bt().AbortController,{FunctionPrototypeCall:q}=Er;class k extends v{constructor(A){super(A),(A==null?void 0:A.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(A==null?void 0:A.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}X1=function B(A,U){if(f(A))return A;if(a(A))return j({readable:A});if(l(A))return j({writable:A});if(s(A))return j({writable:!1,readable:!1});if(u(A))return j({readable:E.fromWeb(A)});if(d(A))return j({writable:x.fromWeb(A)});if(typeof A=="function"){const{value:H,write:Q,final:ne,destroy:se}=V(A);if(o(H))return N(k,H,{objectMode:!0,write:Q,final:ne,destroy:se});const ae=H==null?void 0:H.then;if(typeof ae=="function"){let Z;const ge=q(ae,H,W=>{if(W!=null)throw new w("nully","body",W)},W=>{y(Z,W)});return Z=new k({objectMode:!0,readable:!1,write:Q,final(W){ne(async()=>{try{await ge,e.nextTick(W,null)}catch(ue){e.nextTick(W,ue)}})},destroy:se})}throw new w("Iterable, AsyncIterable or AsyncFunction",U,H)}if(D(A))return B(A.arrayBuffer());if(o(A))return N(k,A,{objectMode:!0,writable:!1});if(u(A==null?void 0:A.readable)&&d(A==null?void 0:A.writable))return k.fromWeb(A);if(typeof(A==null?void 0:A.writable)=="object"||typeof(A==null?void 0:A.readable)=="object"){const H=A!=null&&A.readable?a(A==null?void 0:A.readable)?A==null?void 0:A.readable:B(A.readable):void 0,Q=A!=null&&A.writable?l(A==null?void 0:A.writable)?A==null?void 0:A.writable:B(A.writable):void 0;return j({readable:H,writable:Q})}const G=A==null?void 0:A.then;if(typeof G=="function"){let H;return q(G,A,Q=>{Q!=null&&H.push(Q),H.push(null)},Q=>{y(H,Q)}),H=new k({objectMode:!0,writable:!1,read(){}})}throw new p(U,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],A)};function V(B){let{promise:A,resolve:U}=S();const G=new K,H=G.signal;return{value:B(async function*(){for(;;){const ne=A;A=null;const{chunk:se,done:ae,cb:Z}=await ne;if(e.nextTick(Z),ae)return;if(H.aborted)throw new h(void 0,{cause:H.reason});({promise:A,resolve:U}=S()),yield se}}(),{signal:H}),write(ne,se,ae){const Z=U;U=null,Z({chunk:ne,done:!1,cb:ae})},final(ne){const se=U;U=null,se({done:!0,cb:ne})},destroy(ne,se){G.abort(),se(ne)}}}function j(B){const A=B.readable&&typeof B.readable.read!="function"?E.wrap(B.readable):B.readable,U=B.writable;let G=!!r(A),H=!!n(U),Q,ne,se,ae,Z;function ge(W){const ue=ae;ae=null,ue?ue(W):W&&Z.destroy(W)}return Z=new k({readableObjectMode:!!(A!=null&&A.readableObjectMode),writableObjectMode:!!(U!=null&&U.writableObjectMode),readable:G,writable:H}),H&&(g(U,W=>{H=!1,W&&y(A,W),ge(W)}),Z._write=function(W,ue,xe){U.write(W,ue)?xe():Q=xe},Z._final=function(W){U.end(),ne=W},U.on("drain",function(){if(Q){const W=Q;Q=null,W()}}),U.on("finish",function(){if(ne){const W=ne;ne=null,W()}})),G&&(g(A,W=>{G=!1,W&&y(A,W),ge(W)}),A.on("readable",function(){if(se){const W=se;se=null,W()}}),A.on("end",function(){Z.push(null)}),Z._read=function(){for(;;){const W=A.read();if(W===null){se=Z._read;return}if(!Z.push(W))return}}),Z._destroy=function(W,ue){!W&&ae!==null&&(W=new h),se=null,Q=null,ne=null,ae===null?ue(W):(ae=ue,y(U,W),y(A,W))},Z}return X1}var Q1,D8;function xa(){if(D8)return Q1;D8=1;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:r,ObjectSetPrototypeOf:n}=Er;Q1=a;const o=Mw(),s=Y1();n(a.prototype,o.prototype),n(a,o);{const d=r(s.prototype);for(let g=0;g<d.length;g++){const h=d[g];a.prototype[h]||(a.prototype[h]=s.prototype[h])}}function a(d){if(!(this instanceof a))return new a(d);o.call(this,d),s.call(this,d),d?(this.allowHalfOpen=d.allowHalfOpen!==!1,d.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),d.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(a.prototype,{writable:{__proto__:null,...t(s.prototype,"writable")},writableHighWaterMark:{__proto__:null,...t(s.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...t(s.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...t(s.prototype,"writableBuffer")},writableLength:{__proto__:null,...t(s.prototype,"writableLength")},writableFinished:{__proto__:null,...t(s.prototype,"writableFinished")},writableCorked:{__proto__:null,...t(s.prototype,"writableCorked")},writableEnded:{__proto__:null,...t(s.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...t(s.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(d){this._readableState&&this._writableState&&(this._readableState.destroyed=d,this._writableState.destroyed=d)}}});let l;function f(){return l===void 0&&(l={}),l}a.fromWeb=function(d,g){return f().newStreamDuplexFromReadableWritablePair(d,g)},a.toWeb=function(d){return f().newReadableWritablePairFromDuplex(d)};let u;return a.from=function(d){return u||(u=vEe()),u(d,"body")},Q1}const{ObjectSetPrototypeOf:M8,Symbol:SEe}=Er;var P8=Aa;const{ERR_METHOD_NOT_IMPLEMENTED:EEe}=mi.codes,Z1=xa(),{getHighWaterMark:REe}=Lw;M8(Aa.prototype,Z1.prototype),M8(Aa,Z1);const Fb=SEe("kCallback");function Aa(e){if(!(this instanceof Aa))return new Aa(e);const t=e?REe(this,e,"readableHighWaterMark",!0):null;t===0&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),Z1.call(this,e),this._readableState.sync=!1,this[Fb]=null,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",xEe)}function eA(e){typeof this._flush=="function"&&!this.destroyed?this._flush((t,r)=>{if(t){e?e(t):this.destroy(t);return}r!=null&&this.push(r),this.push(null),e&&e()}):(this.push(null),e&&e())}function xEe(){this._final!==eA&&eA.call(this)}Aa.prototype._final=eA,Aa.prototype._transform=function(e,t,r){throw new EEe("_transform()")},Aa.prototype._write=function(e,t,r){const n=this._readableState,o=this._writableState,s=n.length;this._transform(e,t,(a,l)=>{if(a){r(a);return}l!=null&&this.push(l),o.ended||s===n.length||n.length<n.highWaterMark?r():this[Fb]=r})},Aa.prototype._read=function(){if(this[Fb]){const e=this[Fb];this[Fb]=null,e()}};const{ObjectSetPrototypeOf:F8}=Er;var j8=ah;const tA=P8;F8(ah.prototype,tA.prototype),F8(ah,tA);function ah(e){if(!(this instanceof ah))return new ah(e);tA.call(this,e)}ah.prototype._transform=function(e,t,r){r(null,e)};const jb=Qe,{ArrayIsArray:AEe,Promise:$Ee,SymbolAsyncIterator:TEe,SymbolDispose:IEe}=Er,Pw=Zl,{once:NEe}=Yn,kEe=sh,W8=xa(),{aggregateTwoErrors:CEe,codes:{ERR_INVALID_ARG_TYPE:rA,ERR_INVALID_RETURN_VALUE:nA,ERR_MISSING_ARGS:OEe,ERR_STREAM_DESTROYED:LEe,ERR_STREAM_PREMATURE_CLOSE:DEe},AbortError:MEe}=mi,{validateFunction:PEe,validateAbortSignal:FEe}=Pb,{isIterable:If,isReadable:iA,isReadableNodeStream:Fw,isNodeStream:B8,isTransformStream:lh,isWebStream:jEe,isReadableStream:oA,isReadableFinished:WEe}=Ra,BEe=globalThis.AbortController||bt().AbortController;let sA,aA,lA;function U8(e,t,r){let n=!1;e.on("close",()=>{n=!0});const o=Pw(e,{readable:t,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,kEe.destroyer(e,s||new LEe("pipe")))},cleanup:o}}function UEe(e){return PEe(e[e.length-1],"streams[stream.length - 1]"),e.pop()}function uA(e){if(If(e))return e;if(Fw(e))return qEe(e);throw new rA("val",["Readable","Iterable","AsyncIterable"],e)}async function*qEe(e){aA||(aA=Mw()),yield*aA.prototype[TEe].call(e)}async function jw(e,t,r,{end:n}){let o,s=null;const a=u=>{if(u&&(o=u),s){const d=s;s=null,d()}},l=()=>new $Ee((u,d)=>{o?d(o):s=()=>{o?d(o):u()}});t.on("drain",a);const f=Pw(t,{readable:!1},a);try{t.writableNeedDrain&&await l();for await(const u of e)t.write(u)||await l();n&&(t.end(),await l()),r()}catch(u){r(o!==u?CEe(o,u):u)}finally{f(),t.off("drain",a)}}async function fA(e,t,r,{end:n}){lh(t)&&(t=t.writable);const o=t.getWriter();try{for await(const s of e)await o.ready,o.write(s).catch(()=>{});await o.ready,n&&await o.close(),r()}catch(s){try{await o.abort(s),r(s)}catch(a){r(a)}}}function HEe(...e){return q8(e,NEe(UEe(e)))}function q8(e,t,r){if(e.length===1&&AEe(e[0])&&(e=e[0]),e.length<2)throw new OEe("streams");const n=new BEe,o=n.signal,s=r==null?void 0:r.signal,a=[];FEe(s,"options.signal");function l(){w(new MEe)}lA=lA||Yn.addAbortListener;let f;s&&(f=lA(s,l));let u,d;const g=[];let h=0;function p(x){w(x,--h===0)}function w(x,S){var N;if(x&&(!u||u.code==="ERR_STREAM_PREMATURE_CLOSE")&&(u=x),!(!u&&!S)){for(;g.length;)g.shift()(u);(N=f)===null||N===void 0||N[IEe](),n.abort(),S&&(u||a.forEach($=>$()),jb.nextTick(t,u,d))}}let y;for(let x=0;x<e.length;x++){const S=e[x],N=x<e.length-1,$=x>0,D=N||(r==null?void 0:r.end)!==!1,K=x===e.length-1;if(B8(S)){let q=function(k){k&&k.name!=="AbortError"&&k.code!=="ERR_STREAM_PREMATURE_CLOSE"&&p(k)};if(D){const{destroy:k,cleanup:V}=U8(S,N,$);g.push(k),iA(S)&&K&&a.push(V)}S.on("error",q),iA(S)&&K&&a.push(()=>{S.removeListener("error",q)})}if(x===0)if(typeof S=="function"){if(y=S({signal:o}),!If(y))throw new nA("Iterable, AsyncIterable or Stream","source",y)}else If(S)||Fw(S)||lh(S)?y=S:y=W8.from(S);else if(typeof S=="function"){if(lh(y)){var v;y=uA((v=y)===null||v===void 0?void 0:v.readable)}else y=uA(y);if(y=S(y,{signal:o}),N){if(!If(y,!0))throw new nA("AsyncIterable",`transform[${x-1}]`,y)}else{var E;sA||(sA=j8);const q=new sA({objectMode:!0}),k=(E=y)===null||E===void 0?void 0:E.then;if(typeof k=="function")h++,k.call(y,B=>{d=B,B!=null&&q.write(B),D&&q.end(),jb.nextTick(p)},B=>{q.destroy(B),jb.nextTick(p,B)});else if(If(y,!0))h++,jw(y,q,p,{end:D});else if(oA(y)||lh(y)){const B=y.readable||y;h++,jw(B,q,p,{end:D})}else throw new nA("AsyncIterable or Promise","destination",y);y=q;const{destroy:V,cleanup:j}=U8(y,!1,!0);g.push(V),K&&a.push(j)}}else if(B8(S)){if(Fw(y)){h+=2;const q=VEe(y,S,p,{end:D});iA(S)&&K&&a.push(q)}else if(lh(y)||oA(y)){const q=y.readable||y;h++,jw(q,S,p,{end:D})}else if(If(y))h++,jw(y,S,p,{end:D});else throw new rA("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],y);y=S}else if(jEe(S)){if(Fw(y))h++,fA(uA(y),S,p,{end:D});else if(oA(y)||If(y))h++,fA(y,S,p,{end:D});else if(lh(y))h++,fA(y.readable,S,p,{end:D});else throw new rA("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],y);y=S}else y=W8.from(S)}return(o!=null&&o.aborted||s!=null&&s.aborted)&&jb.nextTick(l),y}function VEe(e,t,r,{end:n}){let o=!1;if(t.on("close",()=>{o||r(new DEe)}),e.pipe(t,{end:!1}),n){let s=function(){o=!0,t.end()};WEe(e)?jb.nextTick(s):e.once("end",s)}else r();return Pw(e,{readable:!0,writable:!1},s=>{const a=e._readableState;s&&s.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?e.once("end",r).once("error",r):r(s)}),Pw(t,{readable:!1,writable:!0},r)}var cA={pipelineImpl:q8,pipeline:HEe};const{pipeline:GEe}=cA,Ww=xa(),{destroyer:zEe}=sh,{isNodeStream:Bw,isReadable:H8,isWritable:V8,isWebStream:dA,isTransformStream:Nf,isWritableStream:G8,isReadableStream:z8}=Ra,{AbortError:KEe,codes:{ERR_INVALID_ARG_VALUE:K8,ERR_MISSING_ARGS:JEe}}=mi,YEe=Zl;var J8=function(...t){if(t.length===0)throw new JEe("streams");if(t.length===1)return Ww.from(t[0]);const r=[...t];if(typeof t[0]=="function"&&(t[0]=Ww.from(t[0])),typeof t[t.length-1]=="function"){const p=t.length-1;t[p]=Ww.from(t[p])}for(let p=0;p<t.length;++p)if(!(!Bw(t[p])&&!dA(t[p]))){if(p<t.length-1&&!(H8(t[p])||z8(t[p])||Nf(t[p])))throw new K8(`streams[${p}]`,r[p],"must be readable");if(p>0&&!(V8(t[p])||G8(t[p])||Nf(t[p])))throw new K8(`streams[${p}]`,r[p],"must be writable")}let n,o,s,a,l;function f(p){const w=a;a=null,w?w(p):p?l.destroy(p):!h&&!g&&l.destroy()}const u=t[0],d=GEe(t,f),g=!!(V8(u)||G8(u)||Nf(u)),h=!!(H8(d)||z8(d)||Nf(d));if(l=new Ww({writableObjectMode:!!(u!=null&&u.writableObjectMode),readableObjectMode:!!(d!=null&&d.readableObjectMode),writable:g,readable:h}),g){if(Bw(u))l._write=function(w,y,v){u.write(w,y)?v():n=v},l._final=function(w){u.end(),o=w},u.on("drain",function(){if(n){const w=n;n=null,w()}});else if(dA(u)){const y=(Nf(u)?u.writable:u).getWriter();l._write=async function(v,E,x){try{await y.ready,y.write(v).catch(()=>{}),x()}catch(S){x(S)}},l._final=async function(v){try{await y.ready,y.close().catch(()=>{}),o=v}catch(E){v(E)}}}const p=Nf(d)?d.readable:d;YEe(p,()=>{if(o){const w=o;o=null,w()}})}if(h){if(Bw(d))d.on("readable",function(){if(s){const p=s;s=null,p()}}),d.on("end",function(){l.push(null)}),l._read=function(){for(;;){const p=d.read();if(p===null){s=l._read;return}if(!l.push(p))return}};else if(dA(d)){const w=(Nf(d)?d.readable:d).getReader();l._read=async function(){for(;;)try{const{value:y,done:v}=await w.read();if(!l.push(y))return;if(v){l.push(null);return}}catch{return}}}}return l._destroy=function(p,w){!p&&a!==null&&(p=new KEe),s=null,n=null,o=null,a===null?w(p):(a=w,Bw(d)&&zEe(d,p))},l};const XEe=globalThis.AbortController||bt().AbortController,{codes:{ERR_INVALID_ARG_VALUE:QEe,ERR_INVALID_ARG_TYPE:Wb,ERR_MISSING_ARGS:ZEe,ERR_OUT_OF_RANGE:eRe},AbortError:Rs}=mi,{validateAbortSignal:kf,validateInteger:Y8,validateObject:Cf}=Pb,tRe=Er.Symbol("kWeak"),rRe=Er.Symbol("kResistStopPropagation"),{finished:nRe}=Zl,iRe=J8,{addAbortSignalNoValidate:oRe}=Cw,{isWritable:sRe,isNodeStream:aRe}=Ra,{deprecate:lRe}=Yn,{ArrayPrototypePush:uRe,Boolean:fRe,MathFloor:X8,Number:cRe,NumberIsNaN:dRe,Promise:Q8,PromiseReject:Z8,PromiseResolve:hRe,PromisePrototypeThen:e7,Symbol:t7}=Er,Uw=t7("kEmpty"),r7=t7("kEof");function pRe(e,t){if(t!=null&&Cf(t,"options"),(t==null?void 0:t.signal)!=null&&kf(t.signal,"options.signal"),aRe(e)&&!sRe(e))throw new QEe("stream",e,"must be writable");const r=iRe(this,e);return t!=null&&t.signal&&oRe(t.signal,r),r}function qw(e,t){if(typeof e!="function")throw new Wb("fn",["Function","AsyncFunction"],e);t!=null&&Cf(t,"options"),(t==null?void 0:t.signal)!=null&&kf(t.signal,"options.signal");let r=1;(t==null?void 0:t.concurrency)!=null&&(r=X8(t.concurrency));let n=r-1;return(t==null?void 0:t.highWaterMark)!=null&&(n=X8(t.highWaterMark)),Y8(r,"options.concurrency",1),Y8(n,"options.highWaterMark",0),n+=r,(async function*(){const s=Yn.AbortSignalAny([t==null?void 0:t.signal].filter(fRe)),a=this,l=[],f={signal:s};let u,d,g=!1,h=0;function p(){g=!0,w()}function w(){h-=1,y()}function y(){d&&!g&&h<r&&l.length<n&&(d(),d=null)}async function v(){try{for await(let E of a){if(g)return;if(s.aborted)throw new Rs;try{if(E=e(E,f),E===Uw)continue;E=hRe(E)}catch(x){E=Z8(x)}h+=1,e7(E,w,p),l.push(E),u&&(u(),u=null),!g&&(l.length>=n||h>=r)&&await new Q8(x=>{d=x})}l.push(r7)}catch(E){const x=Z8(E);e7(x,w,p),l.push(x)}finally{g=!0,u&&(u(),u=null)}}v();try{for(;;){for(;l.length>0;){const E=await l[0];if(E===r7)return;if(s.aborted)throw new Rs;E!==Uw&&(yield E),l.shift(),y()}await new Q8(E=>{u=E})}}finally{g=!0,d&&(d(),d=null)}}).call(this)}function bRe(e=void 0){return e!=null&&Cf(e,"options"),(e==null?void 0:e.signal)!=null&&kf(e.signal,"options.signal"),(async function*(){let r=0;for await(const o of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Rs({cause:e.signal.reason});yield[r++,o]}}).call(this)}async function n7(e,t=void 0){for await(const r of hA.call(this,e,t))return!0;return!1}async function gRe(e,t=void 0){if(typeof e!="function")throw new Wb("fn",["Function","AsyncFunction"],e);return!await n7.call(this,async(...r)=>!await e(...r),t)}async function _Re(e,t){for await(const r of hA.call(this,e,t))return r}async function yRe(e,t){if(typeof e!="function")throw new Wb("fn",["Function","AsyncFunction"],e);async function r(n,o){return await e(n,o),Uw}for await(const n of qw.call(this,r,t));}function hA(e,t){if(typeof e!="function")throw new Wb("fn",["Function","AsyncFunction"],e);async function r(n,o){return await e(n,o)?n:Uw}return qw.call(this,r,t)}let wRe=class extends ZEe{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function mRe(e,t,r){var n;if(typeof e!="function")throw new Wb("reducer",["Function","AsyncFunction"],e);r!=null&&Cf(r,"options"),(r==null?void 0:r.signal)!=null&&kf(r.signal,"options.signal");let o=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){const u=new Rs(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await nRe(this.destroy(u)),u}const s=new XEe,a=s.signal;if(r!=null&&r.signal){const u={once:!0,[tRe]:this,[rRe]:!0};r.signal.addEventListener("abort",()=>s.abort(),u)}let l=!1;try{for await(const u of this){var f;if(l=!0,r!=null&&(f=r.signal)!==null&&f!==void 0&&f.aborted)throw new Rs;o?t=await e(t,u,{signal:a}):(t=u,o=!0)}if(!l&&!o)throw new wRe}finally{s.abort()}return t}async function vRe(e){e!=null&&Cf(e,"options"),(e==null?void 0:e.signal)!=null&&kf(e.signal,"options.signal");const t=[];for await(const n of this){var r;if(e!=null&&(r=e.signal)!==null&&r!==void 0&&r.aborted)throw new Rs(void 0,{cause:e.signal.reason});uRe(t,n)}return t}function SRe(e,t){const r=qw.call(this,e,t);return(async function*(){for await(const o of r)yield*o}).call(this)}function i7(e){if(e=cRe(e),dRe(e))return 0;if(e<0)throw new eRe("number",">= 0",e);return e}function ERe(e,t=void 0){return t!=null&&Cf(t,"options"),(t==null?void 0:t.signal)!=null&&kf(t.signal,"options.signal"),e=i7(e),(async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Rs;for await(const s of this){var o;if(t!=null&&(o=t.signal)!==null&&o!==void 0&&o.aborted)throw new Rs;e--<=0&&(yield s)}}).call(this)}function RRe(e,t=void 0){return t!=null&&Cf(t,"options"),(t==null?void 0:t.signal)!=null&&kf(t.signal,"options.signal"),e=i7(e),(async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Rs;for await(const s of this){var o;if(t!=null&&(o=t.signal)!==null&&o!==void 0&&o.aborted)throw new Rs;if(e-- >0&&(yield s),e<=0)return}}).call(this)}$1.streamReturningOperators={asIndexedPairs:lRe(bRe,"readable.asIndexedPairs will be removed in a future version."),drop:ERe,filter:hA,flatMap:SRe,map:qw,take:RRe,compose:pRe},$1.promiseReturningOperators={every:gRe,forEach:yRe,reduce:mRe,toArray:vRe,some:n7,find:_Re};var pA,o7;function s7(){if(o7)return pA;o7=1;const{ArrayPrototypePop:e,Promise:t}=Er,{isIterable:r,isNodeStream:n,isWebStream:o}=Ra,{pipelineImpl:s}=cA,{finished:a}=Zl;l7();function l(...f){return new t((u,d)=>{let g,h;const p=f[f.length-1];if(p&&typeof p=="object"&&!n(p)&&!r(p)&&!o(p)){const w=e(f);g=w.signal,h=w.end}s(f,(w,y)=>{w?d(w):u(y)},{signal:g,end:h})})}return pA={finished:a,pipeline:l},pA}var a7;function l7(){if(a7)return x1.exports;a7=1;const{Buffer:e}=Ge,{ObjectDefineProperty:t,ObjectKeys:r,ReflectApply:n}=Er,{promisify:{custom:o}}=Yn,{streamReturningOperators:s,promiseReturningOperators:a}=$1,{codes:{ERR_ILLEGAL_CONSTRUCTOR:l}}=mi,f=J8,{setDefaultHighWaterMark:u,getDefaultHighWaterMark:d}=Lw,{pipeline:g}=cA,{destroyer:h}=sh,p=Zl,w=s7(),y=Ra,v=x1.exports=V1.Stream;v.isDestroyed=y.isDestroyed,v.isDisturbed=y.isDisturbed,v.isErrored=y.isErrored,v.isReadable=y.isReadable,v.isWritable=y.isWritable,v.Readable=Mw();for(const x of r(s)){let N=function(...$){if(new.target)throw l();return v.Readable.from(n(S,this,$))};const S=s[x];t(N,"name",{__proto__:null,value:S.name}),t(N,"length",{__proto__:null,value:S.length}),t(v.Readable.prototype,x,{__proto__:null,value:N,enumerable:!1,configurable:!0,writable:!0})}for(const x of r(a)){let N=function(...$){if(new.target)throw l();return n(S,this,$)};const S=a[x];t(N,"name",{__proto__:null,value:S.name}),t(N,"length",{__proto__:null,value:S.length}),t(v.Readable.prototype,x,{__proto__:null,value:N,enumerable:!1,configurable:!0,writable:!0})}v.Writable=Y1(),v.Duplex=xa(),v.Transform=P8,v.PassThrough=j8,v.pipeline=g;const{addAbortSignal:E}=Cw;return v.addAbortSignal=E,v.finished=p,v.destroy=h,v.compose=f,v.setDefaultHighWaterMark=u,v.getDefaultHighWaterMark=d,t(v,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return w}}),t(g,o,{__proto__:null,enumerable:!0,get(){return w.pipeline}}),t(p,o,{__proto__:null,enumerable:!0,get(){return w.finished}}),v.Stream=v,v._isUint8Array=function(S){return S instanceof Uint8Array},v._uint8ArrayToBuffer=function(S){return e.from(S.buffer,S.byteOffset,S.byteLength)},x1.exports}(function(e){const t=l7(),r=s7(),n=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=n,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return r}}),e.exports.Stream=t.Stream,e.exports.default=e.exports})(p5);var xRe=p5.exports;class ARe extends xRe.Transform{constructor(t){super({decodeStrings:!0}),this._readableState.objectMode=!0;const r=new d5(t);let n,o;r.parse({on:(s,a)=>{switch(s){case"data":n=a;break;case"end":o=a;break}}},(s,a)=>{s&&this.emit("error",s)||a&&this.push(a)},(s,a)=>{this.emit("prefix",s,a)}),this._transform=(s,a,l)=>{n(s),l()},this._flush=s=>{o(),s()}}import(t){return t.on("data",r=>{this.write(r)}),t.on("end",()=>{this.end()}),t.on("error",r=>{this.emit("error",r)}),this}}let $Re=class{constructor(t,{baseIRI:r="",factory:n=d1,...o}={}){const s={blankNode:n.blankNode.bind(n),defaultGraph:n.defaultGraph.bind(n),literal:n.literal.bind(n),namedNode:n.namedNode.bind(n),quad:n.quad.bind(n)},a=new ARe({baseIRI:r,factory:s,...o});return t.pipe(a),_w(a)}},u7=class extends Ob{constructor(t){super($Re,t)}};const TRe=Object.freeze(Object.defineProperty({__proto__:null,default:u7},Symbol.toStringTag,{value:"Module"}));var f7={exports:{}},bA={exports:{}},Rr={ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,t){return e.includes(t)},ArrayPrototypeIndexOf(e,t){return e.indexOf(t)},ArrayPrototypeJoin(e,t){return e.join(t)},ArrayPrototypeMap(e,t){return e.map(t)},ArrayPrototypePop(e,t){return e.pop(t)},ArrayPrototypePush(e,t){return e.push(t)},ArrayPrototypeSlice(e,t,r){return e.slice(t,r)},Error,FunctionPrototypeCall(e,t,...r){return e.call(t,...r)},FunctionPrototypeSymbolHasInstance(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,t){return Object.defineProperties(e,t)},ObjectDefineProperty(e,t,r){return Object.defineProperty(e,t,r)},ObjectGetOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,t){return Object.setPrototypeOf(e,t)},Promise,PromisePrototypeCatch(e,t){return e.catch(t)},PromisePrototypeThen(e,t,r){return e.then(t,r)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,t){return e.test(t)},SafeSet:Set,String,StringPrototypeSlice(e,t,r){return e.slice(t,r)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,t,r){return e.set(t,r)},Boolean,Uint8Array},c7={exports:{}};(function(e){const t=Ge,{kResistStopPropagation:r,SymbolDispose:n}=Rr,o=globalThis.AbortSignal||bt().AbortSignal,s=globalThis.AbortController||bt().AbortController,a=Object.getPrototypeOf(async function(){}).constructor,l=globalThis.Blob||t.Blob,f=typeof l<"u"?function(p){return p instanceof l}:function(p){return!1},u=(h,p)=>{if(h!==void 0&&(h===null||typeof h!="object"||!("aborted"in h)))throw new ERR_INVALID_ARG_TYPE(p,"AbortSignal",h)},d=(h,p)=>{if(typeof h!="function")throw new ERR_INVALID_ARG_TYPE(p,"Function",h)};class g extends Error{constructor(p){if(!Array.isArray(p))throw new TypeError(`Expected input to be an Array, got ${typeof p}`);let w="";for(let y=0;y<p.length;y++)w+=`    ${p[y].stack}
`;super(w),this.name="AggregateError",this.errors=p}}e.exports={AggregateError:g,kEmptyObject:Object.freeze({}),once(h){let p=!1;return function(...w){p||(p=!0,h.apply(this,w))}},createDeferredPromise:function(){let h,p;return{promise:new Promise((y,v)=>{h=y,p=v}),resolve:h,reject:p}},promisify(h){return new Promise((p,w)=>{h((y,...v)=>y?w(y):p(...v))})},debuglog(){return function(){}},format(h,...p){return h.replace(/%([sdifj])/g,function(...[w,y]){const v=p.shift();return y==="f"?v.toFixed(6):y==="j"?JSON.stringify(v):y==="s"&&typeof v=="object"?`${v.constructor!==Object?v.constructor.name:""} {}`.trim():v.toString()})},inspect(h){switch(typeof h){case"string":if(h.includes("'"))if(h.includes('"')){if(!h.includes("`")&&!h.includes("${"))return`\`${h}\``}else return`"${h}"`;return`'${h}'`;case"number":return isNaN(h)?"NaN":Object.is(h,-0)?String(h):h;case"bigint":return`${String(h)}n`;case"boolean":case"undefined":return String(h);case"object":return"{}"}},types:{isAsyncFunction(h){return h instanceof a},isArrayBufferView(h){return ArrayBuffer.isView(h)}},isBlob:f,deprecate(h,p){return h},addAbortListener:$t.addAbortListener||function(p,w){if(p===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",p);u(p,"signal"),d(w,"listener");let y;return p.aborted?queueMicrotask(()=>w()):(p.addEventListener("abort",w,{__proto__:null,once:!0,[r]:!0}),y=()=>{p.removeEventListener("abort",w)}),{__proto__:null,[n](){var v;(v=y)===null||v===void 0||v()}}},AbortSignalAny:o.any||function(p){if(p.length===1)return p[0];const w=new s,y=()=>w.abort();return p.forEach(v=>{u(v,"signals"),v.addEventListener("abort",y,{once:!0})}),w.signal.addEventListener("abort",()=>{p.forEach(v=>v.removeEventListener("abort",y))},{once:!0}),w.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(c7);var Xn=c7.exports,gA={};const{format:IRe,inspect:Hw,AggregateError:NRe}=Xn,kRe=globalThis.AggregateError||NRe,CRe=Symbol("kIsNodeError"),ORe=["string","function","number","object","Function","Object","boolean","bigint","symbol"],LRe=/^([A-Z][a-z0-9]*)+$/,DRe="__node_internal_",Vw={};function Of(e,t){if(!e)throw new Vw.ERR_INTERNAL_ASSERTION(t)}function d7(e){let t="",r=e.length;const n=e[0]==="-"?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function MRe(e,t,r){if(typeof t=="function")return Of(t.length<=r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${t.length}).`),t(...r);const n=(t.match(/%[dfijoOs]/g)||[]).length;return Of(n===r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?t:IRe(t,...r)}function bn(e,t,r){r||(r=Error);class n extends r{constructor(...s){super(MRe(e,t,s))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=e,n.prototype[CRe]=!0,Vw[e]=n}function h7(e){const t=DRe+e.name;return Object.defineProperty(e,"name",{value:t}),e}function PRe(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;const r=new kRe([t,e],t.message);return r.code=t.code,r}return e||t}let FRe=class extends Error{constructor(t="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new Vw.ERR_INVALID_ARG_TYPE("options","Object",r);super(t,r),this.code="ABORT_ERR",this.name="AbortError"}};bn("ERR_ASSERTION","%s",Error),bn("ERR_INVALID_ARG_TYPE",(e,t,r)=>{Of(typeof e=="string","'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+=`${e} `:n+=`"${e}" ${e.includes(".")?"property":"argument"} `,n+="must be ";const o=[],s=[],a=[];for(const f of t)Of(typeof f=="string","All expected entries have to be of type string"),ORe.includes(f)?o.push(f.toLowerCase()):LRe.test(f)?s.push(f):(Of(f!=="object",'The value "object" should be written as "Object"'),a.push(f));if(s.length>0){const f=o.indexOf("object");f!==-1&&(o.splice(o,f,1),s.push("Object"))}if(o.length>0){switch(o.length){case 1:n+=`of type ${o[0]}`;break;case 2:n+=`one of type ${o[0]} or ${o[1]}`;break;default:{const f=o.pop();n+=`one of type ${o.join(", ")}, or ${f}`}}(s.length>0||a.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{const f=s.pop();n+=`an instance of ${s.join(", ")}, or ${f}`}}a.length>0&&(n+=" or ")}switch(a.length){case 0:break;case 1:a[0].toLowerCase()!==a[0]&&(n+="an "),n+=`${a[0]}`;break;case 2:n+=`one of ${a[0]} or ${a[1]}`;break;default:{const f=a.pop();n+=`one of ${a.join(", ")}, or ${f}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var l;if((l=r.constructor)!==null&&l!==void 0&&l.name)n+=`. Received an instance of ${r.constructor.name}`;else{const f=Hw(r,{depth:-1});n+=`. Received ${f}`}}else{let f=Hw(r,{colors:!1});f.length>25&&(f=`${f.slice(0,25)}...`),n+=`. Received type ${typeof r} (${f})`}return n},TypeError),bn("ERR_INVALID_ARG_VALUE",(e,t,r="is invalid")=>{let n=Hw(t);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${e.includes(".")?"property":"argument"} '${e}' ${r}. Received ${n}`},TypeError),bn("ERR_INVALID_RETURN_VALUE",(e,t,r)=>{var n;const o=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${e} to be returned from the "${t}" function but got ${o}.`},TypeError),bn("ERR_MISSING_ARGS",(...e)=>{Of(e.length>0,"At least one arg needs to be specified");let t;const r=e.length;switch(e=(Array.isArray(e)?e:[e]).map(n=>`"${n}"`).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{const n=e.pop();t+=`The ${e.join(", ")}, and ${n} arguments`}break}return`${t} must be specified`},TypeError),bn("ERR_OUT_OF_RANGE",(e,t,r)=>{Of(t,'Missing "range" argument');let n;return Number.isInteger(r)&&Math.abs(r)>2**32?n=d7(String(r)):typeof r=="bigint"?(n=String(r),(r>2n**32n||r<-(2n**32n))&&(n=d7(n)),n+="n"):n=Hw(r),`The value of "${e}" is out of range. It must be ${t}. Received ${n}`},RangeError),bn("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),bn("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),bn("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),bn("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),bn("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),bn("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),bn("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),bn("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),bn("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),bn("ERR_STREAM_WRITE_AFTER_END","write after end",Error),bn("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);var vi={AbortError:FRe,aggregateTwoErrors:h7(PRe),hideStackFrames:h7,codes:Vw};const{ArrayIsArray:_A,ArrayPrototypeIncludes:p7,ArrayPrototypeJoin:b7,ArrayPrototypeMap:jRe,NumberIsInteger:yA,NumberIsNaN:WRe,NumberMAX_SAFE_INTEGER:BRe,NumberMIN_SAFE_INTEGER:URe,NumberParseInt:qRe,ObjectPrototypeHasOwnProperty:HRe,RegExpPrototypeExec:g7,String:VRe,StringPrototypeToUpperCase:GRe,StringPrototypeTrim:zRe}=Rr,{hideStackFrames:oo,codes:{ERR_SOCKET_BAD_PORT:KRe,ERR_INVALID_ARG_TYPE:Nn,ERR_INVALID_ARG_VALUE:uh,ERR_OUT_OF_RANGE:Lf,ERR_UNKNOWN_SIGNAL:_7}}=vi,{normalizeEncoding:JRe}=Xn,{isAsyncFunction:YRe,isArrayBufferView:XRe}=Xn.types,y7={};function QRe(e){return e===(e|0)}function ZRe(e){return e===e>>>0}const exe=/^[0-7]+$/,txe="must be a 32-bit unsigned integer or an octal string";function rxe(e,t,r){if(typeof e>"u"&&(e=r),typeof e=="string"){if(g7(exe,e)===null)throw new uh(t,e,txe);e=qRe(e,8)}return w7(e,t),e}const nxe=oo((e,t,r=URe,n=BRe)=>{if(typeof e!="number")throw new Nn(t,"number",e);if(!yA(e))throw new Lf(t,"an integer",e);if(e<r||e>n)throw new Lf(t,`>= ${r} && <= ${n}`,e)}),ixe=oo((e,t,r=-2147483648,n=2147483647)=>{if(typeof e!="number")throw new Nn(t,"number",e);if(!yA(e))throw new Lf(t,"an integer",e);if(e<r||e>n)throw new Lf(t,`>= ${r} && <= ${n}`,e)}),w7=oo((e,t,r=!1)=>{if(typeof e!="number")throw new Nn(t,"number",e);if(!yA(e))throw new Lf(t,"an integer",e);const n=r?1:0,o=4294967295;if(e<n||e>o)throw new Lf(t,`>= ${n} && <= ${o}`,e)});function wA(e,t){if(typeof e!="string")throw new Nn(t,"string",e)}function oxe(e,t,r=void 0,n){if(typeof e!="number")throw new Nn(t,"number",e);if(r!=null&&e<r||n!=null&&e>n||(r!=null||n!=null)&&WRe(e))throw new Lf(t,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,e)}const sxe=oo((e,t,r)=>{if(!p7(r,e)){const o="must be one of: "+b7(jRe(r,s=>typeof s=="string"?`'${s}'`:VRe(s)),", ");throw new uh(t,e,o)}});function m7(e,t){if(typeof e!="boolean")throw new Nn(t,"boolean",e)}function mA(e,t,r){return e==null||!HRe(e,t)?r:e[t]}const axe=oo((e,t,r=null)=>{const n=mA(r,"allowArray",!1),o=mA(r,"allowFunction",!1);if(!mA(r,"nullable",!1)&&e===null||!n&&_A(e)||typeof e!="object"&&(!o||typeof e!="function"))throw new Nn(t,"Object",e)}),lxe=oo((e,t)=>{if(e!=null&&typeof e!="object"&&typeof e!="function")throw new Nn(t,"a dictionary",e)}),Gw=oo((e,t,r=0)=>{if(!_A(e))throw new Nn(t,"Array",e);if(e.length<r){const n=`must be longer than ${r}`;throw new uh(t,e,n)}});function uxe(e,t){Gw(e,t);for(let r=0;r<e.length;r++)wA(e[r],`${t}[${r}]`)}function fxe(e,t){Gw(e,t);for(let r=0;r<e.length;r++)m7(e[r],`${t}[${r}]`)}function cxe(e,t){Gw(e,t);for(let r=0;r<e.length;r++){const n=e[r],o=`${t}[${r}]`;if(n==null)throw new Nn(o,"AbortSignal",n);v7(n,o)}}function dxe(e,t="signal"){if(wA(e,t),y7[e]===void 0)throw y7[GRe(e)]!==void 0?new _7(e+" (signals must use all capital letters)"):new _7(e)}const hxe=oo((e,t="buffer")=>{if(!XRe(e))throw new Nn(t,["Buffer","TypedArray","DataView"],e)});function pxe(e,t){const r=JRe(t),n=e.length;if(r==="hex"&&n%2!==0)throw new uh("encoding",t,`is invalid for data of length ${n}`)}function bxe(e,t="Port",r=!0){if(typeof e!="number"&&typeof e!="string"||typeof e=="string"&&zRe(e).length===0||+e!==+e>>>0||e>65535||e===0&&!r)throw new KRe(t,e,r);return e|0}const v7=oo((e,t)=>{if(e!==void 0&&(e===null||typeof e!="object"||!("aborted"in e)))throw new Nn(t,"AbortSignal",e)}),gxe=oo((e,t)=>{if(typeof e!="function")throw new Nn(t,"Function",e)}),_xe=oo((e,t)=>{if(typeof e!="function"||YRe(e))throw new Nn(t,"Function",e)}),yxe=oo((e,t)=>{if(e!==void 0)throw new Nn(t,"undefined",e)});function wxe(e,t,r){if(!p7(r,e))throw new Nn(t,`('${b7(r,"|")}')`,e)}const mxe=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function S7(e,t){if(typeof e>"u"||!g7(mxe,e))throw new uh(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function vxe(e){if(typeof e=="string")return S7(e,"hints"),e;if(_A(e)){const t=e.length;let r="";if(t===0)return r;for(let n=0;n<t;n++){const o=e[n];S7(o,"hints"),r+=o,n!==t-1&&(r+=", ")}return r}throw new uh("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}var Bb={isInt32:QRe,isUint32:ZRe,parseFileMode:rxe,validateArray:Gw,validateStringArray:uxe,validateBooleanArray:fxe,validateAbortSignalArray:cxe,validateBoolean:m7,validateBuffer:hxe,validateDictionary:lxe,validateEncoding:pxe,validateFunction:gxe,validateInt32:ixe,validateInteger:nxe,validateNumber:oxe,validateObject:axe,validateOneOf:sxe,validatePlainFunction:_xe,validatePort:bxe,validateSignalName:dxe,validateString:wA,validateUint32:w7,validateUndefined:yxe,validateUnion:wxe,validateAbortSignal:v7,validateLinkHeaderValue:vxe},vA={exports:{}};const{SymbolAsyncIterator:E7,SymbolIterator:R7,SymbolFor:Df}=Rr,x7=Df("nodejs.stream.destroyed"),A7=Df("nodejs.stream.errored"),SA=Df("nodejs.stream.readable"),EA=Df("nodejs.stream.writable"),$7=Df("nodejs.stream.disturbed"),Sxe=Df("nodejs.webstream.isClosedPromise"),Exe=Df("nodejs.webstream.controllerErrorFunction");function zw(e,t=!1){var r;return!!(e&&typeof e.pipe=="function"&&typeof e.on=="function"&&(!t||typeof e.pause=="function"&&typeof e.resume=="function")&&(!e._writableState||((r=e._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!e._writableState||e._readableState))}function Kw(e){var t;return!!(e&&typeof e.write=="function"&&typeof e.on=="function"&&(!e._readableState||((t=e._writableState)===null||t===void 0?void 0:t.writable)!==!1))}function Rxe(e){return!!(e&&typeof e.pipe=="function"&&e._readableState&&typeof e.on=="function"&&typeof e.write=="function")}function xs(e){return e&&(e._readableState||e._writableState||typeof e.write=="function"&&typeof e.on=="function"||typeof e.pipe=="function"&&typeof e.on=="function")}function T7(e){return!!(e&&!xs(e)&&typeof e.pipeThrough=="function"&&typeof e.getReader=="function"&&typeof e.cancel=="function")}function I7(e){return!!(e&&!xs(e)&&typeof e.getWriter=="function"&&typeof e.abort=="function")}function N7(e){return!!(e&&!xs(e)&&typeof e.readable=="object"&&typeof e.writable=="object")}function xxe(e){return T7(e)||I7(e)||N7(e)}function Axe(e,t){return e==null?!1:t===!0?typeof e[E7]=="function":t===!1?typeof e[R7]=="function":typeof e[E7]=="function"||typeof e[R7]=="function"}function Jw(e){if(!xs(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[x7]||n!=null&&n.destroyed)}function k7(e){if(!Kw(e))return null;if(e.writableEnded===!0)return!0;const t=e._writableState;return t!=null&&t.errored?!1:typeof(t==null?void 0:t.ended)!="boolean"?null:t.ended}function $xe(e,t){if(!Kw(e))return null;if(e.writableFinished===!0)return!0;const r=e._writableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.finished)!="boolean"?null:!!(r.finished||t===!1&&r.ended===!0&&r.length===0)}function Txe(e){if(!zw(e))return null;if(e.readableEnded===!0)return!0;const t=e._readableState;return!t||t.errored?!1:typeof(t==null?void 0:t.ended)!="boolean"?null:t.ended}function C7(e,t){if(!zw(e))return null;const r=e._readableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.endEmitted)!="boolean"?null:!!(r.endEmitted||t===!1&&r.ended===!0&&r.length===0)}function O7(e){return e&&e[SA]!=null?e[SA]:typeof(e==null?void 0:e.readable)!="boolean"?null:Jw(e)?!1:zw(e)&&e.readable&&!C7(e)}function L7(e){return e&&e[EA]!=null?e[EA]:typeof(e==null?void 0:e.writable)!="boolean"?null:Jw(e)?!1:Kw(e)&&e.writable&&!k7(e)}function Ixe(e,t){return xs(e)?Jw(e)?!0:!((t==null?void 0:t.readable)!==!1&&O7(e)||(t==null?void 0:t.writable)!==!1&&L7(e)):null}function Nxe(e){var t,r;return xs(e)?e.writableErrored?e.writableErrored:(t=(r=e._writableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}function kxe(e){var t,r;return xs(e)?e.readableErrored?e.readableErrored:(t=(r=e._readableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}function Cxe(e){if(!xs(e))return null;if(typeof e.closed=="boolean")return e.closed;const t=e._writableState,r=e._readableState;return typeof(t==null?void 0:t.closed)=="boolean"||typeof(r==null?void 0:r.closed)=="boolean"?(t==null?void 0:t.closed)||(r==null?void 0:r.closed):typeof e._closed=="boolean"&&D7(e)?e._closed:null}function D7(e){return typeof e._closed=="boolean"&&typeof e._defaultKeepAlive=="boolean"&&typeof e._removedConnection=="boolean"&&typeof e._removedContLen=="boolean"}function M7(e){return typeof e._sent100=="boolean"&&D7(e)}function Oxe(e){var t;return typeof e._consuming=="boolean"&&typeof e._dumped=="boolean"&&((t=e.req)===null||t===void 0?void 0:t.upgradeOrConnect)===void 0}function Lxe(e){if(!xs(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!n&&M7(e)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function Dxe(e){var t;return!!(e&&((t=e[$7])!==null&&t!==void 0?t:e.readableDidRead||e.readableAborted))}function Mxe(e){var t,r,n,o,s,a,l,f,u,d;return!!(e&&((t=(r=(n=(o=(s=(a=e[A7])!==null&&a!==void 0?a:e.readableErrored)!==null&&s!==void 0?s:e.writableErrored)!==null&&o!==void 0?o:(l=e._readableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&n!==void 0?n:(f=e._writableState)===null||f===void 0?void 0:f.errorEmitted)!==null&&r!==void 0?r:(u=e._readableState)===null||u===void 0?void 0:u.errored)!==null&&t!==void 0?t:!((d=e._writableState)===null||d===void 0)&&d.errored))}var $a={isDestroyed:Jw,kIsDestroyed:x7,isDisturbed:Dxe,kIsDisturbed:$7,isErrored:Mxe,kIsErrored:A7,isReadable:O7,kIsReadable:SA,kIsClosedPromise:Sxe,kControllerErrorFunction:Exe,kIsWritable:EA,isClosed:Cxe,isDuplexNodeStream:Rxe,isFinished:Ixe,isIterable:Axe,isReadableNodeStream:zw,isReadableStream:T7,isReadableEnded:Txe,isReadableFinished:C7,isReadableErrored:kxe,isNodeStream:xs,isWebStream:xxe,isWritable:L7,isWritableNodeStream:Kw,isWritableStream:I7,isWritableEnded:k7,isWritableFinished:$xe,isWritableErrored:Nxe,isServerRequest:Oxe,isServerResponse:M7,willEmitClose:Lxe,isTransformStream:N7};const eu=Qe,{AbortError:P7,codes:Pxe}=vi,{ERR_INVALID_ARG_TYPE:Fxe,ERR_STREAM_PREMATURE_CLOSE:F7}=Pxe,{kEmptyObject:RA,once:xA}=Xn,{validateAbortSignal:jxe,validateFunction:Wxe,validateObject:Bxe,validateBoolean:Uxe}=Bb,{Promise:qxe,PromisePrototypeThen:Hxe,SymbolDispose:j7}=Rr,{isClosed:Vxe,isReadable:W7,isReadableNodeStream:AA,isReadableStream:Gxe,isReadableFinished:B7,isReadableErrored:U7,isWritable:q7,isWritableNodeStream:H7,isWritableStream:zxe,isWritableFinished:V7,isWritableErrored:G7,isNodeStream:Kxe,willEmitClose:Jxe,kIsClosedPromise:Yxe}=$a;let fh;function Xxe(e){return e.setHeader&&typeof e.abort=="function"}const $A=()=>{};function z7(e,t,r){var n,o;if(arguments.length===2?(r=t,t=RA):t==null?t=RA:Bxe(t,"options"),Wxe(r,"callback"),jxe(t.signal,"options.signal"),r=xA(r),Gxe(e)||zxe(e))return Qxe(e,t,r);if(!Kxe(e))throw new Fxe("stream",["ReadableStream","WritableStream","Stream"],e);const s=(n=t.readable)!==null&&n!==void 0?n:AA(e),a=(o=t.writable)!==null&&o!==void 0?o:H7(e),l=e._writableState,f=e._readableState,u=()=>{e.writable||h()};let d=Jxe(e)&&AA(e)===s&&H7(e)===a,g=V7(e,!1);const h=()=>{g=!0,e.destroyed&&(d=!1),!(d&&(!e.readable||s))&&(!s||p)&&r.call(e)};let p=B7(e,!1);const w=()=>{p=!0,e.destroyed&&(d=!1),!(d&&(!e.writable||a))&&(!a||g)&&r.call(e)},y=$=>{r.call(e,$)};let v=Vxe(e);const E=()=>{v=!0;const $=G7(e)||U7(e);if($&&typeof $!="boolean")return r.call(e,$);if(s&&!p&&AA(e,!0)&&!B7(e,!1))return r.call(e,new F7);if(a&&!g&&!V7(e,!1))return r.call(e,new F7);r.call(e)},x=()=>{v=!0;const $=G7(e)||U7(e);if($&&typeof $!="boolean")return r.call(e,$);r.call(e)},S=()=>{e.req.on("finish",h)};Xxe(e)?(e.on("complete",h),d||e.on("abort",E),e.req?S():e.on("request",S)):a&&!l&&(e.on("end",u),e.on("close",u)),!d&&typeof e.aborted=="boolean"&&e.on("aborted",E),e.on("end",w),e.on("finish",h),t.error!==!1&&e.on("error",y),e.on("close",E),v?eu.nextTick(E):l!=null&&l.errorEmitted||f!=null&&f.errorEmitted?d||eu.nextTick(x):(!s&&(!d||W7(e))&&(g||q7(e)===!1)||!a&&(!d||q7(e))&&(p||W7(e)===!1)||f&&e.req&&e.aborted)&&eu.nextTick(x);const N=()=>{r=$A,e.removeListener("aborted",E),e.removeListener("complete",h),e.removeListener("abort",E),e.removeListener("request",S),e.req&&e.req.removeListener("finish",h),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",h),e.removeListener("end",w),e.removeListener("error",y),e.removeListener("close",E)};if(t.signal&&!v){const $=()=>{const D=r;N(),D.call(e,new P7(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)eu.nextTick($);else{fh=fh||Xn.addAbortListener;const D=fh(t.signal,$),K=r;r=xA((...q)=>{D[j7](),K.apply(e,q)})}}return N}function Qxe(e,t,r){let n=!1,o=$A;if(t.signal)if(o=()=>{n=!0,r.call(e,new P7(void 0,{cause:t.signal.reason}))},t.signal.aborted)eu.nextTick(o);else{fh=fh||Xn.addAbortListener;const a=fh(t.signal,o),l=r;r=xA((...f)=>{a[j7](),l.apply(e,f)})}const s=(...a)=>{n||eu.nextTick(()=>r.apply(e,a))};return Hxe(e[Yxe].promise,s,s),$A}function Zxe(e,t){var r;let n=!1;return t===null&&(t=RA),(r=t)!==null&&r!==void 0&&r.cleanup&&(Uxe(t.cleanup,"cleanup"),n=t.cleanup),new qxe((o,s)=>{const a=z7(e,t,l=>{n&&a(),l?s(l):o()})})}vA.exports=z7,vA.exports.finished=Zxe;var tu=vA.exports;const As=Qe,{aggregateTwoErrors:e1e,codes:{ERR_MULTIPLE_CALLBACK:t1e},AbortError:r1e}=vi,{Symbol:K7}=Rr,{kIsDestroyed:n1e,isDestroyed:i1e,isFinished:o1e,isServerRequest:s1e}=$a,J7=K7("kDestroy"),TA=K7("kConstruct");function Y7(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function a1e(e,t){const r=this._readableState,n=this._writableState,o=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof t=="function"&&t(),this):(Y7(e,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),o.constructed?X7(this,e,t):this.once(J7,function(s){X7(this,e1e(s,e),t)}),this)}function X7(e,t,r){let n=!1;function o(s){if(n)return;n=!0;const a=e._readableState,l=e._writableState;Y7(s,l,a),l&&(l.closed=!0),a&&(a.closed=!0),typeof r=="function"&&r(s),s?As.nextTick(l1e,e,s):As.nextTick(Q7,e)}try{e._destroy(t||null,o)}catch(s){o(s)}}function l1e(e,t){IA(e,t),Q7(e)}function Q7(e){const t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(r!=null&&r.emitClose||t!=null&&t.emitClose)&&e.emit("close")}function IA(e,t){const r=e._readableState,n=e._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function u1e(){const e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=e.readable===!1,e.endEmitted=e.readable===!1),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=t.writable===!1,t.ending=t.writable===!1,t.finished=t.writable===!1)}function NA(e,t,r){const n=e._readableState,o=e._writableState;if(o!=null&&o.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||o!=null&&o.autoDestroy?e.destroy(t):t&&(t.stack,o&&!o.errored&&(o.errored=t),n&&!n.errored&&(n.errored=t),r?As.nextTick(IA,e,t):IA(e,t))}function f1e(e,t){if(typeof e._construct!="function")return;const r=e._readableState,n=e._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),e.once(TA,t),!(e.listenerCount(TA)>1)&&As.nextTick(c1e,e)}function c1e(e){let t=!1;function r(n){if(t){NA(e,n??new t1e);return}t=!0;const o=e._readableState,s=e._writableState,a=s||o;o&&(o.constructed=!0),s&&(s.constructed=!0),a.destroyed?e.emit(J7,n):n?NA(e,n,!0):As.nextTick(d1e,e)}try{e._construct(n=>{As.nextTick(r,n)})}catch(n){As.nextTick(r,n)}}function d1e(e){e.emit(TA)}function Z7(e){return(e==null?void 0:e.setHeader)&&typeof e.abort=="function"}function eq(e){e.emit("close")}function h1e(e,t){e.emit("error",t),As.nextTick(eq,e)}function p1e(e,t){!e||i1e(e)||(!t&&!o1e(e)&&(t=new r1e),s1e(e)?(e.socket=null,e.destroy(t)):Z7(e)?e.abort():Z7(e.req)?e.req.abort():typeof e.destroy=="function"?e.destroy(t):typeof e.close=="function"?e.close():t?As.nextTick(h1e,e,t):As.nextTick(eq,e),e.destroyed||(e[n1e]=!0))}var ch={construct:f1e,destroyer:p1e,destroy:a1e,undestroy:u1e,errorOrDestroy:NA};const{ArrayIsArray:b1e,ObjectSetPrototypeOf:tq}=Rr,{EventEmitter:Yw}=$t;function Xw(e){Yw.call(this,e)}tq(Xw.prototype,Yw.prototype),tq(Xw,Yw),Xw.prototype.pipe=function(e,t){const r=this;function n(d){e.writable&&e.write(d)===!1&&r.pause&&r.pause()}r.on("data",n);function o(){r.readable&&r.resume&&r.resume()}e.on("drain",o),!e._isStdio&&(!t||t.end!==!1)&&(r.on("end",a),r.on("close",l));let s=!1;function a(){s||(s=!0,e.end())}function l(){s||(s=!0,typeof e.destroy=="function"&&e.destroy())}function f(d){u(),Yw.listenerCount(this,"error")===0&&this.emit("error",d)}kA(r,"error",f),kA(e,"error",f);function u(){r.removeListener("data",n),e.removeListener("drain",o),r.removeListener("end",a),r.removeListener("close",l),r.removeListener("error",f),e.removeListener("error",f),r.removeListener("end",u),r.removeListener("close",u),e.removeListener("close",u)}return r.on("end",u),r.on("close",u),e.on("close",u),e.emit("pipe",r),e};function kA(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):b1e(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}var CA={Stream:Xw,prependListener:kA},rq={exports:{}};(function(e){const{SymbolDispose:t}=Rr,{AbortError:r,codes:n}=vi,{isNodeStream:o,isWebStream:s,kControllerErrorFunction:a}=$a,l=tu,{ERR_INVALID_ARG_TYPE:f}=n;let u;const d=(g,h)=>{if(typeof g!="object"||!("aborted"in g))throw new f(h,"AbortSignal",g)};e.exports.addAbortSignal=function(h,p){if(d(h,"signal"),!o(p)&&!s(p))throw new f("stream",["ReadableStream","WritableStream","Stream"],p);return e.exports.addAbortSignalNoValidate(h,p)},e.exports.addAbortSignalNoValidate=function(g,h){if(typeof g!="object"||!("aborted"in g))return h;const p=o(h)?()=>{h.destroy(new r(void 0,{cause:g.reason}))}:()=>{h[a](new r(void 0,{cause:g.reason}))};if(g.aborted)p();else{u=u||Xn.addAbortListener;const w=u(g,p);l(h,w[t])}return h}})(rq);var Qw=rq.exports;const{StringPrototypeSlice:nq,SymbolIterator:g1e,TypedArrayPrototypeSet:Zw,Uint8Array:_1e}=Rr,{Buffer:OA}=Ge,{inspect:y1e}=Xn;var w1e=class{constructor(){this.head=null,this.tail=null,this.length=0}push(t){const r={data:t,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(t){const r={data:t,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;const t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=t+r.data;return n}concat(t){if(this.length===0)return OA.alloc(0);const r=OA.allocUnsafe(t>>>0);let n=this.head,o=0;for(;n;)Zw(r,n.data,o),o+=n.data.length,n=n.next;return r}consume(t,r){const n=this.head.data;if(t<n.length){const o=n.slice(0,t);return this.head.data=n.slice(t),o}return t===n.length?this.shift():r?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[g1e](){for(let t=this.head;t;t=t.next)yield t.data}_getString(t){let r="",n=this.head,o=0;do{const s=n.data;if(t>s.length)r+=s,t-=s.length;else{t===s.length?(r+=s,++o,n.next?this.head=n.next:this.head=this.tail=null):(r+=nq(s,0,t),this.head=n,n.data=nq(s,t));break}++o}while((n=n.next)!==null);return this.length-=o,r}_getBuffer(t){const r=OA.allocUnsafe(t),n=t;let o=this.head,s=0;do{const a=o.data;if(t>a.length)Zw(r,a,n-t),t-=a.length;else{t===a.length?(Zw(r,a,n-t),++s,o.next?this.head=o.next:this.head=this.tail=null):(Zw(r,new _1e(a.buffer,a.byteOffset,t),n-t),this.head=o,o.data=a.slice(t));break}++s}while((o=o.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](t,r){return y1e(this,{...r,depth:0,customInspect:!1})}};const{MathFloor:m1e,NumberIsInteger:v1e}=Rr,{validateInteger:S1e}=Bb,{ERR_INVALID_ARG_VALUE:E1e}=vi.codes;let iq=16*1024,oq=16;function R1e(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function sq(e){return e?oq:iq}function x1e(e,t){S1e(t,"value",0),e?oq=t:iq=t}function A1e(e,t,r,n){const o=R1e(t,n,r);if(o!=null){if(!v1e(o)||o<0){const s=n?`options.${r}`:"options.highWaterMark";throw new E1e(s,o)}return m1e(o)}return sq(e.objectMode)}var em={getHighWaterMark:A1e,getDefaultHighWaterMark:sq,setDefaultHighWaterMark:x1e};const aq=Qe,{PromisePrototypeThen:$1e,SymbolAsyncIterator:lq,SymbolIterator:uq}=Rr,{Buffer:T1e}=Ge,{ERR_INVALID_ARG_TYPE:I1e,ERR_STREAM_NULL_VALUES:N1e}=vi.codes;function k1e(e,t,r){let n;if(typeof t=="string"||t instanceof T1e)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});let o;if(t&&t[lq])o=!0,n=t[lq]();else if(t&&t[uq])o=!1,n=t[uq]();else throw new I1e("iterable",["Iterable"],t);const s=new e({objectMode:!0,highWaterMark:1,...r});let a=!1;s._read=function(){a||(a=!0,f())},s._destroy=function(u,d){$1e(l(u),()=>aq.nextTick(d,u),g=>aq.nextTick(d,g||u))};async function l(u){const d=u!=null,g=typeof n.throw=="function";if(d&&g){const{value:h,done:p}=await n.throw(u);if(await h,p)return}if(typeof n.return=="function"){const{value:h}=await n.return();await h}}async function f(){for(;;){try{const{value:u,done:d}=o?await n.next():n.next();if(d)s.push(null);else{const g=u&&typeof u.then=="function"?await u:u;if(g===null)throw a=!1,new N1e;if(s.push(g))continue;a=!1}}catch(u){s.destroy(u)}break}}return s}var fq=k1e,LA,cq;function tm(){if(cq)return LA;cq=1;const e=Qe,{ArrayPrototypeIndexOf:t,NumberIsInteger:r,NumberIsNaN:n,NumberParseInt:o,ObjectDefineProperties:s,ObjectKeys:a,ObjectSetPrototypeOf:l,Promise:f,SafeSet:u,SymbolAsyncDispose:d,SymbolAsyncIterator:g,Symbol:h}=Rr;LA=F,F.ReadableState=ye;const{EventEmitter:p}=$t,{Stream:w,prependListener:y}=CA,{Buffer:v}=Ge,{addAbortSignal:E}=Qw,x=tu;let S=Xn.debuglog("stream",c=>{S=c});const N=w1e,$=ch,{getHighWaterMark:D,getDefaultHighWaterMark:K}=em,{aggregateTwoErrors:q,codes:{ERR_INVALID_ARG_TYPE:k,ERR_METHOD_NOT_IMPLEMENTED:V,ERR_OUT_OF_RANGE:j,ERR_STREAM_PUSH_AFTER_EOF:B,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:A},AbortError:U}=vi,{validateObject:G}=Bb,H=h("kPaused"),{StringDecoder:Q}=Fi(),ne=fq;l(F.prototype,w.prototype),l(F,w);const se=()=>{},{errorOrDestroy:ae}=$,Z=1,ge=2,W=4,ue=8,xe=16,he=32,le=64,_e=128,Ae=256,We=512,ie=1024,te=2048,_=4096,m=8192,R=16384,O=32768,C=65536,X=1<<17,re=1<<18;function J(c){return{enumerable:!1,get(){return(this.state&c)!==0},set(b){b?this.state|=c:this.state&=~c}}}s(ye.prototype,{objectMode:J(Z),ended:J(ge),endEmitted:J(W),reading:J(ue),constructed:J(xe),sync:J(he),needReadable:J(le),emittedReadable:J(_e),readableListening:J(Ae),resumeScheduled:J(We),errorEmitted:J(ie),emitClose:J(te),autoDestroy:J(_),destroyed:J(m),closed:J(R),closeEmitted:J(O),multiAwaitDrain:J(C),readingMore:J(X),dataEmitted:J(re)});function ye(c,b,I){typeof I!="boolean"&&(I=b instanceof Ta()),this.state=te|_|xe|he,c&&c.objectMode&&(this.state|=Z),I&&c&&c.readableObjectMode&&(this.state|=Z),this.highWaterMark=c?D(this,c,"readableHighWaterMark",I):K(!1),this.buffer=new N,this.length=0,this.pipes=[],this.flowing=null,this[H]=null,c&&c.emitClose===!1&&(this.state&=~te),c&&c.autoDestroy===!1&&(this.state&=~_),this.errored=null,this.defaultEncoding=c&&c.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,c&&c.encoding&&(this.decoder=new Q(c.encoding),this.encoding=c.encoding)}function F(c){if(!(this instanceof F))return new F(c);const b=this instanceof Ta();this._readableState=new ye(c,this,b),c&&(typeof c.read=="function"&&(this._read=c.read),typeof c.destroy=="function"&&(this._destroy=c.destroy),typeof c.construct=="function"&&(this._construct=c.construct),c.signal&&!b&&E(c.signal,this)),w.call(this,c),$.construct(this,()=>{this._readableState.needReadable&&ce(this,this._readableState)})}F.prototype.destroy=$.destroy,F.prototype._undestroy=$.undestroy,F.prototype._destroy=function(c,b){b(c)},F.prototype[p.captureRejectionSymbol]=function(c){this.destroy(c)},F.prototype[d]=function(){let c;return this.destroyed||(c=this.readableEnded?null:new U,this.destroy(c)),new f((b,I)=>x(this,T=>T&&T!==c?I(T):b(null)))},F.prototype.push=function(c,b){return we(this,c,b,!1)},F.prototype.unshift=function(c,b){return we(this,c,b,!0)};function we(c,b,I,T){S("readableAddChunk",b);const P=c._readableState;let Ee;if(P.state&Z||(typeof b=="string"?(I=I||P.defaultEncoding,P.encoding!==I&&(T&&P.encoding?b=v.from(b,I).toString(P.encoding):(b=v.from(b,I),I=""))):b instanceof v?I="":w._isUint8Array(b)?(b=w._uint8ArrayToBuffer(b),I=""):b!=null&&(Ee=new k("chunk",["string","Buffer","Uint8Array"],b))),Ee)ae(c,Ee);else if(b===null)P.state&=~ue,L(c,P);else if(P.state&Z||b&&b.length>0)if(T)if(P.state&W)ae(c,new A);else{if(P.destroyed||P.errored)return!1;Ce(c,P,b,!0)}else if(P.ended)ae(c,new B);else{if(P.destroyed||P.errored)return!1;P.state&=~ue,P.decoder&&!I?(b=P.decoder.write(b),P.objectMode||b.length!==0?Ce(c,P,b,!1):ce(c,P)):Ce(c,P,b,!1)}else T||(P.state&=~ue,ce(c,P));return!P.ended&&(P.length<P.highWaterMark||P.length===0)}function Ce(c,b,I,T){b.flowing&&b.length===0&&!b.sync&&c.listenerCount("data")>0?(b.state&C?b.awaitDrainWriters.clear():b.awaitDrainWriters=null,b.dataEmitted=!0,c.emit("data",I)):(b.length+=b.objectMode?1:I.length,T?b.buffer.unshift(I):b.buffer.push(I),b.state&le&&M(c)),ce(c,b)}F.prototype.isPaused=function(){const c=this._readableState;return c[H]===!0||c.flowing===!1},F.prototype.setEncoding=function(c){const b=new Q(c);this._readableState.decoder=b,this._readableState.encoding=this._readableState.decoder.encoding;const I=this._readableState.buffer;let T="";for(const P of I)T+=b.write(P);return I.clear(),T!==""&&I.push(T),this._readableState.length=T.length,this};const Me=1073741824;function Ue(c){if(c>Me)throw new j("size","<= 1GiB",c);return c--,c|=c>>>1,c|=c>>>2,c|=c>>>4,c|=c>>>8,c|=c>>>16,c++,c}function z(c,b){return c<=0||b.length===0&&b.ended?0:b.state&Z?1:n(c)?b.flowing&&b.length?b.buffer.first().length:b.length:c<=b.length?c:b.ended?b.length:0}F.prototype.read=function(c){S("read",c),c===void 0?c=NaN:r(c)||(c=o(c,10));const b=this._readableState,I=c;if(c>b.highWaterMark&&(b.highWaterMark=Ue(c)),c!==0&&(b.state&=~_e),c===0&&b.needReadable&&((b.highWaterMark!==0?b.length>=b.highWaterMark:b.length>0)||b.ended))return S("read: emitReadable",b.length,b.ended),b.length===0&&b.ended?ht(this):M(this),null;if(c=z(c,b),c===0&&b.ended)return b.length===0&&ht(this),null;let T=(b.state&le)!==0;if(S("need readable",T),(b.length===0||b.length-c<b.highWaterMark)&&(T=!0,S("length less than watermark",T)),b.ended||b.reading||b.destroyed||b.errored||!b.constructed)T=!1,S("reading, ended or constructing",T);else if(T){S("do read"),b.state|=ue|he,b.length===0&&(b.state|=le);try{this._read(b.highWaterMark)}catch(Ee){ae(this,Ee)}b.state&=~he,b.reading||(c=z(I,b))}let P;return c>0?P=Mt(c,b):P=null,P===null?(b.needReadable=b.length<=b.highWaterMark,c=0):(b.length-=c,b.multiAwaitDrain?b.awaitDrainWriters.clear():b.awaitDrainWriters=null),b.length===0&&(b.ended||(b.needReadable=!0),I!==c&&b.ended&&ht(this)),P!==null&&!b.errorEmitted&&!b.closeEmitted&&(b.dataEmitted=!0,this.emit("data",P)),P};function L(c,b){if(S("onEofChunk"),!b.ended){if(b.decoder){const I=b.decoder.end();I&&I.length&&(b.buffer.push(I),b.length+=b.objectMode?1:I.length)}b.ended=!0,b.sync?M(c):(b.needReadable=!1,b.emittedReadable=!0,oe(c))}}function M(c){const b=c._readableState;S("emitReadable",b.needReadable,b.emittedReadable),b.needReadable=!1,b.emittedReadable||(S("emitReadable",b.flowing),b.emittedReadable=!0,e.nextTick(oe,c))}function oe(c){const b=c._readableState;S("emitReadable_",b.destroyed,b.length,b.ended),!b.destroyed&&!b.errored&&(b.length||b.ended)&&(c.emit("readable"),b.emittedReadable=!1),b.needReadable=!b.flowing&&!b.ended&&b.length<=b.highWaterMark,rt(c)}function ce(c,b){!b.readingMore&&b.constructed&&(b.readingMore=!0,e.nextTick(Se,c,b))}function Se(c,b){for(;!b.reading&&!b.ended&&(b.length<b.highWaterMark||b.flowing&&b.length===0);){const I=b.length;if(S("maybeReadMore read 0"),c.read(0),I===b.length)break}b.readingMore=!1}F.prototype._read=function(c){throw new V("_read()")},F.prototype.pipe=function(c,b){const I=this,T=this._readableState;T.pipes.length===1&&(T.multiAwaitDrain||(T.multiAwaitDrain=!0,T.awaitDrainWriters=new u(T.awaitDrainWriters?[T.awaitDrainWriters]:[]))),T.pipes.push(c),S("pipe count=%d opts=%j",T.pipes.length,b);const Ee=(!b||b.end!==!1)&&c!==e.stdout&&c!==e.stderr?de:Ke;T.endEmitted?e.nextTick(Ee):I.once("end",Ee),c.on("unpipe",$e);function $e(ke,Te){S("onunpipe"),ke===I&&Te&&Te.hasUnpiped===!1&&(Te.hasUnpiped=!0,Re())}function de(){S("onend"),c.end()}let ee,pe=!1;function Re(){S("cleanup"),c.removeListener("close",Ye),c.removeListener("finish",tt),ee&&c.removeListener("drain",ee),c.removeListener("error",Be),c.removeListener("unpipe",$e),I.removeListener("end",de),I.removeListener("end",Ke),I.removeListener("data",Ve),pe=!0,ee&&T.awaitDrainWriters&&(!c._writableState||c._writableState.needDrain)&&ee()}function me(){pe||(T.pipes.length===1&&T.pipes[0]===c?(S("false write response, pause",0),T.awaitDrainWriters=c,T.multiAwaitDrain=!1):T.pipes.length>1&&T.pipes.includes(c)&&(S("false write response, pause",T.awaitDrainWriters.size),T.awaitDrainWriters.add(c)),I.pause()),ee||(ee=ve(I,c),c.on("drain",ee))}I.on("data",Ve);function Ve(ke){S("ondata");const Te=c.write(ke);S("dest.write",Te),Te===!1&&me()}function Be(ke){if(S("onerror",ke),Ke(),c.removeListener("error",Be),c.listenerCount("error")===0){const Te=c._writableState||c._readableState;Te&&!Te.errorEmitted?ae(c,ke):c.emit("error",ke)}}y(c,"error",Be);function Ye(){c.removeListener("finish",tt),Ke()}c.once("close",Ye);function tt(){S("onfinish"),c.removeListener("close",Ye),Ke()}c.once("finish",tt);function Ke(){S("unpipe"),I.unpipe(c)}return c.emit("pipe",I),c.writableNeedDrain===!0?me():T.flowing||(S("pipe resume"),I.resume()),c};function ve(c,b){return function(){const T=c._readableState;T.awaitDrainWriters===b?(S("pipeOnDrain",1),T.awaitDrainWriters=null):T.multiAwaitDrain&&(S("pipeOnDrain",T.awaitDrainWriters.size),T.awaitDrainWriters.delete(b)),(!T.awaitDrainWriters||T.awaitDrainWriters.size===0)&&c.listenerCount("data")&&c.resume()}}F.prototype.unpipe=function(c){const b=this._readableState,I={hasUnpiped:!1};if(b.pipes.length===0)return this;if(!c){const P=b.pipes;b.pipes=[],this.pause();for(let Ee=0;Ee<P.length;Ee++)P[Ee].emit("unpipe",this,{hasUnpiped:!1});return this}const T=t(b.pipes,c);return T===-1?this:(b.pipes.splice(T,1),b.pipes.length===0&&this.pause(),c.emit("unpipe",this,I),this)},F.prototype.on=function(c,b){const I=w.prototype.on.call(this,c,b),T=this._readableState;return c==="data"?(T.readableListening=this.listenerCount("readable")>0,T.flowing!==!1&&this.resume()):c==="readable"&&!T.endEmitted&&!T.readableListening&&(T.readableListening=T.needReadable=!0,T.flowing=!1,T.emittedReadable=!1,S("on readable",T.length,T.reading),T.length?M(this):T.reading||e.nextTick(dt,this)),I},F.prototype.addListener=F.prototype.on,F.prototype.removeListener=function(c,b){const I=w.prototype.removeListener.call(this,c,b);return c==="readable"&&e.nextTick(ze,this),I},F.prototype.off=F.prototype.removeListener,F.prototype.removeAllListeners=function(c){const b=w.prototype.removeAllListeners.apply(this,arguments);return(c==="readable"||c===void 0)&&e.nextTick(ze,this),b};function ze(c){const b=c._readableState;b.readableListening=c.listenerCount("readable")>0,b.resumeScheduled&&b[H]===!1?b.flowing=!0:c.listenerCount("data")>0?c.resume():b.readableListening||(b.flowing=null)}function dt(c){S("readable nexttick read 0"),c.read(0)}F.prototype.resume=function(){const c=this._readableState;return c.flowing||(S("resume"),c.flowing=!c.readableListening,et(this,c)),c[H]=!1,this};function et(c,b){b.resumeScheduled||(b.resumeScheduled=!0,e.nextTick(Xe,c,b))}function Xe(c,b){S("resume",b.reading),b.reading||c.read(0),b.resumeScheduled=!1,c.emit("resume"),rt(c),b.flowing&&!b.reading&&c.read(0)}F.prototype.pause=function(){return S("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(S("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[H]=!0,this};function rt(c){const b=c._readableState;for(S("flow",b.flowing);b.flowing&&c.read()!==null;);}F.prototype.wrap=function(c){let b=!1;c.on("data",T=>{!this.push(T)&&c.pause&&(b=!0,c.pause())}),c.on("end",()=>{this.push(null)}),c.on("error",T=>{ae(this,T)}),c.on("close",()=>{this.destroy()}),c.on("destroy",()=>{this.destroy()}),this._read=()=>{b&&c.resume&&(b=!1,c.resume())};const I=a(c);for(let T=1;T<I.length;T++){const P=I[T];this[P]===void 0&&typeof c[P]=="function"&&(this[P]=c[P].bind(c))}return this},F.prototype[g]=function(){return Lt(this)},F.prototype.iterator=function(c){return c!==void 0&&G(c,"options"),Lt(this,c)};function Lt(c,b){typeof c.read!="function"&&(c=F.wrap(c,{objectMode:!0}));const I=vr(c,b);return I.stream=c,I}async function*vr(c,b){let I=se;function T($e){this===c?(I(),I=se):I=$e}c.on("readable",T);let P;const Ee=x(c,{writable:!1},$e=>{P=$e?q(P,$e):null,I(),I=se});try{for(;;){const $e=c.destroyed?null:c.read();if($e!==null)yield $e;else{if(P)throw P;if(P===null)return;await new f(T)}}}catch($e){throw P=q(P,$e),P}finally{(P||(b==null?void 0:b.destroyOnReturn)!==!1)&&(P===void 0||c._readableState.autoDestroy)?$.destroyer(c,null):(c.off("readable",T),Ee())}}s(F.prototype,{readable:{__proto__:null,get(){const c=this._readableState;return!!c&&c.readable!==!1&&!c.destroyed&&!c.errorEmitted&&!c.endEmitted},set(c){this._readableState&&(this._readableState.readable=!!c)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(c){this._readableState&&(this._readableState.flowing=c)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(c){this._readableState&&(this._readableState.destroyed=c)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),s(ye.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[H]!==!1},set(c){this[H]=!!c}}}),F._fromList=Mt;function Mt(c,b){if(b.length===0)return null;let I;return b.objectMode?I=b.buffer.shift():!c||c>=b.length?(b.decoder?I=b.buffer.join(""):b.buffer.length===1?I=b.buffer.first():I=b.buffer.concat(b.length),b.buffer.clear()):I=b.buffer.consume(c,b.decoder),I}function ht(c){const b=c._readableState;S("endReadable",b.endEmitted),b.endEmitted||(b.ended=!0,e.nextTick(wr,b,c))}function wr(c,b){if(S("endReadableNT",c.endEmitted,c.length),!c.errored&&!c.closeEmitted&&!c.endEmitted&&c.length===0){if(c.endEmitted=!0,b.emit("end"),b.writable&&b.allowHalfOpen===!1)e.nextTick(rr,b);else if(c.autoDestroy){const I=b._writableState;(!I||I.autoDestroy&&(I.finished||I.writable===!1))&&b.destroy()}}}function rr(c){c.writable&&!c.writableEnded&&!c.destroyed&&c.end()}F.from=function(c,b){return ne(F,c,b)};let _t;function jt(){return _t===void 0&&(_t={}),_t}return F.fromWeb=function(c,b){return jt().newStreamReadableFromReadableStream(c,b)},F.toWeb=function(c,b){return jt().newReadableStreamFromStreamReadable(c,b)},F.wrap=function(c,b){var I,T;return new F({objectMode:(I=(T=c.readableObjectMode)!==null&&T!==void 0?T:c.objectMode)!==null&&I!==void 0?I:!0,...b,destroy(P,Ee){$.destroyer(c,P),Ee(P)}}).wrap(c)},LA}var DA,dq;function MA(){if(dq)return DA;dq=1;const e=Qe,{ArrayPrototypeSlice:t,Error:r,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:o,ObjectDefineProperties:s,ObjectSetPrototypeOf:a,StringPrototypeToLowerCase:l,Symbol:f,SymbolHasInstance:u}=Rr;DA=G,G.WritableState=A;const{EventEmitter:d}=$t,g=CA.Stream,{Buffer:h}=Ge,p=ch,{addAbortSignal:w}=Qw,{getHighWaterMark:y,getDefaultHighWaterMark:v}=em,{ERR_INVALID_ARG_TYPE:E,ERR_METHOD_NOT_IMPLEMENTED:x,ERR_MULTIPLE_CALLBACK:S,ERR_STREAM_CANNOT_PIPE:N,ERR_STREAM_DESTROYED:$,ERR_STREAM_ALREADY_FINISHED:D,ERR_STREAM_NULL_VALUES:K,ERR_STREAM_WRITE_AFTER_END:q,ERR_UNKNOWN_ENCODING:k}=vi.codes,{errorOrDestroy:V}=p;a(G.prototype,g.prototype),a(G,g);function j(){}const B=f("kOnFinished");function A(_,m,R){typeof R!="boolean"&&(R=m instanceof Ta()),this.objectMode=!!(_&&_.objectMode),R&&(this.objectMode=this.objectMode||!!(_&&_.writableObjectMode)),this.highWaterMark=_?y(this,_,"writableHighWaterMark",R):v(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const O=!!(_&&_.decodeStrings===!1);this.decodeStrings=!O,this.defaultEncoding=_&&_.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=ae.bind(void 0,m),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,U(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!_||_.emitClose!==!1,this.autoDestroy=!_||_.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[B]=[]}function U(_){_.buffered=[],_.bufferedIndex=0,_.allBuffers=!0,_.allNoop=!0}A.prototype.getBuffer=function(){return t(this.buffered,this.bufferedIndex)},o(A.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function G(_){const m=this instanceof Ta();if(!m&&!n(G,this))return new G(_);this._writableState=new A(_,this,m),_&&(typeof _.write=="function"&&(this._write=_.write),typeof _.writev=="function"&&(this._writev=_.writev),typeof _.destroy=="function"&&(this._destroy=_.destroy),typeof _.final=="function"&&(this._final=_.final),typeof _.construct=="function"&&(this._construct=_.construct),_.signal&&w(_.signal,this)),g.call(this,_),p.construct(this,()=>{const R=this._writableState;R.writing||ue(this,R),_e(this,R)})}o(G,u,{__proto__:null,value:function(_){return n(this,_)?!0:this!==G?!1:_&&_._writableState instanceof A}}),G.prototype.pipe=function(){V(this,new N)};function H(_,m,R,O){const C=_._writableState;if(typeof R=="function")O=R,R=C.defaultEncoding;else{if(!R)R=C.defaultEncoding;else if(R!=="buffer"&&!h.isEncoding(R))throw new k(R);typeof O!="function"&&(O=j)}if(m===null)throw new K;if(!C.objectMode)if(typeof m=="string")C.decodeStrings!==!1&&(m=h.from(m,R),R="buffer");else if(m instanceof h)R="buffer";else if(g._isUint8Array(m))m=g._uint8ArrayToBuffer(m),R="buffer";else throw new E("chunk",["string","Buffer","Uint8Array"],m);let X;return C.ending?X=new q:C.destroyed&&(X=new $("write")),X?(e.nextTick(O,X),V(_,X,!0),X):(C.pendingcb++,Q(_,C,m,R,O))}G.prototype.write=function(_,m,R){return H(this,_,m,R)===!0},G.prototype.cork=function(){this._writableState.corked++},G.prototype.uncork=function(){const _=this._writableState;_.corked&&(_.corked--,_.writing||ue(this,_))},G.prototype.setDefaultEncoding=function(m){if(typeof m=="string"&&(m=l(m)),!h.isEncoding(m))throw new k(m);return this._writableState.defaultEncoding=m,this};function Q(_,m,R,O,C){const X=m.objectMode?1:R.length;m.length+=X;const re=m.length<m.highWaterMark;return re||(m.needDrain=!0),m.writing||m.corked||m.errored||!m.constructed?(m.buffered.push({chunk:R,encoding:O,callback:C}),m.allBuffers&&O!=="buffer"&&(m.allBuffers=!1),m.allNoop&&C!==j&&(m.allNoop=!1)):(m.writelen=X,m.writecb=C,m.writing=!0,m.sync=!0,_._write(R,O,m.onwrite),m.sync=!1),re&&!m.errored&&!m.destroyed}function ne(_,m,R,O,C,X,re){m.writelen=O,m.writecb=re,m.writing=!0,m.sync=!0,m.destroyed?m.onwrite(new $("write")):R?_._writev(C,m.onwrite):_._write(C,X,m.onwrite),m.sync=!1}function se(_,m,R,O){--m.pendingcb,O(R),W(m),V(_,R)}function ae(_,m){const R=_._writableState,O=R.sync,C=R.writecb;if(typeof C!="function"){V(_,new S);return}R.writing=!1,R.writecb=null,R.length-=R.writelen,R.writelen=0,m?(m.stack,R.errored||(R.errored=m),_._readableState&&!_._readableState.errored&&(_._readableState.errored=m),O?e.nextTick(se,_,R,m,C):se(_,R,m,C)):(R.buffered.length>R.bufferedIndex&&ue(_,R),O?R.afterWriteTickInfo!==null&&R.afterWriteTickInfo.cb===C?R.afterWriteTickInfo.count++:(R.afterWriteTickInfo={count:1,cb:C,stream:_,state:R},e.nextTick(Z,R.afterWriteTickInfo)):ge(_,R,1,C))}function Z({stream:_,state:m,count:R,cb:O}){return m.afterWriteTickInfo=null,ge(_,m,R,O)}function ge(_,m,R,O){for(!m.ending&&!_.destroyed&&m.length===0&&m.needDrain&&(m.needDrain=!1,_.emit("drain"));R-- >0;)m.pendingcb--,O();m.destroyed&&W(m),_e(_,m)}function W(_){if(_.writing)return;for(let C=_.bufferedIndex;C<_.buffered.length;++C){var m;const{chunk:X,callback:re}=_.buffered[C],J=_.objectMode?1:X.length;_.length-=J,re((m=_.errored)!==null&&m!==void 0?m:new $("write"))}const R=_[B].splice(0);for(let C=0;C<R.length;C++){var O;R[C]((O=_.errored)!==null&&O!==void 0?O:new $("end"))}U(_)}function ue(_,m){if(m.corked||m.bufferProcessing||m.destroyed||!m.constructed)return;const{buffered:R,bufferedIndex:O,objectMode:C}=m,X=R.length-O;if(!X)return;let re=O;if(m.bufferProcessing=!0,X>1&&_._writev){m.pendingcb-=X-1;const J=m.allNoop?j:F=>{for(let we=re;we<R.length;++we)R[we].callback(F)},ye=m.allNoop&&re===0?R:t(R,re);ye.allBuffers=m.allBuffers,ne(_,m,!0,m.length,ye,"",J),U(m)}else{do{const{chunk:J,encoding:ye,callback:F}=R[re];R[re++]=null;const we=C?1:J.length;ne(_,m,!1,we,J,ye,F)}while(re<R.length&&!m.writing);re===R.length?U(m):re>256?(R.splice(0,re),m.bufferedIndex=0):m.bufferedIndex=re}m.bufferProcessing=!1}G.prototype._write=function(_,m,R){if(this._writev)this._writev([{chunk:_,encoding:m}],R);else throw new x("_write()")},G.prototype._writev=null,G.prototype.end=function(_,m,R){const O=this._writableState;typeof _=="function"?(R=_,_=null,m=null):typeof m=="function"&&(R=m,m=null);let C;if(_!=null){const X=H(this,_,m);X instanceof r&&(C=X)}return O.corked&&(O.corked=1,this.uncork()),C||(!O.errored&&!O.ending?(O.ending=!0,_e(this,O,!0),O.ended=!0):O.finished?C=new D("end"):O.destroyed&&(C=new $("end"))),typeof R=="function"&&(C||O.finished?e.nextTick(R,C):O[B].push(R)),this};function xe(_){return _.ending&&!_.destroyed&&_.constructed&&_.length===0&&!_.errored&&_.buffered.length===0&&!_.finished&&!_.writing&&!_.errorEmitted&&!_.closeEmitted}function he(_,m){let R=!1;function O(C){if(R){V(_,C??S());return}if(R=!0,m.pendingcb--,C){const X=m[B].splice(0);for(let re=0;re<X.length;re++)X[re](C);V(_,C,m.sync)}else xe(m)&&(m.prefinished=!0,_.emit("prefinish"),m.pendingcb++,e.nextTick(Ae,_,m))}m.sync=!0,m.pendingcb++;try{_._final(O)}catch(C){O(C)}m.sync=!1}function le(_,m){!m.prefinished&&!m.finalCalled&&(typeof _._final=="function"&&!m.destroyed?(m.finalCalled=!0,he(_,m)):(m.prefinished=!0,_.emit("prefinish")))}function _e(_,m,R){xe(m)&&(le(_,m),m.pendingcb===0&&(R?(m.pendingcb++,e.nextTick((O,C)=>{xe(C)?Ae(O,C):C.pendingcb--},_,m)):xe(m)&&(m.pendingcb++,Ae(_,m))))}function Ae(_,m){m.pendingcb--,m.finished=!0;const R=m[B].splice(0);for(let O=0;O<R.length;O++)R[O]();if(_.emit("finish"),m.autoDestroy){const O=_._readableState;(!O||O.autoDestroy&&(O.endEmitted||O.readable===!1))&&_.destroy()}}s(G.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(_){this._writableState&&(this._writableState.destroyed=_)}},writable:{__proto__:null,get(){const _=this._writableState;return!!_&&_.writable!==!1&&!_.destroyed&&!_.errored&&!_.ending&&!_.ended},set(_){this._writableState&&(this._writableState.writable=!!_)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const _=this._writableState;return _?!_.destroyed&&!_.ending&&_.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const We=p.destroy;G.prototype.destroy=function(_,m){const R=this._writableState;return!R.destroyed&&(R.bufferedIndex<R.buffered.length||R[B].length)&&e.nextTick(W,R),We.call(this,_,m),this},G.prototype._undestroy=p.undestroy,G.prototype._destroy=function(_,m){m(_)},G.prototype[d.captureRejectionSymbol]=function(_){this.destroy(_)};let ie;function te(){return ie===void 0&&(ie={}),ie}return G.fromWeb=function(_,m){return te().newStreamWritableFromWritableStream(_,m)},G.toWeb=function(_){return te().newWritableStreamFromStreamWritable(_)},DA}var PA,hq;function C1e(){if(hq)return PA;hq=1;const e=Qe,t=Ge,{isReadable:r,isWritable:n,isIterable:o,isNodeStream:s,isReadableNodeStream:a,isWritableNodeStream:l,isDuplexNodeStream:f,isReadableStream:u,isWritableStream:d}=$a,g=tu,{AbortError:h,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:w}}=vi,{destroyer:y}=ch,v=Ta(),E=tm(),x=MA(),{createDeferredPromise:S}=Xn,N=fq,$=globalThis.Blob||t.Blob,D=typeof $<"u"?function(A){return A instanceof $}:function(A){return!1},K=globalThis.AbortController||bt().AbortController,{FunctionPrototypeCall:q}=Rr;class k extends v{constructor(A){super(A),(A==null?void 0:A.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(A==null?void 0:A.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}PA=function B(A,U){if(f(A))return A;if(a(A))return j({readable:A});if(l(A))return j({writable:A});if(s(A))return j({writable:!1,readable:!1});if(u(A))return j({readable:E.fromWeb(A)});if(d(A))return j({writable:x.fromWeb(A)});if(typeof A=="function"){const{value:H,write:Q,final:ne,destroy:se}=V(A);if(o(H))return N(k,H,{objectMode:!0,write:Q,final:ne,destroy:se});const ae=H==null?void 0:H.then;if(typeof ae=="function"){let Z;const ge=q(ae,H,W=>{if(W!=null)throw new w("nully","body",W)},W=>{y(Z,W)});return Z=new k({objectMode:!0,readable:!1,write:Q,final(W){ne(async()=>{try{await ge,e.nextTick(W,null)}catch(ue){e.nextTick(W,ue)}})},destroy:se})}throw new w("Iterable, AsyncIterable or AsyncFunction",U,H)}if(D(A))return B(A.arrayBuffer());if(o(A))return N(k,A,{objectMode:!0,writable:!1});if(u(A==null?void 0:A.readable)&&d(A==null?void 0:A.writable))return k.fromWeb(A);if(typeof(A==null?void 0:A.writable)=="object"||typeof(A==null?void 0:A.readable)=="object"){const H=A!=null&&A.readable?a(A==null?void 0:A.readable)?A==null?void 0:A.readable:B(A.readable):void 0,Q=A!=null&&A.writable?l(A==null?void 0:A.writable)?A==null?void 0:A.writable:B(A.writable):void 0;return j({readable:H,writable:Q})}const G=A==null?void 0:A.then;if(typeof G=="function"){let H;return q(G,A,Q=>{Q!=null&&H.push(Q),H.push(null)},Q=>{y(H,Q)}),H=new k({objectMode:!0,writable:!1,read(){}})}throw new p(U,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],A)};function V(B){let{promise:A,resolve:U}=S();const G=new K,H=G.signal;return{value:B(async function*(){for(;;){const ne=A;A=null;const{chunk:se,done:ae,cb:Z}=await ne;if(e.nextTick(Z),ae)return;if(H.aborted)throw new h(void 0,{cause:H.reason});({promise:A,resolve:U}=S()),yield se}}(),{signal:H}),write(ne,se,ae){const Z=U;U=null,Z({chunk:ne,done:!1,cb:ae})},final(ne){const se=U;U=null,se({done:!0,cb:ne})},destroy(ne,se){G.abort(),se(ne)}}}function j(B){const A=B.readable&&typeof B.readable.read!="function"?E.wrap(B.readable):B.readable,U=B.writable;let G=!!r(A),H=!!n(U),Q,ne,se,ae,Z;function ge(W){const ue=ae;ae=null,ue?ue(W):W&&Z.destroy(W)}return Z=new k({readableObjectMode:!!(A!=null&&A.readableObjectMode),writableObjectMode:!!(U!=null&&U.writableObjectMode),readable:G,writable:H}),H&&(g(U,W=>{H=!1,W&&y(A,W),ge(W)}),Z._write=function(W,ue,xe){U.write(W,ue)?xe():Q=xe},Z._final=function(W){U.end(),ne=W},U.on("drain",function(){if(Q){const W=Q;Q=null,W()}}),U.on("finish",function(){if(ne){const W=ne;ne=null,W()}})),G&&(g(A,W=>{G=!1,W&&y(A,W),ge(W)}),A.on("readable",function(){if(se){const W=se;se=null,W()}}),A.on("end",function(){Z.push(null)}),Z._read=function(){for(;;){const W=A.read();if(W===null){se=Z._read;return}if(!Z.push(W))return}}),Z._destroy=function(W,ue){!W&&ae!==null&&(W=new h),se=null,Q=null,ne=null,ae===null?ue(W):(ae=ue,y(U,W),y(A,W))},Z}return PA}var FA,pq;function Ta(){if(pq)return FA;pq=1;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:r,ObjectSetPrototypeOf:n}=Rr;FA=a;const o=tm(),s=MA();n(a.prototype,o.prototype),n(a,o);{const d=r(s.prototype);for(let g=0;g<d.length;g++){const h=d[g];a.prototype[h]||(a.prototype[h]=s.prototype[h])}}function a(d){if(!(this instanceof a))return new a(d);o.call(this,d),s.call(this,d),d?(this.allowHalfOpen=d.allowHalfOpen!==!1,d.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),d.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(a.prototype,{writable:{__proto__:null,...t(s.prototype,"writable")},writableHighWaterMark:{__proto__:null,...t(s.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...t(s.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...t(s.prototype,"writableBuffer")},writableLength:{__proto__:null,...t(s.prototype,"writableLength")},writableFinished:{__proto__:null,...t(s.prototype,"writableFinished")},writableCorked:{__proto__:null,...t(s.prototype,"writableCorked")},writableEnded:{__proto__:null,...t(s.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...t(s.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(d){this._readableState&&this._writableState&&(this._readableState.destroyed=d,this._writableState.destroyed=d)}}});let l;function f(){return l===void 0&&(l={}),l}a.fromWeb=function(d,g){return f().newStreamDuplexFromReadableWritablePair(d,g)},a.toWeb=function(d){return f().newReadableWritablePairFromDuplex(d)};let u;return a.from=function(d){return u||(u=C1e()),u(d,"body")},FA}const{ObjectSetPrototypeOf:bq,Symbol:O1e}=Rr;var gq=Ia;const{ERR_METHOD_NOT_IMPLEMENTED:L1e}=vi.codes,jA=Ta(),{getHighWaterMark:D1e}=em;bq(Ia.prototype,jA.prototype),bq(Ia,jA);const Ub=O1e("kCallback");function Ia(e){if(!(this instanceof Ia))return new Ia(e);const t=e?D1e(this,e,"readableHighWaterMark",!0):null;t===0&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),jA.call(this,e),this._readableState.sync=!1,this[Ub]=null,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",M1e)}function WA(e){typeof this._flush=="function"&&!this.destroyed?this._flush((t,r)=>{if(t){e?e(t):this.destroy(t);return}r!=null&&this.push(r),this.push(null),e&&e()}):(this.push(null),e&&e())}function M1e(){this._final!==WA&&WA.call(this)}Ia.prototype._final=WA,Ia.prototype._transform=function(e,t,r){throw new L1e("_transform()")},Ia.prototype._write=function(e,t,r){const n=this._readableState,o=this._writableState,s=n.length;this._transform(e,t,(a,l)=>{if(a){r(a);return}l!=null&&this.push(l),o.ended||s===n.length||n.length<n.highWaterMark?r():this[Ub]=r})},Ia.prototype._read=function(){if(this[Ub]){const e=this[Ub];this[Ub]=null,e()}};const{ObjectSetPrototypeOf:_q}=Rr;var yq=dh;const BA=gq;_q(dh.prototype,BA.prototype),_q(dh,BA);function dh(e){if(!(this instanceof dh))return new dh(e);BA.call(this,e)}dh.prototype._transform=function(e,t,r){r(null,e)};const qb=Qe,{ArrayIsArray:P1e,Promise:F1e,SymbolAsyncIterator:j1e,SymbolDispose:W1e}=Rr,rm=tu,{once:B1e}=Xn,U1e=ch,wq=Ta(),{aggregateTwoErrors:q1e,codes:{ERR_INVALID_ARG_TYPE:UA,ERR_INVALID_RETURN_VALUE:qA,ERR_MISSING_ARGS:H1e,ERR_STREAM_DESTROYED:V1e,ERR_STREAM_PREMATURE_CLOSE:G1e},AbortError:z1e}=vi,{validateFunction:K1e,validateAbortSignal:J1e}=Bb,{isIterable:Mf,isReadable:HA,isReadableNodeStream:nm,isNodeStream:mq,isTransformStream:hh,isWebStream:Y1e,isReadableStream:VA,isReadableFinished:X1e}=$a,Q1e=globalThis.AbortController||bt().AbortController;let GA,zA,KA;function vq(e,t,r){let n=!1;e.on("close",()=>{n=!0});const o=rm(e,{readable:t,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,U1e.destroyer(e,s||new V1e("pipe")))},cleanup:o}}function Z1e(e){return K1e(e[e.length-1],"streams[stream.length - 1]"),e.pop()}function JA(e){if(Mf(e))return e;if(nm(e))return eAe(e);throw new UA("val",["Readable","Iterable","AsyncIterable"],e)}async function*eAe(e){zA||(zA=tm()),yield*zA.prototype[j1e].call(e)}async function im(e,t,r,{end:n}){let o,s=null;const a=u=>{if(u&&(o=u),s){const d=s;s=null,d()}},l=()=>new F1e((u,d)=>{o?d(o):s=()=>{o?d(o):u()}});t.on("drain",a);const f=rm(t,{readable:!1},a);try{t.writableNeedDrain&&await l();for await(const u of e)t.write(u)||await l();n&&(t.end(),await l()),r()}catch(u){r(o!==u?q1e(o,u):u)}finally{f(),t.off("drain",a)}}async function YA(e,t,r,{end:n}){hh(t)&&(t=t.writable);const o=t.getWriter();try{for await(const s of e)await o.ready,o.write(s).catch(()=>{});await o.ready,n&&await o.close(),r()}catch(s){try{await o.abort(s),r(s)}catch(a){r(a)}}}function tAe(...e){return Sq(e,B1e(Z1e(e)))}function Sq(e,t,r){if(e.length===1&&P1e(e[0])&&(e=e[0]),e.length<2)throw new H1e("streams");const n=new Q1e,o=n.signal,s=r==null?void 0:r.signal,a=[];J1e(s,"options.signal");function l(){w(new z1e)}KA=KA||Xn.addAbortListener;let f;s&&(f=KA(s,l));let u,d;const g=[];let h=0;function p(x){w(x,--h===0)}function w(x,S){var N;if(x&&(!u||u.code==="ERR_STREAM_PREMATURE_CLOSE")&&(u=x),!(!u&&!S)){for(;g.length;)g.shift()(u);(N=f)===null||N===void 0||N[W1e](),n.abort(),S&&(u||a.forEach($=>$()),qb.nextTick(t,u,d))}}let y;for(let x=0;x<e.length;x++){const S=e[x],N=x<e.length-1,$=x>0,D=N||(r==null?void 0:r.end)!==!1,K=x===e.length-1;if(mq(S)){let q=function(k){k&&k.name!=="AbortError"&&k.code!=="ERR_STREAM_PREMATURE_CLOSE"&&p(k)};if(D){const{destroy:k,cleanup:V}=vq(S,N,$);g.push(k),HA(S)&&K&&a.push(V)}S.on("error",q),HA(S)&&K&&a.push(()=>{S.removeListener("error",q)})}if(x===0)if(typeof S=="function"){if(y=S({signal:o}),!Mf(y))throw new qA("Iterable, AsyncIterable or Stream","source",y)}else Mf(S)||nm(S)||hh(S)?y=S:y=wq.from(S);else if(typeof S=="function"){if(hh(y)){var v;y=JA((v=y)===null||v===void 0?void 0:v.readable)}else y=JA(y);if(y=S(y,{signal:o}),N){if(!Mf(y,!0))throw new qA("AsyncIterable",`transform[${x-1}]`,y)}else{var E;GA||(GA=yq);const q=new GA({objectMode:!0}),k=(E=y)===null||E===void 0?void 0:E.then;if(typeof k=="function")h++,k.call(y,B=>{d=B,B!=null&&q.write(B),D&&q.end(),qb.nextTick(p)},B=>{q.destroy(B),qb.nextTick(p,B)});else if(Mf(y,!0))h++,im(y,q,p,{end:D});else if(VA(y)||hh(y)){const B=y.readable||y;h++,im(B,q,p,{end:D})}else throw new qA("AsyncIterable or Promise","destination",y);y=q;const{destroy:V,cleanup:j}=vq(y,!1,!0);g.push(V),K&&a.push(j)}}else if(mq(S)){if(nm(y)){h+=2;const q=rAe(y,S,p,{end:D});HA(S)&&K&&a.push(q)}else if(hh(y)||VA(y)){const q=y.readable||y;h++,im(q,S,p,{end:D})}else if(Mf(y))h++,im(y,S,p,{end:D});else throw new UA("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],y);y=S}else if(Y1e(S)){if(nm(y))h++,YA(JA(y),S,p,{end:D});else if(VA(y)||Mf(y))h++,YA(y,S,p,{end:D});else if(hh(y))h++,YA(y.readable,S,p,{end:D});else throw new UA("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],y);y=S}else y=wq.from(S)}return(o!=null&&o.aborted||s!=null&&s.aborted)&&qb.nextTick(l),y}function rAe(e,t,r,{end:n}){let o=!1;if(t.on("close",()=>{o||r(new G1e)}),e.pipe(t,{end:!1}),n){let s=function(){o=!0,t.end()};X1e(e)?qb.nextTick(s):e.once("end",s)}else r();return rm(e,{readable:!0,writable:!1},s=>{const a=e._readableState;s&&s.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?e.once("end",r).once("error",r):r(s)}),rm(t,{readable:!1,writable:!0},r)}var XA={pipelineImpl:Sq,pipeline:tAe};const{pipeline:nAe}=XA,om=Ta(),{destroyer:iAe}=ch,{isNodeStream:sm,isReadable:Eq,isWritable:Rq,isWebStream:QA,isTransformStream:Pf,isWritableStream:xq,isReadableStream:Aq}=$a,{AbortError:oAe,codes:{ERR_INVALID_ARG_VALUE:$q,ERR_MISSING_ARGS:sAe}}=vi,aAe=tu;var Tq=function(...t){if(t.length===0)throw new sAe("streams");if(t.length===1)return om.from(t[0]);const r=[...t];if(typeof t[0]=="function"&&(t[0]=om.from(t[0])),typeof t[t.length-1]=="function"){const p=t.length-1;t[p]=om.from(t[p])}for(let p=0;p<t.length;++p)if(!(!sm(t[p])&&!QA(t[p]))){if(p<t.length-1&&!(Eq(t[p])||Aq(t[p])||Pf(t[p])))throw new $q(`streams[${p}]`,r[p],"must be readable");if(p>0&&!(Rq(t[p])||xq(t[p])||Pf(t[p])))throw new $q(`streams[${p}]`,r[p],"must be writable")}let n,o,s,a,l;function f(p){const w=a;a=null,w?w(p):p?l.destroy(p):!h&&!g&&l.destroy()}const u=t[0],d=nAe(t,f),g=!!(Rq(u)||xq(u)||Pf(u)),h=!!(Eq(d)||Aq(d)||Pf(d));if(l=new om({writableObjectMode:!!(u!=null&&u.writableObjectMode),readableObjectMode:!!(d!=null&&d.readableObjectMode),writable:g,readable:h}),g){if(sm(u))l._write=function(w,y,v){u.write(w,y)?v():n=v},l._final=function(w){u.end(),o=w},u.on("drain",function(){if(n){const w=n;n=null,w()}});else if(QA(u)){const y=(Pf(u)?u.writable:u).getWriter();l._write=async function(v,E,x){try{await y.ready,y.write(v).catch(()=>{}),x()}catch(S){x(S)}},l._final=async function(v){try{await y.ready,y.close().catch(()=>{}),o=v}catch(E){v(E)}}}const p=Pf(d)?d.readable:d;aAe(p,()=>{if(o){const w=o;o=null,w()}})}if(h){if(sm(d))d.on("readable",function(){if(s){const p=s;s=null,p()}}),d.on("end",function(){l.push(null)}),l._read=function(){for(;;){const p=d.read();if(p===null){s=l._read;return}if(!l.push(p))return}};else if(QA(d)){const w=(Pf(d)?d.readable:d).getReader();l._read=async function(){for(;;)try{const{value:y,done:v}=await w.read();if(!l.push(y))return;if(v){l.push(null);return}}catch{return}}}}return l._destroy=function(p,w){!p&&a!==null&&(p=new oAe),s=null,n=null,o=null,a===null?w(p):(a=w,sm(d)&&iAe(d,p))},l};const lAe=globalThis.AbortController||bt().AbortController,{codes:{ERR_INVALID_ARG_VALUE:uAe,ERR_INVALID_ARG_TYPE:Hb,ERR_MISSING_ARGS:fAe,ERR_OUT_OF_RANGE:cAe},AbortError:$s}=vi,{validateAbortSignal:Ff,validateInteger:Iq,validateObject:jf}=Bb,dAe=Rr.Symbol("kWeak"),hAe=Rr.Symbol("kResistStopPropagation"),{finished:pAe}=tu,bAe=Tq,{addAbortSignalNoValidate:gAe}=Qw,{isWritable:_Ae,isNodeStream:yAe}=$a,{deprecate:wAe}=Xn,{ArrayPrototypePush:mAe,Boolean:vAe,MathFloor:Nq,Number:SAe,NumberIsNaN:EAe,Promise:kq,PromiseReject:Cq,PromiseResolve:RAe,PromisePrototypeThen:Oq,Symbol:Lq}=Rr,am=Lq("kEmpty"),Dq=Lq("kEof");function xAe(e,t){if(t!=null&&jf(t,"options"),(t==null?void 0:t.signal)!=null&&Ff(t.signal,"options.signal"),yAe(e)&&!_Ae(e))throw new uAe("stream",e,"must be writable");const r=bAe(this,e);return t!=null&&t.signal&&gAe(t.signal,r),r}function lm(e,t){if(typeof e!="function")throw new Hb("fn",["Function","AsyncFunction"],e);t!=null&&jf(t,"options"),(t==null?void 0:t.signal)!=null&&Ff(t.signal,"options.signal");let r=1;(t==null?void 0:t.concurrency)!=null&&(r=Nq(t.concurrency));let n=r-1;return(t==null?void 0:t.highWaterMark)!=null&&(n=Nq(t.highWaterMark)),Iq(r,"options.concurrency",1),Iq(n,"options.highWaterMark",0),n+=r,(async function*(){const s=Xn.AbortSignalAny([t==null?void 0:t.signal].filter(vAe)),a=this,l=[],f={signal:s};let u,d,g=!1,h=0;function p(){g=!0,w()}function w(){h-=1,y()}function y(){d&&!g&&h<r&&l.length<n&&(d(),d=null)}async function v(){try{for await(let E of a){if(g)return;if(s.aborted)throw new $s;try{if(E=e(E,f),E===am)continue;E=RAe(E)}catch(x){E=Cq(x)}h+=1,Oq(E,w,p),l.push(E),u&&(u(),u=null),!g&&(l.length>=n||h>=r)&&await new kq(x=>{d=x})}l.push(Dq)}catch(E){const x=Cq(E);Oq(x,w,p),l.push(x)}finally{g=!0,u&&(u(),u=null)}}v();try{for(;;){for(;l.length>0;){const E=await l[0];if(E===Dq)return;if(s.aborted)throw new $s;E!==am&&(yield E),l.shift(),y()}await new kq(E=>{u=E})}}finally{g=!0,d&&(d(),d=null)}}).call(this)}function AAe(e=void 0){return e!=null&&jf(e,"options"),(e==null?void 0:e.signal)!=null&&Ff(e.signal,"options.signal"),(async function*(){let r=0;for await(const o of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new $s({cause:e.signal.reason});yield[r++,o]}}).call(this)}async function Mq(e,t=void 0){for await(const r of ZA.call(this,e,t))return!0;return!1}async function $Ae(e,t=void 0){if(typeof e!="function")throw new Hb("fn",["Function","AsyncFunction"],e);return!await Mq.call(this,async(...r)=>!await e(...r),t)}async function TAe(e,t){for await(const r of ZA.call(this,e,t))return r}async function IAe(e,t){if(typeof e!="function")throw new Hb("fn",["Function","AsyncFunction"],e);async function r(n,o){return await e(n,o),am}for await(const n of lm.call(this,r,t));}function ZA(e,t){if(typeof e!="function")throw new Hb("fn",["Function","AsyncFunction"],e);async function r(n,o){return await e(n,o)?n:am}return lm.call(this,r,t)}let NAe=class extends fAe{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function kAe(e,t,r){var n;if(typeof e!="function")throw new Hb("reducer",["Function","AsyncFunction"],e);r!=null&&jf(r,"options"),(r==null?void 0:r.signal)!=null&&Ff(r.signal,"options.signal");let o=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){const u=new $s(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await pAe(this.destroy(u)),u}const s=new lAe,a=s.signal;if(r!=null&&r.signal){const u={once:!0,[dAe]:this,[hAe]:!0};r.signal.addEventListener("abort",()=>s.abort(),u)}let l=!1;try{for await(const u of this){var f;if(l=!0,r!=null&&(f=r.signal)!==null&&f!==void 0&&f.aborted)throw new $s;o?t=await e(t,u,{signal:a}):(t=u,o=!0)}if(!l&&!o)throw new NAe}finally{s.abort()}return t}async function CAe(e){e!=null&&jf(e,"options"),(e==null?void 0:e.signal)!=null&&Ff(e.signal,"options.signal");const t=[];for await(const n of this){var r;if(e!=null&&(r=e.signal)!==null&&r!==void 0&&r.aborted)throw new $s(void 0,{cause:e.signal.reason});mAe(t,n)}return t}function OAe(e,t){const r=lm.call(this,e,t);return(async function*(){for await(const o of r)yield*o}).call(this)}function Pq(e){if(e=SAe(e),EAe(e))return 0;if(e<0)throw new cAe("number",">= 0",e);return e}function LAe(e,t=void 0){return t!=null&&jf(t,"options"),(t==null?void 0:t.signal)!=null&&Ff(t.signal,"options.signal"),e=Pq(e),(async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new $s;for await(const s of this){var o;if(t!=null&&(o=t.signal)!==null&&o!==void 0&&o.aborted)throw new $s;e--<=0&&(yield s)}}).call(this)}function DAe(e,t=void 0){return t!=null&&jf(t,"options"),(t==null?void 0:t.signal)!=null&&Ff(t.signal,"options.signal"),e=Pq(e),(async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new $s;for await(const s of this){var o;if(t!=null&&(o=t.signal)!==null&&o!==void 0&&o.aborted)throw new $s;if(e-- >0&&(yield s),e<=0)return}}).call(this)}gA.streamReturningOperators={asIndexedPairs:wAe(AAe,"readable.asIndexedPairs will be removed in a future version."),drop:LAe,filter:ZA,flatMap:OAe,map:lm,take:DAe,compose:xAe},gA.promiseReturningOperators={every:$Ae,forEach:IAe,reduce:kAe,toArray:CAe,some:Mq,find:TAe};var e$,Fq;function jq(){if(Fq)return e$;Fq=1;const{ArrayPrototypePop:e,Promise:t}=Rr,{isIterable:r,isNodeStream:n,isWebStream:o}=$a,{pipelineImpl:s}=XA,{finished:a}=tu;Bq();function l(...f){return new t((u,d)=>{let g,h;const p=f[f.length-1];if(p&&typeof p=="object"&&!n(p)&&!r(p)&&!o(p)){const w=e(f);g=w.signal,h=w.end}s(f,(w,y)=>{w?d(w):u(y)},{signal:g,end:h})})}return e$={finished:a,pipeline:l},e$}var Wq;function Bq(){if(Wq)return bA.exports;Wq=1;const{Buffer:e}=Ge,{ObjectDefineProperty:t,ObjectKeys:r,ReflectApply:n}=Rr,{promisify:{custom:o}}=Xn,{streamReturningOperators:s,promiseReturningOperators:a}=gA,{codes:{ERR_ILLEGAL_CONSTRUCTOR:l}}=vi,f=Tq,{setDefaultHighWaterMark:u,getDefaultHighWaterMark:d}=em,{pipeline:g}=XA,{destroyer:h}=ch,p=tu,w=jq(),y=$a,v=bA.exports=CA.Stream;v.isDestroyed=y.isDestroyed,v.isDisturbed=y.isDisturbed,v.isErrored=y.isErrored,v.isReadable=y.isReadable,v.isWritable=y.isWritable,v.Readable=tm();for(const x of r(s)){let N=function(...$){if(new.target)throw l();return v.Readable.from(n(S,this,$))};const S=s[x];t(N,"name",{__proto__:null,value:S.name}),t(N,"length",{__proto__:null,value:S.length}),t(v.Readable.prototype,x,{__proto__:null,value:N,enumerable:!1,configurable:!0,writable:!0})}for(const x of r(a)){let N=function(...$){if(new.target)throw l();return n(S,this,$)};const S=a[x];t(N,"name",{__proto__:null,value:S.name}),t(N,"length",{__proto__:null,value:S.length}),t(v.Readable.prototype,x,{__proto__:null,value:N,enumerable:!1,configurable:!0,writable:!0})}v.Writable=MA(),v.Duplex=Ta(),v.Transform=gq,v.PassThrough=yq,v.pipeline=g;const{addAbortSignal:E}=Qw;return v.addAbortSignal=E,v.finished=p,v.destroy=h,v.compose=f,v.setDefaultHighWaterMark=u,v.getDefaultHighWaterMark=d,t(v,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return w}}),t(g,o,{__proto__:null,enumerable:!0,get(){return w.pipeline}}),t(p,o,{__proto__:null,enumerable:!0,get(){return w.finished}}),v.Stream=v,v._isUint8Array=function(S){return S instanceof Uint8Array},v._uint8ArrayToBuffer=function(S){return e.from(S.buffer,S.byteOffset,S.byteLength)},bA.exports}(function(e){const t=Bq(),r=jq(),n=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=n,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return r}}),e.exports.Stream=t.Stream,e.exports.default=e.exports})(f7);var Uq=f7.exports;function qq(e){const t=new Uq.PassThrough({objectMode:!0});return setTimeout(async()=>{try{(await e()).pipe(t)}catch(r){t.destroy(r)}},0),_w(t)}async function um(e){if(e.ok)return;const t=await e.text(),r=new Error(`${e.statusText} (${e.status}): ${t}`);throw r.status=e.status,r}function ru(...e){const t=new Headers;for(const r of e){if(!r)continue;const n=r.entries?r.entries():Object.entries(r);for(const[o,s]of n)t.set(o,s)}return t}class Hq{constructor({client:t}){this.client=t}async ask(t,{headers:r,operation:n="get"}={}){return r=ru(r),r.has("accept")||r.set("accept","application/sparql-results+json"),this.client[n](t,{headers:r})}async construct(t,{headers:r,operation:n="get"}={}){return r=ru(r),r.has("accept")||r.set("accept","application/n-triples"),this.client[n](t,{headers:r})}async select(t,{headers:r,operation:n="get"}={}){return r=ru(r),r.has("accept")||r.set("accept","application/sparql-results+json"),this.client[n](t,{headers:r})}async update(t,{headers:r,operation:n="postUrlencoded"}={}){return r=ru(r),r.has("accept")||r.set("accept","*/*"),this.client[n](t,{headers:r,update:!0})}}var{Buffer:nu}=Ge,kt={},Vq=kt.LEFT_BRACE=1,fm=kt.RIGHT_BRACE=2,Gq=kt.LEFT_BRACKET=3,t$=kt.RIGHT_BRACKET=4,cm=kt.COLON=5,dm=kt.COMMA=6,zq=kt.TRUE=7,Kq=kt.FALSE=8,Jq=kt.NULL=9,hm=kt.STRING=10,Yq=kt.NUMBER=11,Wf=kt.START=17,Xq=kt.STOP=18,Qq=kt.TRUE1=33,Zq=kt.TRUE2=34,eH=kt.TRUE3=35,tH=kt.FALSE1=49,rH=kt.FALSE2=50,nH=kt.FALSE3=51,iH=kt.FALSE4=52,oH=kt.NULL1=65,sH=kt.NULL2=66,aH=kt.NULL3=67,lH=kt.NUMBER1=81,r$=kt.NUMBER3=83,jo=kt.STRING1=97,uH=kt.STRING2=98,fH=kt.STRING3=99,MAe=kt.STRING4=100,PAe=kt.STRING5=101,cH=kt.STRING6=102,ph=kt.VALUE=113,n$=kt.KEY=114,pm=kt.OBJECT=129,bm=kt.ARRAY=130,FAe=92,jAe=47,WAe=8,BAe=12,UAe=10,qAe=13,HAe=9,i$=64*1024;function gm(e){return nu.alloc?nu.alloc(e):new nu(e)}function iu(){this.tState=Wf,this.value=void 0,this.string=void 0,this.stringBuffer=gm(i$),this.stringBufferOffset=0,this.unicode=void 0,this.highSurrogate=void 0,this.key=void 0,this.mode=void 0,this.stack=[],this.state=ph,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:gm(2),3:gm(3),4:gm(4)},this.offset=-1}iu.toknam=function(e){for(var t=Object.keys(kt),r=0,n=t.length;r<n;r++){var o=t[r];if(kt[o]===e)return o}return e&&"0x"+e.toString(16)};var ji=iu.prototype;ji.onError=function(e){throw e},ji.charError=function(e,t){this.tState=Xq,this.onError(new Error("Unexpected "+JSON.stringify(String.fromCharCode(e[t]))+" at position "+t+" in state "+iu.toknam(this.tState)))},ji.appendStringChar=function(e){this.stringBufferOffset>=i$&&(this.string+=this.stringBuffer.toString("utf8"),this.stringBufferOffset=0),this.stringBuffer[this.stringBufferOffset++]=e},ji.appendStringBuf=function(e,t,r){var n=e.length;typeof t=="number"&&(typeof r=="number"?r<0?n=e.length-t+r:n=r-t:n=e.length-t),n<0&&(n=0),this.stringBufferOffset+n>i$&&(this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0),e.copy(this.stringBuffer,this.stringBufferOffset,t,r),this.stringBufferOffset+=n},ji.write=function(e){typeof e=="string"&&(e=new nu(e));for(var t,r=0,n=e.length;r<n;r++)if(this.tState===Wf){if(t=e[r],this.offset++,t===123)this.onToken(Vq,"{");else if(t===125)this.onToken(fm,"}");else if(t===91)this.onToken(Gq,"[");else if(t===93)this.onToken(t$,"]");else if(t===58)this.onToken(cm,":");else if(t===44)this.onToken(dm,",");else if(t===116)this.tState=Qq;else if(t===102)this.tState=tH;else if(t===110)this.tState=oH;else if(t===34)this.string="",this.stringBufferOffset=0,this.tState=jo;else if(t===45)this.string="-",this.tState=lH;else if(t>=48&&t<64)this.string=String.fromCharCode(t),this.tState=r$;else if(!(t===32||t===9||t===10||t===13))return this.charError(e,r)}else if(this.tState===jo)if(t=e[r],this.bytes_remaining>0){for(var o=0;o<this.bytes_remaining;o++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+o]=e[o];this.appendStringBuf(this.temp_buffs[this.bytes_in_sequence]),this.bytes_in_sequence=this.bytes_remaining=0,r=r+o-1}else if(this.bytes_remaining===0&&t>=128){if(t<=193||t>244)return this.onError(new Error("Invalid UTF-8 character at position "+r+" in state "+iu.toknam(this.tState)));if(t>=194&&t<=223&&(this.bytes_in_sequence=2),t>=224&&t<=239&&(this.bytes_in_sequence=3),t>=240&&t<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+r>e.length){for(var s=0;s<=e.length-1-r;s++)this.temp_buffs[this.bytes_in_sequence][s]=e[r+s];this.bytes_remaining=r+this.bytes_in_sequence-e.length,r=e.length-1}else this.appendStringBuf(e,r,r+this.bytes_in_sequence),r=r+this.bytes_in_sequence-1}else if(t===34)this.tState=Wf,this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0,this.onToken(hm,this.string),this.offset+=nu.byteLength(this.string,"utf8")+1,this.string=void 0;else if(t===92)this.tState=uH;else if(t>=32)this.appendStringChar(t);else return this.charError(e,r);else if(this.tState===uH)if(t=e[r],t===34)this.appendStringChar(t),this.tState=jo;else if(t===92)this.appendStringChar(FAe),this.tState=jo;else if(t===47)this.appendStringChar(jAe),this.tState=jo;else if(t===98)this.appendStringChar(WAe),this.tState=jo;else if(t===102)this.appendStringChar(BAe),this.tState=jo;else if(t===110)this.appendStringChar(UAe),this.tState=jo;else if(t===114)this.appendStringChar(qAe),this.tState=jo;else if(t===116)this.appendStringChar(HAe),this.tState=jo;else if(t===117)this.unicode="",this.tState=fH;else return this.charError(e,r);else if(this.tState===fH||this.tState===MAe||this.tState===PAe||this.tState===cH)if(t=e[r],t>=48&&t<64||t>64&&t<=70||t>96&&t<=102){if(this.unicode+=String.fromCharCode(t),this.tState++===cH){var a=parseInt(this.unicode,16);this.unicode=void 0,this.highSurrogate!==void 0&&a>=56320&&a<57344?(this.appendStringBuf(new nu(String.fromCharCode(this.highSurrogate,a))),this.highSurrogate=void 0):this.highSurrogate===void 0&&a>=55296&&a<56320?this.highSurrogate=a:(this.highSurrogate!==void 0&&(this.appendStringBuf(new nu(String.fromCharCode(this.highSurrogate))),this.highSurrogate=void 0),this.appendStringBuf(new nu(String.fromCharCode(a)))),this.tState=jo}}else return this.charError(e,r);else if(this.tState===lH||this.tState===r$)switch(t=e[r],t){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 46:case 101:case 69:case 43:case 45:this.string+=String.fromCharCode(t),this.tState=r$;break;default:this.tState=Wf;var l=this.numberReviver(this.string);if(l)return l;this.offset+=this.string.length-1,this.string=void 0,r--;break}else if(this.tState===Qq)if(e[r]===114)this.tState=Zq;else return this.charError(e,r);else if(this.tState===Zq)if(e[r]===117)this.tState=eH;else return this.charError(e,r);else if(this.tState===eH)if(e[r]===101)this.tState=Wf,this.onToken(zq,!0),this.offset+=3;else return this.charError(e,r);else if(this.tState===tH)if(e[r]===97)this.tState=rH;else return this.charError(e,r);else if(this.tState===rH)if(e[r]===108)this.tState=nH;else return this.charError(e,r);else if(this.tState===nH)if(e[r]===115)this.tState=iH;else return this.charError(e,r);else if(this.tState===iH)if(e[r]===101)this.tState=Wf,this.onToken(Kq,!1),this.offset+=4;else return this.charError(e,r);else if(this.tState===oH)if(e[r]===117)this.tState=sH;else return this.charError(e,r);else if(this.tState===sH)if(e[r]===108)this.tState=aH;else return this.charError(e,r);else if(this.tState===aH)if(e[r]===108)this.tState=Wf,this.onToken(Jq,null),this.offset+=3;else return this.charError(e,r)},ji.onToken=function(e,t){},ji.parseError=function(e,t){this.tState=Xq,this.onError(new Error("Unexpected "+iu.toknam(e)+(t?"("+JSON.stringify(t)+")":"")+" in state "+iu.toknam(this.state)))},ji.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})},ji.pop=function(){var e=this.value,t=this.stack.pop();this.value=t.value,this.key=t.key,this.mode=t.mode,this.emit(e),this.mode||(this.state=ph)},ji.emit=function(e){this.mode&&(this.state=dm),this.onValue(e)},ji.onValue=function(e){},ji.onToken=function(e,t){if(this.state===ph)if(e===hm||e===Yq||e===zq||e===Kq||e===Jq)this.value&&(this.value[this.key]=t),this.emit(t);else if(e===Vq)this.push(),this.value?this.value=this.value[this.key]={}:this.value={},this.key=void 0,this.state=n$,this.mode=pm;else if(e===Gq)this.push(),this.value?this.value=this.value[this.key]=[]:this.value=[],this.key=0,this.mode=bm,this.state=ph;else if(e===fm)if(this.mode===pm)this.pop();else return this.parseError(e,t);else if(e===t$)if(this.mode===bm)this.pop();else return this.parseError(e,t);else return this.parseError(e,t);else if(this.state===n$)if(e===hm)this.key=t,this.state=cm;else if(e===fm)this.pop();else return this.parseError(e,t);else if(this.state===cm)if(e===cm)this.state=ph;else return this.parseError(e,t);else if(this.state===dm)if(e===dm)this.mode===bm?(this.key++,this.state=ph):this.mode===pm&&(this.state=n$);else if(e===t$&&this.mode===bm||e===fm&&this.mode===pm)this.pop();else return this.parseError(e,t);else return this.parseError(e,t)},ji.numberReviver=function(e){var t=Number(e);if(isNaN(t))return this.charError(buffer,i);e.match(/[0-9]+/)==e&&t.toString()!=e?this.onToken(hm,e):this.onToken(Yq,t)},iu.C=kt;var dH=iu;const VAe=zr(dH);class GAe extends Uq.Transform{constructor({factory:t}){super({readableObjectMode:!0}),this.factory=t,this.jsonParser=new VAe,this.jsonParser.onError=r=>this.destroy(r),this.jsonParser.onValue=r=>this.onValue(r)}_write(t,r,n){this.jsonParser.write(t),n()}onValue(t){if(this.jsonParser.stack.length!==3||this.jsonParser.stack[1].key!=="results"||this.jsonParser.stack[2].key!=="bindings"||Object.keys(t).length===0)return;const r={};for(const[n,o]of Object.entries(t))r[n]=this.valueToTerm(o);this.push(r)}valueToTerm(t){if(t.type==="uri")return this.factory.namedNode(t.value);if(t.type==="bnode")return this.factory.blankNode(t.value);if(t.type==="literal"||t.type==="typed-literal"){const r=t.datatype&&this.factory.namedNode(t.datatype);return this.factory.literal(t.value,r||t["xml:lang"])}return null}}class zAe extends Hq{async ask(t,{headers:r,operation:n}={}){const o=await super.ask(t,{headers:r,operation:n});return await um(o),(await o.json()).boolean}construct(t,{headers:r,operation:n}={}){return qq(async()=>{r=ru(r),r.has("accept")||r.set("accept","application/n-triples, text/turtle");const o=await super.construct(t,{headers:r,operation:n});return await um(o),new u7({factory:this.client.factory}).import(o.body)})}select(t,{headers:r,operation:n}={}){return qq(async()=>{const o=await super.select(t,{headers:r,operation:n});await um(o);const s=new GAe({factory:this.client.factory});return o.body.pipe(s)})}async update(t,{headers:r,operation:n}={}){const o=await super.update(t,{headers:r,operation:n});await um(o)}}class KAe extends zAe{async construct(t,{headers:r,operation:n}={}){const o=await gw(await super.construct(t,{headers:r,operation:n}));return this.client.factory.dataset(o)}async select(t,{headers:r,operation:n}={}){return gw(await super.select(t,{headers:r,operation:n}))}}function JAe(e){const t=e.reduce((o,s)=>o+s.length,0),r=new Uint8Array(t);let n=0;for(const o of e)r.set(o,n),n+=o.length;return r}async function YAe(e={}){if(!e.body||!e.body.readable)return e;const t=await gw(e.body);return t.length>0?t[0].BYTES_PER_ELEMENT===1?e.body=JAe(t):e.body=t.join(""):e.body="",e}var hH={exports:{}},o$={exports:{}},xr={ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,t){return e.includes(t)},ArrayPrototypeIndexOf(e,t){return e.indexOf(t)},ArrayPrototypeJoin(e,t){return e.join(t)},ArrayPrototypeMap(e,t){return e.map(t)},ArrayPrototypePop(e,t){return e.pop(t)},ArrayPrototypePush(e,t){return e.push(t)},ArrayPrototypeSlice(e,t,r){return e.slice(t,r)},Error,FunctionPrototypeCall(e,t,...r){return e.call(t,...r)},FunctionPrototypeSymbolHasInstance(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,t){return Object.defineProperties(e,t)},ObjectDefineProperty(e,t,r){return Object.defineProperty(e,t,r)},ObjectGetOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,t){return Object.setPrototypeOf(e,t)},Promise,PromisePrototypeCatch(e,t){return e.catch(t)},PromisePrototypeThen(e,t,r){return e.then(t,r)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,t){return e.test(t)},SafeSet:Set,String,StringPrototypeSlice(e,t,r){return e.slice(t,r)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,t,r){return e.set(t,r)},Boolean,Uint8Array},pH={exports:{}};(function(e){const t=Ge,{kResistStopPropagation:r,SymbolDispose:n}=xr,o=globalThis.AbortSignal||bt().AbortSignal,s=globalThis.AbortController||bt().AbortController,a=Object.getPrototypeOf(async function(){}).constructor,l=globalThis.Blob||t.Blob,f=typeof l<"u"?function(p){return p instanceof l}:function(p){return!1},u=(h,p)=>{if(h!==void 0&&(h===null||typeof h!="object"||!("aborted"in h)))throw new ERR_INVALID_ARG_TYPE(p,"AbortSignal",h)},d=(h,p)=>{if(typeof h!="function")throw new ERR_INVALID_ARG_TYPE(p,"Function",h)};class g extends Error{constructor(p){if(!Array.isArray(p))throw new TypeError(`Expected input to be an Array, got ${typeof p}`);let w="";for(let y=0;y<p.length;y++)w+=`    ${p[y].stack}
`;super(w),this.name="AggregateError",this.errors=p}}e.exports={AggregateError:g,kEmptyObject:Object.freeze({}),once(h){let p=!1;return function(...w){p||(p=!0,h.apply(this,w))}},createDeferredPromise:function(){let h,p;return{promise:new Promise((y,v)=>{h=y,p=v}),resolve:h,reject:p}},promisify(h){return new Promise((p,w)=>{h((y,...v)=>y?w(y):p(...v))})},debuglog(){return function(){}},format(h,...p){return h.replace(/%([sdifj])/g,function(...[w,y]){const v=p.shift();return y==="f"?v.toFixed(6):y==="j"?JSON.stringify(v):y==="s"&&typeof v=="object"?`${v.constructor!==Object?v.constructor.name:""} {}`.trim():v.toString()})},inspect(h){switch(typeof h){case"string":if(h.includes("'"))if(h.includes('"')){if(!h.includes("`")&&!h.includes("${"))return`\`${h}\``}else return`"${h}"`;return`'${h}'`;case"number":return isNaN(h)?"NaN":Object.is(h,-0)?String(h):h;case"bigint":return`${String(h)}n`;case"boolean":case"undefined":return String(h);case"object":return"{}"}},types:{isAsyncFunction(h){return h instanceof a},isArrayBufferView(h){return ArrayBuffer.isView(h)}},isBlob:f,deprecate(h,p){return h},addAbortListener:$t.addAbortListener||function(p,w){if(p===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",p);u(p,"signal"),d(w,"listener");let y;return p.aborted?queueMicrotask(()=>w()):(p.addEventListener("abort",w,{__proto__:null,once:!0,[r]:!0}),y=()=>{p.removeEventListener("abort",w)}),{__proto__:null,[n](){var v;(v=y)===null||v===void 0||v()}}},AbortSignalAny:o.any||function(p){if(p.length===1)return p[0];const w=new s,y=()=>w.abort();return p.forEach(v=>{u(v,"signals"),v.addEventListener("abort",y,{once:!0})}),w.signal.addEventListener("abort",()=>{p.forEach(v=>v.removeEventListener("abort",y))},{once:!0}),w.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(pH);var Qn=pH.exports,s$={};const{format:XAe,inspect:_m,AggregateError:QAe}=Qn,ZAe=globalThis.AggregateError||QAe,e$e=Symbol("kIsNodeError"),t$e=["string","function","number","object","Function","Object","boolean","bigint","symbol"],r$e=/^([A-Z][a-z0-9]*)+$/,n$e="__node_internal_",ym={};function Bf(e,t){if(!e)throw new ym.ERR_INTERNAL_ASSERTION(t)}function bH(e){let t="",r=e.length;const n=e[0]==="-"?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function i$e(e,t,r){if(typeof t=="function")return Bf(t.length<=r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${t.length}).`),t(...r);const n=(t.match(/%[dfijoOs]/g)||[]).length;return Bf(n===r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?t:XAe(t,...r)}function gn(e,t,r){r||(r=Error);class n extends r{constructor(...s){super(i$e(e,t,s))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=e,n.prototype[e$e]=!0,ym[e]=n}function gH(e){const t=n$e+e.name;return Object.defineProperty(e,"name",{value:t}),e}function o$e(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;const r=new ZAe([t,e],t.message);return r.code=t.code,r}return e||t}let s$e=class extends Error{constructor(t="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new ym.ERR_INVALID_ARG_TYPE("options","Object",r);super(t,r),this.code="ABORT_ERR",this.name="AbortError"}};gn("ERR_ASSERTION","%s",Error),gn("ERR_INVALID_ARG_TYPE",(e,t,r)=>{Bf(typeof e=="string","'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+=`${e} `:n+=`"${e}" ${e.includes(".")?"property":"argument"} `,n+="must be ";const o=[],s=[],a=[];for(const f of t)Bf(typeof f=="string","All expected entries have to be of type string"),t$e.includes(f)?o.push(f.toLowerCase()):r$e.test(f)?s.push(f):(Bf(f!=="object",'The value "object" should be written as "Object"'),a.push(f));if(s.length>0){const f=o.indexOf("object");f!==-1&&(o.splice(o,f,1),s.push("Object"))}if(o.length>0){switch(o.length){case 1:n+=`of type ${o[0]}`;break;case 2:n+=`one of type ${o[0]} or ${o[1]}`;break;default:{const f=o.pop();n+=`one of type ${o.join(", ")}, or ${f}`}}(s.length>0||a.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{const f=s.pop();n+=`an instance of ${s.join(", ")}, or ${f}`}}a.length>0&&(n+=" or ")}switch(a.length){case 0:break;case 1:a[0].toLowerCase()!==a[0]&&(n+="an "),n+=`${a[0]}`;break;case 2:n+=`one of ${a[0]} or ${a[1]}`;break;default:{const f=a.pop();n+=`one of ${a.join(", ")}, or ${f}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var l;if((l=r.constructor)!==null&&l!==void 0&&l.name)n+=`. Received an instance of ${r.constructor.name}`;else{const f=_m(r,{depth:-1});n+=`. Received ${f}`}}else{let f=_m(r,{colors:!1});f.length>25&&(f=`${f.slice(0,25)}...`),n+=`. Received type ${typeof r} (${f})`}return n},TypeError),gn("ERR_INVALID_ARG_VALUE",(e,t,r="is invalid")=>{let n=_m(t);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${e.includes(".")?"property":"argument"} '${e}' ${r}. Received ${n}`},TypeError),gn("ERR_INVALID_RETURN_VALUE",(e,t,r)=>{var n;const o=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${e} to be returned from the "${t}" function but got ${o}.`},TypeError),gn("ERR_MISSING_ARGS",(...e)=>{Bf(e.length>0,"At least one arg needs to be specified");let t;const r=e.length;switch(e=(Array.isArray(e)?e:[e]).map(n=>`"${n}"`).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{const n=e.pop();t+=`The ${e.join(", ")}, and ${n} arguments`}break}return`${t} must be specified`},TypeError),gn("ERR_OUT_OF_RANGE",(e,t,r)=>{Bf(t,'Missing "range" argument');let n;return Number.isInteger(r)&&Math.abs(r)>2**32?n=bH(String(r)):typeof r=="bigint"?(n=String(r),(r>2n**32n||r<-(2n**32n))&&(n=bH(n)),n+="n"):n=_m(r),`The value of "${e}" is out of range. It must be ${t}. Received ${n}`},RangeError),gn("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),gn("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),gn("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),gn("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),gn("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),gn("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),gn("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),gn("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),gn("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),gn("ERR_STREAM_WRITE_AFTER_END","write after end",Error),gn("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);var Si={AbortError:s$e,aggregateTwoErrors:gH(o$e),hideStackFrames:gH,codes:ym};const{ArrayIsArray:a$,ArrayPrototypeIncludes:_H,ArrayPrototypeJoin:yH,ArrayPrototypeMap:a$e,NumberIsInteger:l$,NumberIsNaN:l$e,NumberMAX_SAFE_INTEGER:u$e,NumberMIN_SAFE_INTEGER:f$e,NumberParseInt:c$e,ObjectPrototypeHasOwnProperty:d$e,RegExpPrototypeExec:wH,String:h$e,StringPrototypeToUpperCase:p$e,StringPrototypeTrim:b$e}=xr,{hideStackFrames:so,codes:{ERR_SOCKET_BAD_PORT:g$e,ERR_INVALID_ARG_TYPE:kn,ERR_INVALID_ARG_VALUE:bh,ERR_OUT_OF_RANGE:Uf,ERR_UNKNOWN_SIGNAL:mH}}=Si,{normalizeEncoding:_$e}=Qn,{isAsyncFunction:y$e,isArrayBufferView:w$e}=Qn.types,vH={};function m$e(e){return e===(e|0)}function v$e(e){return e===e>>>0}const S$e=/^[0-7]+$/,E$e="must be a 32-bit unsigned integer or an octal string";function R$e(e,t,r){if(typeof e>"u"&&(e=r),typeof e=="string"){if(wH(S$e,e)===null)throw new bh(t,e,E$e);e=c$e(e,8)}return SH(e,t),e}const x$e=so((e,t,r=f$e,n=u$e)=>{if(typeof e!="number")throw new kn(t,"number",e);if(!l$(e))throw new Uf(t,"an integer",e);if(e<r||e>n)throw new Uf(t,`>= ${r} && <= ${n}`,e)}),A$e=so((e,t,r=-2147483648,n=2147483647)=>{if(typeof e!="number")throw new kn(t,"number",e);if(!l$(e))throw new Uf(t,"an integer",e);if(e<r||e>n)throw new Uf(t,`>= ${r} && <= ${n}`,e)}),SH=so((e,t,r=!1)=>{if(typeof e!="number")throw new kn(t,"number",e);if(!l$(e))throw new Uf(t,"an integer",e);const n=r?1:0,o=4294967295;if(e<n||e>o)throw new Uf(t,`>= ${n} && <= ${o}`,e)});function u$(e,t){if(typeof e!="string")throw new kn(t,"string",e)}function $$e(e,t,r=void 0,n){if(typeof e!="number")throw new kn(t,"number",e);if(r!=null&&e<r||n!=null&&e>n||(r!=null||n!=null)&&l$e(e))throw new Uf(t,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,e)}const T$e=so((e,t,r)=>{if(!_H(r,e)){const o="must be one of: "+yH(a$e(r,s=>typeof s=="string"?`'${s}'`:h$e(s)),", ");throw new bh(t,e,o)}});function EH(e,t){if(typeof e!="boolean")throw new kn(t,"boolean",e)}function f$(e,t,r){return e==null||!d$e(e,t)?r:e[t]}const I$e=so((e,t,r=null)=>{const n=f$(r,"allowArray",!1),o=f$(r,"allowFunction",!1);if(!f$(r,"nullable",!1)&&e===null||!n&&a$(e)||typeof e!="object"&&(!o||typeof e!="function"))throw new kn(t,"Object",e)}),N$e=so((e,t)=>{if(e!=null&&typeof e!="object"&&typeof e!="function")throw new kn(t,"a dictionary",e)}),wm=so((e,t,r=0)=>{if(!a$(e))throw new kn(t,"Array",e);if(e.length<r){const n=`must be longer than ${r}`;throw new bh(t,e,n)}});function k$e(e,t){wm(e,t);for(let r=0;r<e.length;r++)u$(e[r],`${t}[${r}]`)}function C$e(e,t){wm(e,t);for(let r=0;r<e.length;r++)EH(e[r],`${t}[${r}]`)}function O$e(e,t){wm(e,t);for(let r=0;r<e.length;r++){const n=e[r],o=`${t}[${r}]`;if(n==null)throw new kn(o,"AbortSignal",n);RH(n,o)}}function L$e(e,t="signal"){if(u$(e,t),vH[e]===void 0)throw vH[p$e(e)]!==void 0?new mH(e+" (signals must use all capital letters)"):new mH(e)}const D$e=so((e,t="buffer")=>{if(!w$e(e))throw new kn(t,["Buffer","TypedArray","DataView"],e)});function M$e(e,t){const r=_$e(t),n=e.length;if(r==="hex"&&n%2!==0)throw new bh("encoding",t,`is invalid for data of length ${n}`)}function P$e(e,t="Port",r=!0){if(typeof e!="number"&&typeof e!="string"||typeof e=="string"&&b$e(e).length===0||+e!==+e>>>0||e>65535||e===0&&!r)throw new g$e(t,e,r);return e|0}const RH=so((e,t)=>{if(e!==void 0&&(e===null||typeof e!="object"||!("aborted"in e)))throw new kn(t,"AbortSignal",e)}),F$e=so((e,t)=>{if(typeof e!="function")throw new kn(t,"Function",e)}),j$e=so((e,t)=>{if(typeof e!="function"||y$e(e))throw new kn(t,"Function",e)}),W$e=so((e,t)=>{if(e!==void 0)throw new kn(t,"undefined",e)});function B$e(e,t,r){if(!_H(r,e))throw new kn(t,`('${yH(r,"|")}')`,e)}const U$e=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function xH(e,t){if(typeof e>"u"||!wH(U$e,e))throw new bh(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function q$e(e){if(typeof e=="string")return xH(e,"hints"),e;if(a$(e)){const t=e.length;let r="";if(t===0)return r;for(let n=0;n<t;n++){const o=e[n];xH(o,"hints"),r+=o,n!==t-1&&(r+=", ")}return r}throw new bh("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}var Vb={isInt32:m$e,isUint32:v$e,parseFileMode:R$e,validateArray:wm,validateStringArray:k$e,validateBooleanArray:C$e,validateAbortSignalArray:O$e,validateBoolean:EH,validateBuffer:D$e,validateDictionary:N$e,validateEncoding:M$e,validateFunction:F$e,validateInt32:A$e,validateInteger:x$e,validateNumber:$$e,validateObject:I$e,validateOneOf:T$e,validatePlainFunction:j$e,validatePort:P$e,validateSignalName:L$e,validateString:u$,validateUint32:SH,validateUndefined:W$e,validateUnion:B$e,validateAbortSignal:RH,validateLinkHeaderValue:q$e},c$={exports:{}};const{SymbolAsyncIterator:AH,SymbolIterator:$H,SymbolFor:qf}=xr,TH=qf("nodejs.stream.destroyed"),IH=qf("nodejs.stream.errored"),d$=qf("nodejs.stream.readable"),h$=qf("nodejs.stream.writable"),NH=qf("nodejs.stream.disturbed"),H$e=qf("nodejs.webstream.isClosedPromise"),V$e=qf("nodejs.webstream.controllerErrorFunction");function mm(e,t=!1){var r;return!!(e&&typeof e.pipe=="function"&&typeof e.on=="function"&&(!t||typeof e.pause=="function"&&typeof e.resume=="function")&&(!e._writableState||((r=e._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!e._writableState||e._readableState))}function vm(e){var t;return!!(e&&typeof e.write=="function"&&typeof e.on=="function"&&(!e._readableState||((t=e._writableState)===null||t===void 0?void 0:t.writable)!==!1))}function G$e(e){return!!(e&&typeof e.pipe=="function"&&e._readableState&&typeof e.on=="function"&&typeof e.write=="function")}function Ts(e){return e&&(e._readableState||e._writableState||typeof e.write=="function"&&typeof e.on=="function"||typeof e.pipe=="function"&&typeof e.on=="function")}function kH(e){return!!(e&&!Ts(e)&&typeof e.pipeThrough=="function"&&typeof e.getReader=="function"&&typeof e.cancel=="function")}function CH(e){return!!(e&&!Ts(e)&&typeof e.getWriter=="function"&&typeof e.abort=="function")}function OH(e){return!!(e&&!Ts(e)&&typeof e.readable=="object"&&typeof e.writable=="object")}function z$e(e){return kH(e)||CH(e)||OH(e)}function K$e(e,t){return e==null?!1:t===!0?typeof e[AH]=="function":t===!1?typeof e[$H]=="function":typeof e[AH]=="function"||typeof e[$H]=="function"}function Sm(e){if(!Ts(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[TH]||n!=null&&n.destroyed)}function LH(e){if(!vm(e))return null;if(e.writableEnded===!0)return!0;const t=e._writableState;return t!=null&&t.errored?!1:typeof(t==null?void 0:t.ended)!="boolean"?null:t.ended}function J$e(e,t){if(!vm(e))return null;if(e.writableFinished===!0)return!0;const r=e._writableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.finished)!="boolean"?null:!!(r.finished||t===!1&&r.ended===!0&&r.length===0)}function Y$e(e){if(!mm(e))return null;if(e.readableEnded===!0)return!0;const t=e._readableState;return!t||t.errored?!1:typeof(t==null?void 0:t.ended)!="boolean"?null:t.ended}function DH(e,t){if(!mm(e))return null;const r=e._readableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.endEmitted)!="boolean"?null:!!(r.endEmitted||t===!1&&r.ended===!0&&r.length===0)}function MH(e){return e&&e[d$]!=null?e[d$]:typeof(e==null?void 0:e.readable)!="boolean"?null:Sm(e)?!1:mm(e)&&e.readable&&!DH(e)}function PH(e){return e&&e[h$]!=null?e[h$]:typeof(e==null?void 0:e.writable)!="boolean"?null:Sm(e)?!1:vm(e)&&e.writable&&!LH(e)}function X$e(e,t){return Ts(e)?Sm(e)?!0:!((t==null?void 0:t.readable)!==!1&&MH(e)||(t==null?void 0:t.writable)!==!1&&PH(e)):null}function Q$e(e){var t,r;return Ts(e)?e.writableErrored?e.writableErrored:(t=(r=e._writableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}function Z$e(e){var t,r;return Ts(e)?e.readableErrored?e.readableErrored:(t=(r=e._readableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}function eTe(e){if(!Ts(e))return null;if(typeof e.closed=="boolean")return e.closed;const t=e._writableState,r=e._readableState;return typeof(t==null?void 0:t.closed)=="boolean"||typeof(r==null?void 0:r.closed)=="boolean"?(t==null?void 0:t.closed)||(r==null?void 0:r.closed):typeof e._closed=="boolean"&&FH(e)?e._closed:null}function FH(e){return typeof e._closed=="boolean"&&typeof e._defaultKeepAlive=="boolean"&&typeof e._removedConnection=="boolean"&&typeof e._removedContLen=="boolean"}function jH(e){return typeof e._sent100=="boolean"&&FH(e)}function tTe(e){var t;return typeof e._consuming=="boolean"&&typeof e._dumped=="boolean"&&((t=e.req)===null||t===void 0?void 0:t.upgradeOrConnect)===void 0}function rTe(e){if(!Ts(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!n&&jH(e)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function nTe(e){var t;return!!(e&&((t=e[NH])!==null&&t!==void 0?t:e.readableDidRead||e.readableAborted))}function iTe(e){var t,r,n,o,s,a,l,f,u,d;return!!(e&&((t=(r=(n=(o=(s=(a=e[IH])!==null&&a!==void 0?a:e.readableErrored)!==null&&s!==void 0?s:e.writableErrored)!==null&&o!==void 0?o:(l=e._readableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&n!==void 0?n:(f=e._writableState)===null||f===void 0?void 0:f.errorEmitted)!==null&&r!==void 0?r:(u=e._readableState)===null||u===void 0?void 0:u.errored)!==null&&t!==void 0?t:!((d=e._writableState)===null||d===void 0)&&d.errored))}var Na={isDestroyed:Sm,kIsDestroyed:TH,isDisturbed:nTe,kIsDisturbed:NH,isErrored:iTe,kIsErrored:IH,isReadable:MH,kIsReadable:d$,kIsClosedPromise:H$e,kControllerErrorFunction:V$e,kIsWritable:h$,isClosed:eTe,isDuplexNodeStream:G$e,isFinished:X$e,isIterable:K$e,isReadableNodeStream:mm,isReadableStream:kH,isReadableEnded:Y$e,isReadableFinished:DH,isReadableErrored:Z$e,isNodeStream:Ts,isWebStream:z$e,isWritable:PH,isWritableNodeStream:vm,isWritableStream:CH,isWritableEnded:LH,isWritableFinished:J$e,isWritableErrored:Q$e,isServerRequest:tTe,isServerResponse:jH,willEmitClose:rTe,isTransformStream:OH};const ou=Qe,{AbortError:WH,codes:oTe}=Si,{ERR_INVALID_ARG_TYPE:sTe,ERR_STREAM_PREMATURE_CLOSE:BH}=oTe,{kEmptyObject:p$,once:b$}=Qn,{validateAbortSignal:aTe,validateFunction:lTe,validateObject:uTe,validateBoolean:fTe}=Vb,{Promise:cTe,PromisePrototypeThen:dTe,SymbolDispose:UH}=xr,{isClosed:hTe,isReadable:qH,isReadableNodeStream:g$,isReadableStream:pTe,isReadableFinished:HH,isReadableErrored:VH,isWritable:GH,isWritableNodeStream:zH,isWritableStream:bTe,isWritableFinished:KH,isWritableErrored:JH,isNodeStream:gTe,willEmitClose:_Te,kIsClosedPromise:yTe}=Na;let gh;function wTe(e){return e.setHeader&&typeof e.abort=="function"}const _$=()=>{};function YH(e,t,r){var n,o;if(arguments.length===2?(r=t,t=p$):t==null?t=p$:uTe(t,"options"),lTe(r,"callback"),aTe(t.signal,"options.signal"),r=b$(r),pTe(e)||bTe(e))return mTe(e,t,r);if(!gTe(e))throw new sTe("stream",["ReadableStream","WritableStream","Stream"],e);const s=(n=t.readable)!==null&&n!==void 0?n:g$(e),a=(o=t.writable)!==null&&o!==void 0?o:zH(e),l=e._writableState,f=e._readableState,u=()=>{e.writable||h()};let d=_Te(e)&&g$(e)===s&&zH(e)===a,g=KH(e,!1);const h=()=>{g=!0,e.destroyed&&(d=!1),!(d&&(!e.readable||s))&&(!s||p)&&r.call(e)};let p=HH(e,!1);const w=()=>{p=!0,e.destroyed&&(d=!1),!(d&&(!e.writable||a))&&(!a||g)&&r.call(e)},y=$=>{r.call(e,$)};let v=hTe(e);const E=()=>{v=!0;const $=JH(e)||VH(e);if($&&typeof $!="boolean")return r.call(e,$);if(s&&!p&&g$(e,!0)&&!HH(e,!1))return r.call(e,new BH);if(a&&!g&&!KH(e,!1))return r.call(e,new BH);r.call(e)},x=()=>{v=!0;const $=JH(e)||VH(e);if($&&typeof $!="boolean")return r.call(e,$);r.call(e)},S=()=>{e.req.on("finish",h)};wTe(e)?(e.on("complete",h),d||e.on("abort",E),e.req?S():e.on("request",S)):a&&!l&&(e.on("end",u),e.on("close",u)),!d&&typeof e.aborted=="boolean"&&e.on("aborted",E),e.on("end",w),e.on("finish",h),t.error!==!1&&e.on("error",y),e.on("close",E),v?ou.nextTick(E):l!=null&&l.errorEmitted||f!=null&&f.errorEmitted?d||ou.nextTick(x):(!s&&(!d||qH(e))&&(g||GH(e)===!1)||!a&&(!d||GH(e))&&(p||qH(e)===!1)||f&&e.req&&e.aborted)&&ou.nextTick(x);const N=()=>{r=_$,e.removeListener("aborted",E),e.removeListener("complete",h),e.removeListener("abort",E),e.removeListener("request",S),e.req&&e.req.removeListener("finish",h),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",h),e.removeListener("end",w),e.removeListener("error",y),e.removeListener("close",E)};if(t.signal&&!v){const $=()=>{const D=r;N(),D.call(e,new WH(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)ou.nextTick($);else{gh=gh||Qn.addAbortListener;const D=gh(t.signal,$),K=r;r=b$((...q)=>{D[UH](),K.apply(e,q)})}}return N}function mTe(e,t,r){let n=!1,o=_$;if(t.signal)if(o=()=>{n=!0,r.call(e,new WH(void 0,{cause:t.signal.reason}))},t.signal.aborted)ou.nextTick(o);else{gh=gh||Qn.addAbortListener;const a=gh(t.signal,o),l=r;r=b$((...f)=>{a[UH](),l.apply(e,f)})}const s=(...a)=>{n||ou.nextTick(()=>r.apply(e,a))};return dTe(e[yTe].promise,s,s),_$}function vTe(e,t){var r;let n=!1;return t===null&&(t=p$),(r=t)!==null&&r!==void 0&&r.cleanup&&(fTe(t.cleanup,"cleanup"),n=t.cleanup),new cTe((o,s)=>{const a=YH(e,t,l=>{n&&a(),l?s(l):o()})})}c$.exports=YH,c$.exports.finished=vTe;var su=c$.exports;const Is=Qe,{aggregateTwoErrors:STe,codes:{ERR_MULTIPLE_CALLBACK:ETe},AbortError:RTe}=Si,{Symbol:XH}=xr,{kIsDestroyed:xTe,isDestroyed:ATe,isFinished:$Te,isServerRequest:TTe}=Na,QH=XH("kDestroy"),y$=XH("kConstruct");function ZH(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function ITe(e,t){const r=this._readableState,n=this._writableState,o=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof t=="function"&&t(),this):(ZH(e,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),o.constructed?e6(this,e,t):this.once(QH,function(s){e6(this,STe(s,e),t)}),this)}function e6(e,t,r){let n=!1;function o(s){if(n)return;n=!0;const a=e._readableState,l=e._writableState;ZH(s,l,a),l&&(l.closed=!0),a&&(a.closed=!0),typeof r=="function"&&r(s),s?Is.nextTick(NTe,e,s):Is.nextTick(t6,e)}try{e._destroy(t||null,o)}catch(s){o(s)}}function NTe(e,t){w$(e,t),t6(e)}function t6(e){const t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(r!=null&&r.emitClose||t!=null&&t.emitClose)&&e.emit("close")}function w$(e,t){const r=e._readableState,n=e._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function kTe(){const e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=e.readable===!1,e.endEmitted=e.readable===!1),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=t.writable===!1,t.ending=t.writable===!1,t.finished=t.writable===!1)}function m$(e,t,r){const n=e._readableState,o=e._writableState;if(o!=null&&o.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||o!=null&&o.autoDestroy?e.destroy(t):t&&(t.stack,o&&!o.errored&&(o.errored=t),n&&!n.errored&&(n.errored=t),r?Is.nextTick(w$,e,t):w$(e,t))}function CTe(e,t){if(typeof e._construct!="function")return;const r=e._readableState,n=e._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),e.once(y$,t),!(e.listenerCount(y$)>1)&&Is.nextTick(OTe,e)}function OTe(e){let t=!1;function r(n){if(t){m$(e,n??new ETe);return}t=!0;const o=e._readableState,s=e._writableState,a=s||o;o&&(o.constructed=!0),s&&(s.constructed=!0),a.destroyed?e.emit(QH,n):n?m$(e,n,!0):Is.nextTick(LTe,e)}try{e._construct(n=>{Is.nextTick(r,n)})}catch(n){Is.nextTick(r,n)}}function LTe(e){e.emit(y$)}function r6(e){return(e==null?void 0:e.setHeader)&&typeof e.abort=="function"}function n6(e){e.emit("close")}function DTe(e,t){e.emit("error",t),Is.nextTick(n6,e)}function MTe(e,t){!e||ATe(e)||(!t&&!$Te(e)&&(t=new RTe),TTe(e)?(e.socket=null,e.destroy(t)):r6(e)?e.abort():r6(e.req)?e.req.abort():typeof e.destroy=="function"?e.destroy(t):typeof e.close=="function"?e.close():t?Is.nextTick(DTe,e,t):Is.nextTick(n6,e),e.destroyed||(e[xTe]=!0))}var _h={construct:CTe,destroyer:MTe,destroy:ITe,undestroy:kTe,errorOrDestroy:m$};const{ArrayIsArray:PTe,ObjectSetPrototypeOf:i6}=xr,{EventEmitter:Em}=$t;function Rm(e){Em.call(this,e)}i6(Rm.prototype,Em.prototype),i6(Rm,Em),Rm.prototype.pipe=function(e,t){const r=this;function n(d){e.writable&&e.write(d)===!1&&r.pause&&r.pause()}r.on("data",n);function o(){r.readable&&r.resume&&r.resume()}e.on("drain",o),!e._isStdio&&(!t||t.end!==!1)&&(r.on("end",a),r.on("close",l));let s=!1;function a(){s||(s=!0,e.end())}function l(){s||(s=!0,typeof e.destroy=="function"&&e.destroy())}function f(d){u(),Em.listenerCount(this,"error")===0&&this.emit("error",d)}v$(r,"error",f),v$(e,"error",f);function u(){r.removeListener("data",n),e.removeListener("drain",o),r.removeListener("end",a),r.removeListener("close",l),r.removeListener("error",f),e.removeListener("error",f),r.removeListener("end",u),r.removeListener("close",u),e.removeListener("close",u)}return r.on("end",u),r.on("close",u),e.on("close",u),e.emit("pipe",r),e};function v$(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):PTe(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}var S$={Stream:Rm,prependListener:v$},o6={exports:{}};(function(e){const{SymbolDispose:t}=xr,{AbortError:r,codes:n}=Si,{isNodeStream:o,isWebStream:s,kControllerErrorFunction:a}=Na,l=su,{ERR_INVALID_ARG_TYPE:f}=n;let u;const d=(g,h)=>{if(typeof g!="object"||!("aborted"in g))throw new f(h,"AbortSignal",g)};e.exports.addAbortSignal=function(h,p){if(d(h,"signal"),!o(p)&&!s(p))throw new f("stream",["ReadableStream","WritableStream","Stream"],p);return e.exports.addAbortSignalNoValidate(h,p)},e.exports.addAbortSignalNoValidate=function(g,h){if(typeof g!="object"||!("aborted"in g))return h;const p=o(h)?()=>{h.destroy(new r(void 0,{cause:g.reason}))}:()=>{h[a](new r(void 0,{cause:g.reason}))};if(g.aborted)p();else{u=u||Qn.addAbortListener;const w=u(g,p);l(h,w[t])}return h}})(o6);var xm=o6.exports;const{StringPrototypeSlice:s6,SymbolIterator:FTe,TypedArrayPrototypeSet:Am,Uint8Array:jTe}=xr,{Buffer:E$}=Ge,{inspect:WTe}=Qn;var BTe=class{constructor(){this.head=null,this.tail=null,this.length=0}push(t){const r={data:t,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(t){const r={data:t,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;const t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=t+r.data;return n}concat(t){if(this.length===0)return E$.alloc(0);const r=E$.allocUnsafe(t>>>0);let n=this.head,o=0;for(;n;)Am(r,n.data,o),o+=n.data.length,n=n.next;return r}consume(t,r){const n=this.head.data;if(t<n.length){const o=n.slice(0,t);return this.head.data=n.slice(t),o}return t===n.length?this.shift():r?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[FTe](){for(let t=this.head;t;t=t.next)yield t.data}_getString(t){let r="",n=this.head,o=0;do{const s=n.data;if(t>s.length)r+=s,t-=s.length;else{t===s.length?(r+=s,++o,n.next?this.head=n.next:this.head=this.tail=null):(r+=s6(s,0,t),this.head=n,n.data=s6(s,t));break}++o}while((n=n.next)!==null);return this.length-=o,r}_getBuffer(t){const r=E$.allocUnsafe(t),n=t;let o=this.head,s=0;do{const a=o.data;if(t>a.length)Am(r,a,n-t),t-=a.length;else{t===a.length?(Am(r,a,n-t),++s,o.next?this.head=o.next:this.head=this.tail=null):(Am(r,new jTe(a.buffer,a.byteOffset,t),n-t),this.head=o,o.data=a.slice(t));break}++s}while((o=o.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](t,r){return WTe(this,{...r,depth:0,customInspect:!1})}};const{MathFloor:UTe,NumberIsInteger:qTe}=xr,{validateInteger:HTe}=Vb,{ERR_INVALID_ARG_VALUE:VTe}=Si.codes;let a6=16*1024,l6=16;function GTe(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function u6(e){return e?l6:a6}function zTe(e,t){HTe(t,"value",0),e?l6=t:a6=t}function KTe(e,t,r,n){const o=GTe(t,n,r);if(o!=null){if(!qTe(o)||o<0){const s=n?`options.${r}`:"options.highWaterMark";throw new VTe(s,o)}return UTe(o)}return u6(e.objectMode)}var $m={getHighWaterMark:KTe,getDefaultHighWaterMark:u6,setDefaultHighWaterMark:zTe};const f6=Qe,{PromisePrototypeThen:JTe,SymbolAsyncIterator:c6,SymbolIterator:d6}=xr,{Buffer:YTe}=Ge,{ERR_INVALID_ARG_TYPE:XTe,ERR_STREAM_NULL_VALUES:QTe}=Si.codes;function ZTe(e,t,r){let n;if(typeof t=="string"||t instanceof YTe)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});let o;if(t&&t[c6])o=!0,n=t[c6]();else if(t&&t[d6])o=!1,n=t[d6]();else throw new XTe("iterable",["Iterable"],t);const s=new e({objectMode:!0,highWaterMark:1,...r});let a=!1;s._read=function(){a||(a=!0,f())},s._destroy=function(u,d){JTe(l(u),()=>f6.nextTick(d,u),g=>f6.nextTick(d,g||u))};async function l(u){const d=u!=null,g=typeof n.throw=="function";if(d&&g){const{value:h,done:p}=await n.throw(u);if(await h,p)return}if(typeof n.return=="function"){const{value:h}=await n.return();await h}}async function f(){for(;;){try{const{value:u,done:d}=o?await n.next():n.next();if(d)s.push(null);else{const g=u&&typeof u.then=="function"?await u:u;if(g===null)throw a=!1,new QTe;if(s.push(g))continue;a=!1}}catch(u){s.destroy(u)}break}}return s}var h6=ZTe,R$,p6;function Tm(){if(p6)return R$;p6=1;const e=Qe,{ArrayPrototypeIndexOf:t,NumberIsInteger:r,NumberIsNaN:n,NumberParseInt:o,ObjectDefineProperties:s,ObjectKeys:a,ObjectSetPrototypeOf:l,Promise:f,SafeSet:u,SymbolAsyncDispose:d,SymbolAsyncIterator:g,Symbol:h}=xr;R$=F,F.ReadableState=ye;const{EventEmitter:p}=$t,{Stream:w,prependListener:y}=S$,{Buffer:v}=Ge,{addAbortSignal:E}=xm,x=su;let S=Qn.debuglog("stream",c=>{S=c});const N=BTe,$=_h,{getHighWaterMark:D,getDefaultHighWaterMark:K}=$m,{aggregateTwoErrors:q,codes:{ERR_INVALID_ARG_TYPE:k,ERR_METHOD_NOT_IMPLEMENTED:V,ERR_OUT_OF_RANGE:j,ERR_STREAM_PUSH_AFTER_EOF:B,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:A},AbortError:U}=Si,{validateObject:G}=Vb,H=h("kPaused"),{StringDecoder:Q}=Fi(),ne=h6;l(F.prototype,w.prototype),l(F,w);const se=()=>{},{errorOrDestroy:ae}=$,Z=1,ge=2,W=4,ue=8,xe=16,he=32,le=64,_e=128,Ae=256,We=512,ie=1024,te=2048,_=4096,m=8192,R=16384,O=32768,C=65536,X=1<<17,re=1<<18;function J(c){return{enumerable:!1,get(){return(this.state&c)!==0},set(b){b?this.state|=c:this.state&=~c}}}s(ye.prototype,{objectMode:J(Z),ended:J(ge),endEmitted:J(W),reading:J(ue),constructed:J(xe),sync:J(he),needReadable:J(le),emittedReadable:J(_e),readableListening:J(Ae),resumeScheduled:J(We),errorEmitted:J(ie),emitClose:J(te),autoDestroy:J(_),destroyed:J(m),closed:J(R),closeEmitted:J(O),multiAwaitDrain:J(C),readingMore:J(X),dataEmitted:J(re)});function ye(c,b,I){typeof I!="boolean"&&(I=b instanceof ka()),this.state=te|_|xe|he,c&&c.objectMode&&(this.state|=Z),I&&c&&c.readableObjectMode&&(this.state|=Z),this.highWaterMark=c?D(this,c,"readableHighWaterMark",I):K(!1),this.buffer=new N,this.length=0,this.pipes=[],this.flowing=null,this[H]=null,c&&c.emitClose===!1&&(this.state&=~te),c&&c.autoDestroy===!1&&(this.state&=~_),this.errored=null,this.defaultEncoding=c&&c.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,c&&c.encoding&&(this.decoder=new Q(c.encoding),this.encoding=c.encoding)}function F(c){if(!(this instanceof F))return new F(c);const b=this instanceof ka();this._readableState=new ye(c,this,b),c&&(typeof c.read=="function"&&(this._read=c.read),typeof c.destroy=="function"&&(this._destroy=c.destroy),typeof c.construct=="function"&&(this._construct=c.construct),c.signal&&!b&&E(c.signal,this)),w.call(this,c),$.construct(this,()=>{this._readableState.needReadable&&ce(this,this._readableState)})}F.prototype.destroy=$.destroy,F.prototype._undestroy=$.undestroy,F.prototype._destroy=function(c,b){b(c)},F.prototype[p.captureRejectionSymbol]=function(c){this.destroy(c)},F.prototype[d]=function(){let c;return this.destroyed||(c=this.readableEnded?null:new U,this.destroy(c)),new f((b,I)=>x(this,T=>T&&T!==c?I(T):b(null)))},F.prototype.push=function(c,b){return we(this,c,b,!1)},F.prototype.unshift=function(c,b){return we(this,c,b,!0)};function we(c,b,I,T){S("readableAddChunk",b);const P=c._readableState;let Ee;if(P.state&Z||(typeof b=="string"?(I=I||P.defaultEncoding,P.encoding!==I&&(T&&P.encoding?b=v.from(b,I).toString(P.encoding):(b=v.from(b,I),I=""))):b instanceof v?I="":w._isUint8Array(b)?(b=w._uint8ArrayToBuffer(b),I=""):b!=null&&(Ee=new k("chunk",["string","Buffer","Uint8Array"],b))),Ee)ae(c,Ee);else if(b===null)P.state&=~ue,L(c,P);else if(P.state&Z||b&&b.length>0)if(T)if(P.state&W)ae(c,new A);else{if(P.destroyed||P.errored)return!1;Ce(c,P,b,!0)}else if(P.ended)ae(c,new B);else{if(P.destroyed||P.errored)return!1;P.state&=~ue,P.decoder&&!I?(b=P.decoder.write(b),P.objectMode||b.length!==0?Ce(c,P,b,!1):ce(c,P)):Ce(c,P,b,!1)}else T||(P.state&=~ue,ce(c,P));return!P.ended&&(P.length<P.highWaterMark||P.length===0)}function Ce(c,b,I,T){b.flowing&&b.length===0&&!b.sync&&c.listenerCount("data")>0?(b.state&C?b.awaitDrainWriters.clear():b.awaitDrainWriters=null,b.dataEmitted=!0,c.emit("data",I)):(b.length+=b.objectMode?1:I.length,T?b.buffer.unshift(I):b.buffer.push(I),b.state&le&&M(c)),ce(c,b)}F.prototype.isPaused=function(){const c=this._readableState;return c[H]===!0||c.flowing===!1},F.prototype.setEncoding=function(c){const b=new Q(c);this._readableState.decoder=b,this._readableState.encoding=this._readableState.decoder.encoding;const I=this._readableState.buffer;let T="";for(const P of I)T+=b.write(P);return I.clear(),T!==""&&I.push(T),this._readableState.length=T.length,this};const Me=1073741824;function Ue(c){if(c>Me)throw new j("size","<= 1GiB",c);return c--,c|=c>>>1,c|=c>>>2,c|=c>>>4,c|=c>>>8,c|=c>>>16,c++,c}function z(c,b){return c<=0||b.length===0&&b.ended?0:b.state&Z?1:n(c)?b.flowing&&b.length?b.buffer.first().length:b.length:c<=b.length?c:b.ended?b.length:0}F.prototype.read=function(c){S("read",c),c===void 0?c=NaN:r(c)||(c=o(c,10));const b=this._readableState,I=c;if(c>b.highWaterMark&&(b.highWaterMark=Ue(c)),c!==0&&(b.state&=~_e),c===0&&b.needReadable&&((b.highWaterMark!==0?b.length>=b.highWaterMark:b.length>0)||b.ended))return S("read: emitReadable",b.length,b.ended),b.length===0&&b.ended?ht(this):M(this),null;if(c=z(c,b),c===0&&b.ended)return b.length===0&&ht(this),null;let T=(b.state&le)!==0;if(S("need readable",T),(b.length===0||b.length-c<b.highWaterMark)&&(T=!0,S("length less than watermark",T)),b.ended||b.reading||b.destroyed||b.errored||!b.constructed)T=!1,S("reading, ended or constructing",T);else if(T){S("do read"),b.state|=ue|he,b.length===0&&(b.state|=le);try{this._read(b.highWaterMark)}catch(Ee){ae(this,Ee)}b.state&=~he,b.reading||(c=z(I,b))}let P;return c>0?P=Mt(c,b):P=null,P===null?(b.needReadable=b.length<=b.highWaterMark,c=0):(b.length-=c,b.multiAwaitDrain?b.awaitDrainWriters.clear():b.awaitDrainWriters=null),b.length===0&&(b.ended||(b.needReadable=!0),I!==c&&b.ended&&ht(this)),P!==null&&!b.errorEmitted&&!b.closeEmitted&&(b.dataEmitted=!0,this.emit("data",P)),P};function L(c,b){if(S("onEofChunk"),!b.ended){if(b.decoder){const I=b.decoder.end();I&&I.length&&(b.buffer.push(I),b.length+=b.objectMode?1:I.length)}b.ended=!0,b.sync?M(c):(b.needReadable=!1,b.emittedReadable=!0,oe(c))}}function M(c){const b=c._readableState;S("emitReadable",b.needReadable,b.emittedReadable),b.needReadable=!1,b.emittedReadable||(S("emitReadable",b.flowing),b.emittedReadable=!0,e.nextTick(oe,c))}function oe(c){const b=c._readableState;S("emitReadable_",b.destroyed,b.length,b.ended),!b.destroyed&&!b.errored&&(b.length||b.ended)&&(c.emit("readable"),b.emittedReadable=!1),b.needReadable=!b.flowing&&!b.ended&&b.length<=b.highWaterMark,rt(c)}function ce(c,b){!b.readingMore&&b.constructed&&(b.readingMore=!0,e.nextTick(Se,c,b))}function Se(c,b){for(;!b.reading&&!b.ended&&(b.length<b.highWaterMark||b.flowing&&b.length===0);){const I=b.length;if(S("maybeReadMore read 0"),c.read(0),I===b.length)break}b.readingMore=!1}F.prototype._read=function(c){throw new V("_read()")},F.prototype.pipe=function(c,b){const I=this,T=this._readableState;T.pipes.length===1&&(T.multiAwaitDrain||(T.multiAwaitDrain=!0,T.awaitDrainWriters=new u(T.awaitDrainWriters?[T.awaitDrainWriters]:[]))),T.pipes.push(c),S("pipe count=%d opts=%j",T.pipes.length,b);const Ee=(!b||b.end!==!1)&&c!==e.stdout&&c!==e.stderr?de:Ke;T.endEmitted?e.nextTick(Ee):I.once("end",Ee),c.on("unpipe",$e);function $e(ke,Te){S("onunpipe"),ke===I&&Te&&Te.hasUnpiped===!1&&(Te.hasUnpiped=!0,Re())}function de(){S("onend"),c.end()}let ee,pe=!1;function Re(){S("cleanup"),c.removeListener("close",Ye),c.removeListener("finish",tt),ee&&c.removeListener("drain",ee),c.removeListener("error",Be),c.removeListener("unpipe",$e),I.removeListener("end",de),I.removeListener("end",Ke),I.removeListener("data",Ve),pe=!0,ee&&T.awaitDrainWriters&&(!c._writableState||c._writableState.needDrain)&&ee()}function me(){pe||(T.pipes.length===1&&T.pipes[0]===c?(S("false write response, pause",0),T.awaitDrainWriters=c,T.multiAwaitDrain=!1):T.pipes.length>1&&T.pipes.includes(c)&&(S("false write response, pause",T.awaitDrainWriters.size),T.awaitDrainWriters.add(c)),I.pause()),ee||(ee=ve(I,c),c.on("drain",ee))}I.on("data",Ve);function Ve(ke){S("ondata");const Te=c.write(ke);S("dest.write",Te),Te===!1&&me()}function Be(ke){if(S("onerror",ke),Ke(),c.removeListener("error",Be),c.listenerCount("error")===0){const Te=c._writableState||c._readableState;Te&&!Te.errorEmitted?ae(c,ke):c.emit("error",ke)}}y(c,"error",Be);function Ye(){c.removeListener("finish",tt),Ke()}c.once("close",Ye);function tt(){S("onfinish"),c.removeListener("close",Ye),Ke()}c.once("finish",tt);function Ke(){S("unpipe"),I.unpipe(c)}return c.emit("pipe",I),c.writableNeedDrain===!0?me():T.flowing||(S("pipe resume"),I.resume()),c};function ve(c,b){return function(){const T=c._readableState;T.awaitDrainWriters===b?(S("pipeOnDrain",1),T.awaitDrainWriters=null):T.multiAwaitDrain&&(S("pipeOnDrain",T.awaitDrainWriters.size),T.awaitDrainWriters.delete(b)),(!T.awaitDrainWriters||T.awaitDrainWriters.size===0)&&c.listenerCount("data")&&c.resume()}}F.prototype.unpipe=function(c){const b=this._readableState,I={hasUnpiped:!1};if(b.pipes.length===0)return this;if(!c){const P=b.pipes;b.pipes=[],this.pause();for(let Ee=0;Ee<P.length;Ee++)P[Ee].emit("unpipe",this,{hasUnpiped:!1});return this}const T=t(b.pipes,c);return T===-1?this:(b.pipes.splice(T,1),b.pipes.length===0&&this.pause(),c.emit("unpipe",this,I),this)},F.prototype.on=function(c,b){const I=w.prototype.on.call(this,c,b),T=this._readableState;return c==="data"?(T.readableListening=this.listenerCount("readable")>0,T.flowing!==!1&&this.resume()):c==="readable"&&!T.endEmitted&&!T.readableListening&&(T.readableListening=T.needReadable=!0,T.flowing=!1,T.emittedReadable=!1,S("on readable",T.length,T.reading),T.length?M(this):T.reading||e.nextTick(dt,this)),I},F.prototype.addListener=F.prototype.on,F.prototype.removeListener=function(c,b){const I=w.prototype.removeListener.call(this,c,b);return c==="readable"&&e.nextTick(ze,this),I},F.prototype.off=F.prototype.removeListener,F.prototype.removeAllListeners=function(c){const b=w.prototype.removeAllListeners.apply(this,arguments);return(c==="readable"||c===void 0)&&e.nextTick(ze,this),b};function ze(c){const b=c._readableState;b.readableListening=c.listenerCount("readable")>0,b.resumeScheduled&&b[H]===!1?b.flowing=!0:c.listenerCount("data")>0?c.resume():b.readableListening||(b.flowing=null)}function dt(c){S("readable nexttick read 0"),c.read(0)}F.prototype.resume=function(){const c=this._readableState;return c.flowing||(S("resume"),c.flowing=!c.readableListening,et(this,c)),c[H]=!1,this};function et(c,b){b.resumeScheduled||(b.resumeScheduled=!0,e.nextTick(Xe,c,b))}function Xe(c,b){S("resume",b.reading),b.reading||c.read(0),b.resumeScheduled=!1,c.emit("resume"),rt(c),b.flowing&&!b.reading&&c.read(0)}F.prototype.pause=function(){return S("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(S("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[H]=!0,this};function rt(c){const b=c._readableState;for(S("flow",b.flowing);b.flowing&&c.read()!==null;);}F.prototype.wrap=function(c){let b=!1;c.on("data",T=>{!this.push(T)&&c.pause&&(b=!0,c.pause())}),c.on("end",()=>{this.push(null)}),c.on("error",T=>{ae(this,T)}),c.on("close",()=>{this.destroy()}),c.on("destroy",()=>{this.destroy()}),this._read=()=>{b&&c.resume&&(b=!1,c.resume())};const I=a(c);for(let T=1;T<I.length;T++){const P=I[T];this[P]===void 0&&typeof c[P]=="function"&&(this[P]=c[P].bind(c))}return this},F.prototype[g]=function(){return Lt(this)},F.prototype.iterator=function(c){return c!==void 0&&G(c,"options"),Lt(this,c)};function Lt(c,b){typeof c.read!="function"&&(c=F.wrap(c,{objectMode:!0}));const I=vr(c,b);return I.stream=c,I}async function*vr(c,b){let I=se;function T($e){this===c?(I(),I=se):I=$e}c.on("readable",T);let P;const Ee=x(c,{writable:!1},$e=>{P=$e?q(P,$e):null,I(),I=se});try{for(;;){const $e=c.destroyed?null:c.read();if($e!==null)yield $e;else{if(P)throw P;if(P===null)return;await new f(T)}}}catch($e){throw P=q(P,$e),P}finally{(P||(b==null?void 0:b.destroyOnReturn)!==!1)&&(P===void 0||c._readableState.autoDestroy)?$.destroyer(c,null):(c.off("readable",T),Ee())}}s(F.prototype,{readable:{__proto__:null,get(){const c=this._readableState;return!!c&&c.readable!==!1&&!c.destroyed&&!c.errorEmitted&&!c.endEmitted},set(c){this._readableState&&(this._readableState.readable=!!c)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(c){this._readableState&&(this._readableState.flowing=c)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(c){this._readableState&&(this._readableState.destroyed=c)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),s(ye.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[H]!==!1},set(c){this[H]=!!c}}}),F._fromList=Mt;function Mt(c,b){if(b.length===0)return null;let I;return b.objectMode?I=b.buffer.shift():!c||c>=b.length?(b.decoder?I=b.buffer.join(""):b.buffer.length===1?I=b.buffer.first():I=b.buffer.concat(b.length),b.buffer.clear()):I=b.buffer.consume(c,b.decoder),I}function ht(c){const b=c._readableState;S("endReadable",b.endEmitted),b.endEmitted||(b.ended=!0,e.nextTick(wr,b,c))}function wr(c,b){if(S("endReadableNT",c.endEmitted,c.length),!c.errored&&!c.closeEmitted&&!c.endEmitted&&c.length===0){if(c.endEmitted=!0,b.emit("end"),b.writable&&b.allowHalfOpen===!1)e.nextTick(rr,b);else if(c.autoDestroy){const I=b._writableState;(!I||I.autoDestroy&&(I.finished||I.writable===!1))&&b.destroy()}}}function rr(c){c.writable&&!c.writableEnded&&!c.destroyed&&c.end()}F.from=function(c,b){return ne(F,c,b)};let _t;function jt(){return _t===void 0&&(_t={}),_t}return F.fromWeb=function(c,b){return jt().newStreamReadableFromReadableStream(c,b)},F.toWeb=function(c,b){return jt().newReadableStreamFromStreamReadable(c,b)},F.wrap=function(c,b){var I,T;return new F({objectMode:(I=(T=c.readableObjectMode)!==null&&T!==void 0?T:c.objectMode)!==null&&I!==void 0?I:!0,...b,destroy(P,Ee){$.destroyer(c,P),Ee(P)}}).wrap(c)},R$}var x$,b6;function A$(){if(b6)return x$;b6=1;const e=Qe,{ArrayPrototypeSlice:t,Error:r,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:o,ObjectDefineProperties:s,ObjectSetPrototypeOf:a,StringPrototypeToLowerCase:l,Symbol:f,SymbolHasInstance:u}=xr;x$=G,G.WritableState=A;const{EventEmitter:d}=$t,g=S$.Stream,{Buffer:h}=Ge,p=_h,{addAbortSignal:w}=xm,{getHighWaterMark:y,getDefaultHighWaterMark:v}=$m,{ERR_INVALID_ARG_TYPE:E,ERR_METHOD_NOT_IMPLEMENTED:x,ERR_MULTIPLE_CALLBACK:S,ERR_STREAM_CANNOT_PIPE:N,ERR_STREAM_DESTROYED:$,ERR_STREAM_ALREADY_FINISHED:D,ERR_STREAM_NULL_VALUES:K,ERR_STREAM_WRITE_AFTER_END:q,ERR_UNKNOWN_ENCODING:k}=Si.codes,{errorOrDestroy:V}=p;a(G.prototype,g.prototype),a(G,g);function j(){}const B=f("kOnFinished");function A(_,m,R){typeof R!="boolean"&&(R=m instanceof ka()),this.objectMode=!!(_&&_.objectMode),R&&(this.objectMode=this.objectMode||!!(_&&_.writableObjectMode)),this.highWaterMark=_?y(this,_,"writableHighWaterMark",R):v(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const O=!!(_&&_.decodeStrings===!1);this.decodeStrings=!O,this.defaultEncoding=_&&_.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=ae.bind(void 0,m),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,U(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!_||_.emitClose!==!1,this.autoDestroy=!_||_.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[B]=[]}function U(_){_.buffered=[],_.bufferedIndex=0,_.allBuffers=!0,_.allNoop=!0}A.prototype.getBuffer=function(){return t(this.buffered,this.bufferedIndex)},o(A.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function G(_){const m=this instanceof ka();if(!m&&!n(G,this))return new G(_);this._writableState=new A(_,this,m),_&&(typeof _.write=="function"&&(this._write=_.write),typeof _.writev=="function"&&(this._writev=_.writev),typeof _.destroy=="function"&&(this._destroy=_.destroy),typeof _.final=="function"&&(this._final=_.final),typeof _.construct=="function"&&(this._construct=_.construct),_.signal&&w(_.signal,this)),g.call(this,_),p.construct(this,()=>{const R=this._writableState;R.writing||ue(this,R),_e(this,R)})}o(G,u,{__proto__:null,value:function(_){return n(this,_)?!0:this!==G?!1:_&&_._writableState instanceof A}}),G.prototype.pipe=function(){V(this,new N)};function H(_,m,R,O){const C=_._writableState;if(typeof R=="function")O=R,R=C.defaultEncoding;else{if(!R)R=C.defaultEncoding;else if(R!=="buffer"&&!h.isEncoding(R))throw new k(R);typeof O!="function"&&(O=j)}if(m===null)throw new K;if(!C.objectMode)if(typeof m=="string")C.decodeStrings!==!1&&(m=h.from(m,R),R="buffer");else if(m instanceof h)R="buffer";else if(g._isUint8Array(m))m=g._uint8ArrayToBuffer(m),R="buffer";else throw new E("chunk",["string","Buffer","Uint8Array"],m);let X;return C.ending?X=new q:C.destroyed&&(X=new $("write")),X?(e.nextTick(O,X),V(_,X,!0),X):(C.pendingcb++,Q(_,C,m,R,O))}G.prototype.write=function(_,m,R){return H(this,_,m,R)===!0},G.prototype.cork=function(){this._writableState.corked++},G.prototype.uncork=function(){const _=this._writableState;_.corked&&(_.corked--,_.writing||ue(this,_))},G.prototype.setDefaultEncoding=function(m){if(typeof m=="string"&&(m=l(m)),!h.isEncoding(m))throw new k(m);return this._writableState.defaultEncoding=m,this};function Q(_,m,R,O,C){const X=m.objectMode?1:R.length;m.length+=X;const re=m.length<m.highWaterMark;return re||(m.needDrain=!0),m.writing||m.corked||m.errored||!m.constructed?(m.buffered.push({chunk:R,encoding:O,callback:C}),m.allBuffers&&O!=="buffer"&&(m.allBuffers=!1),m.allNoop&&C!==j&&(m.allNoop=!1)):(m.writelen=X,m.writecb=C,m.writing=!0,m.sync=!0,_._write(R,O,m.onwrite),m.sync=!1),re&&!m.errored&&!m.destroyed}function ne(_,m,R,O,C,X,re){m.writelen=O,m.writecb=re,m.writing=!0,m.sync=!0,m.destroyed?m.onwrite(new $("write")):R?_._writev(C,m.onwrite):_._write(C,X,m.onwrite),m.sync=!1}function se(_,m,R,O){--m.pendingcb,O(R),W(m),V(_,R)}function ae(_,m){const R=_._writableState,O=R.sync,C=R.writecb;if(typeof C!="function"){V(_,new S);return}R.writing=!1,R.writecb=null,R.length-=R.writelen,R.writelen=0,m?(m.stack,R.errored||(R.errored=m),_._readableState&&!_._readableState.errored&&(_._readableState.errored=m),O?e.nextTick(se,_,R,m,C):se(_,R,m,C)):(R.buffered.length>R.bufferedIndex&&ue(_,R),O?R.afterWriteTickInfo!==null&&R.afterWriteTickInfo.cb===C?R.afterWriteTickInfo.count++:(R.afterWriteTickInfo={count:1,cb:C,stream:_,state:R},e.nextTick(Z,R.afterWriteTickInfo)):ge(_,R,1,C))}function Z({stream:_,state:m,count:R,cb:O}){return m.afterWriteTickInfo=null,ge(_,m,R,O)}function ge(_,m,R,O){for(!m.ending&&!_.destroyed&&m.length===0&&m.needDrain&&(m.needDrain=!1,_.emit("drain"));R-- >0;)m.pendingcb--,O();m.destroyed&&W(m),_e(_,m)}function W(_){if(_.writing)return;for(let C=_.bufferedIndex;C<_.buffered.length;++C){var m;const{chunk:X,callback:re}=_.buffered[C],J=_.objectMode?1:X.length;_.length-=J,re((m=_.errored)!==null&&m!==void 0?m:new $("write"))}const R=_[B].splice(0);for(let C=0;C<R.length;C++){var O;R[C]((O=_.errored)!==null&&O!==void 0?O:new $("end"))}U(_)}function ue(_,m){if(m.corked||m.bufferProcessing||m.destroyed||!m.constructed)return;const{buffered:R,bufferedIndex:O,objectMode:C}=m,X=R.length-O;if(!X)return;let re=O;if(m.bufferProcessing=!0,X>1&&_._writev){m.pendingcb-=X-1;const J=m.allNoop?j:F=>{for(let we=re;we<R.length;++we)R[we].callback(F)},ye=m.allNoop&&re===0?R:t(R,re);ye.allBuffers=m.allBuffers,ne(_,m,!0,m.length,ye,"",J),U(m)}else{do{const{chunk:J,encoding:ye,callback:F}=R[re];R[re++]=null;const we=C?1:J.length;ne(_,m,!1,we,J,ye,F)}while(re<R.length&&!m.writing);re===R.length?U(m):re>256?(R.splice(0,re),m.bufferedIndex=0):m.bufferedIndex=re}m.bufferProcessing=!1}G.prototype._write=function(_,m,R){if(this._writev)this._writev([{chunk:_,encoding:m}],R);else throw new x("_write()")},G.prototype._writev=null,G.prototype.end=function(_,m,R){const O=this._writableState;typeof _=="function"?(R=_,_=null,m=null):typeof m=="function"&&(R=m,m=null);let C;if(_!=null){const X=H(this,_,m);X instanceof r&&(C=X)}return O.corked&&(O.corked=1,this.uncork()),C||(!O.errored&&!O.ending?(O.ending=!0,_e(this,O,!0),O.ended=!0):O.finished?C=new D("end"):O.destroyed&&(C=new $("end"))),typeof R=="function"&&(C||O.finished?e.nextTick(R,C):O[B].push(R)),this};function xe(_){return _.ending&&!_.destroyed&&_.constructed&&_.length===0&&!_.errored&&_.buffered.length===0&&!_.finished&&!_.writing&&!_.errorEmitted&&!_.closeEmitted}function he(_,m){let R=!1;function O(C){if(R){V(_,C??S());return}if(R=!0,m.pendingcb--,C){const X=m[B].splice(0);for(let re=0;re<X.length;re++)X[re](C);V(_,C,m.sync)}else xe(m)&&(m.prefinished=!0,_.emit("prefinish"),m.pendingcb++,e.nextTick(Ae,_,m))}m.sync=!0,m.pendingcb++;try{_._final(O)}catch(C){O(C)}m.sync=!1}function le(_,m){!m.prefinished&&!m.finalCalled&&(typeof _._final=="function"&&!m.destroyed?(m.finalCalled=!0,he(_,m)):(m.prefinished=!0,_.emit("prefinish")))}function _e(_,m,R){xe(m)&&(le(_,m),m.pendingcb===0&&(R?(m.pendingcb++,e.nextTick((O,C)=>{xe(C)?Ae(O,C):C.pendingcb--},_,m)):xe(m)&&(m.pendingcb++,Ae(_,m))))}function Ae(_,m){m.pendingcb--,m.finished=!0;const R=m[B].splice(0);for(let O=0;O<R.length;O++)R[O]();if(_.emit("finish"),m.autoDestroy){const O=_._readableState;(!O||O.autoDestroy&&(O.endEmitted||O.readable===!1))&&_.destroy()}}s(G.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(_){this._writableState&&(this._writableState.destroyed=_)}},writable:{__proto__:null,get(){const _=this._writableState;return!!_&&_.writable!==!1&&!_.destroyed&&!_.errored&&!_.ending&&!_.ended},set(_){this._writableState&&(this._writableState.writable=!!_)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const _=this._writableState;return _?!_.destroyed&&!_.ending&&_.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const We=p.destroy;G.prototype.destroy=function(_,m){const R=this._writableState;return!R.destroyed&&(R.bufferedIndex<R.buffered.length||R[B].length)&&e.nextTick(W,R),We.call(this,_,m),this},G.prototype._undestroy=p.undestroy,G.prototype._destroy=function(_,m){m(_)},G.prototype[d.captureRejectionSymbol]=function(_){this.destroy(_)};let ie;function te(){return ie===void 0&&(ie={}),ie}return G.fromWeb=function(_,m){return te().newStreamWritableFromWritableStream(_,m)},G.toWeb=function(_){return te().newWritableStreamFromStreamWritable(_)},x$}var $$,g6;function eIe(){if(g6)return $$;g6=1;const e=Qe,t=Ge,{isReadable:r,isWritable:n,isIterable:o,isNodeStream:s,isReadableNodeStream:a,isWritableNodeStream:l,isDuplexNodeStream:f,isReadableStream:u,isWritableStream:d}=Na,g=su,{AbortError:h,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:w}}=Si,{destroyer:y}=_h,v=ka(),E=Tm(),x=A$(),{createDeferredPromise:S}=Qn,N=h6,$=globalThis.Blob||t.Blob,D=typeof $<"u"?function(A){return A instanceof $}:function(A){return!1},K=globalThis.AbortController||bt().AbortController,{FunctionPrototypeCall:q}=xr;class k extends v{constructor(A){super(A),(A==null?void 0:A.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(A==null?void 0:A.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}$$=function B(A,U){if(f(A))return A;if(a(A))return j({readable:A});if(l(A))return j({writable:A});if(s(A))return j({writable:!1,readable:!1});if(u(A))return j({readable:E.fromWeb(A)});if(d(A))return j({writable:x.fromWeb(A)});if(typeof A=="function"){const{value:H,write:Q,final:ne,destroy:se}=V(A);if(o(H))return N(k,H,{objectMode:!0,write:Q,final:ne,destroy:se});const ae=H==null?void 0:H.then;if(typeof ae=="function"){let Z;const ge=q(ae,H,W=>{if(W!=null)throw new w("nully","body",W)},W=>{y(Z,W)});return Z=new k({objectMode:!0,readable:!1,write:Q,final(W){ne(async()=>{try{await ge,e.nextTick(W,null)}catch(ue){e.nextTick(W,ue)}})},destroy:se})}throw new w("Iterable, AsyncIterable or AsyncFunction",U,H)}if(D(A))return B(A.arrayBuffer());if(o(A))return N(k,A,{objectMode:!0,writable:!1});if(u(A==null?void 0:A.readable)&&d(A==null?void 0:A.writable))return k.fromWeb(A);if(typeof(A==null?void 0:A.writable)=="object"||typeof(A==null?void 0:A.readable)=="object"){const H=A!=null&&A.readable?a(A==null?void 0:A.readable)?A==null?void 0:A.readable:B(A.readable):void 0,Q=A!=null&&A.writable?l(A==null?void 0:A.writable)?A==null?void 0:A.writable:B(A.writable):void 0;return j({readable:H,writable:Q})}const G=A==null?void 0:A.then;if(typeof G=="function"){let H;return q(G,A,Q=>{Q!=null&&H.push(Q),H.push(null)},Q=>{y(H,Q)}),H=new k({objectMode:!0,writable:!1,read(){}})}throw new p(U,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],A)};function V(B){let{promise:A,resolve:U}=S();const G=new K,H=G.signal;return{value:B(async function*(){for(;;){const ne=A;A=null;const{chunk:se,done:ae,cb:Z}=await ne;if(e.nextTick(Z),ae)return;if(H.aborted)throw new h(void 0,{cause:H.reason});({promise:A,resolve:U}=S()),yield se}}(),{signal:H}),write(ne,se,ae){const Z=U;U=null,Z({chunk:ne,done:!1,cb:ae})},final(ne){const se=U;U=null,se({done:!0,cb:ne})},destroy(ne,se){G.abort(),se(ne)}}}function j(B){const A=B.readable&&typeof B.readable.read!="function"?E.wrap(B.readable):B.readable,U=B.writable;let G=!!r(A),H=!!n(U),Q,ne,se,ae,Z;function ge(W){const ue=ae;ae=null,ue?ue(W):W&&Z.destroy(W)}return Z=new k({readableObjectMode:!!(A!=null&&A.readableObjectMode),writableObjectMode:!!(U!=null&&U.writableObjectMode),readable:G,writable:H}),H&&(g(U,W=>{H=!1,W&&y(A,W),ge(W)}),Z._write=function(W,ue,xe){U.write(W,ue)?xe():Q=xe},Z._final=function(W){U.end(),ne=W},U.on("drain",function(){if(Q){const W=Q;Q=null,W()}}),U.on("finish",function(){if(ne){const W=ne;ne=null,W()}})),G&&(g(A,W=>{G=!1,W&&y(A,W),ge(W)}),A.on("readable",function(){if(se){const W=se;se=null,W()}}),A.on("end",function(){Z.push(null)}),Z._read=function(){for(;;){const W=A.read();if(W===null){se=Z._read;return}if(!Z.push(W))return}}),Z._destroy=function(W,ue){!W&&ae!==null&&(W=new h),se=null,Q=null,ne=null,ae===null?ue(W):(ae=ue,y(U,W),y(A,W))},Z}return $$}var T$,_6;function ka(){if(_6)return T$;_6=1;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:r,ObjectSetPrototypeOf:n}=xr;T$=a;const o=Tm(),s=A$();n(a.prototype,o.prototype),n(a,o);{const d=r(s.prototype);for(let g=0;g<d.length;g++){const h=d[g];a.prototype[h]||(a.prototype[h]=s.prototype[h])}}function a(d){if(!(this instanceof a))return new a(d);o.call(this,d),s.call(this,d),d?(this.allowHalfOpen=d.allowHalfOpen!==!1,d.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),d.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(a.prototype,{writable:{__proto__:null,...t(s.prototype,"writable")},writableHighWaterMark:{__proto__:null,...t(s.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...t(s.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...t(s.prototype,"writableBuffer")},writableLength:{__proto__:null,...t(s.prototype,"writableLength")},writableFinished:{__proto__:null,...t(s.prototype,"writableFinished")},writableCorked:{__proto__:null,...t(s.prototype,"writableCorked")},writableEnded:{__proto__:null,...t(s.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...t(s.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(d){this._readableState&&this._writableState&&(this._readableState.destroyed=d,this._writableState.destroyed=d)}}});let l;function f(){return l===void 0&&(l={}),l}a.fromWeb=function(d,g){return f().newStreamDuplexFromReadableWritablePair(d,g)},a.toWeb=function(d){return f().newReadableWritablePairFromDuplex(d)};let u;return a.from=function(d){return u||(u=eIe()),u(d,"body")},T$}const{ObjectSetPrototypeOf:y6,Symbol:tIe}=xr;var w6=Ca;const{ERR_METHOD_NOT_IMPLEMENTED:rIe}=Si.codes,I$=ka(),{getHighWaterMark:nIe}=$m;y6(Ca.prototype,I$.prototype),y6(Ca,I$);const Gb=tIe("kCallback");function Ca(e){if(!(this instanceof Ca))return new Ca(e);const t=e?nIe(this,e,"readableHighWaterMark",!0):null;t===0&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),I$.call(this,e),this._readableState.sync=!1,this[Gb]=null,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",iIe)}function N$(e){typeof this._flush=="function"&&!this.destroyed?this._flush((t,r)=>{if(t){e?e(t):this.destroy(t);return}r!=null&&this.push(r),this.push(null),e&&e()}):(this.push(null),e&&e())}function iIe(){this._final!==N$&&N$.call(this)}Ca.prototype._final=N$,Ca.prototype._transform=function(e,t,r){throw new rIe("_transform()")},Ca.prototype._write=function(e,t,r){const n=this._readableState,o=this._writableState,s=n.length;this._transform(e,t,(a,l)=>{if(a){r(a);return}l!=null&&this.push(l),o.ended||s===n.length||n.length<n.highWaterMark?r():this[Gb]=r})},Ca.prototype._read=function(){if(this[Gb]){const e=this[Gb];this[Gb]=null,e()}};const{ObjectSetPrototypeOf:m6}=xr;var v6=yh;const k$=w6;m6(yh.prototype,k$.prototype),m6(yh,k$);function yh(e){if(!(this instanceof yh))return new yh(e);k$.call(this,e)}yh.prototype._transform=function(e,t,r){r(null,e)};const zb=Qe,{ArrayIsArray:oIe,Promise:sIe,SymbolAsyncIterator:aIe,SymbolDispose:lIe}=xr,Im=su,{once:uIe}=Qn,fIe=_h,S6=ka(),{aggregateTwoErrors:cIe,codes:{ERR_INVALID_ARG_TYPE:C$,ERR_INVALID_RETURN_VALUE:O$,ERR_MISSING_ARGS:dIe,ERR_STREAM_DESTROYED:hIe,ERR_STREAM_PREMATURE_CLOSE:pIe},AbortError:bIe}=Si,{validateFunction:gIe,validateAbortSignal:_Ie}=Vb,{isIterable:Hf,isReadable:L$,isReadableNodeStream:Nm,isNodeStream:E6,isTransformStream:wh,isWebStream:yIe,isReadableStream:D$,isReadableFinished:wIe}=Na,mIe=globalThis.AbortController||bt().AbortController;let M$,P$,F$;function R6(e,t,r){let n=!1;e.on("close",()=>{n=!0});const o=Im(e,{readable:t,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,fIe.destroyer(e,s||new hIe("pipe")))},cleanup:o}}function vIe(e){return gIe(e[e.length-1],"streams[stream.length - 1]"),e.pop()}function j$(e){if(Hf(e))return e;if(Nm(e))return SIe(e);throw new C$("val",["Readable","Iterable","AsyncIterable"],e)}async function*SIe(e){P$||(P$=Tm()),yield*P$.prototype[aIe].call(e)}async function km(e,t,r,{end:n}){let o,s=null;const a=u=>{if(u&&(o=u),s){const d=s;s=null,d()}},l=()=>new sIe((u,d)=>{o?d(o):s=()=>{o?d(o):u()}});t.on("drain",a);const f=Im(t,{readable:!1},a);try{t.writableNeedDrain&&await l();for await(const u of e)t.write(u)||await l();n&&(t.end(),await l()),r()}catch(u){r(o!==u?cIe(o,u):u)}finally{f(),t.off("drain",a)}}async function W$(e,t,r,{end:n}){wh(t)&&(t=t.writable);const o=t.getWriter();try{for await(const s of e)await o.ready,o.write(s).catch(()=>{});await o.ready,n&&await o.close(),r()}catch(s){try{await o.abort(s),r(s)}catch(a){r(a)}}}function EIe(...e){return x6(e,uIe(vIe(e)))}function x6(e,t,r){if(e.length===1&&oIe(e[0])&&(e=e[0]),e.length<2)throw new dIe("streams");const n=new mIe,o=n.signal,s=r==null?void 0:r.signal,a=[];_Ie(s,"options.signal");function l(){w(new bIe)}F$=F$||Qn.addAbortListener;let f;s&&(f=F$(s,l));let u,d;const g=[];let h=0;function p(x){w(x,--h===0)}function w(x,S){var N;if(x&&(!u||u.code==="ERR_STREAM_PREMATURE_CLOSE")&&(u=x),!(!u&&!S)){for(;g.length;)g.shift()(u);(N=f)===null||N===void 0||N[lIe](),n.abort(),S&&(u||a.forEach($=>$()),zb.nextTick(t,u,d))}}let y;for(let x=0;x<e.length;x++){const S=e[x],N=x<e.length-1,$=x>0,D=N||(r==null?void 0:r.end)!==!1,K=x===e.length-1;if(E6(S)){let q=function(k){k&&k.name!=="AbortError"&&k.code!=="ERR_STREAM_PREMATURE_CLOSE"&&p(k)};if(D){const{destroy:k,cleanup:V}=R6(S,N,$);g.push(k),L$(S)&&K&&a.push(V)}S.on("error",q),L$(S)&&K&&a.push(()=>{S.removeListener("error",q)})}if(x===0)if(typeof S=="function"){if(y=S({signal:o}),!Hf(y))throw new O$("Iterable, AsyncIterable or Stream","source",y)}else Hf(S)||Nm(S)||wh(S)?y=S:y=S6.from(S);else if(typeof S=="function"){if(wh(y)){var v;y=j$((v=y)===null||v===void 0?void 0:v.readable)}else y=j$(y);if(y=S(y,{signal:o}),N){if(!Hf(y,!0))throw new O$("AsyncIterable",`transform[${x-1}]`,y)}else{var E;M$||(M$=v6);const q=new M$({objectMode:!0}),k=(E=y)===null||E===void 0?void 0:E.then;if(typeof k=="function")h++,k.call(y,B=>{d=B,B!=null&&q.write(B),D&&q.end(),zb.nextTick(p)},B=>{q.destroy(B),zb.nextTick(p,B)});else if(Hf(y,!0))h++,km(y,q,p,{end:D});else if(D$(y)||wh(y)){const B=y.readable||y;h++,km(B,q,p,{end:D})}else throw new O$("AsyncIterable or Promise","destination",y);y=q;const{destroy:V,cleanup:j}=R6(y,!1,!0);g.push(V),K&&a.push(j)}}else if(E6(S)){if(Nm(y)){h+=2;const q=RIe(y,S,p,{end:D});L$(S)&&K&&a.push(q)}else if(wh(y)||D$(y)){const q=y.readable||y;h++,km(q,S,p,{end:D})}else if(Hf(y))h++,km(y,S,p,{end:D});else throw new C$("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],y);y=S}else if(yIe(S)){if(Nm(y))h++,W$(j$(y),S,p,{end:D});else if(D$(y)||Hf(y))h++,W$(y,S,p,{end:D});else if(wh(y))h++,W$(y.readable,S,p,{end:D});else throw new C$("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],y);y=S}else y=S6.from(S)}return(o!=null&&o.aborted||s!=null&&s.aborted)&&zb.nextTick(l),y}function RIe(e,t,r,{end:n}){let o=!1;if(t.on("close",()=>{o||r(new pIe)}),e.pipe(t,{end:!1}),n){let s=function(){o=!0,t.end()};wIe(e)?zb.nextTick(s):e.once("end",s)}else r();return Im(e,{readable:!0,writable:!1},s=>{const a=e._readableState;s&&s.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?e.once("end",r).once("error",r):r(s)}),Im(t,{readable:!1,writable:!0},r)}var B$={pipelineImpl:x6,pipeline:EIe};const{pipeline:xIe}=B$,Cm=ka(),{destroyer:AIe}=_h,{isNodeStream:Om,isReadable:A6,isWritable:$6,isWebStream:U$,isTransformStream:Vf,isWritableStream:T6,isReadableStream:I6}=Na,{AbortError:$Ie,codes:{ERR_INVALID_ARG_VALUE:N6,ERR_MISSING_ARGS:TIe}}=Si,IIe=su;var k6=function(...t){if(t.length===0)throw new TIe("streams");if(t.length===1)return Cm.from(t[0]);const r=[...t];if(typeof t[0]=="function"&&(t[0]=Cm.from(t[0])),typeof t[t.length-1]=="function"){const p=t.length-1;t[p]=Cm.from(t[p])}for(let p=0;p<t.length;++p)if(!(!Om(t[p])&&!U$(t[p]))){if(p<t.length-1&&!(A6(t[p])||I6(t[p])||Vf(t[p])))throw new N6(`streams[${p}]`,r[p],"must be readable");if(p>0&&!($6(t[p])||T6(t[p])||Vf(t[p])))throw new N6(`streams[${p}]`,r[p],"must be writable")}let n,o,s,a,l;function f(p){const w=a;a=null,w?w(p):p?l.destroy(p):!h&&!g&&l.destroy()}const u=t[0],d=xIe(t,f),g=!!($6(u)||T6(u)||Vf(u)),h=!!(A6(d)||I6(d)||Vf(d));if(l=new Cm({writableObjectMode:!!(u!=null&&u.writableObjectMode),readableObjectMode:!!(d!=null&&d.readableObjectMode),writable:g,readable:h}),g){if(Om(u))l._write=function(w,y,v){u.write(w,y)?v():n=v},l._final=function(w){u.end(),o=w},u.on("drain",function(){if(n){const w=n;n=null,w()}});else if(U$(u)){const y=(Vf(u)?u.writable:u).getWriter();l._write=async function(v,E,x){try{await y.ready,y.write(v).catch(()=>{}),x()}catch(S){x(S)}},l._final=async function(v){try{await y.ready,y.close().catch(()=>{}),o=v}catch(E){v(E)}}}const p=Vf(d)?d.readable:d;IIe(p,()=>{if(o){const w=o;o=null,w()}})}if(h){if(Om(d))d.on("readable",function(){if(s){const p=s;s=null,p()}}),d.on("end",function(){l.push(null)}),l._read=function(){for(;;){const p=d.read();if(p===null){s=l._read;return}if(!l.push(p))return}};else if(U$(d)){const w=(Vf(d)?d.readable:d).getReader();l._read=async function(){for(;;)try{const{value:y,done:v}=await w.read();if(!l.push(y))return;if(v){l.push(null);return}}catch{return}}}}return l._destroy=function(p,w){!p&&a!==null&&(p=new $Ie),s=null,n=null,o=null,a===null?w(p):(a=w,Om(d)&&AIe(d,p))},l};const NIe=globalThis.AbortController||bt().AbortController,{codes:{ERR_INVALID_ARG_VALUE:kIe,ERR_INVALID_ARG_TYPE:Kb,ERR_MISSING_ARGS:CIe,ERR_OUT_OF_RANGE:OIe},AbortError:Ns}=Si,{validateAbortSignal:Gf,validateInteger:C6,validateObject:zf}=Vb,LIe=xr.Symbol("kWeak"),DIe=xr.Symbol("kResistStopPropagation"),{finished:MIe}=su,PIe=k6,{addAbortSignalNoValidate:FIe}=xm,{isWritable:jIe,isNodeStream:WIe}=Na,{deprecate:BIe}=Qn,{ArrayPrototypePush:UIe,Boolean:qIe,MathFloor:O6,Number:HIe,NumberIsNaN:VIe,Promise:L6,PromiseReject:D6,PromiseResolve:GIe,PromisePrototypeThen:M6,Symbol:P6}=xr,Lm=P6("kEmpty"),F6=P6("kEof");function zIe(e,t){if(t!=null&&zf(t,"options"),(t==null?void 0:t.signal)!=null&&Gf(t.signal,"options.signal"),WIe(e)&&!jIe(e))throw new kIe("stream",e,"must be writable");const r=PIe(this,e);return t!=null&&t.signal&&FIe(t.signal,r),r}function Dm(e,t){if(typeof e!="function")throw new Kb("fn",["Function","AsyncFunction"],e);t!=null&&zf(t,"options"),(t==null?void 0:t.signal)!=null&&Gf(t.signal,"options.signal");let r=1;(t==null?void 0:t.concurrency)!=null&&(r=O6(t.concurrency));let n=r-1;return(t==null?void 0:t.highWaterMark)!=null&&(n=O6(t.highWaterMark)),C6(r,"options.concurrency",1),C6(n,"options.highWaterMark",0),n+=r,(async function*(){const s=Qn.AbortSignalAny([t==null?void 0:t.signal].filter(qIe)),a=this,l=[],f={signal:s};let u,d,g=!1,h=0;function p(){g=!0,w()}function w(){h-=1,y()}function y(){d&&!g&&h<r&&l.length<n&&(d(),d=null)}async function v(){try{for await(let E of a){if(g)return;if(s.aborted)throw new Ns;try{if(E=e(E,f),E===Lm)continue;E=GIe(E)}catch(x){E=D6(x)}h+=1,M6(E,w,p),l.push(E),u&&(u(),u=null),!g&&(l.length>=n||h>=r)&&await new L6(x=>{d=x})}l.push(F6)}catch(E){const x=D6(E);M6(x,w,p),l.push(x)}finally{g=!0,u&&(u(),u=null)}}v();try{for(;;){for(;l.length>0;){const E=await l[0];if(E===F6)return;if(s.aborted)throw new Ns;E!==Lm&&(yield E),l.shift(),y()}await new L6(E=>{u=E})}}finally{g=!0,d&&(d(),d=null)}}).call(this)}function KIe(e=void 0){return e!=null&&zf(e,"options"),(e==null?void 0:e.signal)!=null&&Gf(e.signal,"options.signal"),(async function*(){let r=0;for await(const o of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Ns({cause:e.signal.reason});yield[r++,o]}}).call(this)}async function j6(e,t=void 0){for await(const r of q$.call(this,e,t))return!0;return!1}async function JIe(e,t=void 0){if(typeof e!="function")throw new Kb("fn",["Function","AsyncFunction"],e);return!await j6.call(this,async(...r)=>!await e(...r),t)}async function YIe(e,t){for await(const r of q$.call(this,e,t))return r}async function XIe(e,t){if(typeof e!="function")throw new Kb("fn",["Function","AsyncFunction"],e);async function r(n,o){return await e(n,o),Lm}for await(const n of Dm.call(this,r,t));}function q$(e,t){if(typeof e!="function")throw new Kb("fn",["Function","AsyncFunction"],e);async function r(n,o){return await e(n,o)?n:Lm}return Dm.call(this,r,t)}let QIe=class extends CIe{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function ZIe(e,t,r){var n;if(typeof e!="function")throw new Kb("reducer",["Function","AsyncFunction"],e);r!=null&&zf(r,"options"),(r==null?void 0:r.signal)!=null&&Gf(r.signal,"options.signal");let o=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){const u=new Ns(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await MIe(this.destroy(u)),u}const s=new NIe,a=s.signal;if(r!=null&&r.signal){const u={once:!0,[LIe]:this,[DIe]:!0};r.signal.addEventListener("abort",()=>s.abort(),u)}let l=!1;try{for await(const u of this){var f;if(l=!0,r!=null&&(f=r.signal)!==null&&f!==void 0&&f.aborted)throw new Ns;o?t=await e(t,u,{signal:a}):(t=u,o=!0)}if(!l&&!o)throw new QIe}finally{s.abort()}return t}async function eNe(e){e!=null&&zf(e,"options"),(e==null?void 0:e.signal)!=null&&Gf(e.signal,"options.signal");const t=[];for await(const n of this){var r;if(e!=null&&(r=e.signal)!==null&&r!==void 0&&r.aborted)throw new Ns(void 0,{cause:e.signal.reason});UIe(t,n)}return t}function tNe(e,t){const r=Dm.call(this,e,t);return(async function*(){for await(const o of r)yield*o}).call(this)}function W6(e){if(e=HIe(e),VIe(e))return 0;if(e<0)throw new OIe("number",">= 0",e);return e}function rNe(e,t=void 0){return t!=null&&zf(t,"options"),(t==null?void 0:t.signal)!=null&&Gf(t.signal,"options.signal"),e=W6(e),(async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Ns;for await(const s of this){var o;if(t!=null&&(o=t.signal)!==null&&o!==void 0&&o.aborted)throw new Ns;e--<=0&&(yield s)}}).call(this)}function nNe(e,t=void 0){return t!=null&&zf(t,"options"),(t==null?void 0:t.signal)!=null&&Gf(t.signal,"options.signal"),e=W6(e),(async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Ns;for await(const s of this){var o;if(t!=null&&(o=t.signal)!==null&&o!==void 0&&o.aborted)throw new Ns;if(e-- >0&&(yield s),e<=0)return}}).call(this)}s$.streamReturningOperators={asIndexedPairs:BIe(KIe,"readable.asIndexedPairs will be removed in a future version."),drop:rNe,filter:q$,flatMap:tNe,map:Dm,take:nNe,compose:zIe},s$.promiseReturningOperators={every:JIe,forEach:XIe,reduce:ZIe,toArray:eNe,some:j6,find:YIe};var H$,B6;function U6(){if(B6)return H$;B6=1;const{ArrayPrototypePop:e,Promise:t}=xr,{isIterable:r,isNodeStream:n,isWebStream:o}=Na,{pipelineImpl:s}=B$,{finished:a}=su;H6();function l(...f){return new t((u,d)=>{let g,h;const p=f[f.length-1];if(p&&typeof p=="object"&&!n(p)&&!r(p)&&!o(p)){const w=e(f);g=w.signal,h=w.end}s(f,(w,y)=>{w?d(w):u(y)},{signal:g,end:h})})}return H$={finished:a,pipeline:l},H$}var q6;function H6(){if(q6)return o$.exports;q6=1;const{Buffer:e}=Ge,{ObjectDefineProperty:t,ObjectKeys:r,ReflectApply:n}=xr,{promisify:{custom:o}}=Qn,{streamReturningOperators:s,promiseReturningOperators:a}=s$,{codes:{ERR_ILLEGAL_CONSTRUCTOR:l}}=Si,f=k6,{setDefaultHighWaterMark:u,getDefaultHighWaterMark:d}=$m,{pipeline:g}=B$,{destroyer:h}=_h,p=su,w=U6(),y=Na,v=o$.exports=S$.Stream;v.isDestroyed=y.isDestroyed,v.isDisturbed=y.isDisturbed,v.isErrored=y.isErrored,v.isReadable=y.isReadable,v.isWritable=y.isWritable,v.Readable=Tm();for(const x of r(s)){let N=function(...$){if(new.target)throw l();return v.Readable.from(n(S,this,$))};const S=s[x];t(N,"name",{__proto__:null,value:S.name}),t(N,"length",{__proto__:null,value:S.length}),t(v.Readable.prototype,x,{__proto__:null,value:N,enumerable:!1,configurable:!0,writable:!0})}for(const x of r(a)){let N=function(...$){if(new.target)throw l();return n(S,this,$)};const S=a[x];t(N,"name",{__proto__:null,value:S.name}),t(N,"length",{__proto__:null,value:S.length}),t(v.Readable.prototype,x,{__proto__:null,value:N,enumerable:!1,configurable:!0,writable:!0})}v.Writable=A$(),v.Duplex=ka(),v.Transform=w6,v.PassThrough=v6,v.pipeline=g;const{addAbortSignal:E}=xm;return v.addAbortSignal=E,v.finished=p,v.destroy=h,v.compose=f,v.setDefaultHighWaterMark=u,v.getDefaultHighWaterMark=d,t(v,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return w}}),t(g,o,{__proto__:null,enumerable:!0,get(){return w.pipeline}}),t(p,o,{__proto__:null,enumerable:!0,get(){return w.finished}}),v.Stream=v,v._isUint8Array=function(S){return S instanceof Uint8Array},v._uint8ArrayToBuffer=function(S){return e.from(S.buffer,S.byteOffset,S.byteLength)},o$.exports}(function(e){const t=H6(),r=U6(),n=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=n,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return r}}),e.exports.Stream=t.Stream,e.exports.default=e.exports})(hH);var V$=hH.exports,iNe=/\s/;function oNe(e){for(var t=e.length;t--&&iNe.test(e.charAt(t)););return t}var sNe=oNe,aNe=sNe,lNe=/^\s+/;function uNe(e){return e&&e.slice(0,aNe(e)+1).replace(lNe,"")}var fNe=uNe,G$,V6;function ao(){if(V6)return G$;V6=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return G$=e,G$}var z$,G6;function z6(){if(G6)return z$;G6=1;var e=typeof window=="object"&&window&&window.Object===Object&&window;return z$=e,z$}var K$,K6;function Wo(){if(K6)return K$;K6=1;var e=z6(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return K$=r,K$}var J$,J6;function mh(){if(J6)return J$;J6=1;var e=Wo(),t=e.Symbol;return J$=t,J$}var Y$,Y6;function cNe(){if(Y6)return Y$;Y6=1;var e=mh(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,o=e?e.toStringTag:void 0;function s(a){var l=r.call(a,o),f=a[o];try{a[o]=void 0;var u=!0}catch{}var d=n.call(a);return u&&(l?a[o]=f:delete a[o]),d}return Y$=s,Y$}var X$,X6;function dNe(){if(X6)return X$;X6=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return X$=r,X$}var Q$,Q6;function Kf(){if(Q6)return Q$;Q6=1;var e=mh(),t=cNe(),r=dNe(),n="[object Null]",o="[object Undefined]",s=e?e.toStringTag:void 0;function a(l){return l==null?l===void 0?o:n:s&&s in Object(l)?t(l):r(l)}return Q$=a,Q$}var Z$,Z6;function ks(){if(Z6)return Z$;Z6=1;function e(t){return t!=null&&typeof t=="object"}return Z$=e,Z$}var eT,e4;function vh(){if(e4)return eT;e4=1;var e=Kf(),t=ks(),r="[object Symbol]";function n(o){return typeof o=="symbol"||t(o)&&e(o)==r}return eT=n,eT}var hNe=fNe,t4=ao(),pNe=vh(),r4=NaN,bNe=/^[-+]0x[0-9a-f]+$/i,gNe=/^0b[01]+$/i,_Ne=/^0o[0-7]+$/i,yNe=parseInt;function wNe(e){if(typeof e=="number")return e;if(pNe(e))return r4;if(t4(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=t4(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=hNe(e);var r=gNe.test(e);return r||_Ne.test(e)?yNe(e.slice(2),r?2:8):bNe.test(e)?r4:+e}var mNe=wNe,vNe=mNe,n4=1/0,SNe=17976931348623157e292;function ENe(e){if(!e)return e===0?e:0;if(e=vNe(e),e===n4||e===-n4){var t=e<0?-1:1;return t*SNe}return e===e?e:0}var i4=ENe,RNe=i4;function xNe(e){var t=RNe(e),r=t%1;return t===t?r?t-r:t:0}var o4=xNe,ANe=o4,$Ne="Expected a function";function TNe(e,t){var r;if(typeof t!="function")throw new TypeError($Ne);return e=ANe(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=void 0),r}}var INe=TNe,NNe=INe;function kNe(e){return NNe(2,e)}var CNe=kNe;const ONe=zr(CNe);function LNe(e){return new V$.Readable({read:ONe(async function(){try{this.push(new Uint8Array(await e())),this.push(null)}catch(t){this.destroy(t)}})})}class tT{constructor(t,r){this.obj=t;for(const[n,o]of Object.entries(r))this[n]=o;for(const n of tT.properties(t))n in this||(typeof this.obj[n]=="function"?this[n]=(...o)=>this.obj[n].call(t,o):Object.defineProperty(this,n,{get:()=>this.obj[n],set:o=>{this.obj[n]=o},enumerable:!0,configurable:!0}))}static properties(t){return Object.getOwnPropertyNames(Object.getPrototypeOf(t))}}function DNe(e){return new V$.Readable({read:async function(){try{let t,r;do t=await e.read(),t.done?this.push(null):r=!this.push(t.value);while(!t.done&&!r)}catch(t){this.destroy(t)}}})}function MNe(e){if(e.bodyUsed){const t=new V$.Readable({read:()=>t.destroy(new Error("body already in use"))});return e.body=t,e}return e.body&&e.body.readable?e:e.body&&typeof e.body.getReader=="function"?new tT(e,{body:DNe(e.body.getReader())}):(e.body=LNe(()=>e.arrayBuffer()),e)}function PNe(e,t){return YAe(t).then(r=>fetch(e,r).then(n=>MNe(n)))}class FNe{constructor({endpointUrl:t,factory:r,fetch:n=PNe,headers:o,password:s,storeUrl:a,updateUrl:l,user:f,Query:u=Hq,Store:d}){if(!t&&!a&&!l)throw new Error("no endpointUrl, storeUrl, or updateUrl given");this.endpointUrl=t,this.factory=r,this.fetch=n,this.headers=new Headers(o),this.password=s,this.storeUrl=a,this.updateUrl=l,this.user=f,this.query=u?new u({client:this}):null,this.store=d?new d({client:this}):null,typeof f=="string"&&typeof s=="string"&&this.headers.set("authorization",`Basic ${btoa(`${f}:${s}`)}`)}async get(t,{headers:r,update:n=!1}={}){let o=null;return n?(o=new URL(this.updateUrl),o.searchParams.append("update",t)):(o=new URL(this.endpointUrl),o.searchParams.append("query",t)),this.fetch(o.toString().replace(/\+/g,"%20"),{method:"GET",headers:ru(this.headers,r)})}async postDirect(t,{headers:r,update:n=!1}={}){let o=null;return n?o=new URL(this.updateUrl):o=new URL(this.endpointUrl),r=ru(this.headers,r),r.has("content-type")||r.set("content-type","application/sparql-query; charset=utf-8"),this.fetch(o,{method:"POST",headers:r,body:t})}async postUrlencoded(t,{headers:r,update:n=!1}={}){let o=null,s=null;return n?(o=new URL(this.updateUrl),s=`update=${encodeURIComponent(t)}`):(o=new URL(this.endpointUrl),s=`query=${encodeURIComponent(t)}`),r=ru(this.headers,r),r.has("content-type")||r.set("content-type","application/x-www-form-urlencoded"),this.fetch(o,{method:"POST",headers:r,body:s})}}const jNe=new hw([Zd,o5]);class WNe extends FNe{constructor({endpointUrl:t,factory:r=jNe,fetch:n,headers:o,password:s,storeUrl:a,updateUrl:l,user:f}){if(super({endpointUrl:t,factory:r,fetch:n,headers:o,password:s,storeUrl:a,updateUrl:l,user:f,Query:KAe}),!D0e(this.factory))throw new Error("the given factory doesn't implement the DatasetCoreFactory interface")}}_s.spex="https://described.at/spex/";const Bo=Wr.namespace(_s.rdf),rT=Wr.namespace(_s.schema),mr=Wr.namespace(_s.sh),au=Wr.namespace(_s.spex);function BNe(e,t,r){const n=e.out(au.shape).has(Bo.type,au.DefaultShapes),o=n.term?UNe(n.out(rT.hasPart),r):[],s=e.out(au.viewport).map(a=>({id:a.term.value,term:a.term,name:a.out(rT`name`,{language:t}).value,tables:new Set(a.out(au.includes).terms.map(({value:l})=>l))}));return{tables:o,viewports:s,isIntrospected:!1}}function UNe(e,t){return e.toArray().flatMap(r=>{const n=r.out(mr.targetClass).term;if(!n)return[];const o=n.value,s=r.out(mr.property).toArray().flatMap(a=>{const l=a.out(mr.path).term;if(!l)return[];const f=l.value,u=s4(a,t);return{id:f,name:t(f),values:u}});return{id:o,name:t(o),properties:s,isShown:!0}})}function s4(e,t){const r=e.out(mr.datatype).terms.map(a=>a4(a,t)),n=e.out(mr.class).terms.map(a=>a4(a,t));let o=[];const s=e.out(mr.or).list();return s!==null&&(o=[...s].flatMap(a=>s4(a,t))),[...r,...n,...o]}function a4(e,t){return{id:e.value,name:t(e.value),termType:e.termType}}function qNe(e,t){const r=Wr.clownface({dataset:Wr.dataset(),term:Wr.namedNode(t)});return r.addOut(au.shape,n=>{n.addOut(Bo.type,au.DefaultShapes),e.tables.forEach(o=>{n.addOut(rT.hasPart,s=>{s.addOut(Bo.type,mr.NodeShape).addOut(mr.targetClass,Wr.namedNode(o.id)),o.properties.forEach(a=>{s.addOut(mr.property,l=>{l.addOut(Bo.type,mr.PropertyShape).addOut(mr.path,Wr.namedNode(a.id));const f=u=>u.termType==="NamedNode"?[mr.class,Wr.namedNode(u.id)]:[mr.datatype,Wr.namedNode(u.id)];if(a.values.length===1){const u=f(a.values[0]);l.addOut(u[0],u[1])}else a.values.length>1&&l.addList(mr.or,a.values.map(u=>{const d=f(u);return l.blankNode().addOut(d[0],d[1])}))})})})})}),r}const HNe=".well-known/void",VNe=[...Object.keys(_s)],GNe=["en","*"],ix=class ix{constructor(t){qd(this,"_client");this._settings=t,this.applySettings(t)}static getInstance(t){if(this._endpointInstance===null&&t)return this._endpointInstance=new ix(t),this._endpointInstance;if(t&&this._endpointInstance&&this._endpointInstance.applySettings(t),this._endpointInstance===null)throw new Error("Endpoint Not Configured");return this._endpointInstance}applySettings(t){this._settings=t,this._settings.sparqlEndpoint&&(this._client=new WNe({endpointUrl:this._settings.sparqlEndpoint,user:this._settings.username??void 0,password:this._settings.password??void 0})),Object.keys(_s).forEach(r=>{VNe.includes(r)||delete _s[r]}),this._settings.prefixes.forEach(({prefix:r,namespace:n})=>{_s[r]=n})}shrink(t){return WU(t)||t}async fetchGraphs(t){const r=(t==null?void 0:t.offset)??0,n=(t==null?void 0:t.limit)??null,o=`
      PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>

      SELECT DISTINCT ?g
      WHERE {
        GRAPH ?g { ?s ?p ?o }
      }
      ORDER BY ?g
      OFFSET ${r}
      LIMIT ${n}
    `;return(await this._client.query.select(o)).map(({g:{value:a}})=>a)}async fetchDataModel(){if(this._settings.forceIntrospection)return this.fetchIntrospectDataModel();const t=await this.fetchPredefinedDataModel();return t!==null?t:this.fetchIntrospectDataModel()}get datasetURI(){var t;return((t=this._settings.sparqlEndpoint)==null?void 0:t.replace(/query\/?$/,HNe))??""}get sparqlEndpoint(){return this._settings.sparqlEndpoint??""}get prefixes(){return this._settings.prefixes}async fetchPredefinedDataModel(){const t=this._settings.namedGraph?`FROM <${this._settings.namedGraph}>`:"",r=`
      #pragma describe.strategy cbd
      DESCRIBE <${this.datasetURI}>
      ${t}
    `,n=await this._client.query.construct(r);if(n.size===0)return null;const o=Wr.clownface({dataset:n,term:Wr.namedNode(this.datasetURI)});return this.dataModelFromSHACL(o)}dataModelFromSHACL(t){return BNe(t,GNe,this.shrink)}dataModelToSHACL(t){return qNe(t,this.datasetURI)}async fetchIntrospectDataModel(){const n=[...(await this._fetchStructure()).reduce((s,{cls:a,property:l,linktype:f,datatype:u})=>{const d=s.get(a.value)??{id:a.value,name:this.shrink(a.value),properties:new Map,isShown:a.value!=="http://www.w3.org/2000/01/rdf-schema#Class"},g=f&&f.value||u&&u.value||null,h=f?"NamedNode":u?"Literal":null,p=g&&{id:g,name:this.shrink(g),termType:h};return d.properties.has(l.value)?p&&d.properties.get(l.value).values.push(p):d.properties.set(l.value,{id:l.value,name:this.shrink(l.value),values:p?[p]:[]}),s.set(a.value,d),s},new Map).values()].map(s=>({...s,properties:[...s.properties.values()]})),o=await this.countClasses();return n.forEach(s=>{s.count=o.get(s.id)}),{tables:n,viewports:[],isIntrospected:!0}}async _fetchStructure(){const r=`
      PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>

      SELECT DISTINCT ?cls ?property ?linktype ?datatype
      ${this._settings.namedGraph?`FROM <${this._settings.namedGraph}>`:""}
      WHERE {
        ?subject a ?cls .
        ?subject ?property ?object .

        FILTER(?property != rdf:type)
        OPTIONAL {
          ?object a ?linktype .
        }

        BIND(DATATYPE(?object) AS ?datatype)
      }
    `;return this._client.query.select(r)}async fetchTableData(t,r){const n=Wr.namedNode(t.id),o=(r==null?void 0:r.limit)??10,s=(r==null?void 0:r.offset)??0,l=`
      DESCRIBE ?subject {
        {
          SELECT ?subject
          WHERE {
            ${this._settings.namedGraph?`GRAPH <${this._settings.namedGraph}>`:""} {
              ?subject a <${t.id}>
            }
          }
          LIMIT ${o}
          OFFSET ${s}
        }
      }
    `,f=await this._client.query.construct(l),u=[...f.match(null,Bo.type,n)],d=Wr.termMap(u.map(({subject:g})=>[g,{id:g.value,term:g}]));return[...f].forEach(({subject:g,predicate:{value:h},object:p})=>{const w=d.get(g);w&&(w[h]||(w[h]=Wr.termSet()),w[h].add(p),d.set(g,w))}),[...d.values()]}async fetchResource(t){const r=`
      DESCRIBE <${t}> {}
    `,o=[...await this._client.query.construct(r)].reduce((a,{predicate:l,object:f})=>{if(!a.has(l.value)){const u={id:l.value,term:l,name:this.shrink(l.value),values:Wr.termSet()};a.set(l.value,u)}return a.get(l.value).values.add(f),a},new Map),s={value:t,termType:"NamedNode"};return{id:t,term:s,name:this.shrink(s.value),properties:[...o.values()]}}async canFetchOne(){const t=`
      SELECT ?s WHERE {
        ?s ?p ?o
      } LIMIT 1
    `;try{return(await this._client.query.select(t)).length===1}catch{return!1}}async countClasses(){const t=new Map,r=zNe(this._settings.namedGraph);return(await this._client.query.select(r)).forEach(o=>{t.set(o.class.value,Number(o.count.value))}),t}};qd(ix,"_endpointInstance",null);let Oa=ix;function zNe(e){return`
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT ?class (count(?x) as ?count) ${e?`FROM <${e}>`:""} WHERE {
  ?x a ?class .
} group by ?class
`}function KNe(e,t){return class extends e{constructor(){super(),this.$rdf=t}}}const JNe=(e,t,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;const o=Object.getOwnPropertyDescriptor(e,r),s=Object.getOwnPropertyDescriptor(t,r);!YNe(o,s)&&n||Object.defineProperty(e,r,s)},YNe=function(e,t){return e===void 0||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},XNe=(e,t)=>{const r=Object.getPrototypeOf(t);r!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,r)},QNe=(e,t)=>`/* Wrapped ${e}*/
${t}`,ZNe=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),eke=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),tke=(e,t,r)=>{const n=r===""?"":`with ${r.trim()}() `,o=QNe.bind(null,n,t.toString());Object.defineProperty(o,"name",eke),Object.defineProperty(e,"toString",{...ZNe,value:o})};function rke(e,t,{ignoreNonConfigurable:r=!1}={}){const{name:n}=e;for(const o of Reflect.ownKeys(t))JNe(e,t,o,r);return XNe(e,t),tke(e,t,n),e}const Mm=new WeakMap,l4=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let r,n=0;const o=e.displayName||e.name||"<anonymous>",s=function(...a){if(Mm.set(s,++n),n===1)r=e.apply(this,a),e=null;else if(t.throw===!0)throw new Error(`Function \`${o}\` can only be called once`);return r};return rke(s,e),Mm.set(s,n),s};l4.callCount=e=>{if(!Mm.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return Mm.get(e)};var u4={exports:{}},nT={exports:{}},Ar={ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,t){return e.includes(t)},ArrayPrototypeIndexOf(e,t){return e.indexOf(t)},ArrayPrototypeJoin(e,t){return e.join(t)},ArrayPrototypeMap(e,t){return e.map(t)},ArrayPrototypePop(e,t){return e.pop(t)},ArrayPrototypePush(e,t){return e.push(t)},ArrayPrototypeSlice(e,t,r){return e.slice(t,r)},Error,FunctionPrototypeCall(e,t,...r){return e.call(t,...r)},FunctionPrototypeSymbolHasInstance(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,t){return Object.defineProperties(e,t)},ObjectDefineProperty(e,t,r){return Object.defineProperty(e,t,r)},ObjectGetOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,t){return Object.setPrototypeOf(e,t)},Promise,PromisePrototypeCatch(e,t){return e.catch(t)},PromisePrototypeThen(e,t,r){return e.then(t,r)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,t){return e.test(t)},SafeSet:Set,String,StringPrototypeSlice(e,t,r){return e.slice(t,r)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,t,r){return e.set(t,r)},Boolean,Uint8Array},f4={exports:{}};(function(e){const t=Ge,{kResistStopPropagation:r,SymbolDispose:n}=Ar,o=globalThis.AbortSignal||bt().AbortSignal,s=globalThis.AbortController||bt().AbortController,a=Object.getPrototypeOf(async function(){}).constructor,l=globalThis.Blob||t.Blob,f=typeof l<"u"?function(p){return p instanceof l}:function(p){return!1},u=(h,p)=>{if(h!==void 0&&(h===null||typeof h!="object"||!("aborted"in h)))throw new ERR_INVALID_ARG_TYPE(p,"AbortSignal",h)},d=(h,p)=>{if(typeof h!="function")throw new ERR_INVALID_ARG_TYPE(p,"Function",h)};class g extends Error{constructor(p){if(!Array.isArray(p))throw new TypeError(`Expected input to be an Array, got ${typeof p}`);let w="";for(let y=0;y<p.length;y++)w+=`    ${p[y].stack}
`;super(w),this.name="AggregateError",this.errors=p}}e.exports={AggregateError:g,kEmptyObject:Object.freeze({}),once(h){let p=!1;return function(...w){p||(p=!0,h.apply(this,w))}},createDeferredPromise:function(){let h,p;return{promise:new Promise((y,v)=>{h=y,p=v}),resolve:h,reject:p}},promisify(h){return new Promise((p,w)=>{h((y,...v)=>y?w(y):p(...v))})},debuglog(){return function(){}},format(h,...p){return h.replace(/%([sdifj])/g,function(...[w,y]){const v=p.shift();return y==="f"?v.toFixed(6):y==="j"?JSON.stringify(v):y==="s"&&typeof v=="object"?`${v.constructor!==Object?v.constructor.name:""} {}`.trim():v.toString()})},inspect(h){switch(typeof h){case"string":if(h.includes("'"))if(h.includes('"')){if(!h.includes("`")&&!h.includes("${"))return`\`${h}\``}else return`"${h}"`;return`'${h}'`;case"number":return isNaN(h)?"NaN":Object.is(h,-0)?String(h):h;case"bigint":return`${String(h)}n`;case"boolean":case"undefined":return String(h);case"object":return"{}"}},types:{isAsyncFunction(h){return h instanceof a},isArrayBufferView(h){return ArrayBuffer.isView(h)}},isBlob:f,deprecate(h,p){return h},addAbortListener:$t.addAbortListener||function(p,w){if(p===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",p);u(p,"signal"),d(w,"listener");let y;return p.aborted?queueMicrotask(()=>w()):(p.addEventListener("abort",w,{__proto__:null,once:!0,[r]:!0}),y=()=>{p.removeEventListener("abort",w)}),{__proto__:null,[n](){var v;(v=y)===null||v===void 0||v()}}},AbortSignalAny:o.any||function(p){if(p.length===1)return p[0];const w=new s,y=()=>w.abort();return p.forEach(v=>{u(v,"signals"),v.addEventListener("abort",y,{once:!0})}),w.signal.addEventListener("abort",()=>{p.forEach(v=>v.removeEventListener("abort",y))},{once:!0}),w.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(f4);var Zn=f4.exports,iT={};const{format:nke,inspect:Pm,AggregateError:ike}=Zn,oke=globalThis.AggregateError||ike,ske=Symbol("kIsNodeError"),ake=["string","function","number","object","Function","Object","boolean","bigint","symbol"],lke=/^([A-Z][a-z0-9]*)+$/,uke="__node_internal_",Fm={};function Jf(e,t){if(!e)throw new Fm.ERR_INTERNAL_ASSERTION(t)}function c4(e){let t="",r=e.length;const n=e[0]==="-"?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function fke(e,t,r){if(typeof t=="function")return Jf(t.length<=r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${t.length}).`),t(...r);const n=(t.match(/%[dfijoOs]/g)||[]).length;return Jf(n===r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?t:nke(t,...r)}function _n(e,t,r){r||(r=Error);class n extends r{constructor(...s){super(fke(e,t,s))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=e,n.prototype[ske]=!0,Fm[e]=n}function d4(e){const t=uke+e.name;return Object.defineProperty(e,"name",{value:t}),e}function cke(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;const r=new oke([t,e],t.message);return r.code=t.code,r}return e||t}let dke=class extends Error{constructor(t="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new Fm.ERR_INVALID_ARG_TYPE("options","Object",r);super(t,r),this.code="ABORT_ERR",this.name="AbortError"}};_n("ERR_ASSERTION","%s",Error),_n("ERR_INVALID_ARG_TYPE",(e,t,r)=>{Jf(typeof e=="string","'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+=`${e} `:n+=`"${e}" ${e.includes(".")?"property":"argument"} `,n+="must be ";const o=[],s=[],a=[];for(const f of t)Jf(typeof f=="string","All expected entries have to be of type string"),ake.includes(f)?o.push(f.toLowerCase()):lke.test(f)?s.push(f):(Jf(f!=="object",'The value "object" should be written as "Object"'),a.push(f));if(s.length>0){const f=o.indexOf("object");f!==-1&&(o.splice(o,f,1),s.push("Object"))}if(o.length>0){switch(o.length){case 1:n+=`of type ${o[0]}`;break;case 2:n+=`one of type ${o[0]} or ${o[1]}`;break;default:{const f=o.pop();n+=`one of type ${o.join(", ")}, or ${f}`}}(s.length>0||a.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{const f=s.pop();n+=`an instance of ${s.join(", ")}, or ${f}`}}a.length>0&&(n+=" or ")}switch(a.length){case 0:break;case 1:a[0].toLowerCase()!==a[0]&&(n+="an "),n+=`${a[0]}`;break;case 2:n+=`one of ${a[0]} or ${a[1]}`;break;default:{const f=a.pop();n+=`one of ${a.join(", ")}, or ${f}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var l;if((l=r.constructor)!==null&&l!==void 0&&l.name)n+=`. Received an instance of ${r.constructor.name}`;else{const f=Pm(r,{depth:-1});n+=`. Received ${f}`}}else{let f=Pm(r,{colors:!1});f.length>25&&(f=`${f.slice(0,25)}...`),n+=`. Received type ${typeof r} (${f})`}return n},TypeError),_n("ERR_INVALID_ARG_VALUE",(e,t,r="is invalid")=>{let n=Pm(t);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${e.includes(".")?"property":"argument"} '${e}' ${r}. Received ${n}`},TypeError),_n("ERR_INVALID_RETURN_VALUE",(e,t,r)=>{var n;const o=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${e} to be returned from the "${t}" function but got ${o}.`},TypeError),_n("ERR_MISSING_ARGS",(...e)=>{Jf(e.length>0,"At least one arg needs to be specified");let t;const r=e.length;switch(e=(Array.isArray(e)?e:[e]).map(n=>`"${n}"`).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{const n=e.pop();t+=`The ${e.join(", ")}, and ${n} arguments`}break}return`${t} must be specified`},TypeError),_n("ERR_OUT_OF_RANGE",(e,t,r)=>{Jf(t,'Missing "range" argument');let n;return Number.isInteger(r)&&Math.abs(r)>2**32?n=c4(String(r)):typeof r=="bigint"?(n=String(r),(r>2n**32n||r<-(2n**32n))&&(n=c4(n)),n+="n"):n=Pm(r),`The value of "${e}" is out of range. It must be ${t}. Received ${n}`},RangeError),_n("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),_n("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),_n("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),_n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),_n("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),_n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),_n("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),_n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),_n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),_n("ERR_STREAM_WRITE_AFTER_END","write after end",Error),_n("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);var Ei={AbortError:dke,aggregateTwoErrors:d4(cke),hideStackFrames:d4,codes:Fm};const{ArrayIsArray:oT,ArrayPrototypeIncludes:h4,ArrayPrototypeJoin:p4,ArrayPrototypeMap:hke,NumberIsInteger:sT,NumberIsNaN:pke,NumberMAX_SAFE_INTEGER:bke,NumberMIN_SAFE_INTEGER:gke,NumberParseInt:_ke,ObjectPrototypeHasOwnProperty:yke,RegExpPrototypeExec:b4,String:wke,StringPrototypeToUpperCase:mke,StringPrototypeTrim:vke}=Ar,{hideStackFrames:lo,codes:{ERR_SOCKET_BAD_PORT:Ske,ERR_INVALID_ARG_TYPE:Cn,ERR_INVALID_ARG_VALUE:Sh,ERR_OUT_OF_RANGE:Yf,ERR_UNKNOWN_SIGNAL:g4}}=Ei,{normalizeEncoding:Eke}=Zn,{isAsyncFunction:Rke,isArrayBufferView:xke}=Zn.types,_4={};function Ake(e){return e===(e|0)}function $ke(e){return e===e>>>0}const Tke=/^[0-7]+$/,Ike="must be a 32-bit unsigned integer or an octal string";function Nke(e,t,r){if(typeof e>"u"&&(e=r),typeof e=="string"){if(b4(Tke,e)===null)throw new Sh(t,e,Ike);e=_ke(e,8)}return y4(e,t),e}const kke=lo((e,t,r=gke,n=bke)=>{if(typeof e!="number")throw new Cn(t,"number",e);if(!sT(e))throw new Yf(t,"an integer",e);if(e<r||e>n)throw new Yf(t,`>= ${r} && <= ${n}`,e)}),Cke=lo((e,t,r=-2147483648,n=2147483647)=>{if(typeof e!="number")throw new Cn(t,"number",e);if(!sT(e))throw new Yf(t,"an integer",e);if(e<r||e>n)throw new Yf(t,`>= ${r} && <= ${n}`,e)}),y4=lo((e,t,r=!1)=>{if(typeof e!="number")throw new Cn(t,"number",e);if(!sT(e))throw new Yf(t,"an integer",e);const n=r?1:0,o=4294967295;if(e<n||e>o)throw new Yf(t,`>= ${n} && <= ${o}`,e)});function aT(e,t){if(typeof e!="string")throw new Cn(t,"string",e)}function Oke(e,t,r=void 0,n){if(typeof e!="number")throw new Cn(t,"number",e);if(r!=null&&e<r||n!=null&&e>n||(r!=null||n!=null)&&pke(e))throw new Yf(t,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,e)}const Lke=lo((e,t,r)=>{if(!h4(r,e)){const o="must be one of: "+p4(hke(r,s=>typeof s=="string"?`'${s}'`:wke(s)),", ");throw new Sh(t,e,o)}});function w4(e,t){if(typeof e!="boolean")throw new Cn(t,"boolean",e)}function lT(e,t,r){return e==null||!yke(e,t)?r:e[t]}const Dke=lo((e,t,r=null)=>{const n=lT(r,"allowArray",!1),o=lT(r,"allowFunction",!1);if(!lT(r,"nullable",!1)&&e===null||!n&&oT(e)||typeof e!="object"&&(!o||typeof e!="function"))throw new Cn(t,"Object",e)}),Mke=lo((e,t)=>{if(e!=null&&typeof e!="object"&&typeof e!="function")throw new Cn(t,"a dictionary",e)}),jm=lo((e,t,r=0)=>{if(!oT(e))throw new Cn(t,"Array",e);if(e.length<r){const n=`must be longer than ${r}`;throw new Sh(t,e,n)}});function Pke(e,t){jm(e,t);for(let r=0;r<e.length;r++)aT(e[r],`${t}[${r}]`)}function Fke(e,t){jm(e,t);for(let r=0;r<e.length;r++)w4(e[r],`${t}[${r}]`)}function jke(e,t){jm(e,t);for(let r=0;r<e.length;r++){const n=e[r],o=`${t}[${r}]`;if(n==null)throw new Cn(o,"AbortSignal",n);m4(n,o)}}function Wke(e,t="signal"){if(aT(e,t),_4[e]===void 0)throw _4[mke(e)]!==void 0?new g4(e+" (signals must use all capital letters)"):new g4(e)}const Bke=lo((e,t="buffer")=>{if(!xke(e))throw new Cn(t,["Buffer","TypedArray","DataView"],e)});function Uke(e,t){const r=Eke(t),n=e.length;if(r==="hex"&&n%2!==0)throw new Sh("encoding",t,`is invalid for data of length ${n}`)}function qke(e,t="Port",r=!0){if(typeof e!="number"&&typeof e!="string"||typeof e=="string"&&vke(e).length===0||+e!==+e>>>0||e>65535||e===0&&!r)throw new Ske(t,e,r);return e|0}const m4=lo((e,t)=>{if(e!==void 0&&(e===null||typeof e!="object"||!("aborted"in e)))throw new Cn(t,"AbortSignal",e)}),Hke=lo((e,t)=>{if(typeof e!="function")throw new Cn(t,"Function",e)}),Vke=lo((e,t)=>{if(typeof e!="function"||Rke(e))throw new Cn(t,"Function",e)}),Gke=lo((e,t)=>{if(e!==void 0)throw new Cn(t,"undefined",e)});function zke(e,t,r){if(!h4(r,e))throw new Cn(t,`('${p4(r,"|")}')`,e)}const Kke=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function v4(e,t){if(typeof e>"u"||!b4(Kke,e))throw new Sh(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function Jke(e){if(typeof e=="string")return v4(e,"hints"),e;if(oT(e)){const t=e.length;let r="";if(t===0)return r;for(let n=0;n<t;n++){const o=e[n];v4(o,"hints"),r+=o,n!==t-1&&(r+=", ")}return r}throw new Sh("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}var Jb={isInt32:Ake,isUint32:$ke,parseFileMode:Nke,validateArray:jm,validateStringArray:Pke,validateBooleanArray:Fke,validateAbortSignalArray:jke,validateBoolean:w4,validateBuffer:Bke,validateDictionary:Mke,validateEncoding:Uke,validateFunction:Hke,validateInt32:Cke,validateInteger:kke,validateNumber:Oke,validateObject:Dke,validateOneOf:Lke,validatePlainFunction:Vke,validatePort:qke,validateSignalName:Wke,validateString:aT,validateUint32:y4,validateUndefined:Gke,validateUnion:zke,validateAbortSignal:m4,validateLinkHeaderValue:Jke},uT={exports:{}};const{SymbolAsyncIterator:S4,SymbolIterator:E4,SymbolFor:Xf}=Ar,R4=Xf("nodejs.stream.destroyed"),x4=Xf("nodejs.stream.errored"),fT=Xf("nodejs.stream.readable"),cT=Xf("nodejs.stream.writable"),A4=Xf("nodejs.stream.disturbed"),Yke=Xf("nodejs.webstream.isClosedPromise"),Xke=Xf("nodejs.webstream.controllerErrorFunction");function Wm(e,t=!1){var r;return!!(e&&typeof e.pipe=="function"&&typeof e.on=="function"&&(!t||typeof e.pause=="function"&&typeof e.resume=="function")&&(!e._writableState||((r=e._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!e._writableState||e._readableState))}function Bm(e){var t;return!!(e&&typeof e.write=="function"&&typeof e.on=="function"&&(!e._readableState||((t=e._writableState)===null||t===void 0?void 0:t.writable)!==!1))}function Qke(e){return!!(e&&typeof e.pipe=="function"&&e._readableState&&typeof e.on=="function"&&typeof e.write=="function")}function Cs(e){return e&&(e._readableState||e._writableState||typeof e.write=="function"&&typeof e.on=="function"||typeof e.pipe=="function"&&typeof e.on=="function")}function $4(e){return!!(e&&!Cs(e)&&typeof e.pipeThrough=="function"&&typeof e.getReader=="function"&&typeof e.cancel=="function")}function T4(e){return!!(e&&!Cs(e)&&typeof e.getWriter=="function"&&typeof e.abort=="function")}function I4(e){return!!(e&&!Cs(e)&&typeof e.readable=="object"&&typeof e.writable=="object")}function Zke(e){return $4(e)||T4(e)||I4(e)}function eCe(e,t){return e==null?!1:t===!0?typeof e[S4]=="function":t===!1?typeof e[E4]=="function":typeof e[S4]=="function"||typeof e[E4]=="function"}function Um(e){if(!Cs(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[R4]||n!=null&&n.destroyed)}function N4(e){if(!Bm(e))return null;if(e.writableEnded===!0)return!0;const t=e._writableState;return t!=null&&t.errored?!1:typeof(t==null?void 0:t.ended)!="boolean"?null:t.ended}function tCe(e,t){if(!Bm(e))return null;if(e.writableFinished===!0)return!0;const r=e._writableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.finished)!="boolean"?null:!!(r.finished||t===!1&&r.ended===!0&&r.length===0)}function rCe(e){if(!Wm(e))return null;if(e.readableEnded===!0)return!0;const t=e._readableState;return!t||t.errored?!1:typeof(t==null?void 0:t.ended)!="boolean"?null:t.ended}function k4(e,t){if(!Wm(e))return null;const r=e._readableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.endEmitted)!="boolean"?null:!!(r.endEmitted||t===!1&&r.ended===!0&&r.length===0)}function C4(e){return e&&e[fT]!=null?e[fT]:typeof(e==null?void 0:e.readable)!="boolean"?null:Um(e)?!1:Wm(e)&&e.readable&&!k4(e)}function O4(e){return e&&e[cT]!=null?e[cT]:typeof(e==null?void 0:e.writable)!="boolean"?null:Um(e)?!1:Bm(e)&&e.writable&&!N4(e)}function nCe(e,t){return Cs(e)?Um(e)?!0:!((t==null?void 0:t.readable)!==!1&&C4(e)||(t==null?void 0:t.writable)!==!1&&O4(e)):null}function iCe(e){var t,r;return Cs(e)?e.writableErrored?e.writableErrored:(t=(r=e._writableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}function oCe(e){var t,r;return Cs(e)?e.readableErrored?e.readableErrored:(t=(r=e._readableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}function sCe(e){if(!Cs(e))return null;if(typeof e.closed=="boolean")return e.closed;const t=e._writableState,r=e._readableState;return typeof(t==null?void 0:t.closed)=="boolean"||typeof(r==null?void 0:r.closed)=="boolean"?(t==null?void 0:t.closed)||(r==null?void 0:r.closed):typeof e._closed=="boolean"&&L4(e)?e._closed:null}function L4(e){return typeof e._closed=="boolean"&&typeof e._defaultKeepAlive=="boolean"&&typeof e._removedConnection=="boolean"&&typeof e._removedContLen=="boolean"}function D4(e){return typeof e._sent100=="boolean"&&L4(e)}function aCe(e){var t;return typeof e._consuming=="boolean"&&typeof e._dumped=="boolean"&&((t=e.req)===null||t===void 0?void 0:t.upgradeOrConnect)===void 0}function lCe(e){if(!Cs(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!n&&D4(e)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function uCe(e){var t;return!!(e&&((t=e[A4])!==null&&t!==void 0?t:e.readableDidRead||e.readableAborted))}function fCe(e){var t,r,n,o,s,a,l,f,u,d;return!!(e&&((t=(r=(n=(o=(s=(a=e[x4])!==null&&a!==void 0?a:e.readableErrored)!==null&&s!==void 0?s:e.writableErrored)!==null&&o!==void 0?o:(l=e._readableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&n!==void 0?n:(f=e._writableState)===null||f===void 0?void 0:f.errorEmitted)!==null&&r!==void 0?r:(u=e._readableState)===null||u===void 0?void 0:u.errored)!==null&&t!==void 0?t:!((d=e._writableState)===null||d===void 0)&&d.errored))}var La={isDestroyed:Um,kIsDestroyed:R4,isDisturbed:uCe,kIsDisturbed:A4,isErrored:fCe,kIsErrored:x4,isReadable:C4,kIsReadable:fT,kIsClosedPromise:Yke,kControllerErrorFunction:Xke,kIsWritable:cT,isClosed:sCe,isDuplexNodeStream:Qke,isFinished:nCe,isIterable:eCe,isReadableNodeStream:Wm,isReadableStream:$4,isReadableEnded:rCe,isReadableFinished:k4,isReadableErrored:oCe,isNodeStream:Cs,isWebStream:Zke,isWritable:O4,isWritableNodeStream:Bm,isWritableStream:T4,isWritableEnded:N4,isWritableFinished:tCe,isWritableErrored:iCe,isServerRequest:aCe,isServerResponse:D4,willEmitClose:lCe,isTransformStream:I4};const lu=Qe,{AbortError:M4,codes:cCe}=Ei,{ERR_INVALID_ARG_TYPE:dCe,ERR_STREAM_PREMATURE_CLOSE:P4}=cCe,{kEmptyObject:dT,once:hT}=Zn,{validateAbortSignal:hCe,validateFunction:pCe,validateObject:bCe,validateBoolean:gCe}=Jb,{Promise:_Ce,PromisePrototypeThen:yCe,SymbolDispose:F4}=Ar,{isClosed:wCe,isReadable:j4,isReadableNodeStream:pT,isReadableStream:mCe,isReadableFinished:W4,isReadableErrored:B4,isWritable:U4,isWritableNodeStream:q4,isWritableStream:vCe,isWritableFinished:H4,isWritableErrored:V4,isNodeStream:SCe,willEmitClose:ECe,kIsClosedPromise:RCe}=La;let Eh;function xCe(e){return e.setHeader&&typeof e.abort=="function"}const bT=()=>{};function G4(e,t,r){var n,o;if(arguments.length===2?(r=t,t=dT):t==null?t=dT:bCe(t,"options"),pCe(r,"callback"),hCe(t.signal,"options.signal"),r=hT(r),mCe(e)||vCe(e))return ACe(e,t,r);if(!SCe(e))throw new dCe("stream",["ReadableStream","WritableStream","Stream"],e);const s=(n=t.readable)!==null&&n!==void 0?n:pT(e),a=(o=t.writable)!==null&&o!==void 0?o:q4(e),l=e._writableState,f=e._readableState,u=()=>{e.writable||h()};let d=ECe(e)&&pT(e)===s&&q4(e)===a,g=H4(e,!1);const h=()=>{g=!0,e.destroyed&&(d=!1),!(d&&(!e.readable||s))&&(!s||p)&&r.call(e)};let p=W4(e,!1);const w=()=>{p=!0,e.destroyed&&(d=!1),!(d&&(!e.writable||a))&&(!a||g)&&r.call(e)},y=$=>{r.call(e,$)};let v=wCe(e);const E=()=>{v=!0;const $=V4(e)||B4(e);if($&&typeof $!="boolean")return r.call(e,$);if(s&&!p&&pT(e,!0)&&!W4(e,!1))return r.call(e,new P4);if(a&&!g&&!H4(e,!1))return r.call(e,new P4);r.call(e)},x=()=>{v=!0;const $=V4(e)||B4(e);if($&&typeof $!="boolean")return r.call(e,$);r.call(e)},S=()=>{e.req.on("finish",h)};xCe(e)?(e.on("complete",h),d||e.on("abort",E),e.req?S():e.on("request",S)):a&&!l&&(e.on("end",u),e.on("close",u)),!d&&typeof e.aborted=="boolean"&&e.on("aborted",E),e.on("end",w),e.on("finish",h),t.error!==!1&&e.on("error",y),e.on("close",E),v?lu.nextTick(E):l!=null&&l.errorEmitted||f!=null&&f.errorEmitted?d||lu.nextTick(x):(!s&&(!d||j4(e))&&(g||U4(e)===!1)||!a&&(!d||U4(e))&&(p||j4(e)===!1)||f&&e.req&&e.aborted)&&lu.nextTick(x);const N=()=>{r=bT,e.removeListener("aborted",E),e.removeListener("complete",h),e.removeListener("abort",E),e.removeListener("request",S),e.req&&e.req.removeListener("finish",h),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",h),e.removeListener("end",w),e.removeListener("error",y),e.removeListener("close",E)};if(t.signal&&!v){const $=()=>{const D=r;N(),D.call(e,new M4(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)lu.nextTick($);else{Eh=Eh||Zn.addAbortListener;const D=Eh(t.signal,$),K=r;r=hT((...q)=>{D[F4](),K.apply(e,q)})}}return N}function ACe(e,t,r){let n=!1,o=bT;if(t.signal)if(o=()=>{n=!0,r.call(e,new M4(void 0,{cause:t.signal.reason}))},t.signal.aborted)lu.nextTick(o);else{Eh=Eh||Zn.addAbortListener;const a=Eh(t.signal,o),l=r;r=hT((...f)=>{a[F4](),l.apply(e,f)})}const s=(...a)=>{n||lu.nextTick(()=>r.apply(e,a))};return yCe(e[RCe].promise,s,s),bT}function $Ce(e,t){var r;let n=!1;return t===null&&(t=dT),(r=t)!==null&&r!==void 0&&r.cleanup&&(gCe(t.cleanup,"cleanup"),n=t.cleanup),new _Ce((o,s)=>{const a=G4(e,t,l=>{n&&a(),l?s(l):o()})})}uT.exports=G4,uT.exports.finished=$Ce;var uu=uT.exports;const Os=Qe,{aggregateTwoErrors:TCe,codes:{ERR_MULTIPLE_CALLBACK:ICe},AbortError:NCe}=Ei,{Symbol:z4}=Ar,{kIsDestroyed:kCe,isDestroyed:CCe,isFinished:OCe,isServerRequest:LCe}=La,K4=z4("kDestroy"),gT=z4("kConstruct");function J4(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function DCe(e,t){const r=this._readableState,n=this._writableState,o=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof t=="function"&&t(),this):(J4(e,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),o.constructed?Y4(this,e,t):this.once(K4,function(s){Y4(this,TCe(s,e),t)}),this)}function Y4(e,t,r){let n=!1;function o(s){if(n)return;n=!0;const a=e._readableState,l=e._writableState;J4(s,l,a),l&&(l.closed=!0),a&&(a.closed=!0),typeof r=="function"&&r(s),s?Os.nextTick(MCe,e,s):Os.nextTick(X4,e)}try{e._destroy(t||null,o)}catch(s){o(s)}}function MCe(e,t){_T(e,t),X4(e)}function X4(e){const t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(r!=null&&r.emitClose||t!=null&&t.emitClose)&&e.emit("close")}function _T(e,t){const r=e._readableState,n=e._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function PCe(){const e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=e.readable===!1,e.endEmitted=e.readable===!1),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=t.writable===!1,t.ending=t.writable===!1,t.finished=t.writable===!1)}function yT(e,t,r){const n=e._readableState,o=e._writableState;if(o!=null&&o.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||o!=null&&o.autoDestroy?e.destroy(t):t&&(t.stack,o&&!o.errored&&(o.errored=t),n&&!n.errored&&(n.errored=t),r?Os.nextTick(_T,e,t):_T(e,t))}function FCe(e,t){if(typeof e._construct!="function")return;const r=e._readableState,n=e._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),e.once(gT,t),!(e.listenerCount(gT)>1)&&Os.nextTick(jCe,e)}function jCe(e){let t=!1;function r(n){if(t){yT(e,n??new ICe);return}t=!0;const o=e._readableState,s=e._writableState,a=s||o;o&&(o.constructed=!0),s&&(s.constructed=!0),a.destroyed?e.emit(K4,n):n?yT(e,n,!0):Os.nextTick(WCe,e)}try{e._construct(n=>{Os.nextTick(r,n)})}catch(n){Os.nextTick(r,n)}}function WCe(e){e.emit(gT)}function Q4(e){return(e==null?void 0:e.setHeader)&&typeof e.abort=="function"}function Z4(e){e.emit("close")}function BCe(e,t){e.emit("error",t),Os.nextTick(Z4,e)}function UCe(e,t){!e||CCe(e)||(!t&&!OCe(e)&&(t=new NCe),LCe(e)?(e.socket=null,e.destroy(t)):Q4(e)?e.abort():Q4(e.req)?e.req.abort():typeof e.destroy=="function"?e.destroy(t):typeof e.close=="function"?e.close():t?Os.nextTick(BCe,e,t):Os.nextTick(Z4,e),e.destroyed||(e[kCe]=!0))}var Rh={construct:FCe,destroyer:UCe,destroy:DCe,undestroy:PCe,errorOrDestroy:yT};const{ArrayIsArray:qCe,ObjectSetPrototypeOf:eV}=Ar,{EventEmitter:qm}=$t;function Hm(e){qm.call(this,e)}eV(Hm.prototype,qm.prototype),eV(Hm,qm),Hm.prototype.pipe=function(e,t){const r=this;function n(d){e.writable&&e.write(d)===!1&&r.pause&&r.pause()}r.on("data",n);function o(){r.readable&&r.resume&&r.resume()}e.on("drain",o),!e._isStdio&&(!t||t.end!==!1)&&(r.on("end",a),r.on("close",l));let s=!1;function a(){s||(s=!0,e.end())}function l(){s||(s=!0,typeof e.destroy=="function"&&e.destroy())}function f(d){u(),qm.listenerCount(this,"error")===0&&this.emit("error",d)}wT(r,"error",f),wT(e,"error",f);function u(){r.removeListener("data",n),e.removeListener("drain",o),r.removeListener("end",a),r.removeListener("close",l),r.removeListener("error",f),e.removeListener("error",f),r.removeListener("end",u),r.removeListener("close",u),e.removeListener("close",u)}return r.on("end",u),r.on("close",u),e.on("close",u),e.emit("pipe",r),e};function wT(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):qCe(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}var mT={Stream:Hm,prependListener:wT},tV={exports:{}};(function(e){const{SymbolDispose:t}=Ar,{AbortError:r,codes:n}=Ei,{isNodeStream:o,isWebStream:s,kControllerErrorFunction:a}=La,l=uu,{ERR_INVALID_ARG_TYPE:f}=n;let u;const d=(g,h)=>{if(typeof g!="object"||!("aborted"in g))throw new f(h,"AbortSignal",g)};e.exports.addAbortSignal=function(h,p){if(d(h,"signal"),!o(p)&&!s(p))throw new f("stream",["ReadableStream","WritableStream","Stream"],p);return e.exports.addAbortSignalNoValidate(h,p)},e.exports.addAbortSignalNoValidate=function(g,h){if(typeof g!="object"||!("aborted"in g))return h;const p=o(h)?()=>{h.destroy(new r(void 0,{cause:g.reason}))}:()=>{h[a](new r(void 0,{cause:g.reason}))};if(g.aborted)p();else{u=u||Zn.addAbortListener;const w=u(g,p);l(h,w[t])}return h}})(tV);var Vm=tV.exports;const{StringPrototypeSlice:rV,SymbolIterator:HCe,TypedArrayPrototypeSet:Gm,Uint8Array:VCe}=Ar,{Buffer:vT}=Ge,{inspect:GCe}=Zn;var zCe=class{constructor(){this.head=null,this.tail=null,this.length=0}push(t){const r={data:t,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(t){const r={data:t,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;const t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=t+r.data;return n}concat(t){if(this.length===0)return vT.alloc(0);const r=vT.allocUnsafe(t>>>0);let n=this.head,o=0;for(;n;)Gm(r,n.data,o),o+=n.data.length,n=n.next;return r}consume(t,r){const n=this.head.data;if(t<n.length){const o=n.slice(0,t);return this.head.data=n.slice(t),o}return t===n.length?this.shift():r?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[HCe](){for(let t=this.head;t;t=t.next)yield t.data}_getString(t){let r="",n=this.head,o=0;do{const s=n.data;if(t>s.length)r+=s,t-=s.length;else{t===s.length?(r+=s,++o,n.next?this.head=n.next:this.head=this.tail=null):(r+=rV(s,0,t),this.head=n,n.data=rV(s,t));break}++o}while((n=n.next)!==null);return this.length-=o,r}_getBuffer(t){const r=vT.allocUnsafe(t),n=t;let o=this.head,s=0;do{const a=o.data;if(t>a.length)Gm(r,a,n-t),t-=a.length;else{t===a.length?(Gm(r,a,n-t),++s,o.next?this.head=o.next:this.head=this.tail=null):(Gm(r,new VCe(a.buffer,a.byteOffset,t),n-t),this.head=o,o.data=a.slice(t));break}++s}while((o=o.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](t,r){return GCe(this,{...r,depth:0,customInspect:!1})}};const{MathFloor:KCe,NumberIsInteger:JCe}=Ar,{validateInteger:YCe}=Jb,{ERR_INVALID_ARG_VALUE:XCe}=Ei.codes;let nV=16*1024,iV=16;function QCe(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function oV(e){return e?iV:nV}function ZCe(e,t){YCe(t,"value",0),e?iV=t:nV=t}function eOe(e,t,r,n){const o=QCe(t,n,r);if(o!=null){if(!JCe(o)||o<0){const s=n?`options.${r}`:"options.highWaterMark";throw new XCe(s,o)}return KCe(o)}return oV(e.objectMode)}var zm={getHighWaterMark:eOe,getDefaultHighWaterMark:oV,setDefaultHighWaterMark:ZCe};const sV=Qe,{PromisePrototypeThen:tOe,SymbolAsyncIterator:aV,SymbolIterator:lV}=Ar,{Buffer:rOe}=Ge,{ERR_INVALID_ARG_TYPE:nOe,ERR_STREAM_NULL_VALUES:iOe}=Ei.codes;function oOe(e,t,r){let n;if(typeof t=="string"||t instanceof rOe)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});let o;if(t&&t[aV])o=!0,n=t[aV]();else if(t&&t[lV])o=!1,n=t[lV]();else throw new nOe("iterable",["Iterable"],t);const s=new e({objectMode:!0,highWaterMark:1,...r});let a=!1;s._read=function(){a||(a=!0,f())},s._destroy=function(u,d){tOe(l(u),()=>sV.nextTick(d,u),g=>sV.nextTick(d,g||u))};async function l(u){const d=u!=null,g=typeof n.throw=="function";if(d&&g){const{value:h,done:p}=await n.throw(u);if(await h,p)return}if(typeof n.return=="function"){const{value:h}=await n.return();await h}}async function f(){for(;;){try{const{value:u,done:d}=o?await n.next():n.next();if(d)s.push(null);else{const g=u&&typeof u.then=="function"?await u:u;if(g===null)throw a=!1,new iOe;if(s.push(g))continue;a=!1}}catch(u){s.destroy(u)}break}}return s}var uV=oOe,ST,fV;function Km(){if(fV)return ST;fV=1;const e=Qe,{ArrayPrototypeIndexOf:t,NumberIsInteger:r,NumberIsNaN:n,NumberParseInt:o,ObjectDefineProperties:s,ObjectKeys:a,ObjectSetPrototypeOf:l,Promise:f,SafeSet:u,SymbolAsyncDispose:d,SymbolAsyncIterator:g,Symbol:h}=Ar;ST=F,F.ReadableState=ye;const{EventEmitter:p}=$t,{Stream:w,prependListener:y}=mT,{Buffer:v}=Ge,{addAbortSignal:E}=Vm,x=uu;let S=Zn.debuglog("stream",c=>{S=c});const N=zCe,$=Rh,{getHighWaterMark:D,getDefaultHighWaterMark:K}=zm,{aggregateTwoErrors:q,codes:{ERR_INVALID_ARG_TYPE:k,ERR_METHOD_NOT_IMPLEMENTED:V,ERR_OUT_OF_RANGE:j,ERR_STREAM_PUSH_AFTER_EOF:B,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:A},AbortError:U}=Ei,{validateObject:G}=Jb,H=h("kPaused"),{StringDecoder:Q}=Fi(),ne=uV;l(F.prototype,w.prototype),l(F,w);const se=()=>{},{errorOrDestroy:ae}=$,Z=1,ge=2,W=4,ue=8,xe=16,he=32,le=64,_e=128,Ae=256,We=512,ie=1024,te=2048,_=4096,m=8192,R=16384,O=32768,C=65536,X=1<<17,re=1<<18;function J(c){return{enumerable:!1,get(){return(this.state&c)!==0},set(b){b?this.state|=c:this.state&=~c}}}s(ye.prototype,{objectMode:J(Z),ended:J(ge),endEmitted:J(W),reading:J(ue),constructed:J(xe),sync:J(he),needReadable:J(le),emittedReadable:J(_e),readableListening:J(Ae),resumeScheduled:J(We),errorEmitted:J(ie),emitClose:J(te),autoDestroy:J(_),destroyed:J(m),closed:J(R),closeEmitted:J(O),multiAwaitDrain:J(C),readingMore:J(X),dataEmitted:J(re)});function ye(c,b,I){typeof I!="boolean"&&(I=b instanceof Da()),this.state=te|_|xe|he,c&&c.objectMode&&(this.state|=Z),I&&c&&c.readableObjectMode&&(this.state|=Z),this.highWaterMark=c?D(this,c,"readableHighWaterMark",I):K(!1),this.buffer=new N,this.length=0,this.pipes=[],this.flowing=null,this[H]=null,c&&c.emitClose===!1&&(this.state&=~te),c&&c.autoDestroy===!1&&(this.state&=~_),this.errored=null,this.defaultEncoding=c&&c.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,c&&c.encoding&&(this.decoder=new Q(c.encoding),this.encoding=c.encoding)}function F(c){if(!(this instanceof F))return new F(c);const b=this instanceof Da();this._readableState=new ye(c,this,b),c&&(typeof c.read=="function"&&(this._read=c.read),typeof c.destroy=="function"&&(this._destroy=c.destroy),typeof c.construct=="function"&&(this._construct=c.construct),c.signal&&!b&&E(c.signal,this)),w.call(this,c),$.construct(this,()=>{this._readableState.needReadable&&ce(this,this._readableState)})}F.prototype.destroy=$.destroy,F.prototype._undestroy=$.undestroy,F.prototype._destroy=function(c,b){b(c)},F.prototype[p.captureRejectionSymbol]=function(c){this.destroy(c)},F.prototype[d]=function(){let c;return this.destroyed||(c=this.readableEnded?null:new U,this.destroy(c)),new f((b,I)=>x(this,T=>T&&T!==c?I(T):b(null)))},F.prototype.push=function(c,b){return we(this,c,b,!1)},F.prototype.unshift=function(c,b){return we(this,c,b,!0)};function we(c,b,I,T){S("readableAddChunk",b);const P=c._readableState;let Ee;if(P.state&Z||(typeof b=="string"?(I=I||P.defaultEncoding,P.encoding!==I&&(T&&P.encoding?b=v.from(b,I).toString(P.encoding):(b=v.from(b,I),I=""))):b instanceof v?I="":w._isUint8Array(b)?(b=w._uint8ArrayToBuffer(b),I=""):b!=null&&(Ee=new k("chunk",["string","Buffer","Uint8Array"],b))),Ee)ae(c,Ee);else if(b===null)P.state&=~ue,L(c,P);else if(P.state&Z||b&&b.length>0)if(T)if(P.state&W)ae(c,new A);else{if(P.destroyed||P.errored)return!1;Ce(c,P,b,!0)}else if(P.ended)ae(c,new B);else{if(P.destroyed||P.errored)return!1;P.state&=~ue,P.decoder&&!I?(b=P.decoder.write(b),P.objectMode||b.length!==0?Ce(c,P,b,!1):ce(c,P)):Ce(c,P,b,!1)}else T||(P.state&=~ue,ce(c,P));return!P.ended&&(P.length<P.highWaterMark||P.length===0)}function Ce(c,b,I,T){b.flowing&&b.length===0&&!b.sync&&c.listenerCount("data")>0?(b.state&C?b.awaitDrainWriters.clear():b.awaitDrainWriters=null,b.dataEmitted=!0,c.emit("data",I)):(b.length+=b.objectMode?1:I.length,T?b.buffer.unshift(I):b.buffer.push(I),b.state&le&&M(c)),ce(c,b)}F.prototype.isPaused=function(){const c=this._readableState;return c[H]===!0||c.flowing===!1},F.prototype.setEncoding=function(c){const b=new Q(c);this._readableState.decoder=b,this._readableState.encoding=this._readableState.decoder.encoding;const I=this._readableState.buffer;let T="";for(const P of I)T+=b.write(P);return I.clear(),T!==""&&I.push(T),this._readableState.length=T.length,this};const Me=1073741824;function Ue(c){if(c>Me)throw new j("size","<= 1GiB",c);return c--,c|=c>>>1,c|=c>>>2,c|=c>>>4,c|=c>>>8,c|=c>>>16,c++,c}function z(c,b){return c<=0||b.length===0&&b.ended?0:b.state&Z?1:n(c)?b.flowing&&b.length?b.buffer.first().length:b.length:c<=b.length?c:b.ended?b.length:0}F.prototype.read=function(c){S("read",c),c===void 0?c=NaN:r(c)||(c=o(c,10));const b=this._readableState,I=c;if(c>b.highWaterMark&&(b.highWaterMark=Ue(c)),c!==0&&(b.state&=~_e),c===0&&b.needReadable&&((b.highWaterMark!==0?b.length>=b.highWaterMark:b.length>0)||b.ended))return S("read: emitReadable",b.length,b.ended),b.length===0&&b.ended?ht(this):M(this),null;if(c=z(c,b),c===0&&b.ended)return b.length===0&&ht(this),null;let T=(b.state&le)!==0;if(S("need readable",T),(b.length===0||b.length-c<b.highWaterMark)&&(T=!0,S("length less than watermark",T)),b.ended||b.reading||b.destroyed||b.errored||!b.constructed)T=!1,S("reading, ended or constructing",T);else if(T){S("do read"),b.state|=ue|he,b.length===0&&(b.state|=le);try{this._read(b.highWaterMark)}catch(Ee){ae(this,Ee)}b.state&=~he,b.reading||(c=z(I,b))}let P;return c>0?P=Mt(c,b):P=null,P===null?(b.needReadable=b.length<=b.highWaterMark,c=0):(b.length-=c,b.multiAwaitDrain?b.awaitDrainWriters.clear():b.awaitDrainWriters=null),b.length===0&&(b.ended||(b.needReadable=!0),I!==c&&b.ended&&ht(this)),P!==null&&!b.errorEmitted&&!b.closeEmitted&&(b.dataEmitted=!0,this.emit("data",P)),P};function L(c,b){if(S("onEofChunk"),!b.ended){if(b.decoder){const I=b.decoder.end();I&&I.length&&(b.buffer.push(I),b.length+=b.objectMode?1:I.length)}b.ended=!0,b.sync?M(c):(b.needReadable=!1,b.emittedReadable=!0,oe(c))}}function M(c){const b=c._readableState;S("emitReadable",b.needReadable,b.emittedReadable),b.needReadable=!1,b.emittedReadable||(S("emitReadable",b.flowing),b.emittedReadable=!0,e.nextTick(oe,c))}function oe(c){const b=c._readableState;S("emitReadable_",b.destroyed,b.length,b.ended),!b.destroyed&&!b.errored&&(b.length||b.ended)&&(c.emit("readable"),b.emittedReadable=!1),b.needReadable=!b.flowing&&!b.ended&&b.length<=b.highWaterMark,rt(c)}function ce(c,b){!b.readingMore&&b.constructed&&(b.readingMore=!0,e.nextTick(Se,c,b))}function Se(c,b){for(;!b.reading&&!b.ended&&(b.length<b.highWaterMark||b.flowing&&b.length===0);){const I=b.length;if(S("maybeReadMore read 0"),c.read(0),I===b.length)break}b.readingMore=!1}F.prototype._read=function(c){throw new V("_read()")},F.prototype.pipe=function(c,b){const I=this,T=this._readableState;T.pipes.length===1&&(T.multiAwaitDrain||(T.multiAwaitDrain=!0,T.awaitDrainWriters=new u(T.awaitDrainWriters?[T.awaitDrainWriters]:[]))),T.pipes.push(c),S("pipe count=%d opts=%j",T.pipes.length,b);const Ee=(!b||b.end!==!1)&&c!==e.stdout&&c!==e.stderr?de:Ke;T.endEmitted?e.nextTick(Ee):I.once("end",Ee),c.on("unpipe",$e);function $e(ke,Te){S("onunpipe"),ke===I&&Te&&Te.hasUnpiped===!1&&(Te.hasUnpiped=!0,Re())}function de(){S("onend"),c.end()}let ee,pe=!1;function Re(){S("cleanup"),c.removeListener("close",Ye),c.removeListener("finish",tt),ee&&c.removeListener("drain",ee),c.removeListener("error",Be),c.removeListener("unpipe",$e),I.removeListener("end",de),I.removeListener("end",Ke),I.removeListener("data",Ve),pe=!0,ee&&T.awaitDrainWriters&&(!c._writableState||c._writableState.needDrain)&&ee()}function me(){pe||(T.pipes.length===1&&T.pipes[0]===c?(S("false write response, pause",0),T.awaitDrainWriters=c,T.multiAwaitDrain=!1):T.pipes.length>1&&T.pipes.includes(c)&&(S("false write response, pause",T.awaitDrainWriters.size),T.awaitDrainWriters.add(c)),I.pause()),ee||(ee=ve(I,c),c.on("drain",ee))}I.on("data",Ve);function Ve(ke){S("ondata");const Te=c.write(ke);S("dest.write",Te),Te===!1&&me()}function Be(ke){if(S("onerror",ke),Ke(),c.removeListener("error",Be),c.listenerCount("error")===0){const Te=c._writableState||c._readableState;Te&&!Te.errorEmitted?ae(c,ke):c.emit("error",ke)}}y(c,"error",Be);function Ye(){c.removeListener("finish",tt),Ke()}c.once("close",Ye);function tt(){S("onfinish"),c.removeListener("close",Ye),Ke()}c.once("finish",tt);function Ke(){S("unpipe"),I.unpipe(c)}return c.emit("pipe",I),c.writableNeedDrain===!0?me():T.flowing||(S("pipe resume"),I.resume()),c};function ve(c,b){return function(){const T=c._readableState;T.awaitDrainWriters===b?(S("pipeOnDrain",1),T.awaitDrainWriters=null):T.multiAwaitDrain&&(S("pipeOnDrain",T.awaitDrainWriters.size),T.awaitDrainWriters.delete(b)),(!T.awaitDrainWriters||T.awaitDrainWriters.size===0)&&c.listenerCount("data")&&c.resume()}}F.prototype.unpipe=function(c){const b=this._readableState,I={hasUnpiped:!1};if(b.pipes.length===0)return this;if(!c){const P=b.pipes;b.pipes=[],this.pause();for(let Ee=0;Ee<P.length;Ee++)P[Ee].emit("unpipe",this,{hasUnpiped:!1});return this}const T=t(b.pipes,c);return T===-1?this:(b.pipes.splice(T,1),b.pipes.length===0&&this.pause(),c.emit("unpipe",this,I),this)},F.prototype.on=function(c,b){const I=w.prototype.on.call(this,c,b),T=this._readableState;return c==="data"?(T.readableListening=this.listenerCount("readable")>0,T.flowing!==!1&&this.resume()):c==="readable"&&!T.endEmitted&&!T.readableListening&&(T.readableListening=T.needReadable=!0,T.flowing=!1,T.emittedReadable=!1,S("on readable",T.length,T.reading),T.length?M(this):T.reading||e.nextTick(dt,this)),I},F.prototype.addListener=F.prototype.on,F.prototype.removeListener=function(c,b){const I=w.prototype.removeListener.call(this,c,b);return c==="readable"&&e.nextTick(ze,this),I},F.prototype.off=F.prototype.removeListener,F.prototype.removeAllListeners=function(c){const b=w.prototype.removeAllListeners.apply(this,arguments);return(c==="readable"||c===void 0)&&e.nextTick(ze,this),b};function ze(c){const b=c._readableState;b.readableListening=c.listenerCount("readable")>0,b.resumeScheduled&&b[H]===!1?b.flowing=!0:c.listenerCount("data")>0?c.resume():b.readableListening||(b.flowing=null)}function dt(c){S("readable nexttick read 0"),c.read(0)}F.prototype.resume=function(){const c=this._readableState;return c.flowing||(S("resume"),c.flowing=!c.readableListening,et(this,c)),c[H]=!1,this};function et(c,b){b.resumeScheduled||(b.resumeScheduled=!0,e.nextTick(Xe,c,b))}function Xe(c,b){S("resume",b.reading),b.reading||c.read(0),b.resumeScheduled=!1,c.emit("resume"),rt(c),b.flowing&&!b.reading&&c.read(0)}F.prototype.pause=function(){return S("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(S("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[H]=!0,this};function rt(c){const b=c._readableState;for(S("flow",b.flowing);b.flowing&&c.read()!==null;);}F.prototype.wrap=function(c){let b=!1;c.on("data",T=>{!this.push(T)&&c.pause&&(b=!0,c.pause())}),c.on("end",()=>{this.push(null)}),c.on("error",T=>{ae(this,T)}),c.on("close",()=>{this.destroy()}),c.on("destroy",()=>{this.destroy()}),this._read=()=>{b&&c.resume&&(b=!1,c.resume())};const I=a(c);for(let T=1;T<I.length;T++){const P=I[T];this[P]===void 0&&typeof c[P]=="function"&&(this[P]=c[P].bind(c))}return this},F.prototype[g]=function(){return Lt(this)},F.prototype.iterator=function(c){return c!==void 0&&G(c,"options"),Lt(this,c)};function Lt(c,b){typeof c.read!="function"&&(c=F.wrap(c,{objectMode:!0}));const I=vr(c,b);return I.stream=c,I}async function*vr(c,b){let I=se;function T($e){this===c?(I(),I=se):I=$e}c.on("readable",T);let P;const Ee=x(c,{writable:!1},$e=>{P=$e?q(P,$e):null,I(),I=se});try{for(;;){const $e=c.destroyed?null:c.read();if($e!==null)yield $e;else{if(P)throw P;if(P===null)return;await new f(T)}}}catch($e){throw P=q(P,$e),P}finally{(P||(b==null?void 0:b.destroyOnReturn)!==!1)&&(P===void 0||c._readableState.autoDestroy)?$.destroyer(c,null):(c.off("readable",T),Ee())}}s(F.prototype,{readable:{__proto__:null,get(){const c=this._readableState;return!!c&&c.readable!==!1&&!c.destroyed&&!c.errorEmitted&&!c.endEmitted},set(c){this._readableState&&(this._readableState.readable=!!c)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(c){this._readableState&&(this._readableState.flowing=c)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(c){this._readableState&&(this._readableState.destroyed=c)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),s(ye.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[H]!==!1},set(c){this[H]=!!c}}}),F._fromList=Mt;function Mt(c,b){if(b.length===0)return null;let I;return b.objectMode?I=b.buffer.shift():!c||c>=b.length?(b.decoder?I=b.buffer.join(""):b.buffer.length===1?I=b.buffer.first():I=b.buffer.concat(b.length),b.buffer.clear()):I=b.buffer.consume(c,b.decoder),I}function ht(c){const b=c._readableState;S("endReadable",b.endEmitted),b.endEmitted||(b.ended=!0,e.nextTick(wr,b,c))}function wr(c,b){if(S("endReadableNT",c.endEmitted,c.length),!c.errored&&!c.closeEmitted&&!c.endEmitted&&c.length===0){if(c.endEmitted=!0,b.emit("end"),b.writable&&b.allowHalfOpen===!1)e.nextTick(rr,b);else if(c.autoDestroy){const I=b._writableState;(!I||I.autoDestroy&&(I.finished||I.writable===!1))&&b.destroy()}}}function rr(c){c.writable&&!c.writableEnded&&!c.destroyed&&c.end()}F.from=function(c,b){return ne(F,c,b)};let _t;function jt(){return _t===void 0&&(_t={}),_t}return F.fromWeb=function(c,b){return jt().newStreamReadableFromReadableStream(c,b)},F.toWeb=function(c,b){return jt().newReadableStreamFromStreamReadable(c,b)},F.wrap=function(c,b){var I,T;return new F({objectMode:(I=(T=c.readableObjectMode)!==null&&T!==void 0?T:c.objectMode)!==null&&I!==void 0?I:!0,...b,destroy(P,Ee){$.destroyer(c,P),Ee(P)}}).wrap(c)},ST}var ET,cV;function RT(){if(cV)return ET;cV=1;const e=Qe,{ArrayPrototypeSlice:t,Error:r,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:o,ObjectDefineProperties:s,ObjectSetPrototypeOf:a,StringPrototypeToLowerCase:l,Symbol:f,SymbolHasInstance:u}=Ar;ET=G,G.WritableState=A;const{EventEmitter:d}=$t,g=mT.Stream,{Buffer:h}=Ge,p=Rh,{addAbortSignal:w}=Vm,{getHighWaterMark:y,getDefaultHighWaterMark:v}=zm,{ERR_INVALID_ARG_TYPE:E,ERR_METHOD_NOT_IMPLEMENTED:x,ERR_MULTIPLE_CALLBACK:S,ERR_STREAM_CANNOT_PIPE:N,ERR_STREAM_DESTROYED:$,ERR_STREAM_ALREADY_FINISHED:D,ERR_STREAM_NULL_VALUES:K,ERR_STREAM_WRITE_AFTER_END:q,ERR_UNKNOWN_ENCODING:k}=Ei.codes,{errorOrDestroy:V}=p;a(G.prototype,g.prototype),a(G,g);function j(){}const B=f("kOnFinished");function A(_,m,R){typeof R!="boolean"&&(R=m instanceof Da()),this.objectMode=!!(_&&_.objectMode),R&&(this.objectMode=this.objectMode||!!(_&&_.writableObjectMode)),this.highWaterMark=_?y(this,_,"writableHighWaterMark",R):v(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const O=!!(_&&_.decodeStrings===!1);this.decodeStrings=!O,this.defaultEncoding=_&&_.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=ae.bind(void 0,m),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,U(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!_||_.emitClose!==!1,this.autoDestroy=!_||_.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[B]=[]}function U(_){_.buffered=[],_.bufferedIndex=0,_.allBuffers=!0,_.allNoop=!0}A.prototype.getBuffer=function(){return t(this.buffered,this.bufferedIndex)},o(A.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function G(_){const m=this instanceof Da();if(!m&&!n(G,this))return new G(_);this._writableState=new A(_,this,m),_&&(typeof _.write=="function"&&(this._write=_.write),typeof _.writev=="function"&&(this._writev=_.writev),typeof _.destroy=="function"&&(this._destroy=_.destroy),typeof _.final=="function"&&(this._final=_.final),typeof _.construct=="function"&&(this._construct=_.construct),_.signal&&w(_.signal,this)),g.call(this,_),p.construct(this,()=>{const R=this._writableState;R.writing||ue(this,R),_e(this,R)})}o(G,u,{__proto__:null,value:function(_){return n(this,_)?!0:this!==G?!1:_&&_._writableState instanceof A}}),G.prototype.pipe=function(){V(this,new N)};function H(_,m,R,O){const C=_._writableState;if(typeof R=="function")O=R,R=C.defaultEncoding;else{if(!R)R=C.defaultEncoding;else if(R!=="buffer"&&!h.isEncoding(R))throw new k(R);typeof O!="function"&&(O=j)}if(m===null)throw new K;if(!C.objectMode)if(typeof m=="string")C.decodeStrings!==!1&&(m=h.from(m,R),R="buffer");else if(m instanceof h)R="buffer";else if(g._isUint8Array(m))m=g._uint8ArrayToBuffer(m),R="buffer";else throw new E("chunk",["string","Buffer","Uint8Array"],m);let X;return C.ending?X=new q:C.destroyed&&(X=new $("write")),X?(e.nextTick(O,X),V(_,X,!0),X):(C.pendingcb++,Q(_,C,m,R,O))}G.prototype.write=function(_,m,R){return H(this,_,m,R)===!0},G.prototype.cork=function(){this._writableState.corked++},G.prototype.uncork=function(){const _=this._writableState;_.corked&&(_.corked--,_.writing||ue(this,_))},G.prototype.setDefaultEncoding=function(m){if(typeof m=="string"&&(m=l(m)),!h.isEncoding(m))throw new k(m);return this._writableState.defaultEncoding=m,this};function Q(_,m,R,O,C){const X=m.objectMode?1:R.length;m.length+=X;const re=m.length<m.highWaterMark;return re||(m.needDrain=!0),m.writing||m.corked||m.errored||!m.constructed?(m.buffered.push({chunk:R,encoding:O,callback:C}),m.allBuffers&&O!=="buffer"&&(m.allBuffers=!1),m.allNoop&&C!==j&&(m.allNoop=!1)):(m.writelen=X,m.writecb=C,m.writing=!0,m.sync=!0,_._write(R,O,m.onwrite),m.sync=!1),re&&!m.errored&&!m.destroyed}function ne(_,m,R,O,C,X,re){m.writelen=O,m.writecb=re,m.writing=!0,m.sync=!0,m.destroyed?m.onwrite(new $("write")):R?_._writev(C,m.onwrite):_._write(C,X,m.onwrite),m.sync=!1}function se(_,m,R,O){--m.pendingcb,O(R),W(m),V(_,R)}function ae(_,m){const R=_._writableState,O=R.sync,C=R.writecb;if(typeof C!="function"){V(_,new S);return}R.writing=!1,R.writecb=null,R.length-=R.writelen,R.writelen=0,m?(m.stack,R.errored||(R.errored=m),_._readableState&&!_._readableState.errored&&(_._readableState.errored=m),O?e.nextTick(se,_,R,m,C):se(_,R,m,C)):(R.buffered.length>R.bufferedIndex&&ue(_,R),O?R.afterWriteTickInfo!==null&&R.afterWriteTickInfo.cb===C?R.afterWriteTickInfo.count++:(R.afterWriteTickInfo={count:1,cb:C,stream:_,state:R},e.nextTick(Z,R.afterWriteTickInfo)):ge(_,R,1,C))}function Z({stream:_,state:m,count:R,cb:O}){return m.afterWriteTickInfo=null,ge(_,m,R,O)}function ge(_,m,R,O){for(!m.ending&&!_.destroyed&&m.length===0&&m.needDrain&&(m.needDrain=!1,_.emit("drain"));R-- >0;)m.pendingcb--,O();m.destroyed&&W(m),_e(_,m)}function W(_){if(_.writing)return;for(let C=_.bufferedIndex;C<_.buffered.length;++C){var m;const{chunk:X,callback:re}=_.buffered[C],J=_.objectMode?1:X.length;_.length-=J,re((m=_.errored)!==null&&m!==void 0?m:new $("write"))}const R=_[B].splice(0);for(let C=0;C<R.length;C++){var O;R[C]((O=_.errored)!==null&&O!==void 0?O:new $("end"))}U(_)}function ue(_,m){if(m.corked||m.bufferProcessing||m.destroyed||!m.constructed)return;const{buffered:R,bufferedIndex:O,objectMode:C}=m,X=R.length-O;if(!X)return;let re=O;if(m.bufferProcessing=!0,X>1&&_._writev){m.pendingcb-=X-1;const J=m.allNoop?j:F=>{for(let we=re;we<R.length;++we)R[we].callback(F)},ye=m.allNoop&&re===0?R:t(R,re);ye.allBuffers=m.allBuffers,ne(_,m,!0,m.length,ye,"",J),U(m)}else{do{const{chunk:J,encoding:ye,callback:F}=R[re];R[re++]=null;const we=C?1:J.length;ne(_,m,!1,we,J,ye,F)}while(re<R.length&&!m.writing);re===R.length?U(m):re>256?(R.splice(0,re),m.bufferedIndex=0):m.bufferedIndex=re}m.bufferProcessing=!1}G.prototype._write=function(_,m,R){if(this._writev)this._writev([{chunk:_,encoding:m}],R);else throw new x("_write()")},G.prototype._writev=null,G.prototype.end=function(_,m,R){const O=this._writableState;typeof _=="function"?(R=_,_=null,m=null):typeof m=="function"&&(R=m,m=null);let C;if(_!=null){const X=H(this,_,m);X instanceof r&&(C=X)}return O.corked&&(O.corked=1,this.uncork()),C||(!O.errored&&!O.ending?(O.ending=!0,_e(this,O,!0),O.ended=!0):O.finished?C=new D("end"):O.destroyed&&(C=new $("end"))),typeof R=="function"&&(C||O.finished?e.nextTick(R,C):O[B].push(R)),this};function xe(_){return _.ending&&!_.destroyed&&_.constructed&&_.length===0&&!_.errored&&_.buffered.length===0&&!_.finished&&!_.writing&&!_.errorEmitted&&!_.closeEmitted}function he(_,m){let R=!1;function O(C){if(R){V(_,C??S());return}if(R=!0,m.pendingcb--,C){const X=m[B].splice(0);for(let re=0;re<X.length;re++)X[re](C);V(_,C,m.sync)}else xe(m)&&(m.prefinished=!0,_.emit("prefinish"),m.pendingcb++,e.nextTick(Ae,_,m))}m.sync=!0,m.pendingcb++;try{_._final(O)}catch(C){O(C)}m.sync=!1}function le(_,m){!m.prefinished&&!m.finalCalled&&(typeof _._final=="function"&&!m.destroyed?(m.finalCalled=!0,he(_,m)):(m.prefinished=!0,_.emit("prefinish")))}function _e(_,m,R){xe(m)&&(le(_,m),m.pendingcb===0&&(R?(m.pendingcb++,e.nextTick((O,C)=>{xe(C)?Ae(O,C):C.pendingcb--},_,m)):xe(m)&&(m.pendingcb++,Ae(_,m))))}function Ae(_,m){m.pendingcb--,m.finished=!0;const R=m[B].splice(0);for(let O=0;O<R.length;O++)R[O]();if(_.emit("finish"),m.autoDestroy){const O=_._readableState;(!O||O.autoDestroy&&(O.endEmitted||O.readable===!1))&&_.destroy()}}s(G.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(_){this._writableState&&(this._writableState.destroyed=_)}},writable:{__proto__:null,get(){const _=this._writableState;return!!_&&_.writable!==!1&&!_.destroyed&&!_.errored&&!_.ending&&!_.ended},set(_){this._writableState&&(this._writableState.writable=!!_)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const _=this._writableState;return _?!_.destroyed&&!_.ending&&_.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const We=p.destroy;G.prototype.destroy=function(_,m){const R=this._writableState;return!R.destroyed&&(R.bufferedIndex<R.buffered.length||R[B].length)&&e.nextTick(W,R),We.call(this,_,m),this},G.prototype._undestroy=p.undestroy,G.prototype._destroy=function(_,m){m(_)},G.prototype[d.captureRejectionSymbol]=function(_){this.destroy(_)};let ie;function te(){return ie===void 0&&(ie={}),ie}return G.fromWeb=function(_,m){return te().newStreamWritableFromWritableStream(_,m)},G.toWeb=function(_){return te().newWritableStreamFromStreamWritable(_)},ET}var xT,dV;function sOe(){if(dV)return xT;dV=1;const e=Qe,t=Ge,{isReadable:r,isWritable:n,isIterable:o,isNodeStream:s,isReadableNodeStream:a,isWritableNodeStream:l,isDuplexNodeStream:f,isReadableStream:u,isWritableStream:d}=La,g=uu,{AbortError:h,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:w}}=Ei,{destroyer:y}=Rh,v=Da(),E=Km(),x=RT(),{createDeferredPromise:S}=Zn,N=uV,$=globalThis.Blob||t.Blob,D=typeof $<"u"?function(A){return A instanceof $}:function(A){return!1},K=globalThis.AbortController||bt().AbortController,{FunctionPrototypeCall:q}=Ar;class k extends v{constructor(A){super(A),(A==null?void 0:A.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(A==null?void 0:A.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}xT=function B(A,U){if(f(A))return A;if(a(A))return j({readable:A});if(l(A))return j({writable:A});if(s(A))return j({writable:!1,readable:!1});if(u(A))return j({readable:E.fromWeb(A)});if(d(A))return j({writable:x.fromWeb(A)});if(typeof A=="function"){const{value:H,write:Q,final:ne,destroy:se}=V(A);if(o(H))return N(k,H,{objectMode:!0,write:Q,final:ne,destroy:se});const ae=H==null?void 0:H.then;if(typeof ae=="function"){let Z;const ge=q(ae,H,W=>{if(W!=null)throw new w("nully","body",W)},W=>{y(Z,W)});return Z=new k({objectMode:!0,readable:!1,write:Q,final(W){ne(async()=>{try{await ge,e.nextTick(W,null)}catch(ue){e.nextTick(W,ue)}})},destroy:se})}throw new w("Iterable, AsyncIterable or AsyncFunction",U,H)}if(D(A))return B(A.arrayBuffer());if(o(A))return N(k,A,{objectMode:!0,writable:!1});if(u(A==null?void 0:A.readable)&&d(A==null?void 0:A.writable))return k.fromWeb(A);if(typeof(A==null?void 0:A.writable)=="object"||typeof(A==null?void 0:A.readable)=="object"){const H=A!=null&&A.readable?a(A==null?void 0:A.readable)?A==null?void 0:A.readable:B(A.readable):void 0,Q=A!=null&&A.writable?l(A==null?void 0:A.writable)?A==null?void 0:A.writable:B(A.writable):void 0;return j({readable:H,writable:Q})}const G=A==null?void 0:A.then;if(typeof G=="function"){let H;return q(G,A,Q=>{Q!=null&&H.push(Q),H.push(null)},Q=>{y(H,Q)}),H=new k({objectMode:!0,writable:!1,read(){}})}throw new p(U,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],A)};function V(B){let{promise:A,resolve:U}=S();const G=new K,H=G.signal;return{value:B(async function*(){for(;;){const ne=A;A=null;const{chunk:se,done:ae,cb:Z}=await ne;if(e.nextTick(Z),ae)return;if(H.aborted)throw new h(void 0,{cause:H.reason});({promise:A,resolve:U}=S()),yield se}}(),{signal:H}),write(ne,se,ae){const Z=U;U=null,Z({chunk:ne,done:!1,cb:ae})},final(ne){const se=U;U=null,se({done:!0,cb:ne})},destroy(ne,se){G.abort(),se(ne)}}}function j(B){const A=B.readable&&typeof B.readable.read!="function"?E.wrap(B.readable):B.readable,U=B.writable;let G=!!r(A),H=!!n(U),Q,ne,se,ae,Z;function ge(W){const ue=ae;ae=null,ue?ue(W):W&&Z.destroy(W)}return Z=new k({readableObjectMode:!!(A!=null&&A.readableObjectMode),writableObjectMode:!!(U!=null&&U.writableObjectMode),readable:G,writable:H}),H&&(g(U,W=>{H=!1,W&&y(A,W),ge(W)}),Z._write=function(W,ue,xe){U.write(W,ue)?xe():Q=xe},Z._final=function(W){U.end(),ne=W},U.on("drain",function(){if(Q){const W=Q;Q=null,W()}}),U.on("finish",function(){if(ne){const W=ne;ne=null,W()}})),G&&(g(A,W=>{G=!1,W&&y(A,W),ge(W)}),A.on("readable",function(){if(se){const W=se;se=null,W()}}),A.on("end",function(){Z.push(null)}),Z._read=function(){for(;;){const W=A.read();if(W===null){se=Z._read;return}if(!Z.push(W))return}}),Z._destroy=function(W,ue){!W&&ae!==null&&(W=new h),se=null,Q=null,ne=null,ae===null?ue(W):(ae=ue,y(U,W),y(A,W))},Z}return xT}var AT,hV;function Da(){if(hV)return AT;hV=1;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:r,ObjectSetPrototypeOf:n}=Ar;AT=a;const o=Km(),s=RT();n(a.prototype,o.prototype),n(a,o);{const d=r(s.prototype);for(let g=0;g<d.length;g++){const h=d[g];a.prototype[h]||(a.prototype[h]=s.prototype[h])}}function a(d){if(!(this instanceof a))return new a(d);o.call(this,d),s.call(this,d),d?(this.allowHalfOpen=d.allowHalfOpen!==!1,d.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),d.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(a.prototype,{writable:{__proto__:null,...t(s.prototype,"writable")},writableHighWaterMark:{__proto__:null,...t(s.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...t(s.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...t(s.prototype,"writableBuffer")},writableLength:{__proto__:null,...t(s.prototype,"writableLength")},writableFinished:{__proto__:null,...t(s.prototype,"writableFinished")},writableCorked:{__proto__:null,...t(s.prototype,"writableCorked")},writableEnded:{__proto__:null,...t(s.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...t(s.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(d){this._readableState&&this._writableState&&(this._readableState.destroyed=d,this._writableState.destroyed=d)}}});let l;function f(){return l===void 0&&(l={}),l}a.fromWeb=function(d,g){return f().newStreamDuplexFromReadableWritablePair(d,g)},a.toWeb=function(d){return f().newReadableWritablePairFromDuplex(d)};let u;return a.from=function(d){return u||(u=sOe()),u(d,"body")},AT}const{ObjectSetPrototypeOf:pV,Symbol:aOe}=Ar;var bV=Ma;const{ERR_METHOD_NOT_IMPLEMENTED:lOe}=Ei.codes,$T=Da(),{getHighWaterMark:uOe}=zm;pV(Ma.prototype,$T.prototype),pV(Ma,$T);const Yb=aOe("kCallback");function Ma(e){if(!(this instanceof Ma))return new Ma(e);const t=e?uOe(this,e,"readableHighWaterMark",!0):null;t===0&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),$T.call(this,e),this._readableState.sync=!1,this[Yb]=null,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",fOe)}function TT(e){typeof this._flush=="function"&&!this.destroyed?this._flush((t,r)=>{if(t){e?e(t):this.destroy(t);return}r!=null&&this.push(r),this.push(null),e&&e()}):(this.push(null),e&&e())}function fOe(){this._final!==TT&&TT.call(this)}Ma.prototype._final=TT,Ma.prototype._transform=function(e,t,r){throw new lOe("_transform()")},Ma.prototype._write=function(e,t,r){const n=this._readableState,o=this._writableState,s=n.length;this._transform(e,t,(a,l)=>{if(a){r(a);return}l!=null&&this.push(l),o.ended||s===n.length||n.length<n.highWaterMark?r():this[Yb]=r})},Ma.prototype._read=function(){if(this[Yb]){const e=this[Yb];this[Yb]=null,e()}};const{ObjectSetPrototypeOf:gV}=Ar;var _V=xh;const IT=bV;gV(xh.prototype,IT.prototype),gV(xh,IT);function xh(e){if(!(this instanceof xh))return new xh(e);IT.call(this,e)}xh.prototype._transform=function(e,t,r){r(null,e)};const Xb=Qe,{ArrayIsArray:cOe,Promise:dOe,SymbolAsyncIterator:hOe,SymbolDispose:pOe}=Ar,Jm=uu,{once:bOe}=Zn,gOe=Rh,yV=Da(),{aggregateTwoErrors:_Oe,codes:{ERR_INVALID_ARG_TYPE:NT,ERR_INVALID_RETURN_VALUE:kT,ERR_MISSING_ARGS:yOe,ERR_STREAM_DESTROYED:wOe,ERR_STREAM_PREMATURE_CLOSE:mOe},AbortError:vOe}=Ei,{validateFunction:SOe,validateAbortSignal:EOe}=Jb,{isIterable:Qf,isReadable:CT,isReadableNodeStream:Ym,isNodeStream:wV,isTransformStream:Ah,isWebStream:ROe,isReadableStream:OT,isReadableFinished:xOe}=La,AOe=globalThis.AbortController||bt().AbortController;let LT,DT,MT;function mV(e,t,r){let n=!1;e.on("close",()=>{n=!0});const o=Jm(e,{readable:t,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,gOe.destroyer(e,s||new wOe("pipe")))},cleanup:o}}function $Oe(e){return SOe(e[e.length-1],"streams[stream.length - 1]"),e.pop()}function PT(e){if(Qf(e))return e;if(Ym(e))return TOe(e);throw new NT("val",["Readable","Iterable","AsyncIterable"],e)}async function*TOe(e){DT||(DT=Km()),yield*DT.prototype[hOe].call(e)}async function Xm(e,t,r,{end:n}){let o,s=null;const a=u=>{if(u&&(o=u),s){const d=s;s=null,d()}},l=()=>new dOe((u,d)=>{o?d(o):s=()=>{o?d(o):u()}});t.on("drain",a);const f=Jm(t,{readable:!1},a);try{t.writableNeedDrain&&await l();for await(const u of e)t.write(u)||await l();n&&(t.end(),await l()),r()}catch(u){r(o!==u?_Oe(o,u):u)}finally{f(),t.off("drain",a)}}async function FT(e,t,r,{end:n}){Ah(t)&&(t=t.writable);const o=t.getWriter();try{for await(const s of e)await o.ready,o.write(s).catch(()=>{});await o.ready,n&&await o.close(),r()}catch(s){try{await o.abort(s),r(s)}catch(a){r(a)}}}function IOe(...e){return vV(e,bOe($Oe(e)))}function vV(e,t,r){if(e.length===1&&cOe(e[0])&&(e=e[0]),e.length<2)throw new yOe("streams");const n=new AOe,o=n.signal,s=r==null?void 0:r.signal,a=[];EOe(s,"options.signal");function l(){w(new vOe)}MT=MT||Zn.addAbortListener;let f;s&&(f=MT(s,l));let u,d;const g=[];let h=0;function p(x){w(x,--h===0)}function w(x,S){var N;if(x&&(!u||u.code==="ERR_STREAM_PREMATURE_CLOSE")&&(u=x),!(!u&&!S)){for(;g.length;)g.shift()(u);(N=f)===null||N===void 0||N[pOe](),n.abort(),S&&(u||a.forEach($=>$()),Xb.nextTick(t,u,d))}}let y;for(let x=0;x<e.length;x++){const S=e[x],N=x<e.length-1,$=x>0,D=N||(r==null?void 0:r.end)!==!1,K=x===e.length-1;if(wV(S)){let q=function(k){k&&k.name!=="AbortError"&&k.code!=="ERR_STREAM_PREMATURE_CLOSE"&&p(k)};if(D){const{destroy:k,cleanup:V}=mV(S,N,$);g.push(k),CT(S)&&K&&a.push(V)}S.on("error",q),CT(S)&&K&&a.push(()=>{S.removeListener("error",q)})}if(x===0)if(typeof S=="function"){if(y=S({signal:o}),!Qf(y))throw new kT("Iterable, AsyncIterable or Stream","source",y)}else Qf(S)||Ym(S)||Ah(S)?y=S:y=yV.from(S);else if(typeof S=="function"){if(Ah(y)){var v;y=PT((v=y)===null||v===void 0?void 0:v.readable)}else y=PT(y);if(y=S(y,{signal:o}),N){if(!Qf(y,!0))throw new kT("AsyncIterable",`transform[${x-1}]`,y)}else{var E;LT||(LT=_V);const q=new LT({objectMode:!0}),k=(E=y)===null||E===void 0?void 0:E.then;if(typeof k=="function")h++,k.call(y,B=>{d=B,B!=null&&q.write(B),D&&q.end(),Xb.nextTick(p)},B=>{q.destroy(B),Xb.nextTick(p,B)});else if(Qf(y,!0))h++,Xm(y,q,p,{end:D});else if(OT(y)||Ah(y)){const B=y.readable||y;h++,Xm(B,q,p,{end:D})}else throw new kT("AsyncIterable or Promise","destination",y);y=q;const{destroy:V,cleanup:j}=mV(y,!1,!0);g.push(V),K&&a.push(j)}}else if(wV(S)){if(Ym(y)){h+=2;const q=NOe(y,S,p,{end:D});CT(S)&&K&&a.push(q)}else if(Ah(y)||OT(y)){const q=y.readable||y;h++,Xm(q,S,p,{end:D})}else if(Qf(y))h++,Xm(y,S,p,{end:D});else throw new NT("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],y);y=S}else if(ROe(S)){if(Ym(y))h++,FT(PT(y),S,p,{end:D});else if(OT(y)||Qf(y))h++,FT(y,S,p,{end:D});else if(Ah(y))h++,FT(y.readable,S,p,{end:D});else throw new NT("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],y);y=S}else y=yV.from(S)}return(o!=null&&o.aborted||s!=null&&s.aborted)&&Xb.nextTick(l),y}function NOe(e,t,r,{end:n}){let o=!1;if(t.on("close",()=>{o||r(new mOe)}),e.pipe(t,{end:!1}),n){let s=function(){o=!0,t.end()};xOe(e)?Xb.nextTick(s):e.once("end",s)}else r();return Jm(e,{readable:!0,writable:!1},s=>{const a=e._readableState;s&&s.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?e.once("end",r).once("error",r):r(s)}),Jm(t,{readable:!1,writable:!0},r)}var jT={pipelineImpl:vV,pipeline:IOe};const{pipeline:kOe}=jT,Qm=Da(),{destroyer:COe}=Rh,{isNodeStream:Zm,isReadable:SV,isWritable:EV,isWebStream:WT,isTransformStream:Zf,isWritableStream:RV,isReadableStream:xV}=La,{AbortError:OOe,codes:{ERR_INVALID_ARG_VALUE:AV,ERR_MISSING_ARGS:LOe}}=Ei,DOe=uu;var $V=function(...t){if(t.length===0)throw new LOe("streams");if(t.length===1)return Qm.from(t[0]);const r=[...t];if(typeof t[0]=="function"&&(t[0]=Qm.from(t[0])),typeof t[t.length-1]=="function"){const p=t.length-1;t[p]=Qm.from(t[p])}for(let p=0;p<t.length;++p)if(!(!Zm(t[p])&&!WT(t[p]))){if(p<t.length-1&&!(SV(t[p])||xV(t[p])||Zf(t[p])))throw new AV(`streams[${p}]`,r[p],"must be readable");if(p>0&&!(EV(t[p])||RV(t[p])||Zf(t[p])))throw new AV(`streams[${p}]`,r[p],"must be writable")}let n,o,s,a,l;function f(p){const w=a;a=null,w?w(p):p?l.destroy(p):!h&&!g&&l.destroy()}const u=t[0],d=kOe(t,f),g=!!(EV(u)||RV(u)||Zf(u)),h=!!(SV(d)||xV(d)||Zf(d));if(l=new Qm({writableObjectMode:!!(u!=null&&u.writableObjectMode),readableObjectMode:!!(d!=null&&d.readableObjectMode),writable:g,readable:h}),g){if(Zm(u))l._write=function(w,y,v){u.write(w,y)?v():n=v},l._final=function(w){u.end(),o=w},u.on("drain",function(){if(n){const w=n;n=null,w()}});else if(WT(u)){const y=(Zf(u)?u.writable:u).getWriter();l._write=async function(v,E,x){try{await y.ready,y.write(v).catch(()=>{}),x()}catch(S){x(S)}},l._final=async function(v){try{await y.ready,y.close().catch(()=>{}),o=v}catch(E){v(E)}}}const p=Zf(d)?d.readable:d;DOe(p,()=>{if(o){const w=o;o=null,w()}})}if(h){if(Zm(d))d.on("readable",function(){if(s){const p=s;s=null,p()}}),d.on("end",function(){l.push(null)}),l._read=function(){for(;;){const p=d.read();if(p===null){s=l._read;return}if(!l.push(p))return}};else if(WT(d)){const w=(Zf(d)?d.readable:d).getReader();l._read=async function(){for(;;)try{const{value:y,done:v}=await w.read();if(!l.push(y))return;if(v){l.push(null);return}}catch{return}}}}return l._destroy=function(p,w){!p&&a!==null&&(p=new OOe),s=null,n=null,o=null,a===null?w(p):(a=w,Zm(d)&&COe(d,p))},l};const MOe=globalThis.AbortController||bt().AbortController,{codes:{ERR_INVALID_ARG_VALUE:POe,ERR_INVALID_ARG_TYPE:Qb,ERR_MISSING_ARGS:FOe,ERR_OUT_OF_RANGE:jOe},AbortError:Ls}=Ei,{validateAbortSignal:ec,validateInteger:TV,validateObject:tc}=Jb,WOe=Ar.Symbol("kWeak"),BOe=Ar.Symbol("kResistStopPropagation"),{finished:UOe}=uu,qOe=$V,{addAbortSignalNoValidate:HOe}=Vm,{isWritable:VOe,isNodeStream:GOe}=La,{deprecate:zOe}=Zn,{ArrayPrototypePush:KOe,Boolean:JOe,MathFloor:IV,Number:YOe,NumberIsNaN:XOe,Promise:NV,PromiseReject:kV,PromiseResolve:QOe,PromisePrototypeThen:CV,Symbol:OV}=Ar,e0=OV("kEmpty"),LV=OV("kEof");function ZOe(e,t){if(t!=null&&tc(t,"options"),(t==null?void 0:t.signal)!=null&&ec(t.signal,"options.signal"),GOe(e)&&!VOe(e))throw new POe("stream",e,"must be writable");const r=qOe(this,e);return t!=null&&t.signal&&HOe(t.signal,r),r}function t0(e,t){if(typeof e!="function")throw new Qb("fn",["Function","AsyncFunction"],e);t!=null&&tc(t,"options"),(t==null?void 0:t.signal)!=null&&ec(t.signal,"options.signal");let r=1;(t==null?void 0:t.concurrency)!=null&&(r=IV(t.concurrency));let n=r-1;return(t==null?void 0:t.highWaterMark)!=null&&(n=IV(t.highWaterMark)),TV(r,"options.concurrency",1),TV(n,"options.highWaterMark",0),n+=r,(async function*(){const s=Zn.AbortSignalAny([t==null?void 0:t.signal].filter(JOe)),a=this,l=[],f={signal:s};let u,d,g=!1,h=0;function p(){g=!0,w()}function w(){h-=1,y()}function y(){d&&!g&&h<r&&l.length<n&&(d(),d=null)}async function v(){try{for await(let E of a){if(g)return;if(s.aborted)throw new Ls;try{if(E=e(E,f),E===e0)continue;E=QOe(E)}catch(x){E=kV(x)}h+=1,CV(E,w,p),l.push(E),u&&(u(),u=null),!g&&(l.length>=n||h>=r)&&await new NV(x=>{d=x})}l.push(LV)}catch(E){const x=kV(E);CV(x,w,p),l.push(x)}finally{g=!0,u&&(u(),u=null)}}v();try{for(;;){for(;l.length>0;){const E=await l[0];if(E===LV)return;if(s.aborted)throw new Ls;E!==e0&&(yield E),l.shift(),y()}await new NV(E=>{u=E})}}finally{g=!0,d&&(d(),d=null)}}).call(this)}function eLe(e=void 0){return e!=null&&tc(e,"options"),(e==null?void 0:e.signal)!=null&&ec(e.signal,"options.signal"),(async function*(){let r=0;for await(const o of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Ls({cause:e.signal.reason});yield[r++,o]}}).call(this)}async function DV(e,t=void 0){for await(const r of BT.call(this,e,t))return!0;return!1}async function tLe(e,t=void 0){if(typeof e!="function")throw new Qb("fn",["Function","AsyncFunction"],e);return!await DV.call(this,async(...r)=>!await e(...r),t)}async function rLe(e,t){for await(const r of BT.call(this,e,t))return r}async function nLe(e,t){if(typeof e!="function")throw new Qb("fn",["Function","AsyncFunction"],e);async function r(n,o){return await e(n,o),e0}for await(const n of t0.call(this,r,t));}function BT(e,t){if(typeof e!="function")throw new Qb("fn",["Function","AsyncFunction"],e);async function r(n,o){return await e(n,o)?n:e0}return t0.call(this,r,t)}let iLe=class extends FOe{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function oLe(e,t,r){var n;if(typeof e!="function")throw new Qb("reducer",["Function","AsyncFunction"],e);r!=null&&tc(r,"options"),(r==null?void 0:r.signal)!=null&&ec(r.signal,"options.signal");let o=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){const u=new Ls(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await UOe(this.destroy(u)),u}const s=new MOe,a=s.signal;if(r!=null&&r.signal){const u={once:!0,[WOe]:this,[BOe]:!0};r.signal.addEventListener("abort",()=>s.abort(),u)}let l=!1;try{for await(const u of this){var f;if(l=!0,r!=null&&(f=r.signal)!==null&&f!==void 0&&f.aborted)throw new Ls;o?t=await e(t,u,{signal:a}):(t=u,o=!0)}if(!l&&!o)throw new iLe}finally{s.abort()}return t}async function sLe(e){e!=null&&tc(e,"options"),(e==null?void 0:e.signal)!=null&&ec(e.signal,"options.signal");const t=[];for await(const n of this){var r;if(e!=null&&(r=e.signal)!==null&&r!==void 0&&r.aborted)throw new Ls(void 0,{cause:e.signal.reason});KOe(t,n)}return t}function aLe(e,t){const r=t0.call(this,e,t);return(async function*(){for await(const o of r)yield*o}).call(this)}function MV(e){if(e=YOe(e),XOe(e))return 0;if(e<0)throw new jOe("number",">= 0",e);return e}function lLe(e,t=void 0){return t!=null&&tc(t,"options"),(t==null?void 0:t.signal)!=null&&ec(t.signal,"options.signal"),e=MV(e),(async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Ls;for await(const s of this){var o;if(t!=null&&(o=t.signal)!==null&&o!==void 0&&o.aborted)throw new Ls;e--<=0&&(yield s)}}).call(this)}function uLe(e,t=void 0){return t!=null&&tc(t,"options"),(t==null?void 0:t.signal)!=null&&ec(t.signal,"options.signal"),e=MV(e),(async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Ls;for await(const s of this){var o;if(t!=null&&(o=t.signal)!==null&&o!==void 0&&o.aborted)throw new Ls;if(e-- >0&&(yield s),e<=0)return}}).call(this)}iT.streamReturningOperators={asIndexedPairs:zOe(eLe,"readable.asIndexedPairs will be removed in a future version."),drop:lLe,filter:BT,flatMap:aLe,map:t0,take:uLe,compose:ZOe},iT.promiseReturningOperators={every:tLe,forEach:nLe,reduce:oLe,toArray:sLe,some:DV,find:rLe};var UT,PV;function FV(){if(PV)return UT;PV=1;const{ArrayPrototypePop:e,Promise:t}=Ar,{isIterable:r,isNodeStream:n,isWebStream:o}=La,{pipelineImpl:s}=jT,{finished:a}=uu;WV();function l(...f){return new t((u,d)=>{let g,h;const p=f[f.length-1];if(p&&typeof p=="object"&&!n(p)&&!r(p)&&!o(p)){const w=e(f);g=w.signal,h=w.end}s(f,(w,y)=>{w?d(w):u(y)},{signal:g,end:h})})}return UT={finished:a,pipeline:l},UT}var jV;function WV(){if(jV)return nT.exports;jV=1;const{Buffer:e}=Ge,{ObjectDefineProperty:t,ObjectKeys:r,ReflectApply:n}=Ar,{promisify:{custom:o}}=Zn,{streamReturningOperators:s,promiseReturningOperators:a}=iT,{codes:{ERR_ILLEGAL_CONSTRUCTOR:l}}=Ei,f=$V,{setDefaultHighWaterMark:u,getDefaultHighWaterMark:d}=zm,{pipeline:g}=jT,{destroyer:h}=Rh,p=uu,w=FV(),y=La,v=nT.exports=mT.Stream;v.isDestroyed=y.isDestroyed,v.isDisturbed=y.isDisturbed,v.isErrored=y.isErrored,v.isReadable=y.isReadable,v.isWritable=y.isWritable,v.Readable=Km();for(const x of r(s)){let N=function(...$){if(new.target)throw l();return v.Readable.from(n(S,this,$))};const S=s[x];t(N,"name",{__proto__:null,value:S.name}),t(N,"length",{__proto__:null,value:S.length}),t(v.Readable.prototype,x,{__proto__:null,value:N,enumerable:!1,configurable:!0,writable:!0})}for(const x of r(a)){let N=function(...$){if(new.target)throw l();return n(S,this,$)};const S=a[x];t(N,"name",{__proto__:null,value:S.name}),t(N,"length",{__proto__:null,value:S.length}),t(v.Readable.prototype,x,{__proto__:null,value:N,enumerable:!1,configurable:!0,writable:!0})}v.Writable=RT(),v.Duplex=Da(),v.Transform=bV,v.PassThrough=_V,v.pipeline=g;const{addAbortSignal:E}=Vm;return v.addAbortSignal=E,v.finished=p,v.destroy=h,v.compose=f,v.setDefaultHighWaterMark=u,v.getDefaultHighWaterMark=d,t(v,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return w}}),t(g,o,{__proto__:null,enumerable:!0,get(){return w.pipeline}}),t(p,o,{__proto__:null,enumerable:!0,get(){return w.finished}}),v.Stream=v,v._isUint8Array=function(S){return S instanceof Uint8Array},v._uint8ArrayToBuffer=function(S){return e.from(S.buffer,S.byteOffset,S.byteLength)},nT.exports}(function(e){const t=WV(),r=FV(),n=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=n,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return r}}),e.exports.Stream=t.Stream,e.exports.default=e.exports})(u4);var fLe=u4.exports;class cLe{constructor(t,...r){this.load=l4(async()=>{const n=await t();return new n(...r)})}import(t,r){const n=new fLe.PassThrough({objectMode:!0});return Promise.resolve().then(async()=>{const s=(await this.load()).import(t,r);s.on("prefix",(a,l)=>{n.emit("prefix",a,l)}),s.on("error",a=>{n.emit("error",a),n.emit("end")}),s.pipe(n)}),n}}function Uo(e){return class extends cLe{constructor(...t){super(e,...t)}}}const dLe=new bw,hLe=new bw,Wi={parsers:dLe,serializers:hLe},pLe=Uo(async()=>(await Promise.resolve().then(()=>IQe)).default),Zb=Uo(async()=>(await Promise.resolve().then(()=>TRe)).default),bLe=Uo(async()=>(await Promise.resolve().then(()=>Ort)).default),r0=Uo(async()=>(await Promise.resolve().then(()=>est)).default),gLe=Uo(async()=>(await Promise.resolve().then(()=>put)).default);Wi.parsers.set("application/ld+json",new pLe),Wi.parsers.set("application/trig",new Zb),Wi.parsers.set("application/n-quads",new Zb),Wi.parsers.set("application/n-triples",new Zb),Wi.parsers.set("text/n3",new Zb),Wi.parsers.set("text/turtle",new Zb),Wi.parsers.set("application/rdf+xml",new bLe),Wi.serializers.set("application/ld+json",new gLe),Wi.serializers.set("application/n-quads",new r0),Wi.serializers.set("application/n-triples",new r0),Wi.serializers.set("text/n3",new r0),Wi.serializers.set("text/turtle",new r0);var qT={exports:{}},BV=$t.EventEmitter;const n0=zme(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var HT,UV;function _Le(){if(UV)return HT;UV=1;function e(w,y){var v=Object.keys(w);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(w);y&&(E=E.filter(function(x){return Object.getOwnPropertyDescriptor(w,x).enumerable})),v.push.apply(v,E)}return v}function t(w){for(var y=1;y<arguments.length;y++){var v=arguments[y]!=null?arguments[y]:{};y%2?e(Object(v),!0).forEach(function(E){r(w,E,v[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(v)):e(Object(v)).forEach(function(E){Object.defineProperty(w,E,Object.getOwnPropertyDescriptor(v,E))})}return w}function r(w,y,v){return y=a(y),y in w?Object.defineProperty(w,y,{value:v,enumerable:!0,configurable:!0,writable:!0}):w[y]=v,w}function n(w,y){if(!(w instanceof y))throw new TypeError("Cannot call a class as a function")}function o(w,y){for(var v=0;v<y.length;v++){var E=y[v];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,a(E.key),E)}}function s(w,y,v){return y&&o(w.prototype,y),v&&o(w,v),Object.defineProperty(w,"prototype",{writable:!1}),w}function a(w){var y=l(w,"string");return typeof y=="symbol"?y:String(y)}function l(w,y){if(typeof w!="object"||w===null)return w;var v=w[Symbol.toPrimitive];if(v!==void 0){var E=v.call(w,y||"default");if(typeof E!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(w)}var f=Ge,u=f.Buffer,d=n0,g=d.inspect,h=g&&g.custom||"inspect";function p(w,y,v){u.prototype.copy.call(w,y,v)}return HT=function(){function w(){n(this,w),this.head=null,this.tail=null,this.length=0}return s(w,[{key:"push",value:function(v){var E={data:v,next:null};this.length>0?this.tail.next=E:this.head=E,this.tail=E,++this.length}},{key:"unshift",value:function(v){var E={data:v,next:this.head};this.length===0&&(this.tail=E),this.head=E,++this.length}},{key:"shift",value:function(){if(this.length!==0){var v=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,v}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(v){if(this.length===0)return"";for(var E=this.head,x=""+E.data;E=E.next;)x+=v+E.data;return x}},{key:"concat",value:function(v){if(this.length===0)return u.alloc(0);for(var E=u.allocUnsafe(v>>>0),x=this.head,S=0;x;)p(x.data,E,S),S+=x.data.length,x=x.next;return E}},{key:"consume",value:function(v,E){var x;return v<this.head.data.length?(x=this.head.data.slice(0,v),this.head.data=this.head.data.slice(v)):v===this.head.data.length?x=this.shift():x=E?this._getString(v):this._getBuffer(v),x}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(v){var E=this.head,x=1,S=E.data;for(v-=S.length;E=E.next;){var N=E.data,$=v>N.length?N.length:v;if($===N.length?S+=N:S+=N.slice(0,v),v-=$,v===0){$===N.length?(++x,E.next?this.head=E.next:this.head=this.tail=null):(this.head=E,E.data=N.slice($));break}++x}return this.length-=x,S}},{key:"_getBuffer",value:function(v){var E=u.allocUnsafe(v),x=this.head,S=1;for(x.data.copy(E),v-=x.data.length;x=x.next;){var N=x.data,$=v>N.length?N.length:v;if(N.copy(E,E.length-v,0,$),v-=$,v===0){$===N.length?(++S,x.next?this.head=x.next:this.head=this.tail=null):(this.head=x,x.data=N.slice($));break}++S}return this.length-=S,E}},{key:h,value:function(v,E){return g(this,t(t({},E),{},{depth:0,customInspect:!1}))}}]),w}(),HT}function yLe(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return n||o?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Ot.nextTick(VT,this,e)):Ot.nextTick(VT,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(s){!t&&s?r._writableState?r._writableState.errorEmitted?Ot.nextTick(i0,r):(r._writableState.errorEmitted=!0,Ot.nextTick(qV,r,s)):Ot.nextTick(qV,r,s):t?(Ot.nextTick(i0,r),t(s)):Ot.nextTick(i0,r)}),this)}function qV(e,t){VT(e,t),i0(e)}function i0(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function wLe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function VT(e,t){e.emit("error",t)}function mLe(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}var HV={destroy:yLe,undestroy:wLe,errorOrDestroy:mLe},rc={};function vLe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var VV={};function uo(e,t,r){r||(r=Error);function n(s,a,l){return typeof t=="string"?t:t(s,a,l)}var o=function(s){vLe(a,s);function a(l,f,u){return s.call(this,n(l,f,u))||this}return a}(r);o.prototype.name=r.name,o.prototype.code=e,VV[e]=o}function GV(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map(function(n){return String(n)}),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:r===2?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}else return"of ".concat(t," ").concat(String(e))}function SLe(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function ELe(e,t,r){return(r===void 0||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function RLe(e,t,r){return typeof r!="number"&&(r=0),r+t.length>e.length?!1:e.indexOf(t,r)!==-1}uo("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),uo("ERR_INVALID_ARG_TYPE",function(e,t,r){var n;typeof t=="string"&&SLe(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be";var o;if(ELe(e," argument"))o="The ".concat(e," ").concat(n," ").concat(GV(t,"type"));else{var s=RLe(e,".")?"property":"argument";o='The "'.concat(e,'" ').concat(s," ").concat(n," ").concat(GV(t,"type"))}return o+=". Received type ".concat(typeof r),o},TypeError),uo("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),uo("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),uo("ERR_STREAM_PREMATURE_CLOSE","Premature close"),uo("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),uo("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),uo("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),uo("ERR_STREAM_WRITE_AFTER_END","write after end"),uo("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),uo("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),uo("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),rc.codes=VV;var xLe=rc.codes.ERR_INVALID_OPT_VALUE;function ALe(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function $Le(e,t,r,n){var o=ALe(t,n,r);if(o!=null){if(!(isFinite(o)&&Math.floor(o)===o)||o<0){var s=n?r:"highWaterMark";throw new xLe(s,o)}return Math.floor(o)}return e.objectMode?16:16*1024}var zV={getHighWaterMark:$Le},GT={exports:{}};typeof Object.create=="function"?GT.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:GT.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}};var eg=GT.exports,TLe=ILe;function ILe(e,t){if(zT("noDeprecation"))return e;var r=!1;function n(){if(!r){if(zT("throwDeprecation"))throw new Error(t);zT("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}return n}function zT(e){try{if(!window.localStorage)return!1}catch{return!1}var t=window.localStorage[e];return t==null?!1:String(t).toLowerCase()==="true"}var KT,KV;function JV(){if(KV)return KT;KV=1,KT=q;function e(he){var le=this;this.next=null,this.entry=null,this.finish=function(){xe(le,he)}}var t;q.WritableState=D;var r={deprecate:TLe},n=BV,o=Ge.Buffer,s=(typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a(he){return o.from(he)}function l(he){return o.isBuffer(he)||he instanceof s}var f=HV,u=zV,d=u.getHighWaterMark,g=rc.codes,h=g.ERR_INVALID_ARG_TYPE,p=g.ERR_METHOD_NOT_IMPLEMENTED,w=g.ERR_MULTIPLE_CALLBACK,y=g.ERR_STREAM_CANNOT_PIPE,v=g.ERR_STREAM_DESTROYED,E=g.ERR_STREAM_NULL_VALUES,x=g.ERR_STREAM_WRITE_AFTER_END,S=g.ERR_UNKNOWN_ENCODING,N=f.errorOrDestroy;eg(q,n);function $(){}function D(he,le,_e){t=t||$h(),he=he||{},typeof _e!="boolean"&&(_e=le instanceof t),this.objectMode=!!he.objectMode,_e&&(this.objectMode=this.objectMode||!!he.writableObjectMode),this.highWaterMark=d(this,he,"writableHighWaterMark",_e),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Ae=he.decodeStrings===!1;this.decodeStrings=!Ae,this.defaultEncoding=he.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(We){H(le,We)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=he.emitClose!==!1,this.autoDestroy=!!he.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}D.prototype.getBuffer=function(){for(var le=this.bufferedRequest,_e=[];le;)_e.push(le),le=le.next;return _e},function(){try{Object.defineProperty(D.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var K;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(K=Function.prototype[Symbol.hasInstance],Object.defineProperty(q,Symbol.hasInstance,{value:function(le){return K.call(this,le)?!0:this!==q?!1:le&&le._writableState instanceof D}})):K=function(le){return le instanceof this};function q(he){t=t||$h();var le=this instanceof t;if(!le&&!K.call(q,this))return new q(he);this._writableState=new D(he,this,le),this.writable=!0,he&&(typeof he.write=="function"&&(this._write=he.write),typeof he.writev=="function"&&(this._writev=he.writev),typeof he.destroy=="function"&&(this._destroy=he.destroy),typeof he.final=="function"&&(this._final=he.final)),n.call(this)}q.prototype.pipe=function(){N(this,new y)};function k(he,le){var _e=new x;N(he,_e),Ot.nextTick(le,_e)}function V(he,le,_e,Ae){var We;return _e===null?We=new E:typeof _e!="string"&&!le.objectMode&&(We=new h("chunk",["string","Buffer"],_e)),We?(N(he,We),Ot.nextTick(Ae,We),!1):!0}q.prototype.write=function(he,le,_e){var Ae=this._writableState,We=!1,ie=!Ae.objectMode&&l(he);return ie&&!o.isBuffer(he)&&(he=a(he)),typeof le=="function"&&(_e=le,le=null),ie?le="buffer":le||(le=Ae.defaultEncoding),typeof _e!="function"&&(_e=$),Ae.ending?k(this,_e):(ie||V(this,Ae,he,_e))&&(Ae.pendingcb++,We=B(this,Ae,ie,he,le,_e)),We},q.prototype.cork=function(){this._writableState.corked++},q.prototype.uncork=function(){var he=this._writableState;he.corked&&(he.corked--,!he.writing&&!he.corked&&!he.bufferProcessing&&he.bufferedRequest&&se(this,he))},q.prototype.setDefaultEncoding=function(le){if(typeof le=="string"&&(le=le.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((le+"").toLowerCase())>-1))throw new S(le);return this._writableState.defaultEncoding=le,this},Object.defineProperty(q.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function j(he,le,_e){return!he.objectMode&&he.decodeStrings!==!1&&typeof le=="string"&&(le=o.from(le,_e)),le}Object.defineProperty(q.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function B(he,le,_e,Ae,We,ie){if(!_e){var te=j(le,Ae,We);Ae!==te&&(_e=!0,We="buffer",Ae=te)}var _=le.objectMode?1:Ae.length;le.length+=_;var m=le.length<le.highWaterMark;if(m||(le.needDrain=!0),le.writing||le.corked){var R=le.lastBufferedRequest;le.lastBufferedRequest={chunk:Ae,encoding:We,isBuf:_e,callback:ie,next:null},R?R.next=le.lastBufferedRequest:le.bufferedRequest=le.lastBufferedRequest,le.bufferedRequestCount+=1}else A(he,le,!1,_,Ae,We,ie);return m}function A(he,le,_e,Ae,We,ie,te){le.writelen=Ae,le.writecb=te,le.writing=!0,le.sync=!0,le.destroyed?le.onwrite(new v("write")):_e?he._writev(We,le.onwrite):he._write(We,ie,le.onwrite),le.sync=!1}function U(he,le,_e,Ae,We){--le.pendingcb,_e?(Ot.nextTick(We,Ae),Ot.nextTick(W,he,le),he._writableState.errorEmitted=!0,N(he,Ae)):(We(Ae),he._writableState.errorEmitted=!0,N(he,Ae),W(he,le))}function G(he){he.writing=!1,he.writecb=null,he.length-=he.writelen,he.writelen=0}function H(he,le){var _e=he._writableState,Ae=_e.sync,We=_e.writecb;if(typeof We!="function")throw new w;if(G(_e),le)U(he,_e,Ae,le,We);else{var ie=ae(_e)||he.destroyed;!ie&&!_e.corked&&!_e.bufferProcessing&&_e.bufferedRequest&&se(he,_e),Ae?Ot.nextTick(Q,he,_e,ie,We):Q(he,_e,ie,We)}}function Q(he,le,_e,Ae){_e||ne(he,le),le.pendingcb--,Ae(),W(he,le)}function ne(he,le){le.length===0&&le.needDrain&&(le.needDrain=!1,he.emit("drain"))}function se(he,le){le.bufferProcessing=!0;var _e=le.bufferedRequest;if(he._writev&&_e&&_e.next){var Ae=le.bufferedRequestCount,We=new Array(Ae),ie=le.corkedRequestsFree;ie.entry=_e;for(var te=0,_=!0;_e;)We[te]=_e,_e.isBuf||(_=!1),_e=_e.next,te+=1;We.allBuffers=_,A(he,le,!0,le.length,We,"",ie.finish),le.pendingcb++,le.lastBufferedRequest=null,ie.next?(le.corkedRequestsFree=ie.next,ie.next=null):le.corkedRequestsFree=new e(le),le.bufferedRequestCount=0}else{for(;_e;){var m=_e.chunk,R=_e.encoding,O=_e.callback,C=le.objectMode?1:m.length;if(A(he,le,!1,C,m,R,O),_e=_e.next,le.bufferedRequestCount--,le.writing)break}_e===null&&(le.lastBufferedRequest=null)}le.bufferedRequest=_e,le.bufferProcessing=!1}q.prototype._write=function(he,le,_e){_e(new p("_write()"))},q.prototype._writev=null,q.prototype.end=function(he,le,_e){var Ae=this._writableState;return typeof he=="function"?(_e=he,he=null,le=null):typeof le=="function"&&(_e=le,le=null),he!=null&&this.write(he,le),Ae.corked&&(Ae.corked=1,this.uncork()),Ae.ending||ue(this,Ae,_e),this},Object.defineProperty(q.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ae(he){return he.ending&&he.length===0&&he.bufferedRequest===null&&!he.finished&&!he.writing}function Z(he,le){he._final(function(_e){le.pendingcb--,_e&&N(he,_e),le.prefinished=!0,he.emit("prefinish"),W(he,le)})}function ge(he,le){!le.prefinished&&!le.finalCalled&&(typeof he._final=="function"&&!le.destroyed?(le.pendingcb++,le.finalCalled=!0,Ot.nextTick(Z,he,le)):(le.prefinished=!0,he.emit("prefinish")))}function W(he,le){var _e=ae(le);if(_e&&(ge(he,le),le.pendingcb===0&&(le.finished=!0,he.emit("finish"),le.autoDestroy))){var Ae=he._readableState;(!Ae||Ae.autoDestroy&&Ae.endEmitted)&&he.destroy()}return _e}function ue(he,le,_e){le.ending=!0,W(he,le),_e&&(le.finished?Ot.nextTick(_e):he.once("finish",_e)),le.ended=!0,he.writable=!1}function xe(he,le,_e){var Ae=he.entry;for(he.entry=null;Ae;){var We=Ae.callback;le.pendingcb--,We(_e),Ae=Ae.next}le.corkedRequestsFree.next=he}return Object.defineProperty(q.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(le){this._writableState&&(this._writableState.destroyed=le)}}),q.prototype.destroy=f.destroy,q.prototype._undestroy=f.undestroy,q.prototype._destroy=function(he,le){le(he)},KT}var JT,YV;function $h(){if(YV)return JT;YV=1;var e=Object.keys||function(u){var d=[];for(var g in u)d.push(g);return d};JT=a;var t=rG(),r=JV();eg(a,t);for(var n=e(r.prototype),o=0;o<n.length;o++){var s=n[o];a.prototype[s]||(a.prototype[s]=r.prototype[s])}function a(u){if(!(this instanceof a))return new a(u);t.call(this,u),r.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(){this._writableState.ended||Ot.nextTick(f,this)}function f(u){u.end()}return Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(d){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=d,this._writableState.destroyed=d)}}),JT}var XV=rc.codes.ERR_STREAM_PREMATURE_CLOSE;function NLe(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];e.apply(this,n)}}}function kLe(){}function CLe(e){return e.setHeader&&typeof e.abort=="function"}function QV(e,t,r){if(typeof t=="function")return QV(e,null,t);t||(t={}),r=NLe(r||kLe);var n=t.readable||t.readable!==!1&&e.readable,o=t.writable||t.writable!==!1&&e.writable,s=function(){e.writable||l()},a=e._writableState&&e._writableState.finished,l=function(){o=!1,a=!0,n||r.call(e)},f=e._readableState&&e._readableState.endEmitted,u=function(){n=!1,f=!0,o||r.call(e)},d=function(w){r.call(e,w)},g=function(){var w;if(n&&!f)return(!e._readableState||!e._readableState.ended)&&(w=new XV),r.call(e,w);if(o&&!a)return(!e._writableState||!e._writableState.ended)&&(w=new XV),r.call(e,w)},h=function(){e.req.on("finish",l)};return CLe(e)?(e.on("complete",l),e.on("abort",g),e.req?h():e.on("request",h)):o&&!e._writableState&&(e.on("end",s),e.on("close",s)),e.on("end",u),e.on("finish",l),t.error!==!1&&e.on("error",d),e.on("close",g),function(){e.removeListener("complete",l),e.removeListener("abort",g),e.removeListener("request",h),e.req&&e.req.removeListener("finish",l),e.removeListener("end",s),e.removeListener("close",s),e.removeListener("finish",l),e.removeListener("end",u),e.removeListener("error",d),e.removeListener("close",g)}}var YT=QV,XT,ZV;function OLe(){if(ZV)return XT;ZV=1;var e;function t(S,N,$){return N=r(N),N in S?Object.defineProperty(S,N,{value:$,enumerable:!0,configurable:!0,writable:!0}):S[N]=$,S}function r(S){var N=n(S,"string");return typeof N=="symbol"?N:String(N)}function n(S,N){if(typeof S!="object"||S===null)return S;var $=S[Symbol.toPrimitive];if($!==void 0){var D=$.call(S,N||"default");if(typeof D!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(N==="string"?String:Number)(S)}var o=YT,s=Symbol("lastResolve"),a=Symbol("lastReject"),l=Symbol("error"),f=Symbol("ended"),u=Symbol("lastPromise"),d=Symbol("handlePromise"),g=Symbol("stream");function h(S,N){return{value:S,done:N}}function p(S){var N=S[s];if(N!==null){var $=S[g].read();$!==null&&(S[u]=null,S[s]=null,S[a]=null,N(h($,!1)))}}function w(S){Ot.nextTick(p,S)}function y(S,N){return function($,D){S.then(function(){if(N[f]){$(h(void 0,!0));return}N[d]($,D)},D)}}var v=Object.getPrototypeOf(function(){}),E=Object.setPrototypeOf((e={get stream(){return this[g]},next:function(){var N=this,$=this[l];if($!==null)return Promise.reject($);if(this[f])return Promise.resolve(h(void 0,!0));if(this[g].destroyed)return new Promise(function(k,V){Ot.nextTick(function(){N[l]?V(N[l]):k(h(void 0,!0))})});var D=this[u],K;if(D)K=new Promise(y(D,this));else{var q=this[g].read();if(q!==null)return Promise.resolve(h(q,!1));K=new Promise(this[d])}return this[u]=K,K}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var N=this;return new Promise(function($,D){N[g].destroy(null,function(K){if(K){D(K);return}$(h(void 0,!0))})})}),e),v),x=function(N){var $,D=Object.create(E,($={},t($,g,{value:N,writable:!0}),t($,s,{value:null,writable:!0}),t($,a,{value:null,writable:!0}),t($,l,{value:null,writable:!0}),t($,f,{value:N._readableState.endEmitted,writable:!0}),t($,d,{value:function(q,k){var V=D[g].read();V?(D[u]=null,D[s]=null,D[a]=null,q(h(V,!1))):(D[s]=q,D[a]=k)},writable:!0}),$));return D[u]=null,o(N,function(K){if(K&&K.code!=="ERR_STREAM_PREMATURE_CLOSE"){var q=D[a];q!==null&&(D[u]=null,D[s]=null,D[a]=null,q(K)),D[l]=K;return}var k=D[s];k!==null&&(D[u]=null,D[s]=null,D[a]=null,k(h(void 0,!0))),D[f]=!0}),N.on("readable",w.bind(null,D)),D};return XT=x,XT}var QT,eG;function LLe(){return eG||(eG=1,QT=function(){throw new Error("Readable.from is not available in the browser")}),QT}var ZT,tG;function rG(){if(tG)return ZT;tG=1,ZT=k;var e;k.ReadableState=q,$t.EventEmitter;var t=function(te,_){return te.listeners(_).length},r=BV,n=Ge.Buffer,o=(typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(ie){return n.from(ie)}function a(ie){return n.isBuffer(ie)||ie instanceof o}var l=n0,f;l&&l.debuglog?f=l.debuglog("stream"):f=function(){};var u=_Le(),d=HV,g=zV,h=g.getHighWaterMark,p=rc.codes,w=p.ERR_INVALID_ARG_TYPE,y=p.ERR_STREAM_PUSH_AFTER_EOF,v=p.ERR_METHOD_NOT_IMPLEMENTED,E=p.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,x,S,N;eg(k,r);var $=d.errorOrDestroy,D=["error","close","destroy","pause","resume"];function K(ie,te,_){if(typeof ie.prependListener=="function")return ie.prependListener(te,_);!ie._events||!ie._events[te]?ie.on(te,_):Array.isArray(ie._events[te])?ie._events[te].unshift(_):ie._events[te]=[_,ie._events[te]]}function q(ie,te,_){e=e||$h(),ie=ie||{},typeof _!="boolean"&&(_=te instanceof e),this.objectMode=!!ie.objectMode,_&&(this.objectMode=this.objectMode||!!ie.readableObjectMode),this.highWaterMark=h(this,ie,"readableHighWaterMark",_),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=ie.emitClose!==!1,this.autoDestroy=!!ie.autoDestroy,this.destroyed=!1,this.defaultEncoding=ie.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ie.encoding&&(x||(x=Fi().StringDecoder),this.decoder=new x(ie.encoding),this.encoding=ie.encoding)}function k(ie){if(e=e||$h(),!(this instanceof k))return new k(ie);var te=this instanceof e;this._readableState=new q(ie,this,te),this.readable=!0,ie&&(typeof ie.read=="function"&&(this._read=ie.read),typeof ie.destroy=="function"&&(this._destroy=ie.destroy)),r.call(this)}Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(te){this._readableState&&(this._readableState.destroyed=te)}}),k.prototype.destroy=d.destroy,k.prototype._undestroy=d.undestroy,k.prototype._destroy=function(ie,te){te(ie)},k.prototype.push=function(ie,te){var _=this._readableState,m;return _.objectMode?m=!0:typeof ie=="string"&&(te=te||_.defaultEncoding,te!==_.encoding&&(ie=n.from(ie,te),te=""),m=!0),V(this,ie,te,!1,m)},k.prototype.unshift=function(ie){return V(this,ie,null,!0,!1)};function V(ie,te,_,m,R){f("readableAddChunk",te);var O=ie._readableState;if(te===null)O.reading=!1,H(ie,O);else{var C;if(R||(C=B(O,te)),C)$(ie,C);else if(O.objectMode||te&&te.length>0)if(typeof te!="string"&&!O.objectMode&&Object.getPrototypeOf(te)!==n.prototype&&(te=s(te)),m)O.endEmitted?$(ie,new E):j(ie,O,te,!0);else if(O.ended)$(ie,new y);else{if(O.destroyed)return!1;O.reading=!1,O.decoder&&!_?(te=O.decoder.write(te),O.objectMode||te.length!==0?j(ie,O,te,!1):se(ie,O)):j(ie,O,te,!1)}else m||(O.reading=!1,se(ie,O))}return!O.ended&&(O.length<O.highWaterMark||O.length===0)}function j(ie,te,_,m){te.flowing&&te.length===0&&!te.sync?(te.awaitDrain=0,ie.emit("data",_)):(te.length+=te.objectMode?1:_.length,m?te.buffer.unshift(_):te.buffer.push(_),te.needReadable&&Q(ie)),se(ie,te)}function B(ie,te){var _;return!a(te)&&typeof te!="string"&&te!==void 0&&!ie.objectMode&&(_=new w("chunk",["string","Buffer","Uint8Array"],te)),_}k.prototype.isPaused=function(){return this._readableState.flowing===!1},k.prototype.setEncoding=function(ie){x||(x=Fi().StringDecoder);var te=new x(ie);this._readableState.decoder=te,this._readableState.encoding=this._readableState.decoder.encoding;for(var _=this._readableState.buffer.head,m="";_!==null;)m+=te.write(_.data),_=_.next;return this._readableState.buffer.clear(),m!==""&&this._readableState.buffer.push(m),this._readableState.length=m.length,this};var A=1073741824;function U(ie){return ie>=A?ie=A:(ie--,ie|=ie>>>1,ie|=ie>>>2,ie|=ie>>>4,ie|=ie>>>8,ie|=ie>>>16,ie++),ie}function G(ie,te){return ie<=0||te.length===0&&te.ended?0:te.objectMode?1:ie!==ie?te.flowing&&te.length?te.buffer.head.data.length:te.length:(ie>te.highWaterMark&&(te.highWaterMark=U(ie)),ie<=te.length?ie:te.ended?te.length:(te.needReadable=!0,0))}k.prototype.read=function(ie){f("read",ie),ie=parseInt(ie,10);var te=this._readableState,_=ie;if(ie!==0&&(te.emittedReadable=!1),ie===0&&te.needReadable&&((te.highWaterMark!==0?te.length>=te.highWaterMark:te.length>0)||te.ended))return f("read: emitReadable",te.length,te.ended),te.length===0&&te.ended?_e(this):Q(this),null;if(ie=G(ie,te),ie===0&&te.ended)return te.length===0&&_e(this),null;var m=te.needReadable;f("need readable",m),(te.length===0||te.length-ie<te.highWaterMark)&&(m=!0,f("length less than watermark",m)),te.ended||te.reading?(m=!1,f("reading or ended",m)):m&&(f("do read"),te.reading=!0,te.sync=!0,te.length===0&&(te.needReadable=!0),this._read(te.highWaterMark),te.sync=!1,te.reading||(ie=G(_,te)));var R;return ie>0?R=le(ie,te):R=null,R===null?(te.needReadable=te.length<=te.highWaterMark,ie=0):(te.length-=ie,te.awaitDrain=0),te.length===0&&(te.ended||(te.needReadable=!0),_!==ie&&te.ended&&_e(this)),R!==null&&this.emit("data",R),R};function H(ie,te){if(f("onEofChunk"),!te.ended){if(te.decoder){var _=te.decoder.end();_&&_.length&&(te.buffer.push(_),te.length+=te.objectMode?1:_.length)}te.ended=!0,te.sync?Q(ie):(te.needReadable=!1,te.emittedReadable||(te.emittedReadable=!0,ne(ie)))}}function Q(ie){var te=ie._readableState;f("emitReadable",te.needReadable,te.emittedReadable),te.needReadable=!1,te.emittedReadable||(f("emitReadable",te.flowing),te.emittedReadable=!0,Ot.nextTick(ne,ie))}function ne(ie){var te=ie._readableState;f("emitReadable_",te.destroyed,te.length,te.ended),!te.destroyed&&(te.length||te.ended)&&(ie.emit("readable"),te.emittedReadable=!1),te.needReadable=!te.flowing&&!te.ended&&te.length<=te.highWaterMark,he(ie)}function se(ie,te){te.readingMore||(te.readingMore=!0,Ot.nextTick(ae,ie,te))}function ae(ie,te){for(;!te.reading&&!te.ended&&(te.length<te.highWaterMark||te.flowing&&te.length===0);){var _=te.length;if(f("maybeReadMore read 0"),ie.read(0),_===te.length)break}te.readingMore=!1}k.prototype._read=function(ie){$(this,new v("_read()"))},k.prototype.pipe=function(ie,te){var _=this,m=this._readableState;switch(m.pipesCount){case 0:m.pipes=ie;break;case 1:m.pipes=[m.pipes,ie];break;default:m.pipes.push(ie);break}m.pipesCount+=1,f("pipe count=%d opts=%j",m.pipesCount,te);var R=(!te||te.end!==!1)&&ie!==Ot.stdout&&ie!==Ot.stderr,O=R?X:Ue;m.endEmitted?Ot.nextTick(O):_.once("end",O),ie.on("unpipe",C);function C(z,L){f("onunpipe"),z===_&&L&&L.hasUnpiped===!1&&(L.hasUnpiped=!0,ye())}function X(){f("onend"),ie.end()}var re=Z(_);ie.on("drain",re);var J=!1;function ye(){f("cleanup"),ie.removeListener("close",Ce),ie.removeListener("finish",Me),ie.removeListener("drain",re),ie.removeListener("error",we),ie.removeListener("unpipe",C),_.removeListener("end",X),_.removeListener("end",Ue),_.removeListener("data",F),J=!0,m.awaitDrain&&(!ie._writableState||ie._writableState.needDrain)&&re()}_.on("data",F);function F(z){f("ondata");var L=ie.write(z);f("dest.write",L),L===!1&&((m.pipesCount===1&&m.pipes===ie||m.pipesCount>1&&We(m.pipes,ie)!==-1)&&!J&&(f("false write response, pause",m.awaitDrain),m.awaitDrain++),_.pause())}function we(z){f("onerror",z),Ue(),ie.removeListener("error",we),t(ie,"error")===0&&$(ie,z)}K(ie,"error",we);function Ce(){ie.removeListener("finish",Me),Ue()}ie.once("close",Ce);function Me(){f("onfinish"),ie.removeListener("close",Ce),Ue()}ie.once("finish",Me);function Ue(){f("unpipe"),_.unpipe(ie)}return ie.emit("pipe",_),m.flowing||(f("pipe resume"),_.resume()),ie};function Z(ie){return function(){var _=ie._readableState;f("pipeOnDrain",_.awaitDrain),_.awaitDrain&&_.awaitDrain--,_.awaitDrain===0&&t(ie,"data")&&(_.flowing=!0,he(ie))}}k.prototype.unpipe=function(ie){var te=this._readableState,_={hasUnpiped:!1};if(te.pipesCount===0)return this;if(te.pipesCount===1)return ie&&ie!==te.pipes?this:(ie||(ie=te.pipes),te.pipes=null,te.pipesCount=0,te.flowing=!1,ie&&ie.emit("unpipe",this,_),this);if(!ie){var m=te.pipes,R=te.pipesCount;te.pipes=null,te.pipesCount=0,te.flowing=!1;for(var O=0;O<R;O++)m[O].emit("unpipe",this,{hasUnpiped:!1});return this}var C=We(te.pipes,ie);return C===-1?this:(te.pipes.splice(C,1),te.pipesCount-=1,te.pipesCount===1&&(te.pipes=te.pipes[0]),ie.emit("unpipe",this,_),this)},k.prototype.on=function(ie,te){var _=r.prototype.on.call(this,ie,te),m=this._readableState;return ie==="data"?(m.readableListening=this.listenerCount("readable")>0,m.flowing!==!1&&this.resume()):ie==="readable"&&!m.endEmitted&&!m.readableListening&&(m.readableListening=m.needReadable=!0,m.flowing=!1,m.emittedReadable=!1,f("on readable",m.length,m.reading),m.length?Q(this):m.reading||Ot.nextTick(W,this)),_},k.prototype.addListener=k.prototype.on,k.prototype.removeListener=function(ie,te){var _=r.prototype.removeListener.call(this,ie,te);return ie==="readable"&&Ot.nextTick(ge,this),_},k.prototype.removeAllListeners=function(ie){var te=r.prototype.removeAllListeners.apply(this,arguments);return(ie==="readable"||ie===void 0)&&Ot.nextTick(ge,this),te};function ge(ie){var te=ie._readableState;te.readableListening=ie.listenerCount("readable")>0,te.resumeScheduled&&!te.paused?te.flowing=!0:ie.listenerCount("data")>0&&ie.resume()}function W(ie){f("readable nexttick read 0"),ie.read(0)}k.prototype.resume=function(){var ie=this._readableState;return ie.flowing||(f("resume"),ie.flowing=!ie.readableListening,ue(this,ie)),ie.paused=!1,this};function ue(ie,te){te.resumeScheduled||(te.resumeScheduled=!0,Ot.nextTick(xe,ie,te))}function xe(ie,te){f("resume",te.reading),te.reading||ie.read(0),te.resumeScheduled=!1,ie.emit("resume"),he(ie),te.flowing&&!te.reading&&ie.read(0)}k.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function he(ie){var te=ie._readableState;for(f("flow",te.flowing);te.flowing&&ie.read()!==null;);}k.prototype.wrap=function(ie){var te=this,_=this._readableState,m=!1;ie.on("end",function(){if(f("wrapped end"),_.decoder&&!_.ended){var C=_.decoder.end();C&&C.length&&te.push(C)}te.push(null)}),ie.on("data",function(C){if(f("wrapped data"),_.decoder&&(C=_.decoder.write(C)),!(_.objectMode&&C==null)&&!(!_.objectMode&&(!C||!C.length))){var X=te.push(C);X||(m=!0,ie.pause())}});for(var R in ie)this[R]===void 0&&typeof ie[R]=="function"&&(this[R]=function(X){return function(){return ie[X].apply(ie,arguments)}}(R));for(var O=0;O<D.length;O++)ie.on(D[O],this.emit.bind(this,D[O]));return this._read=function(C){f("wrapped _read",C),m&&(m=!1,ie.resume())},this},typeof Symbol=="function"&&(k.prototype[Symbol.asyncIterator]=function(){return S===void 0&&(S=OLe()),S(this)}),Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(k.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(k.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(te){this._readableState&&(this._readableState.flowing=te)}}),k._fromList=le,Object.defineProperty(k.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function le(ie,te){if(te.length===0)return null;var _;return te.objectMode?_=te.buffer.shift():!ie||ie>=te.length?(te.decoder?_=te.buffer.join(""):te.buffer.length===1?_=te.buffer.first():_=te.buffer.concat(te.length),te.buffer.clear()):_=te.buffer.consume(ie,te.decoder),_}function _e(ie){var te=ie._readableState;f("endReadable",te.endEmitted),te.endEmitted||(te.ended=!0,Ot.nextTick(Ae,te,ie))}function Ae(ie,te){if(f("endReadableNT",ie.endEmitted,ie.length),!ie.endEmitted&&ie.length===0&&(ie.endEmitted=!0,te.readable=!1,te.emit("end"),ie.autoDestroy)){var _=te._writableState;(!_||_.autoDestroy&&_.finished)&&te.destroy()}}typeof Symbol=="function"&&(k.from=function(ie,te){return N===void 0&&(N=LLe()),N(k,ie,te)});function We(ie,te){for(var _=0,m=ie.length;_<m;_++)if(ie[_]===te)return _;return-1}return ZT}var nG=Pa,o0=rc.codes,DLe=o0.ERR_METHOD_NOT_IMPLEMENTED,MLe=o0.ERR_MULTIPLE_CALLBACK,PLe=o0.ERR_TRANSFORM_ALREADY_TRANSFORMING,FLe=o0.ERR_TRANSFORM_WITH_LENGTH_0,s0=$h();eg(Pa,s0);function jLe(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new MLe);r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function Pa(e){if(!(this instanceof Pa))return new Pa(e);s0.call(this,e),this._transformState={afterTransform:jLe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",WLe)}function WLe(){var e=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,r){iG(e,t,r)}):iG(this,null,null)}Pa.prototype.push=function(e,t){return this._transformState.needTransform=!1,s0.prototype.push.call(this,e,t)},Pa.prototype._transform=function(e,t,r){r(new DLe("_transform()"))},Pa.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var o=this._readableState;(n.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},Pa.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},Pa.prototype._destroy=function(e,t){s0.prototype._destroy.call(this,e,function(r){t(r)})};function iG(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new FLe;if(e._transformState.transforming)throw new PLe;return e.push(null)}var BLe=tg,oG=nG;eg(tg,oG);function tg(e){if(!(this instanceof tg))return new tg(e);oG.call(this,e)}tg.prototype._transform=function(e,t,r){r(null,e)};var eI;function ULe(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var sG=rc.codes,qLe=sG.ERR_MISSING_ARGS,HLe=sG.ERR_STREAM_DESTROYED;function aG(e){if(e)throw e}function VLe(e){return e.setHeader&&typeof e.abort=="function"}function GLe(e,t,r,n){n=ULe(n);var o=!1;e.on("close",function(){o=!0}),eI===void 0&&(eI=YT),eI(e,{readable:t,writable:r},function(a){if(a)return n(a);o=!0,n()});var s=!1;return function(a){if(!o&&!s){if(s=!0,VLe(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();n(a||new HLe("pipe"))}}}function lG(e){e()}function zLe(e,t){return e.pipe(t)}function KLe(e){return!e.length||typeof e[e.length-1]!="function"?aG:e.pop()}function JLe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=KLe(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new qLe("streams");var o,s=t.map(function(a,l){var f=l<t.length-1,u=l>0;return GLe(a,f,u,function(d){o||(o=d),d&&s.forEach(lG),!f&&(s.forEach(lG),n(o))})});return t.reduce(zLe)}var YLe=JLe;(function(e,t){t=e.exports=rG(),t.Stream=t,t.Readable=t,t.Writable=JV(),t.Duplex=$h(),t.Transform=nG,t.PassThrough=BLe,t.finished=YT,t.pipeline=YLe})(qT,qT.exports);var rg=qT.exports;const XLe=zr(rg);var uG={exports:{}};const QLe=n0,ZLe=/([\x00-\x20<>"{}|^`\\]|%(?![0-9A-F][0-9A-F]))/g,eDe=(e,t)=>{let r=t.codePointAt(0).toString(16)+"";return r.length>4?"\\U"+r.padStart(8,"0"):"\\u"+r.padStart(4,"0")},a0=e=>e.replace(ZLe,eDe),tI=/^(?:[\u0000-@[-`{-\u00bf\u00d7\u00f7\u0300-\u306f\u037e\u2000-\u200b\u200e-\u206f\u2190-\u2bff\u2ff0-\u3000\ud800-\uf8ff\ufdd0-\ufddf\ufffe\uffff].+|(?:.+?[\u0000-,\/:-@[-^`{-\u00b6\u00b8-\u00bf\u00d7\u00f7\u037e\u2000-\u200b\u200e-\u203e\u2041-\u206f\u2190-\u2bff\u2ff0-\u3000\ud800-\uf8ff\ufdd0-\ufddf\ufffe\uffff].*)|.+\.)$/,fG=/^(?:\\|[\u0000-\/;-@[-^`{-\u00bf\u00d7\u00f7\u0300-\u306f\u037e\u2000-\u200b\u200e-\u206f\u2190-\u2bff\u2ff0-\u3000\ud800-\uf8ff\ufdd0-\ufddf\ufffe\uffff].+|(?:.+?(?:\\|[\u0000-,\/;-@[-^`{-\u00b6\u00b8-\u00bf\u00d7\u00f7\u037e\u2000-\u200b\u200e-\u203e\u2041-\u206f\u2190-\u2bff\u2ff0-\u3000\ud800-\uf8ff\ufdd0-\ufddf\ufffe\uffff]).+)|(?:.+?(?:\\|[\u0000-,.\/;-@[-^`{-\u00b6\u00b8-\u00bf\u00d7\u00f7\u037e\u2000-\u200b\u200e-\u203e\u2041-\u206f\u2190-\u2bff\u2ff0-\u3000\ud800-\uf8ff\ufdd0-\ufddf\ufffe\uffff])))$/,tDe=/^([Tt](rue)?|TRUE)$/,rDe=/^([Ff](alse)?|FALSE)$/,nDe="xxxxxxxx_xxxx_4xxx_yxxx_xxxxxxxxxxxx",iDe=/[xy]/g,ng=()=>{let e=Date.now();return typeof performance<"u"&&(e+=performance.now()),nDe.replace(iDe,t=>{let r=(e+Math.random()*16)%16|0;return e=Math.floor(e/16),(t==="x"?r:r&3|8).toString(16)})},l0=Symbol("prefix-cache"),oDe=/[$^*()+[\\{}|.?]/g,sDe="((?:[A-Za-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u{02ff}\\u{0370}-\\u{037d}\\u{037f}-\\u{1fff}\\u{200c}-\\u{200d}\\u{2070}-\\u{218f}\\u{2c00}-\\u{2fef}\\u{3001}-\\u{d7ff}\\u{f900}-\\u{fdcf}\\u{fdf0}-\\u{fffd}\\u{10000}-\\u{effff}_:0-9]|%[A-Fa-f0-9]{2}|\\\\[_~.\\-!$&'()*+,;=/?#@%])(?:(?:[A-Za-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u{02ff}\\u{0370}-\\u{037d}\\u{037f}-\\u{1fff}\\u{200c}-\\u{200d}\\u{2070}-\\u{218f}\\u{2c00}-\\u{2fef}\\u{3001}-\\u{d7ff}\\u{f900}-\\u{fdcf}\\u{fdf0}-\\u{fffd}\\u{10000}-\\u{effff}_\\-0-9\\xb7\\u{0300}-\\u{036f}\\u{203f}-\\u{2040}.:]|%[A-Fa-f0-9]{2}|\\\\[_~.\\-!$&'()*+,;=/?#@%])*(?:[A-Za-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u{02ff}\\u{0370}-\\u{037d}\\u{037f}-\\u{1fff}\\u{200c}-\\u{200d}\\u{2070}-\\u{218f}\\u{2c00}-\\u{2fef}\\u{3001}-\\u{d7ff}\\u{f900}-\\u{fdcf}\\u{fdf0}-\\u{fffd}\\u{10000}-\\u{effff}_\\-0-9\\xb7\\u{0300}-\\u{036f}\\u{203f}-\\u{2040}:]|%[A-Fa-f0-9]{2}|\\\\[_~.\\-!$&'()*+,;=/?#@%]))?)$";function cG(e,t=!1){let r=[],n={};for(let o in e){let s=e[o];t&&tI.test(o)||(n[s]=o,r.push(s.replace(oDe,"\\$&")))}return r.length?(e[l0]={_r_iris:new RegExp(`^(${r.join("|")})${sDe}`,"u"),_h_inverse:n},Object.freeze(e)):e}const dG=(e,t)=>{let r=t[l0];if(r){let n=r._r_iris.exec(e);if(n)return r._h_inverse[n[1]]+":"+n[2]}else{let n="",o="",s=-1;for(let a in t){let l=t[a];if(e.indexOf(l)===0&&l.length>s&&!tI.test(a)){let f=e.slice(l.length);fG.test(f)||(o=f,n=a,s=l.length)}}if(s!==-1)return n+":"+o}return"<"+e+">"},ig=(e,t={})=>{let r=t[l0];if(r){let n=r._r_iris.exec(e);if(n)return r._h_inverse[n[1]]+":"+n[2]}else{let n="",o=-1;for(let s in t){let a=t[s];e.startsWith(a)&&a.length>o&&(n=s,o=a.length)}if(o!==-1)return n+":"+e.slice(o)}return">"+e},aDe=/^([^:]*):(.*)$/;function hG(e,t={},r=!1){switch(e[0]){case">":return"<"+e.slice(1)+">";case"_":return e.length<=2||e[2]==="#"?new ag()[r?"verbose":"terse"]():e;case'"':return JSON.stringify(e.slice(1));case"@":{let n=e.indexOf('"');return JSON.stringify(e.slice(n+1))+e.slice(0,n)}case"^":{let n=e.indexOf('"');return JSON.stringify(e.slice(n+1))+"^^"+hG(e.slice(1,n),t,r)}case"*":return"";case"<":case"`":return Et.c1(e).terse(t);default:{if(e==="a")return r?"<http://www.w3.org/1999/02/22-rdf-syntax-ns#type>":"a";let[,n,o]=aDe.exec(e);return r||fG.test(o)||tI.test(n)?"<"+t[n]+o+">":e}}}class fu{valueOf(){return this.concise()}toString(){return this.concise()}equals(t){return t?this===t||t.termType===this.termType&&t.value===this.value:!1}}Object.assign(fu.prototype,{isGraphyTerm:!0});let Kr=class extends fu{constructor(t){super(),this.value=t}concise(t={}){return ig(this.value,t)}terse(t={},r=!1){return dG(a0(this.value),t)}verbose(){return"<"+a0(this.value)+">"}isolate(){return{termType:"NamedNode",value:this.value}}};Object.assign(Kr.prototype,{termType:"NamedNode",isNamedNode:!0});const rI=new Kr("http://www.w3.org/1999/02/22-rdf-syntax-ns#type");rI.isRdfTypeAlias=!0;const pG=new Kr("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),lDe=pG.isolate(),uDe=new Kr("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),bG=new Kr("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),fDe=new Kr("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"),cDe=new Kr("http://www.w3.org/2001/XMLSchema#date"),dDe=new Kr("http://www.w3.org/2001/XMLSchema#dateTime"),cu=new Kr("http://www.w3.org/2001/XMLSchema#string");class u0 extends fu{equals(t){return t?this===t||t.termType==="Literal"&&t.value===this.value&&this.datatype.equals(t.datatype)&&t.language===this.language:!1}verbose(){return JSON.stringify(this.value)+(this.language?"@"+this.language:"^^"+this.datatype.verbose())}concise(t){return this.language?"@"+this.language+'"'+this.value:"^"+ig(this.datatype.value,t)+'"'+this.value}terse(t={}){let r=this.datatype.terse(t);return JSON.stringify(this.value)+(this.language?"@"+this.language:"^^"+r)}isolate(){return{termType:"Literal",value:this.value,language:this.language,datatype:this.datatype.isolate()}}}Object.assign(u0.prototype,{datatype:cu,language:"",termType:"Literal",isLiteral:!0,isSimple:!1});class og extends u0{constructor(t,r){super(),this.value=t,this.language=(r[0]==="@"?r.slice(1):r).toLowerCase()}verbose(){return JSON.stringify(this.value)+"@"+this.language}concise(){return"@"+this.language+'"'+this.value}terse(){return JSON.stringify(this.value)+"@"+this.language}isolate(){return{termType:"Literal",value:this.value,language:this.language,datatype:lDe}}}Object.assign(og.prototype,{datatype:pG,isLanguaged:!0});class Th extends u0{verbose(){return JSON.stringify(this.value)+"^^"+this.datatype.verbose()}concise(t){return"^"+ig(this.datatype.value,t)+'"'+this.value}terse(t={}){let r=this.datatype.terse(t);return JSON.stringify(this.value)+"^^"+r}isolate(){return{termType:"Literal",value:this.value,language:this.language,datatype:this.datatype.isolate()}}}Object.assign(Th.prototype,{isDatatyped:!0});class f0 extends Th{constructor(t,r){super(),this.value=t,this.datatype=r}}class gG extends fu{constructor(t){super(),this.value=t}get isSimple(){return!this.language&&!this.datatype.equals(cu)}get isLanguaged(){return!!this.language}get isDatatyped(){return cu.equals(this.datatype)}equals(t){return t?this===t||t.termType==="Literal"&&t.value===this.value&&this.datatype.equals(t.datatype)&&t.language===this.language:!1}verbose(){return JSON.stringify(this.value)+(this.language?"@"+this.language:"^^"+this.datatype.verbose())}concise(t){return this.language?"@"+this.language+'"'+this.value:"^"+ig(this.datatype.value,t)+'"'+this.value}terse(t={}){let r=this.datatype.terse(t);return JSON.stringify(this.value)+(this.language?"@"+this.language:"^^"+r)}isolate(){return{termType:"Literal",value:this.value,language:this.language,datatype:this.datatype.isolate()}}}Object.assign(gG.prototype,{datatype:cu,language:"",termType:"Literal",isLiteral:!0});class nc extends u0{constructor(t){super(),this.value=t}verbose(){return JSON.stringify(this.value)}concise(){return'"'+this.value}terse(){return JSON.stringify(this.value)}}Object.assign(nc.prototype,{isSimple:!0});const _G=new Kr("http://www.w3.org/2001/XMLSchema#integer");class ic extends Th{static from(t){let r=new ic(+t);return r.value=t,r}constructor(t){super(),this.value=t+"",this.number=t}concise(t={}){return"^"+_G.concise(t)+'"'+this.value}terse(){return this.value.includes("e")?`"${this.value}"^^<http://www.w3.org/2001/XMLSchema#integer>`:this.value}}Object.assign(ic.prototype,{datatype:_G,isNumeric:!0,isInteger:!0});const sg=new Kr("http://www.w3.org/2001/XMLSchema#double");class Ds extends Th{static from(t){let r=new Ds(+t);return r.value=t,r}constructor(t){super(),this.value=t+"",this.number=t}concise(t={}){return"^"+sg.concise(t)+'"'+this.value}terse(){return this.number.toExponential()}}Object.assign(Ds.prototype,{datatype:sg,isNumeric:!0,isDouble:!0});const yG=new Kr("http://www.w3.org/2001/XMLSchema#decimal");class oc extends Th{static from(t){let r=new oc(+t);return r.value=t,r}constructor(t){super(),this.value=t+"",this.number=t}concise(t={}){return"^"+yG.concise(t)+'"'+this.value}terse(){return this.value.includes("e")?`"${this.value}"^^<http://www.w3.org/2001/XMLSchema#decimal>`:this.value+(this.value.includes(".")?"":".0")}}Object.assign(oc.prototype,{datatype:yG,isNumeric:!0,isDecimal:!0});const wG=new Kr("http://www.w3.org/2001/XMLSchema#boolean");class Ms extends Th{static from(t){let r=new Ms(+t);return r.value=t,r}constructor(t){super(),this.value=t+"",this.boolean=t}concise(t={}){return"^"+wG.concise(t)+'"'+this.value}terse(){return this.value+""}}Object.assign(Ms.prototype,{datatype:wG,isBoolean:!0});class mG extends Ds{constructor(){super(1/0),this.value="INF"}terse(t){return'"INF"^^'+sg.terse(t)}}Object.assign(mG.prototype,{isInfinite:!0});class vG extends Ds{constructor(){super(-1/0),this.value="-INF"}terse(t){return'"-INF"^^'+sg.terse(t)}}Object.assign(vG.prototype,{isInfinite:!0});class SG extends Ds{constructor(){super(NaN),this.value="NaN"}terse(t){return'"NaN"^^'+sg.terse(t)}}Object.assign(SG.prototype,{isNaN:!0});function sc(e,t=!1){this.value=e,this.isAnonymous=t}sc.prototype=Object.assign(Object.create(fu.prototype),{termType:"BlankNode",isBlankNode:!0,concise(){return"_:"+this.value},terse(){return"_:"+this.value},verbose(){return"_:"+this.value},isolate(){return{termType:"BlankNode",value:this.value}}});function ag(){}ag.prototype=Object.assign(Object.create(sc.prototype),{isAnonymous:!0,isEphemeral:!0,concise(){return"_:#"+this.value},terse(){return"[]"},verbose(){return"_:"+this.value},isolate(){return{termType:"BlankNode",value:this.value}},equals(){return!1}}),Object.defineProperty(ag.prototype,"value",{get(){return"_"+ng()}});let EG=class extends fu{constructor(t){super(),this.value=t}concise(){return"?"+this.value}terse(){throw new Error("Cannot call .terse() on 'Variable' term type")}verbose(){throw new Error("Cannot call .verbose() on 'Variable' term type")}isolate(){return{termType:"Variable",value:this.value}}};Object.assign(EG.prototype,{termType:"Variable",isVariable:!0});function lg(){}lg.prototype=Object.assign(Object.create(fu.prototype),{value:"",termType:"DefaultGraph",isDefaultGraph:!0,concise(){return"*"},terse(){return""},verbose(){return""},isolate(){return{termType:"DefaultGraph",value:""}}}),Object.assign(Object.create(fu.prototype),{value:"",termType:"NoGraph",concise(){return""},terse(){return""},verbose(){return""},isolate(){return{termType:"NoGraph",value:""}}});const c0=new lg;function qo(e,t,r,n=c0){this.subject=e,this.predicate=t,this.object=r,this.graph=n}Object.assign(qo.prototype,{isGraphyQuad:!0,equals(e){return e?this===e||this.object.equals(e.object)&&this.subject.equals(e.subject)&&this.predicate.equals(e.predicate)&&this.graph.equals(e.graph):!1},valueOf(){return this.verbose()},concise(e={}){return[this.subject.concise(e),this.predicate.concise(e),this.object.concise(e),this.graph.concise(e)]},terse(e){let t=this.graph.isDefaultGraph;return(t?"":this.graph.terse(e)+" { ")+this.subject.terse(e)+" "+this.predicate.terse(e)+" "+this.object.terse(e)+" ."+(t?"":" }")},verbose(){return this.subject.verbose()+" "+this.predicate.verbose()+" "+this.object.verbose()+" "+(this.graph.isDefaultGraph?"":this.graph.verbose()+" ")+"."},isolate(){return{subject:this.subject.isolate(),predicate:this.predicate.isolate(),object:this.object.isolate(),graph:this.graph.isolate()}}});let RG={namedNode(e){return new Kr(e)},blankNode(e,t){return new sc(e,t)},literal(e){return new gG(e)},defaultGraph(){return new lg},quad(e,t,r,n){return new qo(e,t,r,n||c0)},integer(e){return ic.from(e)},double(e){return Ds.from(e)},decimal(e){return oc.from(e)},boolean(e){return new Ms(e)}};const Et=uG.exports={concise:ig,adopt(e){let t=Object.create(e),r=!1;if(typeof e.boolean!="function"){let n=e.namedNode("http://www.w3.org/2001/XMLSchema#boolean");t.boolean=o=>e.literal(o+"",n),r=!0}if(typeof e.double!="function"){let n=e.namedNode("http://www.w3.org/2001/XMLSchema#double");t.double=o=>e.literal(o+"",n),r=!0}if(typeof e.decimal!="function"){let n=e.namedNode("http://www.w3.org/2001/XMLSchema#decimal");t.decimal=o=>e.literal(o+"",n),r=!0}if(typeof e.integer!="function"){let n=e.namedNode("http://www.w3.org/2001/XMLSchema#integer");t.integer=o=>e.literal(o+"",n),r=!0}return typeof e.simpleLiteral!="function"&&(t.simpleLiteral=n=>e.literal(n),r=!0),typeof e.languagedLiteral!="function"&&(t.languagedLiteral=(n,o)=>e.literal(n,o),r=!0),typeof e.datatypedLiteral!="function"&&(t.datatypedLiteral=(n,o)=>e.literal(n,o),r=!0),r?t:e},raw:RG,unfiltered:{...RG,literal(e,t){return!t||cu.equals(t)?new nc(e):typeof t=="string"?new og(e,t):cu.equals(t)?new nc(e):new f0(e,t)},simpleLiteral(e){return new nc(e)},languagedLiteral(e,t){return new og(e,t)},datatypedLiteral(e,t){return cu.equals(t)?new nc(e):new f0(e,t)}},number(e){return typeof e=="number"&&(!Number.isFinite(e)||Number.isNaN(e))?Et.double(e):Number.isInteger(e)||typeof e=="bigint"?Et.integer(e):Et.decimal(e)},date(e){return Et.literal(e.toISOString().replace(/T.+$/,"Z"),cDe)},dateTime(e){return Et.literal(e.toISOString(),dDe)},namedNode(e){return new Kr(e)},ephemeral(){return new ag},anonymous(){return new ag},blankNode(e){if(e){if(typeof e=="string")return new sc(e)}else return new sc("_"+ng(),!0);throw new TypeError(`factory.blankNode(label) expects 'label' parameter to be falsy or a string; instead found: ${e}`)},literal(e,t){return!t||cu.equals(t)?new nc(e):typeof t=="string"?new og(e,t):new f0(e,t)},integer(e){let t=typeof e;if(t==="number"){if(Number.isFinite(e)){if(!Number.isInteger(e))throw new Error("Number is not an integer: "+e)}else throw Number.isNaN(e)?new Error("XSD integer cannot encode NaN. Try using double"):new Error("XSD integer cannot encode +/-infinity. Try using double");return new ic(e)}else if(t==="string"){if(e==="")throw new Error("Refusing to serialize empty string as xsd:integer");let r=+e;if(Number.isNaN(r)||!Number.isInteger(r))throw new Error("Invalid integer string: "+e);return new ic(r)}else throw t==="undefined"?new Error("Refusing to serialize undefined value as xsd:integer"):e===null?new Error("Refusing to serialize null value as xsd:integer"):new Error("XSD integer expects a number type or integer string")},double(e){let t=typeof e;if(t==="number")return Number.isFinite(e)?new Ds(e):Number.isNaN(e)?new SG:e>0?new mG:new vG;if(t==="string"){if(e==="")throw new Error("Refusing to serialize empty string as xsd:double");let r=+e;if(Number.isNaN(r))throw new Error("Invalid decimal string: "+e);return new Ds(r)}else throw t==="undefined"?new Error("Refusing to serialize undefined value as xsd:double"):e===null?new Error("Refusing to serialize null value as xsd:double"):new Error("XSD double expects a number type or double string")},decimal(e){let t=typeof e;if(t==="number"){if(!Number.isFinite(e))throw Number.isNaN(e)?new Error("XSD decimal cannot encode NaN. Try using double"):new Error("XSD decimal cannot encode +/-infinity. Try using double");return new oc(e)}else if(t==="string"){if(e==="")throw new Error("Refusing to serialize empty string as xsd:decimal");let r=+e;if(Number.isNaN(r))throw new Error("Invalid decimal string: "+e);return new oc(r)}else throw t==="undefined"?new Error("Refusing to serialize undefined value as xsd:decimal"):e===null?new Error("Refusing to serialize null value as xsd:decimal"):new Error("XSD decimal expects a number type or decimal string")},boolean(e){let t=typeof e;if(t==="boolean")return new Ms(e);if(t==="number"){if(e===1)return new Ms(!0);if(e===0)return new Ms(!1);throw new Error("Boolean value 'w_value' must be either a '1' or '0' if using numbers")}else if(t==="string"){if(tDe.test(e))return new Ms(!0);if(rDe.test(e))return new Ms(!1);throw e===""?new Error("Refusing to serialize empty string as xsd:boolean"):new Error("Invalid boolean string: "+e)}else throw t==="undefined"?new Error("Refusing to serialize undefined value as xsd:boolean"):e===null?new Error("Refusing to serialize null value as xsd:boolean"):new Error("XSD boolean expects a boolean type or boolean string")},defaultGraph(){return new lg},variable(e){return new EG(e)},triple(e,t,r){let n=new Error("It is strongly encouraged to use .quad() instead of .triple()");return console.warn(n.stack.replace(/^(\s*)Error:/,"$1Warning:")),new qo(e,t,r)},quad(e,t,r,n){return new qo(e,t,r,n||c0)},term(e,t){return typeof e=="string"?Et.c1(e,t):Et.from.rdfjs_term(e)},c1(e,t={}){switch(e[0]){case"^":{let r=e.indexOf('"');if(r===-1)throw new Error(`Invalid concise-term string, no content literal delimiter found: '${e}'`);let n=e.slice(1,r);return Et.literal(e.slice(r+1),Et.c1_node_explicit(n,t))}case"@":{let r=e.indexOf('"');if(r===-1)throw new Error(`Invalid concise-term string, no content literal delimiter found: '${e}'`);let n=e.slice(1,r);return Et.literal(e.slice(r+1),n)}case'"':return Et.literal(e.slice(1));default:return Et.c1_node(e,t)}},c1_node(e,t={}){if(e==="a")return rI;if(e==="*")return Et.defaultGraph();if(e[0]==="_"){if(e[1]!==":")throw new Error(`Invliad concise-term string, prefixes are not allowed to start with an underscore: '${e}'`);return e[2]==="#"||e.length===2?Et.ephemeral():Et.blankNode(e.slice(2))}return Et.c1_node_explicit(e,t)},c1_named_node(e,t={}){return e==="a"?rI:Et.c1_node_explicit(e,t)},c1_node_explicit(e,t={}){switch(e[0]){case">":return Et.namedNode(e.slice(1));case"<":throw new Error(`Whoops! It looks like this concise-term string starts with a '<' character. Remember to use '>' if you are trying to make an absolute IRI reference.
Invalid concise-term string '${e}'`);case"`":throw new Error(`The backtick character '\`' is reserved for concise-struct key directives and should not be used in the object position.
Invalid concise-term string '${e}'`);default:return this.c1_prefixed_node(e,t)}},c1_prefixed_node(e,t={}){let r=e.indexOf(":");if(r===-1)throw new Error(`A relative or prefixed node must include a ':' character. 
Invalid concise-term string for node: '${e}'`);let n=e.slice(0,r),o=e.slice(r+1);if(n in t)return Et.namedNode(t[n]+o);throw new Error(`Prefix not defined: '${n}'`)},c1_to_nt:hG,*quads(e,t={}){for(let r in e)yield*Et.triples(e[r],t,r)},*triples(e,t={},r="*"){let n=Et.c1(r,t);for(let o in e){let s=Et.c1(o,t),a=e[o];yield*Et.pairs(n,s,a,t)}},*pairs(e,t,r,n={}){for(let o in r){let s=Et.c1(o,n),a=r[o];yield*Et.objects(e,t,s,a,n)}},*collection(e,t,r,n={}){yield*Et.objects(e,t,uDe,r[0],n);let o=r.slice(1);if(!o.length)yield new qo(t,bG,fDe,e);else{let s=Et.blankNode();yield new qo(t,bG,s,e),yield*Et.collection(e,s,o,n)}},*objects(e,t,r,n,o,s=!1){switch(typeof n){case"string":{yield new qo(t,r,Et.c1(n,o),e);break}case"number":{yield new qo(t,r,Et.number(n),e);break}case"object":{if(Array.isArray(n))if(s){let l=Et.blankNode();yield new qo(t,r,l,e),yield*Et.collection(e,l,n,o)}else for(let l of n)yield*Et.objects(e,t,r,l,o,!0);else{let l=Et.blankNode();yield new qo(t,r,l,e),yield*Et.pairs(e,l,n,o)}break}default:throw new Error(`invalid object type: ${typeof n}`)}},from:{term(e){return e===null||e.isGraphyTerm?e:Et.from.rdfjs_term(e)},quad(e){if(e===null||e.isGraphyQuad)return e;let t=Et.from;return new qo(t.rdfjs_term(e.subject),t.rdfjs_term(e.predicate),t.rdfjs_term(e.object),e.graph?t.rdfjs_term(e.graph):c0)},rdfjs_term(e){switch(e.termType){case"NamedNode":return new Kr(e.value);case"BlankNode":return new sc(e.value);case"Literal":return Et.literal(e.value,e.language?e.language:e.datatype?new Kr(e.datatype.value):null);case"DefaultGraph":return new lg;default:throw new TypeError(`invalid termType: ${e.termType}`)}},sparql_result(e){switch(e.type){case"uri":return new Kr(e.value);case"literal":case"typed-literal":return"xml:lang"in e?new og(e.value,e["xml:lang"]):"datatype"in e&&e.datatype!=="http://www.w3.org/2001/XMLSchema#string"?new f0(e.value,new Kr(e.datatype)):new nc(e.value);case"bnode":return new sc(e.value);default:throw new Error(`unexpected SPARQL Result JSON Format Term type: ${e.type}`)}}},to:{boolean:e=>Ms.from(e),integer:e=>ic.from(e),decimal:e=>oc.from(e),double:e=>Ds.from(e)},comment(e={}){return`\`[${ng()}]${JSON.stringify({...e,type:"comment"})}`},newlines(){return`\`[${ng()}]{"type":"newlines"}`},config(e){if(typeof e!="string")throw new TypeError(`Expected 'key' argument to be a string, instead found ${typeof e}`);return`\`[${ng()}]{"type":"config","value":${JSON.stringify(e)}}`},hash(e){let t=Et.from.quad(e),r=QLe.createHash("sha256");return r.update(t.verbose()),r.digest("hex")},cache_prefixes:cG,cachePrefixes:cG,terse:dG,clean_iri:a0,cleanIri:a0,$_PREFIX_CACHE:l0};Object.assign(Et,{c3:Et.triples,c4:Et.quads,fromTerm:Et.from.term,fromQuad:Et.from.quad});var du=uG.exports;const xG=zr(du);class AG{constructor(t){this.term=t}toTerm(){const t=`"""${this.term.value.replace(/"$/,'\\"')}"""`;return{terse:r=>t+this.langOrDatatype(r),verbose:r=>t+this.langOrDatatype(r)}}langOrDatatype(t){if(this.term.language)return`@${this.term.language}`;if(this.term.datatype.equals(Nb.string))return"";const r=WU(this.term.datatype.value,t);return r?`^^${r}`:`^^<${this.term.datatype.value}>`}}const $G=new Map([[AG,e=>e.toTerm()]]);function hDe(e){return e.has(Fo.first)&&e.has(Fo.rest)}class pDe extends XLe.Transform{constructor({prefixes:t={},strict:r=!1,preserveListNodeProperties:n=!1}={}){super({objectMode:!0}),this.prefixes=t,this.graphs=new kb,this.blankNodes=new kb,this.strict=r,this.preserveListNodeProperties=n}_transform({subject:t,predicate:r,object:n,graph:o},s,a){const l=this.getGraph(o),f=l.get(t)||{predicates:new kb},u=f.predicates.get(r)||[];if(f.predicates.set(r,[...u,n]),n.termType==="BlankNode"){const d=this.blankNodes.get(n)||0;this.blankNodes.set(n,d+1)}l.set(t,f),a()}_flush(){const t=[...this.graphs].reduce((r,[n,o])=>{const s=this.toHashKey(n);let a=r[s]||{};return a=[...o].reduce(this.toConciseHash(n).bind(this),a),{...r,[s]:a}},{});this.push({type:this.strict?"c4r":"c4",value:t}),this.push(null)}toConciseHash(t){return(r,[n,{predicates:o}])=>{if(!this.strict&&this.blankNodes.get(n)===1)return r;const s=this.toHashKey(n);return{...r,[s]:this.createPropertyMap(t,o)}}}createPropertyMap(t,r,n=0){const o=s=>{if(!this.strict&&this.blankNodes.get(s)===1){const a=this.graphs.get(t).get(s);if(a)return this.createPropertyMap(t,a.predicates,n+1)}return this.toHashKey(s)};if(!this.strict&&hDe(r)&&!this.preserveListNodeProperties){const[s]=r.get(Fo.first),[a]=r.get(Fo.rest);if(n===0){let f;if(a.equals(Fo.nil))f=this.toHashKey(Fo.nil);else{const u=o(a);f=Array.isArray(u)?[...u]:[u]}return{[this.toHashKey(Fo.first)]:[o(s)],[this.toHashKey(Fo.rest)]:[f]}}if(a.equals(Fo.nil))return[o(s)];const l=o(a);return[o(s),...l]}return[...r].reduce((s,[a,l])=>{const f=this.toHashKey(a),u=l.map(o.bind(this));return{...s,[f]:u}},{})}getGraph(t){const r=this.graphs.get(t)||new kb;return this.graphs.set(t,r),r}literalHash(t){if(t.datatype&&!this.strict)switch(t.datatype.value){case Nb.integer.value:{const r=+t.value;if(Number.isInteger(r))return r;break}case Nb.decimal.value:{const r=+t.value;if(!Number.isNaN(r)&&!Number.isInteger(r))return r;break}case Nb.boolean.value:{if(t.value==="true")return!0;if(t.value==="false")return!1;break}}return t.value.includes(`
`)?new AG(t):xG.fromTerm(t).concise(this.prefixes)}toHashKey(t){return t.termType==="Literal"?this.literalHash(t):t.equals(Fo.type)?"a":xG.fromTerm(t).concise(this.prefixes)}}async function nI(e,t={}){const r=(await e).default;return class{constructor(n={}){this.defaults=n}import(n,{preserveListNodeProperties:o,...s}={}){const a={...this.defaults.prefixes||{},...s.prefixes||{}},l=r({prefixes:a,coercions:t.coercions});return n.pipe(new pDe({prefixes:a,strict:t.strict,preserveListNodeProperties:o})).pipe(l),l}}}const TG=Uo(()=>nI(Promise.resolve().then(()=>xut),{coercions:$G})),bDe=Uo(()=>nI(Promise.resolve().then(()=>Cut),{strict:!0})),gDe=Uo(()=>nI(Promise.resolve().then(()=>Out),{strict:!0,coercions:$G}));async function IG(e){const t=(await e).default;return class{import(r,n){return r.pipe(n?t(n):t())}}}const iI=Uo(()=>IG(Promise.resolve().then(()=>Hut))),NG=Uo(()=>IG(Promise.resolve().then(()=>ift))),_De=Uo(async()=>{const e=(await Promise.resolve().then(()=>Ibt)).default;return class extends e{constructor({prefixes:r={},...n}={}){super({compact:!0,skipGraphProperty:!0,encoding:"string",...n}),this.prefixes=r}import(r,{prefixes:n={}}={}){const o={...this.prefixes,...n};return super.import(r,{context:o})}}}),fo=new VU({});fo.import(Wi);const Ho={jsonLd:"application/ld+json",ntriples:"application/n-triples",nquads:"application/n-quads",notation3:"text/n3",rdfXml:"application/rdf+xml",trig:"application/trig",turtle:"text/turtle"};fo.serializers.set(Ho.jsonLd,new _De),fo.serializers.set(Ho.notation3,new TG),fo.serializers.set(Ho.turtle,new TG),fo.serializers.set(Ho.trig,new gDe),fo.serializers.set(Ho.rdfXml,new bDe),fo.parsers.set(Ho.notation3,new iI),fo.parsers.set(Ho.turtle,new iI),fo.parsers.set(Ho.trig,new iI),fo.parsers.set(Ho.ntriples,new NG),fo.parsers.set(Ho.nquads,new NG);/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const d0=window,oI=d0.ShadowRoot&&(d0.ShadyCSS===void 0||d0.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,sI=Symbol(),kG=new WeakMap;let CG=class{constructor(t,r,n){if(this._$cssResult$=!0,n!==sI)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=r}get styleSheet(){let t=this.o;const r=this.t;if(oI&&t===void 0){const n=r!==void 0&&r.length===1;n&&(t=kG.get(r)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),n&&kG.set(r,t))}return t}toString(){return this.cssText}};const yDe=e=>new CG(typeof e=="string"?e:e+"",void 0,sI),wDe=(e,...t)=>{const r=e.length===1?e[0]:t.reduce((n,o,s)=>n+(a=>{if(a._$cssResult$===!0)return a.cssText;if(typeof a=="number")return a;throw Error("Value passed to 'css' function must be a 'css' function result: "+a+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(o)+e[s+1],e[0]);return new CG(r,e,sI)},mDe=(e,t)=>{oI?e.adoptedStyleSheets=t.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet):t.forEach(r=>{const n=document.createElement("style"),o=d0.litNonce;o!==void 0&&n.setAttribute("nonce",o),n.textContent=r.cssText,e.appendChild(n)})},OG=oI?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let r="";for(const n of t.cssRules)r+=n.cssText;return yDe(r)})(e):e;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var aI;const h0=window,LG=h0.trustedTypes,vDe=LG?LG.emptyScript:"",DG=h0.reactiveElementPolyfillSupport,lI={toAttribute(e,t){switch(t){case Boolean:e=e?vDe:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let r=e;switch(t){case Boolean:r=e!==null;break;case Number:r=e===null?null:Number(e);break;case Object:case Array:try{r=JSON.parse(e)}catch{r=null}}return r}},MG=(e,t)=>t!==e&&(t==t||e==e),uI={attribute:!0,type:String,converter:lI,reflect:!1,hasChanged:MG},fI="finalized";let Ih=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(t){var r;this.finalize(),((r=this.h)!==null&&r!==void 0?r:this.h=[]).push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach((r,n)=>{const o=this._$Ep(n,r);o!==void 0&&(this._$Ev.set(o,n),t.push(o))}),t}static createProperty(t,r=uI){if(r.state&&(r.attribute=!1),this.finalize(),this.elementProperties.set(t,r),!r.noAccessor&&!this.prototype.hasOwnProperty(t)){const n=typeof t=="symbol"?Symbol():"__"+t,o=this.getPropertyDescriptor(t,n,r);o!==void 0&&Object.defineProperty(this.prototype,t,o)}}static getPropertyDescriptor(t,r,n){return{get(){return this[r]},set(o){const s=this[t];this[r]=o,this.requestUpdate(t,s,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||uI}static finalize(){if(this.hasOwnProperty(fI))return!1;this[fI]=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),t.h!==void 0&&(this.h=[...t.h]),this.elementProperties=new Map(t.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const r=this.properties,n=[...Object.getOwnPropertyNames(r),...Object.getOwnPropertySymbols(r)];for(const o of n)this.createProperty(o,r[o])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){const r=[];if(Array.isArray(t)){const n=new Set(t.flat(1/0).reverse());for(const o of n)r.unshift(OG(o))}else t!==void 0&&r.push(OG(t));return r}static _$Ep(t,r){const n=r.attribute;return n===!1?void 0:typeof n=="string"?n:typeof t=="string"?t.toLowerCase():void 0}u(){var t;this._$E_=new Promise(r=>this.enableUpdating=r),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(t=this.constructor.h)===null||t===void 0||t.forEach(r=>r(this))}addController(t){var r,n;((r=this._$ES)!==null&&r!==void 0?r:this._$ES=[]).push(t),this.renderRoot!==void 0&&this.isConnected&&((n=t.hostConnected)===null||n===void 0||n.call(t))}removeController(t){var r;(r=this._$ES)===null||r===void 0||r.splice(this._$ES.indexOf(t)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((t,r)=>{this.hasOwnProperty(r)&&(this._$Ei.set(r,this[r]),delete this[r])})}createRenderRoot(){var t;const r=(t=this.shadowRoot)!==null&&t!==void 0?t:this.attachShadow(this.constructor.shadowRootOptions);return mDe(r,this.constructor.elementStyles),r}connectedCallback(){var t;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$ES)===null||t===void 0||t.forEach(r=>{var n;return(n=r.hostConnected)===null||n===void 0?void 0:n.call(r)})}enableUpdating(t){}disconnectedCallback(){var t;(t=this._$ES)===null||t===void 0||t.forEach(r=>{var n;return(n=r.hostDisconnected)===null||n===void 0?void 0:n.call(r)})}attributeChangedCallback(t,r,n){this._$AK(t,n)}_$EO(t,r,n=uI){var o;const s=this.constructor._$Ep(t,n);if(s!==void 0&&n.reflect===!0){const a=(((o=n.converter)===null||o===void 0?void 0:o.toAttribute)!==void 0?n.converter:lI).toAttribute(r,n.type);this._$El=t,a==null?this.removeAttribute(s):this.setAttribute(s,a),this._$El=null}}_$AK(t,r){var n;const o=this.constructor,s=o._$Ev.get(t);if(s!==void 0&&this._$El!==s){const a=o.getPropertyOptions(s),l=typeof a.converter=="function"?{fromAttribute:a.converter}:((n=a.converter)===null||n===void 0?void 0:n.fromAttribute)!==void 0?a.converter:lI;this._$El=s,this[s]=l.fromAttribute(r,a.type),this._$El=null}}requestUpdate(t,r,n){let o=!0;t!==void 0&&(((n=n||this.constructor.getPropertyOptions(t)).hasChanged||MG)(this[t],r)?(this._$AL.has(t)||this._$AL.set(t,r),n.reflect===!0&&this._$El!==t&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(t,n))):o=!1),!this.isUpdatePending&&o&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(r){Promise.reject(r)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((o,s)=>this[s]=o),this._$Ei=void 0);let r=!1;const n=this._$AL;try{r=this.shouldUpdate(n),r?(this.willUpdate(n),(t=this._$ES)===null||t===void 0||t.forEach(o=>{var s;return(s=o.hostUpdate)===null||s===void 0?void 0:s.call(o)}),this.update(n)):this._$Ek()}catch(o){throw r=!1,this._$Ek(),o}r&&this._$AE(n)}willUpdate(t){}_$AE(t){var r;(r=this._$ES)===null||r===void 0||r.forEach(n=>{var o;return(o=n.hostUpdated)===null||o===void 0?void 0:o.call(n)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(t){return!0}update(t){this._$EC!==void 0&&(this._$EC.forEach((r,n)=>this._$EO(n,this[n],r)),this._$EC=void 0),this._$Ek()}updated(t){}firstUpdated(t){}};Ih[fI]=!0,Ih.elementProperties=new Map,Ih.elementStyles=[],Ih.shadowRootOptions={mode:"open"},DG==null||DG({ReactiveElement:Ih}),((aI=h0.reactiveElementVersions)!==null&&aI!==void 0?aI:h0.reactiveElementVersions=[]).push("1.6.2");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var cI;const p0=window,Nh=p0.trustedTypes,PG=Nh?Nh.createPolicy("lit-html",{createHTML:e=>e}):void 0,dI="$lit$",hu=`lit$${(Math.random()+"").slice(9)}$`,FG="?"+hu,SDe=`<${FG}>`,ac=document,ug=()=>ac.createComment(""),fg=e=>e===null||typeof e!="object"&&typeof e!="function",jG=Array.isArray,EDe=e=>jG(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",hI=`[ 	
\f\r]`,cg=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,WG=/-->/g,BG=/>/g,lc=RegExp(`>|${hI}(?:([^\\s"'>=/]+)(${hI}*=${hI}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),UG=/'/g,qG=/"/g,HG=/^(?:script|style|textarea|title)$/i,RDe=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),xDe=RDe(1),kh=Symbol.for("lit-noChange"),on=Symbol.for("lit-nothing"),VG=new WeakMap,uc=ac.createTreeWalker(ac,129,null,!1),ADe=(e,t)=>{const r=e.length-1,n=[];let o,s=t===2?"<svg>":"",a=cg;for(let f=0;f<r;f++){const u=e[f];let d,g,h=-1,p=0;for(;p<u.length&&(a.lastIndex=p,g=a.exec(u),g!==null);)p=a.lastIndex,a===cg?g[1]==="!--"?a=WG:g[1]!==void 0?a=BG:g[2]!==void 0?(HG.test(g[2])&&(o=RegExp("</"+g[2],"g")),a=lc):g[3]!==void 0&&(a=lc):a===lc?g[0]===">"?(a=o??cg,h=-1):g[1]===void 0?h=-2:(h=a.lastIndex-g[2].length,d=g[1],a=g[3]===void 0?lc:g[3]==='"'?qG:UG):a===qG||a===UG?a=lc:a===WG||a===BG?a=cg:(a=lc,o=void 0);const w=a===lc&&e[f+1].startsWith("/>")?" ":"";s+=a===cg?u+SDe:h>=0?(n.push(d),u.slice(0,h)+dI+u.slice(h)+hu+w):u+hu+(h===-2?(n.push(void 0),f):w)}const l=s+(e[r]||"<?>")+(t===2?"</svg>":"");if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return[PG!==void 0?PG.createHTML(l):l,n]};let pI=class Vpe{constructor({strings:t,_$litType$:r},n){let o;this.parts=[];let s=0,a=0;const l=t.length-1,f=this.parts,[u,d]=ADe(t,r);if(this.el=Vpe.createElement(u,n),uc.currentNode=this.el.content,r===2){const g=this.el.content,h=g.firstChild;h.remove(),g.append(...h.childNodes)}for(;(o=uc.nextNode())!==null&&f.length<l;){if(o.nodeType===1){if(o.hasAttributes()){const g=[];for(const h of o.getAttributeNames())if(h.endsWith(dI)||h.startsWith(hu)){const p=d[a++];if(g.push(h),p!==void 0){const w=o.getAttribute(p.toLowerCase()+dI).split(hu),y=/([.?@])?(.*)/.exec(p);f.push({type:1,index:s,name:y[2],strings:w,ctor:y[1]==="."?TDe:y[1]==="?"?NDe:y[1]==="@"?kDe:b0})}else f.push({type:6,index:s})}for(const h of g)o.removeAttribute(h)}if(HG.test(o.tagName)){const g=o.textContent.split(hu),h=g.length-1;if(h>0){o.textContent=Nh?Nh.emptyScript:"";for(let p=0;p<h;p++)o.append(g[p],ug()),uc.nextNode(),f.push({type:2,index:++s});o.append(g[h],ug())}}}else if(o.nodeType===8)if(o.data===FG)f.push({type:2,index:s});else{let g=-1;for(;(g=o.data.indexOf(hu,g+1))!==-1;)f.push({type:7,index:s}),g+=hu.length-1}s++}}static createElement(t,r){const n=ac.createElement("template");return n.innerHTML=t,n}};function Ch(e,t,r=e,n){var o,s,a,l;if(t===kh)return t;let f=n!==void 0?(o=r._$Co)===null||o===void 0?void 0:o[n]:r._$Cl;const u=fg(t)?void 0:t._$litDirective$;return(f==null?void 0:f.constructor)!==u&&((s=f==null?void 0:f._$AO)===null||s===void 0||s.call(f,!1),u===void 0?f=void 0:(f=new u(e),f._$AT(e,r,n)),n!==void 0?((a=(l=r)._$Co)!==null&&a!==void 0?a:l._$Co=[])[n]=f:r._$Cl=f),f!==void 0&&(t=Ch(e,f._$AS(e,t.values),f,n)),t}let $De=class{constructor(t,r){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){var r;const{el:{content:n},parts:o}=this._$AD,s=((r=t==null?void 0:t.creationScope)!==null&&r!==void 0?r:ac).importNode(n,!0);uc.currentNode=s;let a=uc.nextNode(),l=0,f=0,u=o[0];for(;u!==void 0;){if(l===u.index){let d;u.type===2?d=new bI(a,a.nextSibling,this,t):u.type===1?d=new u.ctor(a,u.name,u.strings,this,t):u.type===6&&(d=new CDe(a,this,t)),this._$AV.push(d),u=o[++f]}l!==(u==null?void 0:u.index)&&(a=uc.nextNode(),l++)}return uc.currentNode=ac,s}v(t){let r=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(t,n,r),r+=n.strings.length-2):n._$AI(t[r])),r++}},bI=class Gpe{constructor(t,r,n,o){var s;this.type=2,this._$AH=on,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=n,this.options=o,this._$Cp=(s=o==null?void 0:o.isConnected)===null||s===void 0||s}get _$AU(){var t,r;return(r=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let t=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=Ch(this,t,r),fg(t)?t===on||t==null||t===""?(this._$AH!==on&&this._$AR(),this._$AH=on):t!==this._$AH&&t!==kh&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):EDe(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==on&&fg(this._$AH)?this._$AA.nextSibling.data=t:this.$(ac.createTextNode(t)),this._$AH=t}g(t){var r;const{values:n,_$litType$:o}=t,s=typeof o=="number"?this._$AC(t):(o.el===void 0&&(o.el=pI.createElement(o.h,this.options)),o);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===s)this._$AH.v(n);else{const a=new $De(s,this),l=a.u(this.options);a.v(n),this.$(l),this._$AH=a}}_$AC(t){let r=VG.get(t.strings);return r===void 0&&VG.set(t.strings,r=new pI(t)),r}T(t){jG(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let n,o=0;for(const s of t)o===r.length?r.push(n=new Gpe(this.k(ug()),this.k(ug()),this,this.options)):n=r[o],n._$AI(s),o++;o<r.length&&(this._$AR(n&&n._$AB.nextSibling,o),r.length=o)}_$AR(t=this._$AA.nextSibling,r){var n;for((n=this._$AP)===null||n===void 0||n.call(this,!1,!0,r);t&&t!==this._$AB;){const o=t.nextSibling;t.remove(),t=o}}setConnected(t){var r;this._$AM===void 0&&(this._$Cp=t,(r=this._$AP)===null||r===void 0||r.call(this,t))}};class b0{constructor(t,r,n,o,s){this.type=1,this._$AH=on,this._$AN=void 0,this.element=t,this.name=r,this._$AM=o,this.options=s,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=on}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,r=this,n,o){const s=this.strings;let a=!1;if(s===void 0)t=Ch(this,t,r,0),a=!fg(t)||t!==this._$AH&&t!==kh,a&&(this._$AH=t);else{const l=t;let f,u;for(t=s[0],f=0;f<s.length-1;f++)u=Ch(this,l[n+f],r,f),u===kh&&(u=this._$AH[f]),a||(a=!fg(u)||u!==this._$AH[f]),u===on?t=on:t!==on&&(t+=(u??"")+s[f+1]),this._$AH[f]=u}a&&!o&&this.j(t)}j(t){t===on?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class TDe extends b0{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===on?void 0:t}}const IDe=Nh?Nh.emptyScript:"";let NDe=class extends b0{constructor(){super(...arguments),this.type=4}j(t){t&&t!==on?this.element.setAttribute(this.name,IDe):this.element.removeAttribute(this.name)}},kDe=class extends b0{constructor(t,r,n,o,s){super(t,r,n,o,s),this.type=5}_$AI(t,r=this){var n;if((t=(n=Ch(this,t,r,0))!==null&&n!==void 0?n:on)===kh)return;const o=this._$AH,s=t===on&&o!==on||t.capture!==o.capture||t.once!==o.once||t.passive!==o.passive,a=t!==on&&(o===on||s);s&&this.element.removeEventListener(this.name,this,o),a&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var r,n;typeof this._$AH=="function"?this._$AH.call((n=(r=this.options)===null||r===void 0?void 0:r.host)!==null&&n!==void 0?n:this.element,t):this._$AH.handleEvent(t)}},CDe=class{constructor(t,r,n){this.element=t,this.type=6,this._$AN=void 0,this._$AM=r,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(t){Ch(this,t)}};const GG=p0.litHtmlPolyfillSupport;GG==null||GG(pI,bI),((cI=p0.litHtmlVersions)!==null&&cI!==void 0?cI:p0.litHtmlVersions=[]).push("2.7.4");const ODe=(e,t,r)=>{var n,o;const s=(n=r==null?void 0:r.renderBefore)!==null&&n!==void 0?n:t;let a=s._$litPart$;if(a===void 0){const l=(o=r==null?void 0:r.renderBefore)!==null&&o!==void 0?o:null;s._$litPart$=a=new bI(t.insertBefore(ug(),l),l,void 0,r??{})}return a._$AI(e),a};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var gI,_I;let dg=class extends Ih{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t,r;const n=super.createRenderRoot();return(t=(r=this.renderOptions).renderBefore)!==null&&t!==void 0||(r.renderBefore=n.firstChild),n}update(t){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=ODe(r,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),(t=this._$Do)===null||t===void 0||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this._$Do)===null||t===void 0||t.setConnected(!1)}render(){return kh}};dg.finalized=!0,dg._$litElement$=!0,(gI=globalThis.litElementHydrateSupport)===null||gI===void 0||gI.call(globalThis,{LitElement:dg});const zG=globalThis.litElementPolyfillSupport;zG==null||zG({LitElement:dg}),((_I=globalThis.litElementVersions)!==null&&_I!==void 0?_I:globalThis.litElementVersions=[]).push("3.3.2");var ei=navigator.userAgent,KG=navigator.platform,Fa=/gecko\/\d/i.test(ei),JG=/MSIE \d/.test(ei),YG=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ei),g0=/Edge\/(\d+)/.exec(ei),Ft=JG||YG||g0,lr=Ft&&(JG?document.documentMode||6:+(g0||YG)[1]),On=!g0&&/WebKit\//.test(ei),LDe=On&&/Qt\/\d+\.\d+/.test(ei),_0=!g0&&/Chrome\//.test(ei),Vo=/Opera\//.test(ei),y0=/Apple Computer/.test(navigator.vendor),DDe=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(ei),MDe=/PhantomJS/.test(ei),hg=y0&&(/Mobile\/\w+/.test(ei)||navigator.maxTouchPoints>2),w0=/Android/.test(ei),pg=hg||w0||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(ei),co=hg||/Mac/.test(KG),PDe=/\bCrOS\b/.test(ei),FDe=/win/i.test(KG),fc=Vo&&ei.match(/Version\/(\d*\.\d*)/);fc&&(fc=Number(fc[1])),fc&&fc>=15&&(Vo=!1,On=!0);var XG=co&&(LDe||Vo&&(fc==null||fc<12.11)),yI=Fa||Ft&&lr>=9;function Oh(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var cc=function(e,t){let r=e.className,n=Oh(t).exec(r);if(n){let o=r.slice(n.index+n[0].length);e.className=r.slice(0,n.index)+(o?n[1]+o:"")}};function pu(e){for(let t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function Bi(e,t){return pu(e).appendChild(t)}function ft(e,t,r,n){let o=document.createElement(e);if(r&&(o.className=r),n&&(o.style.cssText=n),typeof t=="string")o.appendChild(document.createTextNode(t));else if(t)for(let s=0;s<t.length;++s)o.appendChild(t[s]);return o}function Lh(e,t,r,n){let o=ft(e,t,r,n);return o.setAttribute("role","presentation"),o}var dc;document.createRange?dc=function(e,t,r,n){let o=document.createRange();return o.setEnd(n||e,r),o.setStart(e,t),o}:dc=function(e,t,r){let n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch{return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",t),n};function bu(e,t){if(t.nodeType==3&&(t=t.parentNode),e.contains)return e.contains(t);do if(t.nodeType==11&&(t=t.host),t==e)return!0;while(t=t.parentNode)}function ho(){let e;try{e=document.activeElement}catch{e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function hc(e,t){let r=e.className;Oh(t).test(r)||(e.className+=(r?" ":"")+t)}function wI(e,t){let r=e.split(" ");for(let n=0;n<r.length;n++)r[n]&&!Oh(r[n]).test(t)&&(t+=" "+r[n]);return t}var bg=function(e){e.select()};hg?bg=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:Ft&&(bg=function(e){try{e.select()}catch{}});function mI(e){let t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function pc(e,t,r){t||(t={});for(let n in e)e.hasOwnProperty(n)&&(r!==!1||!t.hasOwnProperty(n))&&(t[n]=e[n]);return t}function po(e,t,r,n,o){t==null&&(t=e.search(/[^\s\u00a0]/),t==-1&&(t=e.length));for(let s=n||0,a=o||0;;){let l=e.indexOf("	",s);if(l<0||l>=t)return a+(t-s);a+=l-s,a+=r-a%r,s=l+1}}var Dh=class{constructor(){this.id=null,this.f=null,this.time=0,this.handler=mI(this.onTimeout,this)}onTimeout(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)}set(e,t){this.f=t;const r=+new Date+e;(!this.id||r<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=r)}};function yn(e,t){for(let r=0;r<e.length;++r)if(e[r]==t)return r;return-1}var QG=50,m0={toString:function(){return"CodeMirror.Pass"}},Ps={scroll:!1},vI={origin:"*mouse"},gg={origin:"+move"};function SI(e,t,r){for(let n=0,o=0;;){let s=e.indexOf("	",n);s==-1&&(s=e.length);let a=s-n;if(s==e.length||o+a>=t)return n+Math.min(a,t-o);if(o+=s-n,o+=r-o%r,n=s+1,o>=t)return n}}var v0=[""];function EI(e){for(;v0.length<=e;)v0.push(qt(v0)+" ");return v0[e]}function qt(e){return e[e.length-1]}function S0(e,t){let r=[];for(let n=0;n<e.length;n++)r[n]=t(e[n],n);return r}function jDe(e,t,r){let n=0,o=r(t);for(;n<e.length&&r(e[n])<=o;)n++;e.splice(n,0,t)}function ZG(){}function e9(e,t){let r;return Object.create?r=Object.create(e):(ZG.prototype=e,r=new ZG),t&&pc(t,r),r}var WDe=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function RI(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||WDe.test(e))}function E0(e,t){return t?t.source.indexOf("\\w")>-1&&RI(e)?!0:t.test(e):RI(e)}function t9(e){for(let t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var BDe=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function xI(e){return e.charCodeAt(0)>=768&&BDe.test(e)}function r9(e,t,r){for(;(r<0?t>0:t<e.length)&&xI(e.charAt(t));)t+=r;return t}function _g(e,t,r){let n=t>r?-1:1;for(;;){if(t==r)return t;let o=(t+r)/2,s=n<0?Math.ceil(o):Math.floor(o);if(s==t)return e(s)?t:r;e(s)?r=s:t=s+n}}function UDe(e,t,r,n){if(!e)return n(t,r,"ltr",0);let o=!1;for(let s=0;s<e.length;++s){let a=e[s];(a.from<r&&a.to>t||t==r&&a.to==t)&&(n(Math.max(a.from,t),Math.min(a.to,r),a.level==1?"rtl":"ltr",s),o=!0)}o||n(t,r,"ltr")}var yg=null;function wg(e,t,r){let n;yg=null;for(let o=0;o<e.length;++o){let s=e[o];if(s.from<t&&s.to>t)return o;s.to==t&&(s.from!=s.to&&r=="before"?n=o:yg=o),s.from==t&&(s.from!=s.to&&r!="before"?n=o:yg=o)}return n??yg}var qDe=function(){let e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function r(u){return u<=247?e.charAt(u):1424<=u&&u<=1524?"R":1536<=u&&u<=1785?t.charAt(u-1536):1774<=u&&u<=2220?"r":8192<=u&&u<=8203?"w":u==8204?"b":"L"}let n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,s=/[LRr]/,a=/[Lb1n]/,l=/[1n]/;function f(u,d,g){this.level=u,this.from=d,this.to=g}return function(u,d){let g=d=="ltr"?"L":"R";if(u.length==0||d=="ltr"&&!n.test(u))return!1;let h=u.length,p=[];for(let v=0;v<h;++v)p.push(r(u.charCodeAt(v)));for(let v=0,E=g;v<h;++v){let x=p[v];x=="m"?p[v]=E:E=x}for(let v=0,E=g;v<h;++v){let x=p[v];x=="1"&&E=="r"?p[v]="n":s.test(x)&&(E=x,x=="r"&&(p[v]="R"))}for(let v=1,E=p[0];v<h-1;++v){let x=p[v];x=="+"&&E=="1"&&p[v+1]=="1"?p[v]="1":x==","&&E==p[v+1]&&(E=="1"||E=="n")&&(p[v]=E),E=x}for(let v=0;v<h;++v){let E=p[v];if(E==",")p[v]="N";else if(E=="%"){let x;for(x=v+1;x<h&&p[x]=="%";++x);let S=v&&p[v-1]=="!"||x<h&&p[x]=="1"?"1":"N";for(let N=v;N<x;++N)p[N]=S;v=x-1}}for(let v=0,E=g;v<h;++v){let x=p[v];E=="L"&&x=="1"?p[v]="L":s.test(x)&&(E=x)}for(let v=0;v<h;++v)if(o.test(p[v])){let E;for(E=v+1;E<h&&o.test(p[E]);++E);let x=(v?p[v-1]:g)=="L",S=(E<h?p[E]:g)=="L",N=x==S?x?"L":"R":g;for(let $=v;$<E;++$)p[$]=N;v=E-1}let w=[],y;for(let v=0;v<h;)if(a.test(p[v])){let E=v;for(++v;v<h&&a.test(p[v]);++v);w.push(new f(0,E,v))}else{let E=v,x=w.length,S=d=="rtl"?1:0;for(++v;v<h&&p[v]!="L";++v);for(let N=E;N<v;)if(l.test(p[N])){E<N&&(w.splice(x,0,new f(1,E,N)),x+=S);let $=N;for(++N;N<v&&l.test(p[N]);++N);w.splice(x,0,new f(2,$,N)),x+=S,E=N}else++N;E<v&&w.splice(x,0,new f(1,E,v))}return d=="ltr"&&(w[0].level==1&&(y=u.match(/^\s+/))&&(w[0].from=y[0].length,w.unshift(new f(0,0,y[0].length))),qt(w).level==1&&(y=u.match(/\s+$/))&&(qt(w).to-=y[0].length,w.push(new f(0,h-y[0].length,h)))),d=="rtl"?w.reverse():w}}();function ja(e,t){let r=e.order;return r==null&&(r=e.order=qDe(e.text,t)),r}var n9=[],ct=function(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{let n=e._handlers||(e._handlers={});n[t]=(n[t]||n9).concat(r)}};function AI(e,t){return e._handlers&&e._handlers[t]||n9}function Ui(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else{let n=e._handlers,o=n&&n[t];if(o){let s=yn(o,r);s>-1&&(n[t]=o.slice(0,s).concat(o.slice(s+1)))}}}function Fr(e,t){let r=AI(e,t);if(!r.length)return;let n=Array.prototype.slice.call(arguments,2);for(let o=0;o<r.length;++o)r[o].apply(null,n)}function Jr(e,t,r){return typeof t=="string"&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Fr(e,r||t.type,e,t),$I(t)||t.codemirrorIgnore}function i9(e){let t=e._handlers&&e._handlers.cursorActivity;if(!t)return;let r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]);for(let n=0;n<t.length;++n)yn(r,t[n])==-1&&r.push(t[n])}function bo(e,t){return AI(e,t).length>0}function Mh(e){e.prototype.on=function(t,r){ct(this,t,r)},e.prototype.off=function(t,r){Ui(this,t,r)}}function ti(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function o9(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function $I(e){return e.defaultPrevented!=null?e.defaultPrevented:e.returnValue==!1}function mg(e){ti(e),o9(e)}function TI(e){return e.target||e.srcElement}function s9(e){let t=e.which;return t==null&&(e.button&1?t=1:e.button&2?t=3:e.button&4&&(t=2)),co&&e.ctrlKey&&t==1&&(t=3),t}var HDe=function(){if(Ft&&lr<9)return!1;let e=ft("div");return"draggable"in e||"dragDrop"in e}(),II;function VDe(e){if(II==null){let r=ft("span","​");Bi(e,ft("span",[r,document.createTextNode("x")])),e.firstChild.offsetHeight!=0&&(II=r.offsetWidth<=1&&r.offsetHeight>2&&!(Ft&&lr<8))}let t=II?ft("span","​"):ft("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return t.setAttribute("cm-text",""),t}var NI;function GDe(e){if(NI!=null)return NI;let t=Bi(e,document.createTextNode("AخA")),r=dc(t,0,1).getBoundingClientRect(),n=dc(t,1,2).getBoundingClientRect();return pu(e),!r||r.left==r.right?!1:NI=n.right-r.right<3}var kI=`

b`.split(/\n/).length!=3?e=>{let t=0,r=[],n=e.length;for(;t<=n;){let o=e.indexOf(`
`,t);o==-1&&(o=e.length);let s=e.slice(t,e.charAt(o-1)=="\r"?o-1:o),a=s.indexOf("\r");a!=-1?(r.push(s.slice(0,a)),t+=a+1):(r.push(s),t=o+1)}return r}:e=>e.split(/\r\n?|\n/),zDe=window.getSelection?e=>{try{return e.selectionStart!=e.selectionEnd}catch{return!1}}:e=>{let t;try{t=e.ownerDocument.selection.createRange()}catch{}return!t||t.parentElement()!=e?!1:t.compareEndPoints("StartToEnd",t)!=0},KDe=(()=>{let e=ft("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),typeof e.oncopy=="function")})(),CI=null;function JDe(e){if(CI!=null)return CI;let t=Bi(e,ft("span","x")),r=t.getBoundingClientRect(),n=dc(t,0,1).getBoundingClientRect();return CI=Math.abs(r.left-n.left)>1}var OI={},Ph={};function YDe(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),OI[e]=t}function XDe(e,t){Ph[e]=t}function R0(e){if(typeof e=="string"&&Ph.hasOwnProperty(e))e=Ph[e];else if(e&&typeof e.name=="string"&&Ph.hasOwnProperty(e.name)){let t=Ph[e.name];typeof t=="string"&&(t={name:t}),e=e9(t,e),e.name=t.name}else{if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return R0("application/xml");if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return R0("application/json")}return typeof e=="string"?{name:e}:e||{name:"null"}}function LI(e,t){t=R0(t);let r=OI[t.name];if(!r)return LI(e,"text/plain");let n=r(e,t);if(Fh.hasOwnProperty(t.name)){let o=Fh[t.name];for(let s in o)o.hasOwnProperty(s)&&(n.hasOwnProperty(s)&&(n["_"+s]=n[s]),n[s]=o[s])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(let o in t.modeProps)n[o]=t.modeProps[o];return n}var Fh={};function QDe(e,t){let r=Fh.hasOwnProperty(e)?Fh[e]:Fh[e]={};pc(t,r)}function bc(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);let r={};for(let n in t){let o=t[n];o instanceof Array&&(o=o.concat([])),r[n]=o}return r}function DI(e,t){let r;for(;e.innerMode&&(r=e.innerMode(t),!(!r||r.mode==e));)t=r.state,e=r.mode;return r||{mode:e,state:t}}function a9(e,t,r){return e.startState?e.startState(t,r):!0}var ZDe=class{constructor(t,r,n){this.pos=this.start=0,this.string=t,this.tabSize=r||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n}eol(){return this.pos>=this.string.length}sol(){return this.pos==this.lineStart}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(t){let r=this.string.charAt(this.pos),n;if(typeof t=="string"?n=r==t:n=r&&(t.test?t.test(r):t(r)),n)return++this.pos,r}eatWhile(t){let r=this.pos;for(;this.eat(t););return this.pos>r}eatSpace(){let t=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t}skipToEnd(){this.pos=this.string.length}skipTo(t){let r=this.string.indexOf(t,this.pos);if(r>-1)return this.pos=r,!0}backUp(t){this.pos-=t}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=po(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?po(this.string,this.lineStart,this.tabSize):0)}indentation(){return po(this.string,null,this.tabSize)-(this.lineStart?po(this.string,this.lineStart,this.tabSize):0)}match(t,r,n){if(typeof t=="string"){let o=a=>n?a.toLowerCase():a,s=this.string.substr(this.pos,t.length);if(o(s)==o(t))return r!==!1&&(this.pos+=t.length),!0}else{let o=this.string.slice(this.pos).match(t);return o&&o.index>0?null:(o&&r!==!1&&(this.pos+=o[0].length),o)}}current(){return this.string.slice(this.start,this.pos)}hideFirstChars(t,r){this.lineStart+=t;try{return r()}finally{this.lineStart-=t}}lookAhead(t){let r=this.lineOracle;return r&&r.lookAhead(t)}baseToken(){let t=this.lineOracle;return t&&t.baseToken(this.pos)}},x0=ZDe;function it(e,t){if(t-=e.first,t<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");let r=e;for(;!r.lines;)for(let n=0;;++n){let o=r.children[n],s=o.chunkSize();if(t<s){r=o;break}t-=s}return r.lines[t]}function gc(e,t,r){let n=[],o=t.line;return e.iter(t.line,r.line+1,s=>{let a=s.text;o==r.line&&(a=a.slice(0,r.ch)),o==t.line&&(a=a.slice(t.ch)),n.push(a),++o}),n}function MI(e,t,r){let n=[];return e.iter(t,r,o=>{n.push(o.text)}),n}function Fs(e,t){let r=t-e.height;if(r)for(let n=e;n;n=n.parent)n.height+=r}function zt(e){if(e.parent==null)return null;let t=e.parent,r=yn(t.lines,e);for(let n=t.parent;n;t=n,n=n.parent)for(let o=0;n.children[o]!=t;++o)r+=n.children[o].chunkSize();return r+t.first}function _c(e,t){let r=e.first;e:do{for(let o=0;o<e.children.length;++o){let s=e.children[o],a=s.height;if(t<a){e=s;continue e}t-=a,r+=s.chunkSize()}return r}while(!e.lines);let n=0;for(;n<e.lines.length;++n){let o=e.lines[n],s=o.height;if(t<s)break;t-=s}return r+n}function vg(e,t){return t>=e.first&&t<e.first+e.size}function PI(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function Le(e,t,r=null){if(!(this instanceof Le))return new Le(e,t,r);this.line=e,this.ch=t,this.sticky=r}function wt(e,t){return e.line-t.line||e.ch-t.ch}function FI(e,t){return e.sticky==t.sticky&&wt(e,t)==0}function jI(e){return Le(e.line,e.ch)}function A0(e,t){return wt(e,t)<0?t:e}function $0(e,t){return wt(e,t)<0?e:t}function l9(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function mt(e,t){if(t.line<e.first)return Le(e.first,0);let r=e.first+e.size-1;return t.line>r?Le(r,it(e,r).text.length):eMe(t,it(e,t.line).text.length)}function eMe(e,t){let r=e.ch;return r==null||r>t?Le(e.line,t):r<0?Le(e.line,0):e}function u9(e,t){let r=[];for(let n=0;n<t.length;n++)r[n]=mt(e,t[n]);return r}var T0=class{constructor(e,t){this.state=e,this.lookAhead=t}},Sg=class{constructor(e,t,r,n){this.state=t,this.doc=e,this.line=r,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1}lookAhead(e){let t=this.doc.getLine(this.line+e);return t!=null&&e>this.maxLookAhead&&(this.maxLookAhead=e),t}baseToken(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;let t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}}nextLine(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--}static fromSaved(e,t,r){return t instanceof T0?new Sg(e,bc(e.mode,t.state),r,t.lookAhead):new Sg(e,bc(e.mode,t),r)}save(e){let t=e!==!1?bc(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new T0(t,this.maxLookAhead):t}};function f9(e,t,r,n){let o=[e.state.modeGen],s={};g9(e,t.text,e.doc.mode,r,(l,f)=>o.push(l,f),s,n);let a=r.state;for(let l=0;l<e.state.overlays.length;++l){r.baseTokens=o;let f=e.state.overlays[l],u=1,d=0;r.state=!0,g9(e,t.text,f.mode,r,(g,h)=>{let p=u;for(;d<g;){let w=o[u];w>g&&o.splice(u,1,g,o[u+1],w),u+=2,d=Math.min(g,w)}if(h)if(f.opaque)o.splice(p,u-p,g,"overlay "+h),u=p+2;else for(;p<u;p+=2){let w=o[p+1];o[p+1]=(w?w+" ":"")+"overlay "+h}},s),r.state=a,r.baseTokens=null,r.baseTokenPos=1}return{styles:o,classes:s.bgClass||s.textClass?s:null}}function c9(e,t,r){if(!t.styles||t.styles[0]!=e.state.modeGen){let n=Eg(e,zt(t)),o=t.text.length>e.options.maxHighlightLength&&bc(e.doc.mode,n.state),s=f9(e,t,n);o&&(n.state=o),t.stateAfter=n.save(!o),t.styles=s.styles,s.classes?t.styleClasses=s.classes:t.styleClasses&&(t.styleClasses=null),r===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function Eg(e,t,r){let n=e.doc,o=e.display;if(!n.mode.startState)return new Sg(n,!0,t);let s=tMe(e,t,r),a=s>n.first&&it(n,s-1).stateAfter,l=a?Sg.fromSaved(n,a,s):new Sg(n,a9(n.mode),s);return n.iter(s,t,f=>{WI(e,f.text,l);let u=l.line;f.stateAfter=u==t-1||u%5==0||u>=o.viewFrom&&u<o.viewTo?l.save():null,l.nextLine()}),r&&(n.modeFrontier=l.line),l}function WI(e,t,r,n){let o=e.doc.mode,s=new x0(t,e.options.tabSize,r);for(s.start=s.pos=n||0,t==""&&d9(o,r.state);!s.eol();)BI(o,s,r.state),s.start=s.pos}function d9(e,t){if(e.blankLine)return e.blankLine(t);if(!e.innerMode)return;let r=DI(e,t);if(r.mode.blankLine)return r.mode.blankLine(r.state)}function BI(e,t,r,n){for(let o=0;o<10;o++){n&&(n[0]=DI(e,r).mode);let s=e.token(t,r);if(t.pos>t.start)return s}throw new Error("Mode "+e.name+" failed to advance stream.")}var h9=class{constructor(e,t,r){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=r}};function p9(e,t,r,n){let o=e.doc,s=o.mode,a;t=mt(o,t);let l=it(o,t.line),f=Eg(e,t.line,r),u=new x0(l.text,e.options.tabSize,f),d;for(n&&(d=[]);(n||u.pos<t.ch)&&!u.eol();)u.start=u.pos,a=BI(s,u,f.state),n&&d.push(new h9(u,a,bc(o.mode,f.state)));return n?d:new h9(u,a,f.state)}function b9(e,t){if(e)for(;;){let r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);let n=r[1]?"bgClass":"textClass";t[n]==null?t[n]=r[2]:new RegExp("(?:^|\\s)"+r[2]+"(?:$|\\s)").test(t[n])||(t[n]+=" "+r[2])}return e}function g9(e,t,r,n,o,s,a){let l=r.flattenSpans;l==null&&(l=e.options.flattenSpans);let f=0,u=null,d=new x0(t,e.options.tabSize,n),g,h=e.options.addModeClass&&[null];for(t==""&&b9(d9(r,n.state),s);!d.eol();){if(d.pos>e.options.maxHighlightLength?(l=!1,a&&WI(e,t,n,d.pos),d.pos=t.length,g=null):g=b9(BI(r,d,n.state,h),s),h){let p=h[0].name;p&&(g="m-"+(g?p+" "+g:p))}if(!l||u!=g){for(;f<d.start;)f=Math.min(d.start,f+5e3),o(f,u);u=g}d.start=d.pos}for(;f<d.pos;){let p=Math.min(d.pos,f+5e3);o(p,u),f=p}}function tMe(e,t,r){let n,o,s=e.doc,a=r?-1:t-(e.doc.mode.innerMode?1e3:100);for(let l=t;l>a;--l){if(l<=s.first)return s.first;let f=it(s,l-1),u=f.stateAfter;if(u&&(!r||l+(u instanceof T0?u.lookAhead:0)<=s.modeFrontier))return l;let d=po(f.text,null,e.options.tabSize);(o==null||n>d)&&(o=l-1,n=d)}return o}function rMe(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),e.highlightFrontier<t-10)return;let r=e.first;for(let n=t-1;n>r;n--){let o=it(e,n).stateAfter;if(o&&(!(o instanceof T0)||n+o.lookAhead<t)){r=n+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,r)}var _9=!1,Wa=!1;function nMe(){_9=!0}function iMe(){Wa=!0}function I0(e,t,r){this.marker=e,this.from=t,this.to=r}function Rg(e,t){if(e)for(let r=0;r<e.length;++r){let n=e[r];if(n.marker==t)return n}}function oMe(e,t){let r;for(let n=0;n<e.length;++n)e[n]!=t&&(r||(r=[])).push(e[n]);return r}function sMe(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function aMe(e,t,r){let n;if(e)for(let o=0;o<e.length;++o){let s=e[o],a=s.marker;if(s.from==null||(a.inclusiveLeft?s.from<=t:s.from<t)||s.from==t&&a.type=="bookmark"&&(!r||!s.marker.insertLeft)){let f=s.to==null||(a.inclusiveRight?s.to>=t:s.to>t);(n||(n=[])).push(new I0(a,s.from,f?null:s.to))}}return n}function lMe(e,t,r){let n;if(e)for(let o=0;o<e.length;++o){let s=e[o],a=s.marker;if(s.to==null||(a.inclusiveRight?s.to>=t:s.to>t)||s.from==t&&a.type=="bookmark"&&(!r||s.marker.insertLeft)){let f=s.from==null||(a.inclusiveLeft?s.from<=t:s.from<t);(n||(n=[])).push(new I0(a,f?null:s.from-t,s.to==null?null:s.to-t))}}return n}function UI(e,t){if(t.full)return null;let r=vg(e,t.from.line)&&it(e,t.from.line).markedSpans,n=vg(e,t.to.line)&&it(e,t.to.line).markedSpans;if(!r&&!n)return null;let o=t.from.ch,s=t.to.ch,a=wt(t.from,t.to)==0,l=aMe(r,o,a),f=lMe(n,s,a),u=t.text.length==1,d=qt(t.text).length+(u?o:0);if(l)for(let h=0;h<l.length;++h){let p=l[h];if(p.to==null){let w=Rg(f,p.marker);w?u&&(p.to=w.to==null?null:w.to+d):p.to=o}}if(f)for(let h=0;h<f.length;++h){let p=f[h];p.to!=null&&(p.to+=d),p.from==null?Rg(l,p.marker)||(p.from=d,u&&(l||(l=[])).push(p)):(p.from+=d,u&&(l||(l=[])).push(p))}l&&(l=y9(l)),f&&f!=l&&(f=y9(f));let g=[l];if(!u){let h=t.text.length-2,p;if(h>0&&l)for(let w=0;w<l.length;++w)l[w].to==null&&(p||(p=[])).push(new I0(l[w].marker,null,null));for(let w=0;w<h;++w)g.push(p);g.push(f)}return g}function y9(e){for(let t=0;t<e.length;++t){let r=e[t];r.from!=null&&r.from==r.to&&r.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function uMe(e,t,r){let n=null;if(e.iter(t.line,r.line+1,s=>{if(s.markedSpans)for(let a=0;a<s.markedSpans.length;++a){let l=s.markedSpans[a].marker;l.readOnly&&(!n||yn(n,l)==-1)&&(n||(n=[])).push(l)}}),!n)return null;let o=[{from:t,to:r}];for(let s=0;s<n.length;++s){let a=n[s],l=a.find(0);for(let f=0;f<o.length;++f){let u=o[f];if(wt(u.to,l.from)<0||wt(u.from,l.to)>0)continue;let d=[f,1],g=wt(u.from,l.from),h=wt(u.to,l.to);(g<0||!a.inclusiveLeft&&!g)&&d.push({from:u.from,to:l.from}),(h>0||!a.inclusiveRight&&!h)&&d.push({from:l.to,to:u.to}),o.splice.apply(o,d),f+=d.length-3}}return o}function w9(e){let t=e.markedSpans;if(t){for(let r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}}function m9(e,t){if(t){for(let r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}}function N0(e){return e.inclusiveLeft?-1:0}function k0(e){return e.inclusiveRight?1:0}function qI(e,t){let r=e.lines.length-t.lines.length;if(r!=0)return r;let n=e.find(),o=t.find(),s=wt(n.from,o.from)||N0(e)-N0(t);if(s)return-s;let a=wt(n.to,o.to)||k0(e)-k0(t);return a||t.id-e.id}function v9(e,t){let r=Wa&&e.markedSpans,n;if(r)for(let o,s=0;s<r.length;++s)o=r[s],o.marker.collapsed&&(t?o.from:o.to)==null&&(!n||qI(n,o.marker)<0)&&(n=o.marker);return n}function S9(e){return v9(e,!0)}function C0(e){return v9(e,!1)}function fMe(e,t){let r=Wa&&e.markedSpans,n;if(r)for(let o=0;o<r.length;++o){let s=r[o];s.marker.collapsed&&(s.from==null||s.from<t)&&(s.to==null||s.to>t)&&(!n||qI(n,s.marker)<0)&&(n=s.marker)}return n}function E9(e,t,r,n,o){let s=it(e,t),a=Wa&&s.markedSpans;if(a)for(let l=0;l<a.length;++l){let f=a[l];if(!f.marker.collapsed)continue;let u=f.marker.find(0),d=wt(u.from,r)||N0(f.marker)-N0(o),g=wt(u.to,n)||k0(f.marker)-k0(o);if(!(d>=0&&g<=0||d<=0&&g>=0)&&(d<=0&&(f.marker.inclusiveRight&&o.inclusiveLeft?wt(u.to,r)>=0:wt(u.to,r)>0)||d>=0&&(f.marker.inclusiveRight&&o.inclusiveLeft?wt(u.from,n)<=0:wt(u.from,n)<0)))return!0}}function js(e){let t;for(;t=S9(e);)e=t.find(-1,!0).line;return e}function cMe(e){let t;for(;t=C0(e);)e=t.find(1,!0).line;return e}function dMe(e){let t,r;for(;t=C0(e);)e=t.find(1,!0).line,(r||(r=[])).push(e);return r}function HI(e,t){let r=it(e,t),n=js(r);return r==n?t:zt(n)}function R9(e,t){if(t>e.lastLine())return t;let r=it(e,t),n;if(!gu(e,r))return t;for(;n=C0(r);)r=n.find(1,!0).line;return zt(r)+1}function gu(e,t){let r=Wa&&t.markedSpans;if(r){for(let n,o=0;o<r.length;++o)if(n=r[o],!!n.marker.collapsed){if(n.from==null)return!0;if(!n.marker.widgetNode&&n.from==0&&n.marker.inclusiveLeft&&VI(e,t,n))return!0}}}function VI(e,t,r){if(r.to==null){let n=r.marker.find(1,!0);return VI(e,n.line,Rg(n.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==t.text.length)return!0;for(let n,o=0;o<t.markedSpans.length;++o)if(n=t.markedSpans[o],n.marker.collapsed&&!n.marker.widgetNode&&n.from==r.to&&(n.to==null||n.to!=r.from)&&(n.marker.inclusiveLeft||r.marker.inclusiveRight)&&VI(e,t,n))return!0}function Ba(e){e=js(e);let t=0,r=e.parent;for(let n=0;n<r.lines.length;++n){let o=r.lines[n];if(o==e)break;t+=o.height}for(let n=r.parent;n;r=n,n=r.parent)for(let o=0;o<n.children.length;++o){let s=n.children[o];if(s==r)break;t+=s.height}return t}function O0(e){if(e.height==0)return 0;let t=e.text.length,r,n=e;for(;r=S9(n);){let o=r.find(0,!0);n=o.from.line,t+=o.from.ch-o.to.ch}for(n=e;r=C0(n);){let o=r.find(0,!0);t-=n.text.length-o.from.ch,n=o.to.line,t+=n.text.length-o.to.ch}return t}function GI(e){let t=e.display,r=e.doc;t.maxLine=it(r,r.first),t.maxLineLength=O0(t.maxLine),t.maxLineChanged=!0,r.iter(n=>{let o=O0(n);o>t.maxLineLength&&(t.maxLineLength=o,t.maxLine=n)})}var xg=class{constructor(e,t,r){this.text=e,m9(this,t),this.height=r?r(this):1}lineNo(){return zt(this)}};Mh(xg);function hMe(e,t,r,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),e.order!=null&&(e.order=null),w9(e),m9(e,r);let o=n?n(e):1;o!=e.height&&Fs(e,o)}function pMe(e){e.parent=null,w9(e)}var bMe={},gMe={};function x9(e,t){if(!e||/^\s*$/.test(e))return null;let r=t.addModeClass?gMe:bMe;return r[e]||(r[e]=e.replace(/\S+/g,"cm-$&"))}function A9(e,t){let r=Lh("span",null,null,On?"padding-right: .1px":null),n={pre:Lh("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(let o=0;o<=(t.rest?t.rest.length:0);o++){let s=o?t.rest[o-1]:t.line,a;n.pos=0,n.addToken=yMe,GDe(e.display.measure)&&(a=ja(s,e.doc.direction))&&(n.addToken=mMe(n.addToken,a)),n.map=[];let l=t!=e.display.externalMeasured&&zt(s);vMe(s,n,c9(e,s,l)),s.styleClasses&&(s.styleClasses.bgClass&&(n.bgClass=wI(s.styleClasses.bgClass,n.bgClass||"")),s.styleClasses.textClass&&(n.textClass=wI(s.styleClasses.textClass,n.textClass||""))),n.map.length==0&&n.map.push(0,0,n.content.appendChild(VDe(e.display.measure))),o==0?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(On){let o=n.content.lastChild;(/\bcm-tab\b/.test(o.className)||o.querySelector&&o.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return Fr(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=wI(n.pre.className,n.textClass||"")),n}function _Me(e){let t=ft("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function yMe(e,t,r,n,o,s,a){if(!t)return;let l=e.splitSpaces?wMe(t,e.trailingSpace):t,f=e.cm.state.specialChars,u=!1,d;if(!f.test(t))e.col+=t.length,d=document.createTextNode(l),e.map.push(e.pos,e.pos+t.length,d),Ft&&lr<9&&(u=!0),e.pos+=t.length;else{d=document.createDocumentFragment();let g=0;for(;;){f.lastIndex=g;let h=f.exec(t),p=h?h.index-g:t.length-g;if(p){let y=document.createTextNode(l.slice(g,g+p));Ft&&lr<9?d.appendChild(ft("span",[y])):d.appendChild(y),e.map.push(e.pos,e.pos+p,y),e.col+=p,e.pos+=p}if(!h)break;g+=p+1;let w;if(h[0]=="	"){let y=e.cm.options.tabSize,v=y-e.col%y;w=d.appendChild(ft("span",EI(v),"cm-tab")),w.setAttribute("role","presentation"),w.setAttribute("cm-text","	"),e.col+=v}else h[0]=="\r"||h[0]==`
`?(w=d.appendChild(ft("span",h[0]=="\r"?"␍":"␤","cm-invalidchar")),w.setAttribute("cm-text",h[0]),e.col+=1):(w=e.cm.options.specialCharPlaceholder(h[0]),w.setAttribute("cm-text",h[0]),Ft&&lr<9?d.appendChild(ft("span",[w])):d.appendChild(w),e.col+=1);e.map.push(e.pos,e.pos+1,w),e.pos++}}if(e.trailingSpace=l.charCodeAt(t.length-1)==32,r||n||o||u||s||a){let g=r||"";n&&(g+=n),o&&(g+=o);let h=ft("span",[d],g,s);if(a)for(let p in a)a.hasOwnProperty(p)&&p!="style"&&p!="class"&&h.setAttribute(p,a[p]);return e.content.appendChild(h)}e.content.appendChild(d)}function wMe(e,t){if(e.length>1&&!/  /.test(e))return e;let r=t,n="";for(let o=0;o<e.length;o++){let s=e.charAt(o);s==" "&&r&&(o==e.length-1||e.charCodeAt(o+1)==32)&&(s=" "),n+=s,r=s==" "}return n}function mMe(e,t){return(r,n,o,s,a,l,f)=>{o=o?o+" cm-force-border":"cm-force-border";let u=r.pos,d=u+n.length;for(;;){let g;for(let h=0;h<t.length&&(g=t[h],!(g.to>u&&g.from<=u));h++);if(g.to>=d)return e(r,n,o,s,a,l,f);e(r,n.slice(0,g.to-u),o,s,null,l,f),s=null,n=n.slice(g.to-u),u=g.to}}}function $9(e,t,r,n){let o=!n&&r.widgetNode;o&&e.map.push(e.pos,e.pos+t,o),!n&&e.cm.display.input.needsContentAttribute&&(o||(o=e.content.appendChild(document.createElement("span"))),o.setAttribute("cm-marker",r.id)),o&&(e.cm.display.input.setUneditable(o),e.content.appendChild(o)),e.pos+=t,e.trailingSpace=!1}function vMe(e,t,r){let n=e.markedSpans,o=e.text,s=0;if(!n){for(let x=1;x<r.length;x+=2)t.addToken(t,o.slice(s,s=r[x]),x9(r[x+1],t.cm.options));return}let a=o.length,l=0,f=1,u="",d,g,h=0,p,w,y,v,E;for(;;){if(h==l){p=w=y=g="",E=null,v=null,h=1/0;let S=[],N;for(let $=0;$<n.length;++$){let D=n[$],K=D.marker;if(K.type=="bookmark"&&D.from==l&&K.widgetNode)S.push(K);else if(D.from<=l&&(D.to==null||D.to>l||K.collapsed&&D.to==l&&D.from==l)){if(D.to!=null&&D.to!=l&&h>D.to&&(h=D.to,w=""),K.className&&(p+=" "+K.className),K.css&&(g=(g?g+";":"")+K.css),K.startStyle&&D.from==l&&(y+=" "+K.startStyle),K.endStyle&&D.to==h&&(N||(N=[])).push(K.endStyle,D.to),K.title&&((E||(E={})).title=K.title),K.attributes)for(let q in K.attributes)(E||(E={}))[q]=K.attributes[q];K.collapsed&&(!v||qI(v.marker,K)<0)&&(v=D)}else D.from>l&&h>D.from&&(h=D.from)}if(N)for(let $=0;$<N.length;$+=2)N[$+1]==h&&(w+=" "+N[$]);if(!v||v.from==l)for(let $=0;$<S.length;++$)$9(t,0,S[$]);if(v&&(v.from||0)==l){if($9(t,(v.to==null?a+1:v.to)-l,v.marker,v.from==null),v.to==null)return;v.to==l&&(v=!1)}}if(l>=a)break;let x=Math.min(a,h);for(;;){if(u){let S=l+u.length;if(!v){let N=S>x?u.slice(0,x-l):u;t.addToken(t,N,d?d+p:p,y,l+N.length==h?w:"",g,E)}if(S>=x){u=u.slice(x-l),l=x;break}l=S,y=""}u=o.slice(s,s=r[f++]),d=x9(r[f++],t.cm.options)}}}function T9(e,t,r){this.line=t,this.rest=dMe(t),this.size=this.rest?zt(qt(this.rest))-r+1:1,this.node=this.text=null,this.hidden=gu(e,t)}function L0(e,t,r){let n=[],o;for(let s=t;s<r;s=o){let a=new T9(e.doc,it(e.doc,s),s);o=s+a.size,n.push(a)}return n}var jh=null;function SMe(e){jh?jh.ops.push(e):e.ownsGroup=jh={ops:[e],delayedCallbacks:[]}}function EMe(e){let t=e.delayedCallbacks,r=0;do{for(;r<t.length;r++)t[r].call(null);for(let n=0;n<e.ops.length;n++){let o=e.ops[n];if(o.cursorActivityHandlers)for(;o.cursorActivityCalled<o.cursorActivityHandlers.length;)o.cursorActivityHandlers[o.cursorActivityCalled++].call(null,o.cm)}}while(r<t.length)}function RMe(e,t){let r=e.ownsGroup;if(r)try{EMe(r)}finally{jh=null,t(r)}}var Ag=null;function Yr(e,t){let r=AI(e,t);if(!r.length)return;let n=Array.prototype.slice.call(arguments,2),o;jh?o=jh.delayedCallbacks:Ag?o=Ag:(o=Ag=[],setTimeout(xMe,0));for(let s=0;s<r.length;++s)o.push(()=>r[s].apply(null,n))}function xMe(){let e=Ag;Ag=null;for(let t=0;t<e.length;++t)e[t]()}function I9(e,t,r,n){for(let o=0;o<t.changes.length;o++){let s=t.changes[o];s=="text"?$Me(e,t):s=="gutter"?k9(e,t,r,n):s=="class"?zI(e,t):s=="widget"&&TMe(e,t,n)}t.changes=null}function $g(e){return e.node==e.text&&(e.node=ft("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),Ft&&lr<8&&(e.node.style.zIndex=2)),e.node}function AMe(e,t){let r=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(r&&(r+=" CodeMirror-linebackground"),t.background)r?t.background.className=r:(t.background.parentNode.removeChild(t.background),t.background=null);else if(r){let n=$g(t);t.background=n.insertBefore(ft("div",null,r),n.firstChild),e.display.input.setUneditable(t.background)}}function N9(e,t){let r=e.display.externalMeasured;return r&&r.line==t.line?(e.display.externalMeasured=null,t.measure=r.measure,r.built):A9(e,t)}function $Me(e,t){let r=t.text.className,n=N9(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,zI(e,t)):r&&(t.text.className=r)}function zI(e,t){AMe(e,t),t.line.wrapClass?$g(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");let r=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=r||""}function k9(e,t,r,n){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){let s=$g(t);t.gutterBackground=ft("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,`left: ${e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth}px; width: ${n.gutterTotalWidth}px`),e.display.input.setUneditable(t.gutterBackground),s.insertBefore(t.gutterBackground,t.text)}let o=t.line.gutterMarkers;if(e.options.lineNumbers||o){let s=$g(t),a=t.gutter=ft("div",null,"CodeMirror-gutter-wrapper",`left: ${e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth}px`);if(a.setAttribute("aria-hidden","true"),e.display.input.setUneditable(a),s.insertBefore(a,t.text),t.line.gutterClass&&(a.className+=" "+t.line.gutterClass),e.options.lineNumbers&&(!o||!o["CodeMirror-linenumbers"])&&(t.lineNumber=a.appendChild(ft("div",PI(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt",`left: ${n.gutterLeft["CodeMirror-linenumbers"]}px; width: ${e.display.lineNumInnerWidth}px`))),o)for(let l=0;l<e.display.gutterSpecs.length;++l){let f=e.display.gutterSpecs[l].className,u=o.hasOwnProperty(f)&&o[f];u&&a.appendChild(ft("div",[u],"CodeMirror-gutter-elt",`left: ${n.gutterLeft[f]}px; width: ${n.gutterWidth[f]}px`))}}}function TMe(e,t,r){t.alignable&&(t.alignable=null);let n=Oh("CodeMirror-linewidget");for(let o=t.node.firstChild,s;o;o=s)s=o.nextSibling,n.test(o.className)&&t.node.removeChild(o);C9(e,t,r)}function IMe(e,t,r,n){let o=N9(e,t);return t.text=t.node=o.pre,o.bgClass&&(t.bgClass=o.bgClass),o.textClass&&(t.textClass=o.textClass),zI(e,t),k9(e,t,r,n),C9(e,t,n),t.node}function C9(e,t,r){if(O9(e,t.line,t,r,!0),t.rest)for(let n=0;n<t.rest.length;n++)O9(e,t.rest[n],t,r,!1)}function O9(e,t,r,n,o){if(!t.widgets)return;let s=$g(r);for(let a=0,l=t.widgets;a<l.length;++a){let f=l[a],u=ft("div",[f.node],"CodeMirror-linewidget"+(f.className?" "+f.className:""));f.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),NMe(f,u,r,n),e.display.input.setUneditable(u),o&&f.above?s.insertBefore(u,r.gutter||r.text):s.appendChild(u),Yr(f,"redraw")}}function NMe(e,t,r,n){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);let o=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(o-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=o+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function Tg(e){if(e.height!=null)return e.height;let t=e.doc.cm;if(!t)return 0;if(!bu(document.body,e.node)){let r="position: relative;";e.coverGutter&&(r+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(r+="width: "+t.display.wrapper.clientWidth+"px;"),Bi(t.display.measure,ft("div",[e.node],null,r))}return e.height=e.node.parentNode.offsetHeight}function Ua(e,t){for(let r=TI(t);r!=e.wrapper;r=r.parentNode)if(!r||r.nodeType==1&&r.getAttribute("cm-ignore-events")=="true"||r.parentNode==e.sizer&&r!=e.mover)return!0}function D0(e){return e.lineSpace.offsetTop}function KI(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function L9(e){if(e.cachedPaddingH)return e.cachedPaddingH;let t=Bi(e.measure,ft("pre","x","CodeMirror-line-like")),r=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,n={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return!isNaN(n.left)&&!isNaN(n.right)&&(e.cachedPaddingH=n),n}function Ws(e){return QG-e.display.nativeBarWidth}function yc(e){return e.display.scroller.clientWidth-Ws(e)-e.display.barWidth}function JI(e){return e.display.scroller.clientHeight-Ws(e)-e.display.barHeight}function kMe(e,t,r){let n=e.options.lineWrapping,o=n&&yc(e);if(!t.measure.heights||n&&t.measure.width!=o){let s=t.measure.heights=[];if(n){t.measure.width=o;let a=t.text.firstChild.getClientRects();for(let l=0;l<a.length-1;l++){let f=a[l],u=a[l+1];Math.abs(f.bottom-u.bottom)>2&&s.push((f.bottom+u.top)/2-r.top)}}s.push(r.bottom-r.top)}}function D9(e,t,r){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(let n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(let n=0;n<e.rest.length;n++)if(zt(e.rest[n])>r)return{map:e.measure.maps[n],cache:e.measure.caches[n],before:!0}}function CMe(e,t){t=js(t);let r=zt(t),n=e.display.externalMeasured=new T9(e.doc,t,r);n.lineN=r;let o=n.built=A9(e,n);return n.text=o.pre,Bi(e.display.lineMeasure,o.pre),n}function M9(e,t,r,n){return Bs(e,Wh(e,t),r,n)}function YI(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[vc(e,t)];let r=e.display.externalMeasured;if(r&&t>=r.lineN&&t<r.lineN+r.size)return r}function Wh(e,t){let r=zt(t),n=YI(e,r);n&&!n.text?n=null:n&&n.changes&&(I9(e,n,r,rN(e)),e.curOp.forceUpdate=!0),n||(n=CMe(e,t));let o=D9(n,t,r);return{line:t,view:n,rect:null,map:o.map,cache:o.cache,before:o.before,hasHeights:!1}}function Bs(e,t,r,n,o){t.before&&(r=-1);let s=r+(n||""),a;return t.cache.hasOwnProperty(s)?a=t.cache[s]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(kMe(e,t.view,t.rect),t.hasHeights=!0),a=LMe(e,t,r,n),a.bogus||(t.cache[s]=a)),{left:a.left,right:a.right,top:o?a.rtop:a.top,bottom:o?a.rbottom:a.bottom}}var P9={left:0,right:0,top:0,bottom:0};function F9(e,t,r){let n,o,s,a,l,f;for(let u=0;u<e.length;u+=3)if(l=e[u],f=e[u+1],t<l?(o=0,s=1,a="left"):t<f?(o=t-l,s=o+1):(u==e.length-3||t==f&&e[u+3]>t)&&(s=f-l,o=s-1,t>=f&&(a="right")),o!=null){if(n=e[u+2],l==f&&r==(n.insertLeft?"left":"right")&&(a=r),r=="left"&&o==0)for(;u&&e[u-2]==e[u-3]&&e[u-1].insertLeft;)n=e[(u-=3)+2],a="left";if(r=="right"&&o==f-l)for(;u<e.length-3&&e[u+3]==e[u+4]&&!e[u+5].insertLeft;)n=e[(u+=3)+2],a="right";break}return{node:n,start:o,end:s,collapse:a,coverStart:l,coverEnd:f}}function OMe(e,t){let r=P9;if(t=="left")for(let n=0;n<e.length&&(r=e[n]).left==r.right;n++);else for(let n=e.length-1;n>=0&&(r=e[n]).left==r.right;n--);return r}function LMe(e,t,r,n){let o=F9(t.map,r,n),s=o.node,a=o.start,l=o.end,f=o.collapse,u;if(s.nodeType==3){for(let x=0;x<4;x++){for(;a&&xI(t.line.text.charAt(o.coverStart+a));)--a;for(;o.coverStart+l<o.coverEnd&&xI(t.line.text.charAt(o.coverStart+l));)++l;if(Ft&&lr<9&&a==0&&l==o.coverEnd-o.coverStart?u=s.parentNode.getBoundingClientRect():u=OMe(dc(s,a,l).getClientRects(),n),u.left||u.right||a==0)break;l=a,a=a-1,f="right"}Ft&&lr<11&&(u=DMe(e.display.measure,u))}else{a>0&&(f=n="right");let x;e.options.lineWrapping&&(x=s.getClientRects()).length>1?u=x[n=="right"?x.length-1:0]:u=s.getBoundingClientRect()}if(Ft&&lr<9&&!a&&(!u||!u.left&&!u.right)){let x=s.parentNode.getClientRects()[0];x?u={left:x.left,right:x.left+Uh(e.display),top:x.top,bottom:x.bottom}:u=P9}let d=u.top-t.rect.top,g=u.bottom-t.rect.top,h=(d+g)/2,p=t.view.measure.heights,w=0;for(;w<p.length-1&&!(h<p[w]);w++);let y=w?p[w-1]:0,v=p[w],E={left:(f=="right"?u.right:u.left)-t.rect.left,right:(f=="left"?u.left:u.right)-t.rect.left,top:y,bottom:v};return!u.left&&!u.right&&(E.bogus=!0),e.options.singleCursorHeightPerLine||(E.rtop=d,E.rbottom=g),E}function DMe(e,t){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!JDe(e))return t;let r=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*r,right:t.right*r,top:t.top*n,bottom:t.bottom*n}}function j9(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(let t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function W9(e){e.display.externalMeasure=null,pu(e.display.lineMeasure);for(let t=0;t<e.display.view.length;t++)j9(e.display.view[t])}function Ig(e){W9(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function B9(){return _0&&w0?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function U9(){return _0&&w0?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function XI(e){let t=0;if(e.widgets)for(let r=0;r<e.widgets.length;++r)e.widgets[r].above&&(t+=Tg(e.widgets[r]));return t}function M0(e,t,r,n,o){if(!o){let a=XI(t);r.top+=a,r.bottom+=a}if(n=="line")return r;n||(n="local");let s=Ba(t);if(n=="local"?s+=D0(e.display):s-=e.display.viewOffset,n=="page"||n=="window"){let a=e.display.lineSpace.getBoundingClientRect();s+=a.top+(n=="window"?0:U9());let l=a.left+(n=="window"?0:B9());r.left+=l,r.right+=l}return r.top+=s,r.bottom+=s,r}function q9(e,t,r){if(r=="div")return t;let n=t.left,o=t.top;if(r=="page")n-=B9(),o-=U9();else if(r=="local"||!r){let a=e.display.sizer.getBoundingClientRect();n+=a.left,o+=a.top}let s=e.display.lineSpace.getBoundingClientRect();return{left:n-s.left,top:o-s.top}}function QI(e,t,r,n,o){return n||(n=it(e.doc,t.line)),M0(e,n,M9(e,n,t.ch,o),r)}function Go(e,t,r,n,o,s){n=n||it(e.doc,t.line),o||(o=Wh(e,n));function a(w,y){let v=Bs(e,o,w,y?"right":"left",s);return y?v.left=v.right:v.right=v.left,M0(e,n,v,r)}let l=ja(n,e.doc.direction),f=t.ch,u=t.sticky;if(f>=n.text.length?(f=n.text.length,u="before"):f<=0&&(f=0,u="after"),!l)return a(u=="before"?f-1:f,u=="before");function d(w,y,v){let E=l[y],x=E.level==1;return a(v?w-1:w,x!=v)}let g=wg(l,f,u),h=yg,p=d(f,g,u=="before");return h!=null&&(p.other=d(f,h,u!="before")),p}function H9(e,t){let r=0;t=mt(e.doc,t),e.options.lineWrapping||(r=Uh(e.display)*t.ch);let n=it(e.doc,t.line),o=Ba(n)+D0(e.display);return{left:r,right:r,top:o,bottom:o+n.height}}function ZI(e,t,r,n,o){let s=Le(e,t,r);return s.xRel=o,n&&(s.outside=n),s}function eN(e,t,r){let n=e.doc;if(r+=e.display.viewOffset,r<0)return ZI(n.first,0,null,-1,-1);let o=_c(n,r),s=n.first+n.size-1;if(o>s)return ZI(n.first+n.size-1,it(n,s).text.length,null,1,1);t<0&&(t=0);let a=it(n,o);for(;;){let l=MMe(e,a,o,t,r),f=fMe(a,l.ch+(l.xRel>0||l.outside>0?1:0));if(!f)return l;let u=f.find(1);if(u.line==o)return u;a=it(n,o=u.line)}}function V9(e,t,r,n){n-=XI(t);let o=t.text.length,s=_g(a=>Bs(e,r,a-1).bottom<=n,o,0);return o=_g(a=>Bs(e,r,a).top>n,s,o),{begin:s,end:o}}function G9(e,t,r,n){r||(r=Wh(e,t));let o=M0(e,t,Bs(e,r,n),"line").top;return V9(e,t,r,o)}function tN(e,t,r,n){return e.bottom<=r?!1:e.top>r?!0:(n?e.left:e.right)>t}function MMe(e,t,r,n,o){o-=Ba(t);let s=Wh(e,t),a=XI(t),l=0,f=t.text.length,u=!0,d=ja(t,e.doc.direction);if(d){let E=(e.options.lineWrapping?FMe:PMe)(e,t,r,s,d,n,o);u=E.level!=1,l=u?E.from:E.to-1,f=u?E.to:E.from-1}let g=null,h=null,p=_g(E=>{let x=Bs(e,s,E);return x.top+=a,x.bottom+=a,tN(x,n,o,!1)?(x.top<=o&&x.left<=n&&(g=E,h=x),!0):!1},l,f),w,y,v=!1;if(h){let E=n-h.left<h.right-n,x=E==u;p=g+(x?0:1),y=x?"after":"before",w=E?h.left:h.right}else{!u&&(p==f||p==l)&&p++,y=p==0?"after":p==t.text.length?"before":Bs(e,s,p-(u?1:0)).bottom+a<=o==u?"after":"before";let E=Go(e,Le(r,p,y),"line",t,s);w=E.left,v=o<E.top?-1:o>=E.bottom?1:0}return p=r9(t.text,p,1),ZI(r,p,y,v,n-w)}function PMe(e,t,r,n,o,s,a){let l=_g(u=>{let d=o[u],g=d.level!=1;return tN(Go(e,Le(r,g?d.to:d.from,g?"before":"after"),"line",t,n),s,a,!0)},0,o.length-1),f=o[l];if(l>0){let u=f.level!=1,d=Go(e,Le(r,u?f.from:f.to,u?"after":"before"),"line",t,n);tN(d,s,a,!0)&&d.top>a&&(f=o[l-1])}return f}function FMe(e,t,r,n,o,s,a){let{begin:l,end:f}=V9(e,t,n,a);/\s/.test(t.text.charAt(f-1))&&f--;let u=null,d=null;for(let g=0;g<o.length;g++){let h=o[g];if(h.from>=f||h.to<=l)continue;let p=h.level!=1,w=Bs(e,n,p?Math.min(f,h.to)-1:Math.max(l,h.from)).right,y=w<s?s-w+1e9:w-s;(!u||d>y)&&(u=h,d=y)}return u||(u=o[o.length-1]),u.from<l&&(u={from:l,to:u.to,level:u.level}),u.to>f&&(u={from:u.from,to:f,level:u.level}),u}var wc;function Bh(e){if(e.cachedTextHeight!=null)return e.cachedTextHeight;if(wc==null){wc=ft("pre",null,"CodeMirror-line-like");for(let r=0;r<49;++r)wc.appendChild(document.createTextNode("x")),wc.appendChild(ft("br"));wc.appendChild(document.createTextNode("x"))}Bi(e.measure,wc);let t=wc.offsetHeight/50;return t>3&&(e.cachedTextHeight=t),pu(e.measure),t||1}function Uh(e){if(e.cachedCharWidth!=null)return e.cachedCharWidth;let t=ft("span","xxxxxxxxxx"),r=ft("pre",[t],"CodeMirror-line-like");Bi(e.measure,r);let n=t.getBoundingClientRect(),o=(n.right-n.left)/10;return o>2&&(e.cachedCharWidth=o),o||10}function rN(e){let t=e.display,r={},n={},o=t.gutters.clientLeft;for(let s=t.gutters.firstChild,a=0;s;s=s.nextSibling,++a){let l=e.display.gutterSpecs[a].className;r[l]=s.offsetLeft+s.clientLeft+o,n[l]=s.clientWidth}return{fixedPos:nN(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function nN(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function z9(e){let t=Bh(e.display),r=e.options.lineWrapping,n=r&&Math.max(5,e.display.scroller.clientWidth/Uh(e.display)-3);return o=>{if(gu(e.doc,o))return 0;let s=0;if(o.widgets)for(let a=0;a<o.widgets.length;a++)o.widgets[a].height&&(s+=o.widgets[a].height);return r?s+(Math.ceil(o.text.length/n)||1)*t:s+t}}function iN(e){let t=e.doc,r=z9(e);t.iter(n=>{let o=r(n);o!=n.height&&Fs(n,o)})}function mc(e,t,r,n){let o=e.display;if(!r&&TI(t).getAttribute("cm-not-content")=="true")return null;let s,a,l=o.lineSpace.getBoundingClientRect();try{s=t.clientX-l.left,a=t.clientY-l.top}catch{return null}let f=eN(e,s,a),u;if(n&&f.xRel>0&&(u=it(e.doc,f.line).text).length==f.ch){let d=po(u,u.length,e.options.tabSize)-u.length;f=Le(f.line,Math.max(0,Math.round((s-L9(e.display).left)/Uh(e.display))-d))}return f}function vc(e,t){if(t>=e.display.viewTo||(t-=e.display.viewFrom,t<0))return null;let r=e.display.view;for(let n=0;n<r.length;n++)if(t-=r[n].size,t<0)return n}function ri(e,t,r,n){t==null&&(t=e.doc.first),r==null&&(r=e.doc.first+e.doc.size),n||(n=0);let o=e.display;if(n&&r<o.viewTo&&(o.updateLineNumbers==null||o.updateLineNumbers>t)&&(o.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=o.viewTo)Wa&&HI(e.doc,t)<o.viewTo&&yu(e);else if(r<=o.viewFrom)Wa&&R9(e.doc,r+n)>o.viewFrom?yu(e):(o.viewFrom+=n,o.viewTo+=n);else if(t<=o.viewFrom&&r>=o.viewTo)yu(e);else if(t<=o.viewFrom){let a=P0(e,r,r+n,1);a?(o.view=o.view.slice(a.index),o.viewFrom=a.lineN,o.viewTo+=n):yu(e)}else if(r>=o.viewTo){let a=P0(e,t,t,-1);a?(o.view=o.view.slice(0,a.index),o.viewTo=a.lineN):yu(e)}else{let a=P0(e,t,t,-1),l=P0(e,r,r+n,1);a&&l?(o.view=o.view.slice(0,a.index).concat(L0(e,a.lineN,l.lineN)).concat(o.view.slice(l.index)),o.viewTo+=n):yu(e)}let s=o.externalMeasured;s&&(r<s.lineN?s.lineN+=n:t<s.lineN+s.size&&(o.externalMeasured=null))}function _u(e,t,r){e.curOp.viewChanged=!0;let n=e.display,o=e.display.externalMeasured;if(o&&t>=o.lineN&&t<o.lineN+o.size&&(n.externalMeasured=null),t<n.viewFrom||t>=n.viewTo)return;let s=n.view[vc(e,t)];if(s.node==null)return;let a=s.changes||(s.changes=[]);yn(a,r)==-1&&a.push(r)}function yu(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function P0(e,t,r,n){let o=vc(e,t),s,a=e.display.view;if(!Wa||r==e.doc.first+e.doc.size)return{index:o,lineN:r};let l=e.display.viewFrom;for(let f=0;f<o;f++)l+=a[f].size;if(l!=t){if(n>0){if(o==a.length-1)return null;s=l+a[o].size-t,o++}else s=l-t;t+=s,r+=s}for(;HI(e.doc,r)!=r;){if(o==(n<0?0:a.length-1))return null;r+=n*a[o-(n<0?1:0)].size,o+=n}return{index:o,lineN:r}}function jMe(e,t,r){let n=e.display;n.view.length==0||t>=n.viewTo||r<=n.viewFrom?(n.view=L0(e,t,r),n.viewFrom=t):(n.viewFrom>t?n.view=L0(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(vc(e,t))),n.viewFrom=t,n.viewTo<r?n.view=n.view.concat(L0(e,n.viewTo,r)):n.viewTo>r&&(n.view=n.view.slice(0,vc(e,r)))),n.viewTo=r}function K9(e){let t=e.display.view,r=0;for(let n=0;n<t.length;n++){let o=t[n];!o.hidden&&(!o.node||o.changes)&&++r}return r}function Ng(e){e.display.input.showSelection(e.display.input.prepareSelection())}function J9(e,t=!0){let r=e.doc,n={},o=n.cursors=document.createDocumentFragment(),s=n.selection=document.createDocumentFragment();for(let a=0;a<r.sel.ranges.length;a++){if(!t&&a==r.sel.primIndex)continue;let l=r.sel.ranges[a];if(l.from().line>=e.display.viewTo||l.to().line<e.display.viewFrom)continue;let f=l.empty();(f||e.options.showCursorWhenSelecting)&&Y9(e,l.head,o),f||WMe(e,l,s)}return n}function Y9(e,t,r){let n=Go(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),o=r.appendChild(ft("div"," ","CodeMirror-cursor"));if(o.style.left=n.left+"px",o.style.top=n.top+"px",o.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",n.other){let s=r.appendChild(ft("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));s.style.display="",s.style.left=n.other.left+"px",s.style.top=n.other.top+"px",s.style.height=(n.other.bottom-n.other.top)*.85+"px"}}function F0(e,t){return e.top-t.top||e.left-t.left}function WMe(e,t,r){let n=e.display,o=e.doc,s=document.createDocumentFragment(),a=L9(e.display),l=a.left,f=Math.max(n.sizerWidth,yc(e)-n.sizer.offsetLeft)-a.right,u=o.direction=="ltr";function d(w,y,v,E){y<0&&(y=0),y=Math.round(y),E=Math.round(E),s.appendChild(ft("div",null,"CodeMirror-selected",`position: absolute; left: ${w}px;
                             top: ${y}px; width: ${v??f-w}px;
                             height: ${E-y}px`))}function g(w,y,v){let E=it(o,w),x=E.text.length,S,N;function $(q,k){return QI(e,Le(w,q),"div",E,k)}function D(q,k,V){let j=G9(e,E,null,q),B=k=="ltr"==(V=="after")?"left":"right",A=V=="after"?j.begin:j.end-(/\s/.test(E.text.charAt(j.end-1))?2:1);return $(A,B)[B]}let K=ja(E,o.direction);return UDe(K,y||0,v??x,(q,k,V,j)=>{let B=V=="ltr",A=$(q,B?"left":"right"),U=$(k-1,B?"right":"left"),G=y==null&&q==0,H=v==null&&k==x,Q=j==0,ne=!K||j==K.length-1;if(U.top-A.top<=3){let se=(u?G:H)&&Q,ae=(u?H:G)&&ne,Z=se?l:(B?A:U).left,ge=ae?f:(B?U:A).right;d(Z,A.top,ge-Z,A.bottom)}else{let se,ae,Z,ge;B?(se=u&&G&&Q?l:A.left,ae=u?f:D(q,V,"before"),Z=u?l:D(k,V,"after"),ge=u&&H&&ne?f:U.right):(se=u?D(q,V,"before"):l,ae=!u&&G&&Q?f:A.right,Z=!u&&H&&ne?l:U.left,ge=u?D(k,V,"after"):f),d(se,A.top,ae-se,A.bottom),A.bottom<U.top&&d(l,A.bottom,null,U.top),d(Z,U.top,ge-Z,U.bottom)}(!S||F0(A,S)<0)&&(S=A),F0(U,S)<0&&(S=U),(!N||F0(A,N)<0)&&(N=A),F0(U,N)<0&&(N=U)}),{start:S,end:N}}let h=t.from(),p=t.to();if(h.line==p.line)g(h.line,h.ch,p.ch);else{let w=it(o,h.line),y=it(o,p.line),v=js(w)==js(y),E=g(h.line,h.ch,v?w.text.length+1:null).end,x=g(p.line,v?0:null,p.ch).start;v&&(E.top<x.top-2?(d(E.right,E.top,null,E.bottom),d(l,x.top,x.left,x.bottom)):d(E.right,E.top,x.left-E.right,E.bottom)),E.bottom<x.top&&d(l,E.bottom,null,x.top)}r.appendChild(s)}function oN(e){if(!e.state.focused)return;let t=e.display;clearInterval(t.blinker);let r=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(()=>{e.hasFocus()||qh(e),t.cursorDiv.style.visibility=(r=!r)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}function X9(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||aN(e))}function sN(e){e.state.delayingBlurEvent=!0,setTimeout(()=>{e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&qh(e))},100)}function aN(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),e.options.readOnly!="nocursor"&&(e.state.focused||(Fr(e,"focus",e,t),e.state.focused=!0,hc(e.display.wrapper,"CodeMirror-focused"),!e.curOp&&e.display.selForContextMenu!=e.doc.sel&&(e.display.input.reset(),On&&setTimeout(()=>e.display.input.reset(!0),20)),e.display.input.receivedFocus()),oN(e))}function qh(e,t){e.state.delayingBlurEvent||(e.state.focused&&(Fr(e,"blur",e,t),e.state.focused=!1,cc(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(()=>{e.state.focused||(e.display.shift=!1)},150))}function j0(e){let t=e.display,r=t.lineDiv.offsetTop;for(let n=0;n<t.view.length;n++){let o=t.view[n],s=e.options.lineWrapping,a,l=0;if(o.hidden)continue;if(Ft&&lr<8){let u=o.node.offsetTop+o.node.offsetHeight;a=u-r,r=u}else{let u=o.node.getBoundingClientRect();a=u.bottom-u.top,!s&&o.text.firstChild&&(l=o.text.firstChild.getBoundingClientRect().right-u.left-1)}let f=o.line.height-a;if((f>.005||f<-.005)&&(Fs(o.line,a),Q9(o.line),o.rest))for(let u=0;u<o.rest.length;u++)Q9(o.rest[u]);if(l>e.display.sizerWidth){let u=Math.ceil(l/Uh(e.display));u>e.display.maxLineLength&&(e.display.maxLineLength=u,e.display.maxLine=o.line,e.display.maxLineChanged=!0)}}}function Q9(e){if(e.widgets)for(let t=0;t<e.widgets.length;++t){let r=e.widgets[t],n=r.node.parentNode;n&&(r.height=n.offsetHeight)}}function W0(e,t,r){let n=r&&r.top!=null?Math.max(0,r.top):e.scroller.scrollTop;n=Math.floor(n-D0(e));let o=r&&r.bottom!=null?r.bottom:n+e.wrapper.clientHeight,s=_c(t,n),a=_c(t,o);if(r&&r.ensure){let l=r.ensure.from.line,f=r.ensure.to.line;l<s?(s=l,a=_c(t,Ba(it(t,l))+e.wrapper.clientHeight)):Math.min(f,t.lastLine())>=a&&(s=_c(t,Ba(it(t,f))-e.wrapper.clientHeight),a=f)}return{from:s,to:Math.max(a,s+1)}}function BMe(e,t){if(Jr(e,"scrollCursorIntoView"))return;let r=e.display,n=r.sizer.getBoundingClientRect(),o=null;if(t.top+n.top<0?o=!0:t.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),o!=null&&!MDe){let s=ft("div","​",null,`position: absolute;
                         top: ${t.top-r.viewOffset-D0(e.display)}px;
                         height: ${t.bottom-t.top+Ws(e)+r.barHeight}px;
                         left: ${t.left}px; width: ${Math.max(2,t.right-t.left)}px;`);e.display.lineSpace.appendChild(s),s.scrollIntoView(o),e.display.lineSpace.removeChild(s)}}function UMe(e,t,r,n){n==null&&(n=0);let o;!e.options.lineWrapping&&t==r&&(t=t.ch?Le(t.line,t.sticky=="before"?t.ch-1:t.ch,"after"):t,r=t.sticky=="before"?Le(t.line,t.ch+1,"before"):t);for(let s=0;s<5;s++){let a=!1,l=Go(e,t),f=!r||r==t?l:Go(e,r);o={left:Math.min(l.left,f.left),top:Math.min(l.top,f.top)-n,right:Math.max(l.left,f.left),bottom:Math.max(l.bottom,f.bottom)+n};let u=lN(e,o),d=e.doc.scrollTop,g=e.doc.scrollLeft;if(u.scrollTop!=null&&(Cg(e,u.scrollTop),Math.abs(e.doc.scrollTop-d)>1&&(a=!0)),u.scrollLeft!=null&&(Sc(e,u.scrollLeft),Math.abs(e.doc.scrollLeft-g)>1&&(a=!0)),!a)break}return o}function qMe(e,t){let r=lN(e,t);r.scrollTop!=null&&Cg(e,r.scrollTop),r.scrollLeft!=null&&Sc(e,r.scrollLeft)}function lN(e,t){let r=e.display,n=Bh(e.display);t.top<0&&(t.top=0);let o=e.curOp&&e.curOp.scrollTop!=null?e.curOp.scrollTop:r.scroller.scrollTop,s=JI(e),a={};t.bottom-t.top>s&&(t.bottom=t.top+s);let l=e.doc.height+KI(r),f=t.top<n,u=t.bottom>l-n;if(t.top<o)a.scrollTop=f?0:t.top;else if(t.bottom>o+s){let w=Math.min(t.top,(u?l:t.bottom)-s);w!=o&&(a.scrollTop=w)}let d=e.options.fixedGutter?0:r.gutters.offsetWidth,g=e.curOp&&e.curOp.scrollLeft!=null?e.curOp.scrollLeft:r.scroller.scrollLeft-d,h=yc(e)-r.gutters.offsetWidth,p=t.right-t.left>h;return p&&(t.right=t.left+h),t.left<10?a.scrollLeft=0:t.left<g?a.scrollLeft=Math.max(0,t.left+d-(p?0:10)):t.right>h+g-3&&(a.scrollLeft=t.right+(p?0:10)-h),a}function uN(e,t){t!=null&&(B0(e),e.curOp.scrollTop=(e.curOp.scrollTop==null?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Hh(e){B0(e);let t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function kg(e,t,r){(t!=null||r!=null)&&B0(e),t!=null&&(e.curOp.scrollLeft=t),r!=null&&(e.curOp.scrollTop=r)}function HMe(e,t){B0(e),e.curOp.scrollToPos=t}function B0(e){let t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;let r=H9(e,t.from),n=H9(e,t.to);Z9(e,r,n,t.margin)}}function Z9(e,t,r,n){let o=lN(e,{left:Math.min(t.left,r.left),top:Math.min(t.top,r.top)-n,right:Math.max(t.right,r.right),bottom:Math.max(t.bottom,r.bottom)+n});kg(e,o.scrollLeft,o.scrollTop)}function Cg(e,t){Math.abs(e.doc.scrollTop-t)<2||(Fa||cN(e,{top:t}),ez(e,t,!0),Fa&&cN(e),Lg(e,100))}function ez(e,t,r){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),!(e.display.scroller.scrollTop==t&&!r)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function Sc(e,t,r,n){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),!((r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!n)&&(e.doc.scrollLeft=t,sz(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Og(e){let t=e.display,r=t.gutters.offsetWidth,n=Math.round(e.doc.height+KI(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+Ws(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}var VMe=class{constructor(e,t,r){this.cm=r;let n=this.vert=ft("div",[ft("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=ft("div",[ft("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");n.tabIndex=o.tabIndex=-1,e(n),e(o),ct(n,"scroll",()=>{n.clientHeight&&t(n.scrollTop,"vertical")}),ct(o,"scroll",()=>{o.clientWidth&&t(o.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,Ft&&lr<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}update(e){let t=e.scrollWidth>e.clientWidth+1,r=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(r){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";let o=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+o)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=r?n+"px":"0",this.horiz.style.left=e.barLeft+"px";let o=e.viewWidth-e.barLeft-(r?n:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(n==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?n:0,bottom:t?n:0}}setScrollLeft(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")}setScrollTop(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")}zeroWidthHack(){let e=co&&!DDe?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Dh,this.disableVert=new Dh}enableZeroWidthBar(e,t,r){e.style.pointerEvents="auto";function n(){let o=e.getBoundingClientRect();(r=="vert"?document.elementFromPoint(o.right-1,(o.top+o.bottom)/2):document.elementFromPoint((o.right+o.left)/2,o.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,n)}t.set(1e3,n)}clear(){let e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)}},GMe=class{update(){return{bottom:0,right:0}}setScrollLeft(){}setScrollTop(){}clear(){}};function Vh(e,t){t||(t=Og(e));let r=e.display.barWidth,n=e.display.barHeight;tz(e,t);for(let o=0;o<4&&r!=e.display.barWidth||n!=e.display.barHeight;o++)r!=e.display.barWidth&&e.options.lineWrapping&&j0(e),tz(e,Og(e)),r=e.display.barWidth,n=e.display.barHeight}function tz(e,t){let r=e.display,n=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",r.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=t.gutterWidth+"px"):r.gutterFiller.style.display=""}var rz={native:VMe,null:GMe};function nz(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&cc(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new rz[e.options.scrollbarStyle](t=>{e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),ct(t,"mousedown",()=>{e.state.focused&&setTimeout(()=>e.display.input.focus(),0)}),t.setAttribute("cm-not-content","true")},(t,r)=>{r=="horizontal"?Sc(e,t):Cg(e,t)},e),e.display.scrollbars.addClass&&hc(e.display.wrapper,e.display.scrollbars.addClass)}var zMe=0;function Ec(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++zMe},SMe(e.curOp)}function Rc(e){let t=e.curOp;t&&RMe(t,r=>{for(let n=0;n<r.ops.length;n++)r.ops[n].cm.curOp=null;KMe(r)})}function KMe(e){let t=e.ops;for(let r=0;r<t.length;r++)JMe(t[r]);for(let r=0;r<t.length;r++)YMe(t[r]);for(let r=0;r<t.length;r++)XMe(t[r]);for(let r=0;r<t.length;r++)QMe(t[r]);for(let r=0;r<t.length;r++)ZMe(t[r])}function JMe(e){let t=e.cm,r=t.display;tPe(t),e.updateMaxLine&&GI(t),e.mustUpdate=e.viewChanged||e.forceUpdate||e.scrollTop!=null||e.scrollToPos&&(e.scrollToPos.from.line<r.viewFrom||e.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new iz(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function YMe(e){e.updatedDisplay=e.mustUpdate&&fN(e.cm,e.update)}function XMe(e){let t=e.cm,r=t.display;e.updatedDisplay&&j0(t),e.barMeasure=Og(t),r.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=M9(t,r.maxLine,r.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+e.adjustWidthTo+Ws(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+e.adjustWidthTo-yc(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=r.input.prepareSelection())}function QMe(e){let t=e.cm;e.adjustWidthTo!=null&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Sc(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);let r=e.focus&&e.focus==ho();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,r),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Vh(t,e.barMeasure),e.updatedDisplay&&hN(t,e.barMeasure),e.selectionChanged&&oN(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),r&&X9(e.cm)}function ZMe(e){let t=e.cm,r=t.display,n=t.doc;if(e.updatedDisplay&&oz(t,e.update),r.wheelStartX!=null&&(e.scrollTop!=null||e.scrollLeft!=null||e.scrollToPos)&&(r.wheelStartX=r.wheelStartY=null),e.scrollTop!=null&&ez(t,e.scrollTop,e.forceScroll),e.scrollLeft!=null&&Sc(t,e.scrollLeft,!0,!0),e.scrollToPos){let a=UMe(t,mt(n,e.scrollToPos.from),mt(n,e.scrollToPos.to),e.scrollToPos.margin);BMe(t,a)}let o=e.maybeHiddenMarkers,s=e.maybeUnhiddenMarkers;if(o)for(let a=0;a<o.length;++a)o[a].lines.length||Fr(o[a],"hide");if(s)for(let a=0;a<s.length;++a)s[a].lines.length&&Fr(s[a],"unhide");r.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Fr(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Ri(e,t){if(e.curOp)return t();Ec(e);try{return t()}finally{Rc(e)}}function Xr(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Ec(e);try{return t.apply(e,arguments)}finally{Rc(e)}}}function Ln(e){return function(){if(this.curOp)return e.apply(this,arguments);Ec(this);try{return e.apply(this,arguments)}finally{Rc(this)}}}function Qr(e){return function(){let t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Ec(t);try{return e.apply(this,arguments)}finally{Rc(t)}}}function Lg(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,mI(ePe,e))}function ePe(e){let t=e.doc;if(t.highlightFrontier>=e.display.viewTo)return;let r=+new Date+e.options.workTime,n=Eg(e,t.highlightFrontier),o=[];t.iter(n.line,Math.min(t.first+t.size,e.display.viewTo+500),s=>{if(n.line>=e.display.viewFrom){let a=s.styles,l=s.text.length>e.options.maxHighlightLength?bc(t.mode,n.state):null,f=f9(e,s,n,!0);l&&(n.state=l),s.styles=f.styles;let u=s.styleClasses,d=f.classes;d?s.styleClasses=d:u&&(s.styleClasses=null);let g=!a||a.length!=s.styles.length||u!=d&&(!u||!d||u.bgClass!=d.bgClass||u.textClass!=d.textClass);for(let h=0;!g&&h<a.length;++h)g=a[h]!=s.styles[h];g&&o.push(n.line),s.stateAfter=n.save(),n.nextLine()}else s.text.length<=e.options.maxHighlightLength&&WI(e,s.text,n),s.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>r)return Lg(e,e.options.workDelay),!0}),t.highlightFrontier=n.line,t.modeFrontier=Math.max(t.modeFrontier,n.line),o.length&&Ri(e,()=>{for(let s=0;s<o.length;s++)_u(e,o[s],"text")})}var iz=class{constructor(e,t,r){let n=e.display;this.viewport=t,this.visible=W0(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=yc(e),this.force=r,this.dims=rN(e),this.events=[]}signal(e,t){bo(e,t)&&this.events.push(arguments)}finish(){for(let e=0;e<this.events.length;e++)Fr.apply(null,this.events[e])}};function tPe(e){let t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Ws(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Ws(e)+"px",t.scrollbarsClipped=!0)}function rPe(e){if(e.hasFocus())return null;let t=ho();if(!t||!bu(e.display.lineDiv,t))return null;let r={activeElt:t};if(window.getSelection){let n=window.getSelection();n.anchorNode&&n.extend&&bu(e.display.lineDiv,n.anchorNode)&&(r.anchorNode=n.anchorNode,r.anchorOffset=n.anchorOffset,r.focusNode=n.focusNode,r.focusOffset=n.focusOffset)}return r}function nPe(e){if(!(!e||!e.activeElt||e.activeElt==ho())&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&bu(document.body,e.anchorNode)&&bu(document.body,e.focusNode))){let t=window.getSelection(),r=document.createRange();r.setEnd(e.anchorNode,e.anchorOffset),r.collapse(!1),t.removeAllRanges(),t.addRange(r),t.extend(e.focusNode,e.focusOffset)}}function fN(e,t){let r=e.display,n=e.doc;if(t.editorIsHidden)return yu(e),!1;if(!t.force&&t.visible.from>=r.viewFrom&&t.visible.to<=r.viewTo&&(r.updateLineNumbers==null||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&K9(e)==0)return!1;az(e)&&(yu(e),t.dims=rN(e));let o=n.first+n.size,s=Math.max(t.visible.from-e.options.viewportMargin,n.first),a=Math.min(o,t.visible.to+e.options.viewportMargin);r.viewFrom<s&&s-r.viewFrom<20&&(s=Math.max(n.first,r.viewFrom)),r.viewTo>a&&r.viewTo-a<20&&(a=Math.min(o,r.viewTo)),Wa&&(s=HI(e.doc,s),a=R9(e.doc,a));let l=s!=r.viewFrom||a!=r.viewTo||r.lastWrapHeight!=t.wrapperHeight||r.lastWrapWidth!=t.wrapperWidth;jMe(e,s,a),r.viewOffset=Ba(it(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";let f=K9(e);if(!l&&f==0&&!t.force&&r.renderedView==r.view&&(r.updateLineNumbers==null||r.updateLineNumbers>=r.viewTo))return!1;let u=rPe(e);return f>4&&(r.lineDiv.style.display="none"),iPe(e,r.updateLineNumbers,t.dims),f>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,nPe(u),pu(r.cursorDiv),pu(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,l&&(r.lastWrapHeight=t.wrapperHeight,r.lastWrapWidth=t.wrapperWidth,Lg(e,400)),r.updateLineNumbers=null,!0}function oz(e,t){let r=t.viewport;for(let n=!0;;n=!1){if(!n||!e.options.lineWrapping||t.oldDisplayWidth==yc(e)){if(r&&r.top!=null&&(r={top:Math.min(e.doc.height+KI(e.display)-JI(e),r.top)}),t.visible=W0(e.display,e.doc,r),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break}else n&&(t.visible=W0(e.display,e.doc,r));if(!fN(e,t))break;j0(e);let o=Og(e);Ng(e),Vh(e,o),hN(e,o),t.force=!1}t.signal(e,"update",e),(e.display.viewFrom!=e.display.reportedViewFrom||e.display.viewTo!=e.display.reportedViewTo)&&(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function cN(e,t){let r=new iz(e,t);if(fN(e,r)){j0(e),oz(e,r);let n=Og(e);Ng(e),Vh(e,n),hN(e,n),r.finish()}}function iPe(e,t,r){let n=e.display,o=e.options.lineNumbers,s=n.lineDiv,a=s.firstChild;function l(d){let g=d.nextSibling;return On&&co&&e.display.currentWheelTarget==d?d.style.display="none":d.parentNode.removeChild(d),g}let f=n.view,u=n.viewFrom;for(let d=0;d<f.length;d++){let g=f[d];if(!g.hidden)if(!g.node||g.node.parentNode!=s){let h=IMe(e,g,u,r);s.insertBefore(h,a)}else{for(;a!=g.node;)a=l(a);let h=o&&t!=null&&t<=u&&g.lineNumber;g.changes&&(yn(g.changes,"gutter")>-1&&(h=!1),I9(e,g,u,r)),h&&(pu(g.lineNumber),g.lineNumber.appendChild(document.createTextNode(PI(e.options,u)))),a=g.node.nextSibling}u+=g.size}for(;a;)a=l(a)}function dN(e){let t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px",Yr(e,"gutterChanged",e)}function hN(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Ws(e)+"px"}function sz(e){let t=e.display,r=t.view;if(!t.alignWidgets&&(!t.gutters.firstChild||!e.options.fixedGutter))return;let n=nN(t)-t.scroller.scrollLeft+e.doc.scrollLeft,o=t.gutters.offsetWidth,s=n+"px";for(let a=0;a<r.length;a++)if(!r[a].hidden){e.options.fixedGutter&&(r[a].gutter&&(r[a].gutter.style.left=s),r[a].gutterBackground&&(r[a].gutterBackground.style.left=s));let l=r[a].alignable;if(l)for(let f=0;f<l.length;f++)l[f].style.left=s}e.options.fixedGutter&&(t.gutters.style.left=n+o+"px")}function az(e){if(!e.options.lineNumbers)return!1;let t=e.doc,r=PI(e.options,t.first+t.size-1),n=e.display;if(r.length!=n.lineNumChars){let o=n.measure.appendChild(ft("div",[ft("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),s=o.firstChild.offsetWidth,a=o.offsetWidth-s;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(s,n.lineGutter.offsetWidth-a)+1,n.lineNumWidth=n.lineNumInnerWidth+a,n.lineNumChars=n.lineNumInnerWidth?r.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",dN(e.display),!0}return!1}function pN(e,t){let r=[],n=!1;for(let o=0;o<e.length;o++){let s=e[o],a=null;if(typeof s!="string"&&(a=s.style,s=s.className),s=="CodeMirror-linenumbers")if(t)n=!0;else continue;r.push({className:s,style:a})}return t&&!n&&r.push({className:"CodeMirror-linenumbers",style:null}),r}function lz(e){let t=e.gutters,r=e.gutterSpecs;pu(t),e.lineGutter=null;for(let n=0;n<r.length;++n){let{className:o,style:s}=r[n],a=t.appendChild(ft("div",null,"CodeMirror-gutter "+o));s&&(a.style.cssText=s),o=="CodeMirror-linenumbers"&&(e.lineGutter=a,a.style.width=(e.lineNumWidth||1)+"px")}t.style.display=r.length?"":"none",dN(e)}function Dg(e){lz(e.display),ri(e),sz(e)}function oPe(e,t,r,n){let o=this;this.input=r,o.scrollbarFiller=ft("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=ft("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=Lh("div",null,"CodeMirror-code"),o.selectionDiv=ft("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=ft("div",null,"CodeMirror-cursors"),o.measure=ft("div",null,"CodeMirror-measure"),o.lineMeasure=ft("div",null,"CodeMirror-measure"),o.lineSpace=Lh("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");let s=Lh("div",[o.lineSpace],"CodeMirror-lines");o.mover=ft("div",[s],null,"position: relative"),o.sizer=ft("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=ft("div",null,null,"position: absolute; height: "+QG+"px; width: 1px;"),o.gutters=ft("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=ft("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=ft("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),Ft&&lr<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),!On&&!(Fa&&pg)&&(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=pN(n.gutters,n.lineNumbers),lz(o),r.init(o)}var U0=0,qi=null;Ft?qi=-.53:Fa?qi=15:_0?qi=-.7:y0&&(qi=-1/3);function uz(e){let t=e.wheelDeltaX,r=e.wheelDeltaY;return t==null&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),r==null&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:r==null&&(r=e.wheelDelta),{x:t,y:r}}function sPe(e){let t=uz(e);return t.x*=qi,t.y*=qi,t}function fz(e,t){let r=uz(t),n=r.x,o=r.y,s=e.display,a=s.scroller,l=a.scrollWidth>a.clientWidth,f=a.scrollHeight>a.clientHeight;if(n&&l||o&&f){if(o&&co&&On){e:for(let u=t.target,d=s.view;u!=a;u=u.parentNode)for(let g=0;g<d.length;g++)if(d[g].node==u){e.display.currentWheelTarget=u;break e}}if(n&&!Fa&&!Vo&&qi!=null){o&&f&&Cg(e,Math.max(0,a.scrollTop+o*qi)),Sc(e,Math.max(0,a.scrollLeft+n*qi)),(!o||o&&f)&&ti(t),s.wheelStartX=null;return}if(o&&qi!=null){let u=o*qi,d=e.doc.scrollTop,g=d+s.wrapper.clientHeight;u<0?d=Math.max(0,d+u-50):g=Math.min(e.doc.height,g+u+50),cN(e,{top:d,bottom:g})}U0<20&&(s.wheelStartX==null?(s.wheelStartX=a.scrollLeft,s.wheelStartY=a.scrollTop,s.wheelDX=n,s.wheelDY=o,setTimeout(()=>{if(s.wheelStartX==null)return;let u=a.scrollLeft-s.wheelStartX,d=a.scrollTop-s.wheelStartY,g=d&&s.wheelDY&&d/s.wheelDY||u&&s.wheelDX&&u/s.wheelDX;s.wheelStartX=s.wheelStartY=null,g&&(qi=(qi*U0+g)/(U0+1),++U0)},200)):(s.wheelDX+=n,s.wheelDY+=o))}}var wu=class{constructor(t,r){this.ranges=t,this.primIndex=r}primary(){return this.ranges[this.primIndex]}equals(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(let r=0;r<this.ranges.length;r++){let n=this.ranges[r],o=t.ranges[r];if(!FI(n.anchor,o.anchor)||!FI(n.head,o.head))return!1}return!0}deepCopy(){let t=[];for(let r=0;r<this.ranges.length;r++)t[r]=new Xt(jI(this.ranges[r].anchor),jI(this.ranges[r].head));return new wu(t,this.primIndex)}somethingSelected(){for(let t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1}contains(t,r){r||(r=t);for(let n=0;n<this.ranges.length;n++){let o=this.ranges[n];if(wt(r,o.from())>=0&&wt(t,o.to())<=0)return n}return-1}},Xt=class{constructor(e,t){this.anchor=e,this.head=t}from(){return $0(this.anchor,this.head)}to(){return A0(this.anchor,this.head)}empty(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};function zo(e,t,r){let n=e&&e.options.selectionsMayTouch,o=t[r];t.sort((s,a)=>wt(s.from(),a.from())),r=yn(t,o);for(let s=1;s<t.length;s++){let a=t[s],l=t[s-1],f=wt(l.to(),a.from());if(n&&!a.empty()?f>0:f>=0){let u=$0(l.from(),a.from()),d=A0(l.to(),a.to()),g=l.empty()?a.from()==a.head:l.from()==l.head;s<=r&&--r,t.splice(--s,2,new Xt(g?d:u,g?u:d))}}return new wu(t,r)}function mu(e,t){return new wu([new Xt(e,t||e)],0)}function vu(e){return e.text?Le(e.from.line+e.text.length-1,qt(e.text).length+(e.text.length==1?e.from.ch:0)):e.to}function cz(e,t){if(wt(e,t.from)<0)return e;if(wt(e,t.to)<=0)return vu(t);let r=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=vu(t).ch-t.to.ch),Le(r,n)}function bN(e,t){let r=[];for(let n=0;n<e.sel.ranges.length;n++){let o=e.sel.ranges[n];r.push(new Xt(cz(o.anchor,t),cz(o.head,t)))}return zo(e.cm,r,e.sel.primIndex)}function dz(e,t,r){return e.line==t.line?Le(r.line,e.ch-t.ch+r.ch):Le(r.line+(e.line-t.line),e.ch)}function aPe(e,t,r){let n=[],o=Le(e.first,0),s=o;for(let a=0;a<t.length;a++){let l=t[a],f=dz(l.from,o,s),u=dz(vu(l),o,s);if(o=l.to,s=u,r=="around"){let d=e.sel.ranges[a],g=wt(d.head,d.anchor)<0;n[a]=new Xt(g?u:f,g?f:u)}else n[a]=new Xt(f,f)}return new wu(n,e.sel.primIndex)}function gN(e){e.doc.mode=LI(e.options,e.doc.modeOption),Mg(e)}function Mg(e){e.doc.iter(t=>{t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Lg(e,100),e.state.modeGen++,e.curOp&&ri(e)}function hz(e,t){return t.from.ch==0&&t.to.ch==0&&qt(t.text)==""&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function _N(e,t,r,n){function o(y){return r?r[y]:null}function s(y,v,E){hMe(y,v,E,n),Yr(y,"change",y,t)}function a(y,v){let E=[];for(let x=y;x<v;++x)E.push(new xg(u[x],o(x),n));return E}let l=t.from,f=t.to,u=t.text,d=it(e,l.line),g=it(e,f.line),h=qt(u),p=o(u.length-1),w=f.line-l.line;if(t.full)e.insert(0,a(0,u.length)),e.remove(u.length,e.size-u.length);else if(hz(e,t)){let y=a(0,u.length-1);s(g,g.text,p),w&&e.remove(l.line,w),y.length&&e.insert(l.line,y)}else if(d==g)if(u.length==1)s(d,d.text.slice(0,l.ch)+h+d.text.slice(f.ch),p);else{let y=a(1,u.length-1);y.push(new xg(h+d.text.slice(f.ch),p,n)),s(d,d.text.slice(0,l.ch)+u[0],o(0)),e.insert(l.line+1,y)}else if(u.length==1)s(d,d.text.slice(0,l.ch)+u[0]+g.text.slice(f.ch),o(0)),e.remove(l.line+1,w);else{s(d,d.text.slice(0,l.ch)+u[0],o(0)),s(g,h+g.text.slice(f.ch),p);let y=a(1,u.length-1);w>1&&e.remove(l.line+1,w-1),e.insert(l.line+1,y)}Yr(e,"change",e,t)}function Su(e,t,r){function n(o,s,a){if(o.linked)for(let l=0;l<o.linked.length;++l){let f=o.linked[l];if(f.doc==s)continue;let u=a&&f.sharedHist;r&&!u||(t(f.doc,u),n(f.doc,o,u))}}n(e,null,!0)}function pz(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,iN(e),gN(e),bz(e),e.options.lineWrapping||GI(e),e.options.mode=t.modeOption,ri(e)}function bz(e){(e.doc.direction=="rtl"?hc:cc)(e.display.lineDiv,"CodeMirror-rtl")}function lPe(e){Ri(e,()=>{bz(e),ri(e)})}function q0(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function yN(e,t){let r={from:jI(t.from),to:vu(t),text:gc(e,t.from,t.to)};return yz(e,r,t.from.line,t.to.line+1),Su(e,n=>yz(n,r,t.from.line,t.to.line+1),!0),r}function gz(e){for(;e.length&&qt(e).ranges;)e.pop()}function uPe(e,t){if(t)return gz(e.done),qt(e.done);if(e.done.length&&!qt(e.done).ranges)return qt(e.done);if(e.done.length>1&&!e.done[e.done.length-2].ranges)return e.done.pop(),qt(e.done)}function _z(e,t,r,n){let o=e.history;o.undone.length=0;let s=+new Date,a,l;if((o.lastOp==n||o.lastOrigin==t.origin&&t.origin&&(t.origin.charAt(0)=="+"&&o.lastModTime>s-(e.cm?e.cm.options.historyEventDelay:500)||t.origin.charAt(0)=="*"))&&(a=uPe(o,o.lastOp==n)))l=qt(a.changes),wt(t.from,t.to)==0&&wt(t.from,l.to)==0?l.to=vu(t):a.changes.push(yN(e,t));else{let f=qt(o.done);for((!f||!f.ranges)&&H0(e.sel,o.done),a={changes:[yN(e,t)],generation:o.generation},o.done.push(a);o.done.length>o.undoDepth;)o.done.shift(),o.done[0].ranges||o.done.shift()}o.done.push(r),o.generation=++o.maxGeneration,o.lastModTime=o.lastSelTime=s,o.lastOp=o.lastSelOp=n,o.lastOrigin=o.lastSelOrigin=t.origin,l||Fr(e,"historyAdded")}function fPe(e,t,r,n){let o=t.charAt(0);return o=="*"||o=="+"&&r.ranges.length==n.ranges.length&&r.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function cPe(e,t,r,n){let o=e.history,s=n&&n.origin;r==o.lastSelOp||s&&o.lastSelOrigin==s&&(o.lastModTime==o.lastSelTime&&o.lastOrigin==s||fPe(e,s,qt(o.done),t))?o.done[o.done.length-1]=t:H0(t,o.done),o.lastSelTime=+new Date,o.lastSelOrigin=s,o.lastSelOp=r,n&&n.clearRedo!==!1&&gz(o.undone)}function H0(e,t){let r=qt(t);r&&r.ranges&&r.equals(e)||t.push(e)}function yz(e,t,r,n){let o=t["spans_"+e.id],s=0;e.iter(Math.max(e.first,r),Math.min(e.first+e.size,n),a=>{a.markedSpans&&((o||(o=t["spans_"+e.id]={}))[s]=a.markedSpans),++s})}function dPe(e){if(!e)return null;let t;for(let r=0;r<e.length;++r)e[r].marker.explicitlyCleared?t||(t=e.slice(0,r)):t&&t.push(e[r]);return t?t.length?t:null:e}function hPe(e,t){let r=t["spans_"+e.id];if(!r)return null;let n=[];for(let o=0;o<t.text.length;++o)n.push(dPe(r[o]));return n}function wz(e,t){let r=hPe(e,t),n=UI(e,t);if(!r)return n;if(!n)return r;for(let o=0;o<r.length;++o){let s=r[o],a=n[o];if(s&&a)e:for(let l=0;l<a.length;++l){let f=a[l];for(let u=0;u<s.length;++u)if(s[u].marker==f.marker)continue e;s.push(f)}else a&&(r[o]=a)}return r}function Gh(e,t,r){let n=[];for(let s=0;s<e.length;++s){let a=e[s];if(a.ranges){n.push(r?wu.prototype.deepCopy.call(a):a);continue}let l=a.changes,f=[];n.push({changes:f});for(let u=0;u<l.length;++u){let d=l[u],g;if(f.push({from:d.from,to:d.to,text:d.text}),t)for(var o in d)(g=o.match(/^spans_(\d+)$/))&&yn(t,Number(g[1]))>-1&&(qt(f)[o]=d[o],delete d[o])}}return n}function wN(e,t,r,n){if(n){let o=e.anchor;if(r){let s=wt(t,o)<0;s!=wt(r,o)<0?(o=t,t=r):s!=wt(t,r)<0&&(t=r)}return new Xt(o,t)}else return new Xt(r||t,t)}function V0(e,t,r,n,o){o==null&&(o=e.cm&&(e.cm.display.shift||e.extend)),wn(e,new wu([wN(e.sel.primary(),t,r,o)],0),n)}function mz(e,t,r){let n=[],o=e.cm&&(e.cm.display.shift||e.extend);for(let a=0;a<e.sel.ranges.length;a++)n[a]=wN(e.sel.ranges[a],t[a],null,o);let s=zo(e.cm,n,e.sel.primIndex);wn(e,s,r)}function mN(e,t,r,n){let o=e.sel.ranges.slice(0);o[t]=r,wn(e,zo(e.cm,o,e.sel.primIndex),n)}function vz(e,t,r,n){wn(e,mu(t,r),n)}function pPe(e,t,r){let n={ranges:t.ranges,update:function(o){this.ranges=[];for(let s=0;s<o.length;s++)this.ranges[s]=new Xt(mt(e,o[s].anchor),mt(e,o[s].head))},origin:r&&r.origin};return Fr(e,"beforeSelectionChange",e,n),e.cm&&Fr(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?zo(e.cm,n.ranges,n.ranges.length-1):t}function Sz(e,t,r){let n=e.history.done,o=qt(n);o&&o.ranges?(n[n.length-1]=t,G0(e,t,r)):wn(e,t,r)}function wn(e,t,r){G0(e,t,r),cPe(e,e.sel,e.cm?e.cm.curOp.id:NaN,r)}function G0(e,t,r){(bo(e,"beforeSelectionChange")||e.cm&&bo(e.cm,"beforeSelectionChange"))&&(t=pPe(e,t,r));let n=r&&r.bias||(wt(t.primary().head,e.sel.primary().head)<0?-1:1);Ez(e,xz(e,t,n,!0)),!(r&&r.scroll===!1)&&e.cm&&e.cm.getOption("readOnly")!="nocursor"&&Hh(e.cm)}function Ez(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,i9(e.cm)),Yr(e,"cursorActivity",e))}function Rz(e){Ez(e,xz(e,e.sel,null,!1))}function xz(e,t,r,n){let o;for(let s=0;s<t.ranges.length;s++){let a=t.ranges[s],l=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[s],f=z0(e,a.anchor,l&&l.anchor,r,n),u=z0(e,a.head,l&&l.head,r,n);(o||f!=a.anchor||u!=a.head)&&(o||(o=t.ranges.slice(0,s)),o[s]=new Xt(f,u))}return o?zo(e.cm,o,t.primIndex):t}function zh(e,t,r,n,o){let s=it(e,t.line);if(s.markedSpans)for(let a=0;a<s.markedSpans.length;++a){let l=s.markedSpans[a],f=l.marker,u="selectLeft"in f?!f.selectLeft:f.inclusiveLeft,d="selectRight"in f?!f.selectRight:f.inclusiveRight;if((l.from==null||(u?l.from<=t.ch:l.from<t.ch))&&(l.to==null||(d?l.to>=t.ch:l.to>t.ch))){if(o&&(Fr(f,"beforeCursorEnter"),f.explicitlyCleared))if(s.markedSpans){--a;continue}else break;if(!f.atomic)continue;if(r){let h=f.find(n<0?1:-1),p;if((n<0?d:u)&&(h=Az(e,h,-n,h&&h.line==t.line?s:null)),h&&h.line==t.line&&(p=wt(h,r))&&(n<0?p<0:p>0))return zh(e,h,t,n,o)}let g=f.find(n<0?-1:1);return(n<0?u:d)&&(g=Az(e,g,n,g.line==t.line?s:null)),g?zh(e,g,t,n,o):null}}return t}function z0(e,t,r,n,o){let s=n||1,a=zh(e,t,r,s,o)||!o&&zh(e,t,r,s,!0)||zh(e,t,r,-s,o)||!o&&zh(e,t,r,-s,!0);return a||(e.cantEdit=!0,Le(e.first,0))}function Az(e,t,r,n){return r<0&&t.ch==0?t.line>e.first?mt(e,Le(t.line-1)):null:r>0&&t.ch==(n||it(e,t.line)).text.length?t.line<e.first+e.size-1?Le(t.line+1,0):null:new Le(t.line,t.ch+r)}function $z(e){e.setSelection(Le(e.firstLine(),0),Le(e.lastLine()),Ps)}function Tz(e,t,r){let n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:()=>n.canceled=!0};return r&&(n.update=(o,s,a,l)=>{o&&(n.from=mt(e,o)),s&&(n.to=mt(e,s)),a&&(n.text=a),l!==void 0&&(n.origin=l)}),Fr(e,"beforeChange",e,n),e.cm&&Fr(e.cm,"beforeChange",e.cm,n),n.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Kh(e,t,r){if(e.cm){if(!e.cm.curOp)return Xr(e.cm,Kh)(e,t,r);if(e.cm.state.suppressEdits)return}if((bo(e,"beforeChange")||e.cm&&bo(e.cm,"beforeChange"))&&(t=Tz(e,t,!0),!t))return;let n=_9&&!r&&uMe(e,t.from,t.to);if(n)for(let o=n.length-1;o>=0;--o)Iz(e,{from:n[o].from,to:n[o].to,text:o?[""]:t.text,origin:t.origin});else Iz(e,t)}function Iz(e,t){if(t.text.length==1&&t.text[0]==""&&wt(t.from,t.to)==0)return;let r=bN(e,t);_z(e,t,r,e.cm?e.cm.curOp.id:NaN),Pg(e,t,r,UI(e,t));let n=[];Su(e,(o,s)=>{!s&&yn(n,o.history)==-1&&(Oz(o.history,t),n.push(o.history)),Pg(o,t,null,UI(o,t))})}function K0(e,t,r){let n=e.cm&&e.cm.state.suppressEdits;if(n&&!r)return;let o=e.history,s,a=e.sel,l=t=="undo"?o.done:o.undone,f=t=="undo"?o.undone:o.done,u=0;for(;u<l.length&&(s=l[u],!(r?s.ranges&&!s.equals(e.sel):!s.ranges));u++);if(u==l.length)return;for(o.lastOrigin=o.lastSelOrigin=null;;)if(s=l.pop(),s.ranges){if(H0(s,f),r&&!s.equals(e.sel)){wn(e,s,{clearRedo:!1});return}a=s}else if(n){l.push(s);return}else break;let d=[];H0(a,f),f.push({changes:d,generation:o.generation}),o.generation=s.generation||++o.maxGeneration;let g=bo(e,"beforeChange")||e.cm&&bo(e.cm,"beforeChange");for(let h=s.changes.length-1;h>=0;--h){let p=s.changes[h];if(p.origin=t,g&&!Tz(e,p,!1)){l.length=0;return}d.push(yN(e,p));let w=h?bN(e,p):qt(l);Pg(e,p,w,wz(e,p)),!h&&e.cm&&e.cm.scrollIntoView({from:p.from,to:vu(p)});let y=[];Su(e,(v,E)=>{!E&&yn(y,v.history)==-1&&(Oz(v.history,p),y.push(v.history)),Pg(v,p,null,wz(v,p))})}}function Nz(e,t){if(t!=0&&(e.first+=t,e.sel=new wu(S0(e.sel.ranges,r=>new Xt(Le(r.anchor.line+t,r.anchor.ch),Le(r.head.line+t,r.head.ch))),e.sel.primIndex),e.cm)){ri(e.cm,e.first,e.first-t,t);for(let r=e.cm.display,n=r.viewFrom;n<r.viewTo;n++)_u(e.cm,n,"gutter")}}function Pg(e,t,r,n){if(e.cm&&!e.cm.curOp)return Xr(e.cm,Pg)(e,t,r,n);if(t.to.line<e.first){Nz(e,t.text.length-1-(t.to.line-t.from.line));return}if(t.from.line>e.lastLine())return;if(t.from.line<e.first){let s=t.text.length-1-(e.first-t.from.line);Nz(e,s),t={from:Le(e.first,0),to:Le(t.to.line+s,t.to.ch),text:[qt(t.text)],origin:t.origin}}let o=e.lastLine();t.to.line>o&&(t={from:t.from,to:Le(o,it(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=gc(e,t.from,t.to),r||(r=bN(e,t)),e.cm?bPe(e.cm,t,n):_N(e,t,n),G0(e,r,Ps),e.cantEdit&&z0(e,Le(e.firstLine(),0))&&(e.cantEdit=!1)}function bPe(e,t,r){let n=e.doc,o=e.display,s=t.from,a=t.to,l=!1,f=s.line;e.options.lineWrapping||(f=zt(js(it(n,s.line))),n.iter(f,a.line+1,h=>{if(h==o.maxLine)return l=!0,!0})),n.sel.contains(t.from,t.to)>-1&&i9(e),_N(n,t,r,z9(e)),e.options.lineWrapping||(n.iter(f,s.line+t.text.length,h=>{let p=O0(h);p>o.maxLineLength&&(o.maxLine=h,o.maxLineLength=p,o.maxLineChanged=!0,l=!1)}),l&&(e.curOp.updateMaxLine=!0)),rMe(n,s.line),Lg(e,400);let u=t.text.length-(a.line-s.line)-1;t.full?ri(e):s.line==a.line&&t.text.length==1&&!hz(e.doc,t)?_u(e,s.line,"text"):ri(e,s.line,a.line+1,u);let d=bo(e,"changes"),g=bo(e,"change");if(g||d){let h={from:s,to:a,text:t.text,removed:t.removed,origin:t.origin};g&&Yr(e,"change",e,h),d&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(h)}e.display.selForContextMenu=null}function Jh(e,t,r,n,o){n||(n=r),wt(n,r)<0&&([r,n]=[n,r]),typeof t=="string"&&(t=e.splitLines(t)),Kh(e,{from:r,to:n,text:t,origin:o})}function kz(e,t,r,n){r<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function Cz(e,t,r,n){for(let o=0;o<e.length;++o){let s=e[o],a=!0;if(s.ranges){s.copied||(s=e[o]=s.deepCopy(),s.copied=!0);for(let l=0;l<s.ranges.length;l++)kz(s.ranges[l].anchor,t,r,n),kz(s.ranges[l].head,t,r,n);continue}for(let l=0;l<s.changes.length;++l){let f=s.changes[l];if(r<f.from.line)f.from=Le(f.from.line+n,f.from.ch),f.to=Le(f.to.line+n,f.to.ch);else if(t<=f.to.line){a=!1;break}}a||(e.splice(0,o+1),o=0)}}function Oz(e,t){let r=t.from.line,n=t.to.line,o=t.text.length-(n-r)-1;Cz(e.done,r,n,o),Cz(e.undone,r,n,o)}function Fg(e,t,r,n){let o=t,s=t;return typeof t=="number"?s=it(e,l9(e,t)):o=zt(t),o==null?null:(n(s,o)&&e.cm&&_u(e.cm,o,r),s)}function jg(e){this.lines=e,this.parent=null;let t=0;for(let r=0;r<e.length;++r)e[r].parent=this,t+=e[r].height;this.height=t}jg.prototype={chunkSize(){return this.lines.length},removeInner(e,t){for(let r=e,n=e+t;r<n;++r){let o=this.lines[r];this.height-=o.height,pMe(o),Yr(o,"delete")}this.lines.splice(e,t)},collapse(e){e.push.apply(e,this.lines)},insertInner(e,t,r){this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(let n=0;n<t.length;++n)t[n].parent=this},iterN(e,t,r){for(let n=e+t;e<n;++e)if(r(this.lines[e]))return!0}};function Wg(e){this.children=e;let t=0,r=0;for(let n=0;n<e.length;++n){let o=e[n];t+=o.chunkSize(),r+=o.height,o.parent=this}this.size=t,this.height=r,this.parent=null}Wg.prototype={chunkSize(){return this.size},removeInner(e,t){this.size-=t;for(let r=0;r<this.children.length;++r){let n=this.children[r],o=n.chunkSize();if(e<o){let s=Math.min(t,o-e),a=n.height;if(n.removeInner(e,s),this.height-=a-n.height,o==s&&(this.children.splice(r--,1),n.parent=null),(t-=s)==0)break;e=0}else e-=o}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof jg))){let r=[];this.collapse(r),this.children=[new jg(r)],this.children[0].parent=this}},collapse(e){for(let t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner(e,t,r){this.size+=t.length,this.height+=r;for(let n=0;n<this.children.length;++n){let o=this.children[n],s=o.chunkSize();if(e<=s){if(o.insertInner(e,t,r),o.lines&&o.lines.length>50){let a=o.lines.length%25+25;for(let l=a;l<o.lines.length;){let f=new jg(o.lines.slice(l,l+=25));o.height-=f.height,this.children.splice(++n,0,f),f.parent=this}o.lines=o.lines.slice(0,a),this.maybeSpill()}break}e-=s}},maybeSpill(){if(this.children.length<=10)return;let e=this;do{let t=e.children.splice(e.children.length-5,5),r=new Wg(t);if(e.parent){e.size-=r.size,e.height-=r.height;let n=yn(e.parent.children,e);e.parent.children.splice(n+1,0,r)}else{let n=new Wg(e.children);n.parent=e,e.children=[n,r],e=n}r.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()},iterN(e,t,r){for(let n=0;n<this.children.length;++n){let o=this.children[n],s=o.chunkSize();if(e<s){let a=Math.min(t,s-e);if(o.iterN(e,a,r))return!0;if((t-=a)==0)break;e=0}else e-=s}}};var vN=class{constructor(e,t,r){if(r)for(let n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.doc=e,this.node=t}clear(){let e=this.doc.cm,t=this.line.widgets,r=this.line,n=zt(r);if(n==null||!t)return;for(let s=0;s<t.length;++s)t[s]==this&&t.splice(s--,1);t.length||(r.widgets=null);let o=Tg(this);Fs(r,Math.max(0,r.height-o)),e&&(Ri(e,()=>{Lz(e,r,-o),_u(e,n,"widget")}),Yr(e,"lineWidgetCleared",e,this,n))}changed(){let e=this.height,t=this.doc.cm,r=this.line;this.height=null;let n=Tg(this)-e;n&&(gu(this.doc,r)||Fs(r,r.height+n),t&&Ri(t,()=>{t.curOp.forceUpdate=!0,Lz(t,r,n),Yr(t,"lineWidgetChanged",t,this,zt(r))}))}};Mh(vN);function Lz(e,t,r){Ba(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&uN(e,r)}function gPe(e,t,r,n){let o=new vN(e,r,n),s=e.cm;return s&&o.noHScroll&&(s.display.alignWidgets=!0),Fg(e,t,"widget",a=>{let l=a.widgets||(a.widgets=[]);if(o.insertAt==null?l.push(o):l.splice(Math.min(l.length,Math.max(0,o.insertAt)),0,o),o.line=a,s&&!gu(e,a)){let f=Ba(a)<e.scrollTop;Fs(a,a.height+Tg(o)),f&&uN(s,o.height),s.curOp.forceUpdate=!0}return!0}),s&&Yr(s,"lineWidgetAdded",s,o,typeof t=="number"?t:zt(t)),o}var Dz=0,SN=class{constructor(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++Dz}clear(){if(this.explicitlyCleared)return;let e=this.doc.cm,t=e&&!e.curOp;if(t&&Ec(e),bo(this,"clear")){let o=this.find();o&&Yr(this,"clear",o.from,o.to)}let r=null,n=null;for(let o=0;o<this.lines.length;++o){let s=this.lines[o],a=Rg(s.markedSpans,this);e&&!this.collapsed?_u(e,zt(s),"text"):e&&(a.to!=null&&(n=zt(s)),a.from!=null&&(r=zt(s))),s.markedSpans=oMe(s.markedSpans,a),a.from==null&&this.collapsed&&!gu(this.doc,s)&&e&&Fs(s,Bh(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(let o=0;o<this.lines.length;++o){let s=js(this.lines[o]),a=O0(s);a>e.display.maxLineLength&&(e.display.maxLine=s,e.display.maxLineLength=a,e.display.maxLineChanged=!0)}r!=null&&e&&this.collapsed&&ri(e,r,n+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Rz(e.doc)),e&&Yr(e,"markerCleared",e,this,r,n),t&&Rc(e),this.parent&&this.parent.clear()}find(e,t){e==null&&this.type=="bookmark"&&(e=1);let r,n;for(let o=0;o<this.lines.length;++o){let s=this.lines[o],a=Rg(s.markedSpans,this);if(a.from!=null&&(r=Le(t?s:zt(s),a.from),e==-1))return r;if(a.to!=null&&(n=Le(t?s:zt(s),a.to),e==1))return n}return r&&{from:r,to:n}}changed(){let e=this.find(-1,!0),t=this,r=this.doc.cm;!e||!r||Ri(r,()=>{let n=e.line,o=zt(e.line),s=YI(r,o);if(s&&(j9(s),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!gu(t.doc,n)&&t.height!=null){let a=t.height;t.height=null;let l=Tg(t)-a;l&&Fs(n,n.height+l)}Yr(r,"markerChanged",r,this)})}attachLine(e){if(!this.lines.length&&this.doc.cm){let t=this.doc.cm.curOp;(!t.maybeHiddenMarkers||yn(t.maybeHiddenMarkers,this)==-1)&&(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)}detachLine(e){if(this.lines.splice(yn(this.lines,e),1),!this.lines.length&&this.doc.cm){let t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}}};Mh(SN);function Yh(e,t,r,n,o){if(n&&n.shared)return _Pe(e,t,r,n,o);if(e.cm&&!e.cm.curOp)return Xr(e.cm,Yh)(e,t,r,n,o);let s=new SN(e,o),a=wt(t,r);if(n&&pc(n,s,!1),a>0||a==0&&s.clearWhenEmpty!==!1)return s;if(s.replacedWith&&(s.collapsed=!0,s.widgetNode=Lh("span",[s.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||s.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(s.widgetNode.insertLeft=!0)),s.collapsed){if(E9(e,t.line,t,r,s)||t.line!=r.line&&E9(e,r.line,t,r,s))throw new Error("Inserting collapsed marker partially overlapping an existing one");iMe()}s.addToHistory&&_z(e,{from:t,to:r,origin:"markText"},e.sel,NaN);let l=t.line,f=e.cm,u;if(e.iter(l,r.line+1,d=>{f&&s.collapsed&&!f.options.lineWrapping&&js(d)==f.display.maxLine&&(u=!0),s.collapsed&&l!=t.line&&Fs(d,0),sMe(d,new I0(s,l==t.line?t.ch:null,l==r.line?r.ch:null)),++l}),s.collapsed&&e.iter(t.line,r.line+1,d=>{gu(e,d)&&Fs(d,0)}),s.clearOnEnter&&ct(s,"beforeCursorEnter",()=>s.clear()),s.readOnly&&(nMe(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),s.collapsed&&(s.id=++Dz,s.atomic=!0),f){if(u&&(f.curOp.updateMaxLine=!0),s.collapsed)ri(f,t.line,r.line+1);else if(s.className||s.startStyle||s.endStyle||s.css||s.attributes||s.title)for(let d=t.line;d<=r.line;d++)_u(f,d,"text");s.atomic&&Rz(f.doc),Yr(f,"markerAdded",f,s)}return s}var EN=class{constructor(e,t){this.markers=e,this.primary=t;for(let r=0;r<e.length;++r)e[r].parent=this}clear(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(let e=0;e<this.markers.length;++e)this.markers[e].clear();Yr(this,"clear")}}find(e,t){return this.primary.find(e,t)}};Mh(EN);function _Pe(e,t,r,n,o){n=pc(n),n.shared=!1;let s=[Yh(e,t,r,n,o)],a=s[0],l=n.widgetNode;return Su(e,f=>{l&&(n.widgetNode=l.cloneNode(!0)),s.push(Yh(f,mt(f,t),mt(f,r),n,o));for(let u=0;u<f.linked.length;++u)if(f.linked[u].isParent)return;a=qt(s)}),new EN(s,a)}function Mz(e){return e.findMarks(Le(e.first,0),e.clipPos(Le(e.lastLine())),t=>t.parent)}function yPe(e,t){for(let r=0;r<t.length;r++){let n=t[r],o=n.find(),s=e.clipPos(o.from),a=e.clipPos(o.to);if(wt(s,a)){let l=Yh(e,s,a,n.primary,n.primary.type);n.markers.push(l),l.parent=n}}}function wPe(e){for(let t=0;t<e.length;t++){let r=e[t],n=[r.primary.doc];Su(r.primary.doc,o=>n.push(o));for(let o=0;o<r.markers.length;o++){let s=r.markers[o];yn(n,s.doc)==-1&&(s.parent=null,r.markers.splice(o--,1))}}}var mPe=0,qa=function(e,t,r,n,o){if(!(this instanceof qa))return new qa(e,t,r,n,o);r==null&&(r=0),Wg.call(this,[new jg([new xg("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=r;let s=Le(r,0);this.sel=mu(s),this.history=new q0(null),this.id=++mPe,this.modeOption=t,this.lineSep=n,this.direction=o=="rtl"?"rtl":"ltr",this.extend=!1,typeof e=="string"&&(e=this.splitLines(e)),_N(this,{from:s,to:s,text:e}),wn(this,mu(s),Ps)};qa.prototype=e9(Wg.prototype,{constructor:qa,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){let r=0;for(let n=0;n<t.length;++n)r+=t[n].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){let t=MI(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:Qr(function(e){let t=Le(this.first,0),r=this.first+this.size-1;Kh(this,{from:t,to:Le(r,it(this,r).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&kg(this.cm,0,0),wn(this,mu(t),Ps)}),replaceRange:function(e,t,r,n){t=mt(this,t),r=r?mt(this,r):t,Jh(this,e,t,r,n)},getRange:function(e,t,r){let n=gc(this,mt(this,e),mt(this,t));return r===!1?n:n.join(r||this.lineSeparator())},getLine:function(e){let t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(vg(this,e))return it(this,e)},getLineNumber:function(e){return zt(e)},getLineHandleVisualStart:function(e){return typeof e=="number"&&(e=it(this,e)),js(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return mt(this,e)},getCursor:function(e){let t=this.sel.primary(),r;return e==null||e=="head"?r=t.head:e=="anchor"?r=t.anchor:e=="end"||e=="to"||e===!1?r=t.to():r=t.from(),r},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Qr(function(e,t,r){vz(this,mt(this,typeof e=="number"?Le(e,t||0):e),null,r)}),setSelection:Qr(function(e,t,r){vz(this,mt(this,e),mt(this,t||e),r)}),extendSelection:Qr(function(e,t,r){V0(this,mt(this,e),t&&mt(this,t),r)}),extendSelections:Qr(function(e,t){mz(this,u9(this,e),t)}),extendSelectionsBy:Qr(function(e,t){let r=S0(this.sel.ranges,e);mz(this,u9(this,r),t)}),setSelections:Qr(function(e,t,r){if(!e.length)return;let n=[];for(let o=0;o<e.length;o++)n[o]=new Xt(mt(this,e[o].anchor),mt(this,e[o].head||e[o].anchor));t==null&&(t=Math.min(e.length-1,this.sel.primIndex)),wn(this,zo(this.cm,n,t),r)}),addSelection:Qr(function(e,t,r){let n=this.sel.ranges.slice(0);n.push(new Xt(mt(this,e),mt(this,t||e))),wn(this,zo(this.cm,n,n.length-1),r)}),getSelection:function(e){let t=this.sel.ranges,r;for(let n=0;n<t.length;n++){let o=gc(this,t[n].from(),t[n].to());r=r?r.concat(o):o}return e===!1?r:r.join(e||this.lineSeparator())},getSelections:function(e){let t=[],r=this.sel.ranges;for(let n=0;n<r.length;n++){let o=gc(this,r[n].from(),r[n].to());e!==!1&&(o=o.join(e||this.lineSeparator())),t[n]=o}return t},replaceSelection:function(e,t,r){let n=[];for(let o=0;o<this.sel.ranges.length;o++)n[o]=e;this.replaceSelections(n,t,r||"+input")},replaceSelections:Qr(function(e,t,r){let n=[],o=this.sel;for(let a=0;a<o.ranges.length;a++){let l=o.ranges[a];n[a]={from:l.from(),to:l.to(),text:this.splitLines(e[a]),origin:r}}let s=t&&t!="end"&&aPe(this,n,t);for(let a=n.length-1;a>=0;a--)Kh(this,n[a]);s?Sz(this,s):this.cm&&Hh(this.cm)}),undo:Qr(function(){K0(this,"undo")}),redo:Qr(function(){K0(this,"redo")}),undoSelection:Qr(function(){K0(this,"undo",!0)}),redoSelection:Qr(function(){K0(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){let e=this.history,t=0,r=0;for(let n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(let n=0;n<e.undone.length;n++)e.undone[n].ranges||++r;return{undo:t,redo:r}},clearHistory:function(){this.history=new q0(this.history),Su(this,e=>e.history=this.history,!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Gh(this.history.done),undone:Gh(this.history.undone)}},setHistory:function(e){let t=this.history=new q0(this.history);t.done=Gh(e.done.slice(0),null,!0),t.undone=Gh(e.undone.slice(0),null,!0)},setGutterMarker:Qr(function(e,t,r){return Fg(this,e,"gutter",n=>{let o=n.gutterMarkers||(n.gutterMarkers={});return o[t]=r,!r&&t9(o)&&(n.gutterMarkers=null),!0})}),clearGutter:Qr(function(e){this.iter(t=>{t.gutterMarkers&&t.gutterMarkers[e]&&Fg(this,t,"gutter",()=>(t.gutterMarkers[e]=null,t9(t.gutterMarkers)&&(t.gutterMarkers=null),!0))})}),lineInfo:function(e){let t;if(typeof e=="number"){if(!vg(this,e)||(t=e,e=it(this,e),!e))return null}else if(t=zt(e),t==null)return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Qr(function(e,t,r){return Fg(this,e,t=="gutter"?"gutter":"class",n=>{let o=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass";if(!n[o])n[o]=r;else{if(Oh(r).test(n[o]))return!1;n[o]+=" "+r}return!0})}),removeLineClass:Qr(function(e,t,r){return Fg(this,e,t=="gutter"?"gutter":"class",n=>{let o=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass",s=n[o];if(s)if(r==null)n[o]=null;else{let a=s.match(Oh(r));if(!a)return!1;let l=a.index+a[0].length;n[o]=s.slice(0,a.index)+(!a.index||l==s.length?"":" ")+s.slice(l)||null}else return!1;return!0})}),addLineWidget:Qr(function(e,t,r){return gPe(this,e,t,r)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,r){return Yh(this,mt(this,e),mt(this,t),r,r&&r.type||"range")},setBookmark:function(e,t){let r={replacedWith:t&&(t.nodeType==null?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=mt(this,e),Yh(this,e,e,r,"bookmark")},findMarksAt:function(e){e=mt(this,e);let t=[],r=it(this,e.line).markedSpans;if(r)for(let n=0;n<r.length;++n){let o=r[n];(o.from==null||o.from<=e.ch)&&(o.to==null||o.to>=e.ch)&&t.push(o.marker.parent||o.marker)}return t},findMarks:function(e,t,r){e=mt(this,e),t=mt(this,t);let n=[],o=e.line;return this.iter(e.line,t.line+1,s=>{let a=s.markedSpans;if(a)for(let l=0;l<a.length;l++){let f=a[l];!(f.to!=null&&o==e.line&&e.ch>=f.to||f.from==null&&o!=e.line||f.from!=null&&o==t.line&&f.from>=t.ch)&&(!r||r(f.marker))&&n.push(f.marker.parent||f.marker)}++o}),n},getAllMarks:function(){let e=[];return this.iter(t=>{let r=t.markedSpans;if(r)for(let n=0;n<r.length;++n)r[n].from!=null&&e.push(r[n].marker)}),e},posFromIndex:function(e){let t,r=this.first,n=this.lineSeparator().length;return this.iter(o=>{let s=o.text.length+n;if(s>e)return t=e,!0;e-=s,++r}),mt(this,Le(r,t))},indexFromPos:function(e){e=mt(this,e);let t=e.ch;if(e.line<this.first||e.ch<0)return 0;let r=this.lineSeparator().length;return this.iter(this.first,e.line,n=>{t+=n.text.length+r}),t},copy:function(e){let t=new qa(MI(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});let t=this.first,r=this.first+this.size;e.from!=null&&e.from>t&&(t=e.from),e.to!=null&&e.to<r&&(r=e.to);let n=new qa(MI(this,t,r),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],yPe(n,Mz(this)),n},unlinkDoc:function(e){if(e instanceof zPe&&(e=e.doc),this.linked){for(let t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),wPe(Mz(this));break}}if(e.history==this.history){let t=[e.id];Su(e,r=>t.push(r.id),!0),e.history=new q0(null),e.history.done=Gh(this.history.done,t),e.history.undone=Gh(this.history.undone,t)}},iterLinkedDocs:function(e){Su(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):kI(e)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Qr(function(e){e!="rtl"&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(t=>t.order=null),this.cm&&lPe(this.cm))})}),qa.prototype.eachLine=qa.prototype.iter;var xc=qa,Pz=0;function vPe(e){let t=this;if(Fz(t),Jr(t,e)||Ua(t.display,e))return;ti(e),Ft&&(Pz=+new Date);let r=mc(t,e,!0),n=e.dataTransfer.files;if(!(!r||t.isReadOnly()))if(n&&n.length&&window.FileReader&&window.File){let o=n.length,s=Array(o),a=0;const l=()=>{++a==o&&Xr(t,()=>{r=mt(t.doc,r);let u={from:r,to:r,text:t.doc.splitLines(s.filter(d=>d!=null).join(t.doc.lineSeparator())),origin:"paste"};Kh(t.doc,u),Sz(t.doc,mu(mt(t.doc,r),mt(t.doc,vu(u))))})()},f=(u,d)=>{if(t.options.allowDropFileTypes&&yn(t.options.allowDropFileTypes,u.type)==-1){l();return}let g=new FileReader;g.onerror=()=>l(),g.onload=()=>{let h=g.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(h)){l();return}s[d]=h,l()},g.readAsText(u)};for(let u=0;u<n.length;u++)f(n[u],u)}else{if(t.state.draggingText&&t.doc.sel.contains(r)>-1){t.state.draggingText(e),setTimeout(()=>t.display.input.focus(),20);return}try{let o=e.dataTransfer.getData("Text");if(o){let s;if(t.state.draggingText&&!t.state.draggingText.copy&&(s=t.listSelections()),G0(t.doc,mu(r,r)),s)for(let a=0;a<s.length;++a)Jh(t.doc,"",s[a].anchor,s[a].head,"drag");t.replaceSelection(o,"around","paste"),t.display.input.focus()}}catch{}}}function SPe(e,t){if(Ft&&(!e.state.draggingText||+new Date-Pz<100)){mg(t);return}if(!(Jr(e,t)||Ua(e.display,t))&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!y0)){let r=ft("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Vo&&(r.width=r.height=1,e.display.wrapper.appendChild(r),r._top=r.offsetTop),t.dataTransfer.setDragImage(r,0,0),Vo&&r.parentNode.removeChild(r)}}function EPe(e,t){let r=mc(e,t);if(!r)return;let n=document.createDocumentFragment();Y9(e,r,n),e.display.dragCursor||(e.display.dragCursor=ft("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),Bi(e.display.dragCursor,n)}function Fz(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function jz(e){if(!document.getElementsByClassName)return;let t=document.getElementsByClassName("CodeMirror"),r=[];for(let n=0;n<t.length;n++){let o=t[n].CodeMirror;o&&r.push(o)}r.length&&r[0].operation(()=>{for(let n=0;n<r.length;n++)e(r[n])})}var Wz=!1;function RPe(){Wz||(xPe(),Wz=!0)}function xPe(){let e;ct(window,"resize",()=>{e==null&&(e=setTimeout(()=>{e=null,jz(APe)},100))}),ct(window,"blur",()=>jz(qh))}function APe(e){let t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}var Eu={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};for(let e=0;e<10;e++)Eu[e+48]=Eu[e+96]=String(e);for(let e=65;e<=90;e++)Eu[e]=String.fromCharCode(e);for(let e=1;e<=12;e++)Eu[e+111]=Eu[e+63235]="F"+e;var Ha={};Ha.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ha.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ha.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ha.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ha.default=co?Ha.macDefault:Ha.pcDefault;function $Pe(e){let t=e.split(/-(?!$)/);e=t[t.length-1];let r,n,o,s;for(let a=0;a<t.length-1;a++){let l=t[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))n=!0;else if(/^s(hift)?$/i.test(l))o=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(e="Alt-"+e),n&&(e="Ctrl-"+e),s&&(e="Cmd-"+e),o&&(e="Shift-"+e),e}function TPe(e){let t={};for(let r in e)if(e.hasOwnProperty(r)){let n=e[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if(n=="..."){delete e[r];continue}let o=S0(r.split(" "),$Pe);for(let s=0;s<o.length;s++){let a,l;s==o.length-1?(l=o.join(" "),a=n):(l=o.slice(0,s+1).join(" "),a="...");let f=t[l];if(!f)t[l]=a;else if(f!=a)throw new Error("Inconsistent bindings for "+l)}delete e[r]}for(let r in t)e[r]=t[r];return e}function Xh(e,t,r,n){t=J0(t);let o=t.call?t.call(e,n):t[e];if(o===!1)return"nothing";if(o==="...")return"multi";if(o!=null&&r(o))return"handled";if(t.fallthrough){if(Object.prototype.toString.call(t.fallthrough)!="[object Array]")return Xh(e,t.fallthrough,r,n);for(let s=0;s<t.fallthrough.length;s++){let a=Xh(e,t.fallthrough[s],r,n);if(a)return a}}}function Bz(e){let t=typeof e=="string"?e:Eu[e.keyCode];return t=="Ctrl"||t=="Alt"||t=="Shift"||t=="Mod"}function Uz(e,t,r){let n=e;return t.altKey&&n!="Alt"&&(e="Alt-"+e),(XG?t.metaKey:t.ctrlKey)&&n!="Ctrl"&&(e="Ctrl-"+e),(XG?t.ctrlKey:t.metaKey)&&n!="Mod"&&(e="Cmd-"+e),!r&&t.shiftKey&&n!="Shift"&&(e="Shift-"+e),e}function qz(e,t){if(Vo&&e.keyCode==34&&e.char)return!1;let r=Eu[e.keyCode];return r==null||e.altGraphKey?!1:(e.keyCode==3&&e.code&&(r=e.code),Uz(r,e,t))}function J0(e){return typeof e=="string"?Ha[e]:e}function Qh(e,t){let r=e.doc.sel.ranges,n=[];for(let o=0;o<r.length;o++){let s=t(r[o]);for(;n.length&&wt(s.from,qt(n).to)<=0;){let a=n.pop();if(wt(a.from,s.from)<0){s.from=a.from;break}}n.push(s)}Ri(e,()=>{for(let o=n.length-1;o>=0;o--)Jh(e.doc,"",n[o].from,n[o].to,"+delete");Hh(e)})}function RN(e,t,r){let n=r9(e.text,t+r,r);return n<0||n>e.text.length?null:n}function xN(e,t,r){let n=RN(e,t.ch,r);return n==null?null:new Le(t.line,n,r<0?"after":"before")}function AN(e,t,r,n,o){if(e){t.doc.direction=="rtl"&&(o=-o);let s=ja(r,t.doc.direction);if(s){let a=o<0?qt(s):s[0],f=o<0==(a.level==1)?"after":"before",u;if(a.level>0||t.doc.direction=="rtl"){let d=Wh(t,r);u=o<0?r.text.length-1:0;let g=Bs(t,d,u).top;u=_g(h=>Bs(t,d,h).top==g,o<0==(a.level==1)?a.from:a.to-1,u),f=="before"&&(u=RN(r,u,1))}else u=o<0?a.to:a.from;return new Le(n,u,f)}}return new Le(n,o<0?r.text.length:0,o<0?"before":"after")}function IPe(e,t,r,n){let o=ja(t,e.doc.direction);if(!o)return xN(t,r,n);r.ch>=t.text.length?(r.ch=t.text.length,r.sticky="before"):r.ch<=0&&(r.ch=0,r.sticky="after");let s=wg(o,r.ch,r.sticky),a=o[s];if(e.doc.direction=="ltr"&&a.level%2==0&&(n>0?a.to>r.ch:a.from<r.ch))return xN(t,r,n);let l=(w,y)=>RN(t,w instanceof Le?w.ch:w,y),f,u=w=>e.options.lineWrapping?(f=f||Wh(e,t),G9(e,t,f,w)):{begin:0,end:t.text.length},d=u(r.sticky=="before"?l(r,-1):r.ch);if(e.doc.direction=="rtl"||a.level==1){let w=a.level==1==n<0,y=l(r,w?1:-1);if(y!=null&&(w?y<=a.to&&y<=d.end:y>=a.from&&y>=d.begin)){let v=w?"before":"after";return new Le(r.line,y,v)}}let g=(w,y,v)=>{let E=(x,S)=>S?new Le(r.line,l(x,1),"before"):new Le(r.line,x,"after");for(;w>=0&&w<o.length;w+=y){let x=o[w],S=y>0==(x.level!=1),N=S?v.begin:l(v.end,-1);if(x.from<=N&&N<x.to||(N=S?x.from:l(x.to,-1),v.begin<=N&&N<v.end))return E(N,S)}},h=g(s+n,n,d);if(h)return h;let p=n>0?d.end:l(d.begin,-1);return p!=null&&!(n>0&&p==t.text.length)&&(h=g(n>0?0:o.length-1,n,u(p)),h)?h:null}var Bg={selectAll:$z,singleSelection:e=>e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Ps),killLine:e=>Qh(e,t=>{if(t.empty()){let r=it(e.doc,t.head.line).text.length;return t.head.ch==r&&t.head.line<e.lastLine()?{from:t.head,to:Le(t.head.line+1,0)}:{from:t.head,to:Le(t.head.line,r)}}else return{from:t.from(),to:t.to()}}),deleteLine:e=>Qh(e,t=>({from:Le(t.from().line,0),to:mt(e.doc,Le(t.to().line+1,0))})),delLineLeft:e=>Qh(e,t=>({from:Le(t.from().line,0),to:t.from()})),delWrappedLineLeft:e=>Qh(e,t=>{let r=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:r},"div"),to:t.from()}}),delWrappedLineRight:e=>Qh(e,t=>{let r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div");return{from:t.from(),to:n}}),undo:e=>e.undo(),redo:e=>e.redo(),undoSelection:e=>e.undoSelection(),redoSelection:e=>e.redoSelection(),goDocStart:e=>e.extendSelection(Le(e.firstLine(),0)),goDocEnd:e=>e.extendSelection(Le(e.lastLine())),goLineStart:e=>e.extendSelectionsBy(t=>Hz(e,t.head.line),{origin:"+move",bias:1}),goLineStartSmart:e=>e.extendSelectionsBy(t=>Vz(e,t.head),{origin:"+move",bias:1}),goLineEnd:e=>e.extendSelectionsBy(t=>NPe(e,t.head.line),{origin:"+move",bias:-1}),goLineRight:e=>e.extendSelectionsBy(t=>{let r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div")},gg),goLineLeft:e=>e.extendSelectionsBy(t=>{let r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:r},"div")},gg),goLineLeftSmart:e=>e.extendSelectionsBy(t=>{let r=e.cursorCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return n.ch<e.getLine(n.line).search(/\S/)?Vz(e,t.head):n},gg),goLineUp:e=>e.moveV(-1,"line"),goLineDown:e=>e.moveV(1,"line"),goPageUp:e=>e.moveV(-1,"page"),goPageDown:e=>e.moveV(1,"page"),goCharLeft:e=>e.moveH(-1,"char"),goCharRight:e=>e.moveH(1,"char"),goColumnLeft:e=>e.moveH(-1,"column"),goColumnRight:e=>e.moveH(1,"column"),goWordLeft:e=>e.moveH(-1,"word"),goGroupRight:e=>e.moveH(1,"group"),goGroupLeft:e=>e.moveH(-1,"group"),goWordRight:e=>e.moveH(1,"word"),delCharBefore:e=>e.deleteH(-1,"codepoint"),delCharAfter:e=>e.deleteH(1,"char"),delWordBefore:e=>e.deleteH(-1,"word"),delWordAfter:e=>e.deleteH(1,"word"),delGroupBefore:e=>e.deleteH(-1,"group"),delGroupAfter:e=>e.deleteH(1,"group"),indentAuto:e=>e.indentSelection("smart"),indentMore:e=>e.indentSelection("add"),indentLess:e=>e.indentSelection("subtract"),insertTab:e=>e.replaceSelection("	"),insertSoftTab:e=>{let t=[],r=e.listSelections(),n=e.options.tabSize;for(let o=0;o<r.length;o++){let s=r[o].from(),a=po(e.getLine(s.line),s.ch,n);t.push(EI(n-a%n))}e.replaceSelections(t)},defaultTab:e=>{e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:e=>Ri(e,()=>{let t=e.listSelections(),r=[];for(let n=0;n<t.length;n++){if(!t[n].empty())continue;let o=t[n].head,s=it(e.doc,o.line).text;if(s){if(o.ch==s.length&&(o=new Le(o.line,o.ch-1)),o.ch>0)o=new Le(o.line,o.ch+1),e.replaceRange(s.charAt(o.ch-1)+s.charAt(o.ch-2),Le(o.line,o.ch-2),o,"+transpose");else if(o.line>e.doc.first){let a=it(e.doc,o.line-1).text;a&&(o=new Le(o.line,1),e.replaceRange(s.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),Le(o.line-1,a.length-1),o,"+transpose"))}}r.push(new Xt(o,o))}e.setSelections(r)}),newlineAndIndent:e=>Ri(e,()=>{let t=e.listSelections();for(let r=t.length-1;r>=0;r--)e.replaceRange(e.doc.lineSeparator(),t[r].anchor,t[r].head,"+input");t=e.listSelections();for(let r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);Hh(e)}),openLine:e=>e.replaceSelection(`
`,"start"),toggleOverwrite:e=>e.toggleOverwrite()};function Hz(e,t){let r=it(e.doc,t),n=js(r);return n!=r&&(t=zt(n)),AN(!0,e,n,t,1)}function NPe(e,t){let r=it(e.doc,t),n=cMe(r);return n!=r&&(t=zt(n)),AN(!0,e,r,t,-1)}function Vz(e,t){let r=Hz(e,t.line),n=it(e.doc,r.line),o=ja(n,e.doc.direction);if(!o||o[0].level==0){let s=Math.max(r.ch,n.text.search(/\S/)),a=t.line==r.line&&t.ch<=s&&t.ch;return Le(r.line,a?0:s,r.sticky)}return r}function Y0(e,t,r){if(typeof t=="string"&&(t=Bg[t],!t))return!1;e.display.input.ensurePolled();let n=e.display.shift,o=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r&&(e.display.shift=!1),o=t(e)!=m0}finally{e.display.shift=n,e.state.suppressEdits=!1}return o}function kPe(e,t,r){for(let n=0;n<e.state.keyMaps.length;n++){let o=Xh(t,e.state.keyMaps[n],r,e);if(o)return o}return e.options.extraKeys&&Xh(t,e.options.extraKeys,r,e)||Xh(t,e.options.keyMap,r,e)}var CPe=new Dh;function Ug(e,t,r,n){let o=e.state.keySeq;if(o){if(Bz(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:CPe.set(50,()=>{e.state.keySeq==o&&(e.state.keySeq=null,e.display.input.reset())}),Gz(e,o+" "+t,r,n))return!0}return Gz(e,t,r,n)}function Gz(e,t,r,n){let o=kPe(e,t,n);return o=="multi"&&(e.state.keySeq=t),o=="handled"&&Yr(e,"keyHandled",e,t,r),(o=="handled"||o=="multi")&&(ti(r),oN(e)),!!o}function zz(e,t){let r=qz(t,!0);return r?t.shiftKey&&!e.state.keySeq?Ug(e,"Shift-"+r,t,n=>Y0(e,n,!0))||Ug(e,r,t,n=>{if(typeof n=="string"?/^go[A-Z]/.test(n):n.motion)return Y0(e,n)}):Ug(e,r,t,n=>Y0(e,n)):!1}function OPe(e,t,r){return Ug(e,"'"+r+"'",t,n=>Y0(e,n,!0))}var $N=null;function Kz(e){let t=this;if(e.target&&e.target!=t.display.input.getField()||(t.curOp.focus=ho(),Jr(t,e)))return;Ft&&lr<11&&e.keyCode==27&&(e.returnValue=!1);let r=e.keyCode;t.display.shift=r==16||e.shiftKey;let n=zz(t,e);Vo&&($N=n?r:null,!n&&r==88&&!KDe&&(co?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),Fa&&!co&&!n&&r==46&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),r==18&&!/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)&&LPe(t)}function LPe(e){let t=e.display.lineDiv;hc(t,"CodeMirror-crosshair");function r(n){(n.keyCode==18||!n.altKey)&&(cc(t,"CodeMirror-crosshair"),Ui(document,"keyup",r),Ui(document,"mouseover",r))}ct(document,"keyup",r),ct(document,"mouseover",r)}function Jz(e){e.keyCode==16&&(this.doc.sel.shift=!1),Jr(this,e)}function Yz(e){let t=this;if(e.target&&e.target!=t.display.input.getField()||Ua(t.display,e)||Jr(t,e)||e.ctrlKey&&!e.altKey||co&&e.metaKey)return;let r=e.keyCode,n=e.charCode;if(Vo&&r==$N){$N=null,ti(e);return}if(Vo&&(!e.which||e.which<10)&&zz(t,e))return;let o=String.fromCharCode(n??r);o!="\b"&&(OPe(t,e,o)||t.display.input.onKeyPress(e))}var DPe=400,Xz=class{constructor(e,t,r){this.time=e,this.pos=t,this.button=r}compare(e,t,r){return this.time+DPe>e&&wt(t,this.pos)==0&&r==this.button}},qg,Hg;function MPe(e,t){let r=+new Date;return Hg&&Hg.compare(r,e,t)?(qg=Hg=null,"triple"):qg&&qg.compare(r,e,t)?(Hg=new Xz(r,e,t),qg=null,"double"):(qg=new Xz(r,e,t),Hg=null,"single")}function Qz(e){let t=this,r=t.display;if(Jr(t,e)||r.activeTouch&&r.input.supportsTouch())return;if(r.input.ensurePolled(),r.shift=e.shiftKey,Ua(r,e)){On||(r.scroller.draggable=!1,setTimeout(()=>r.scroller.draggable=!0,100));return}if(TN(t,e))return;let n=mc(t,e),o=s9(e),s=n?MPe(n,o):"single";window.focus(),o==1&&t.state.selectingText&&t.state.selectingText(e),!(n&&PPe(t,o,n,s,e))&&(o==1?n?jPe(t,n,s,e):TI(e)==r.scroller&&ti(e):o==2?(n&&V0(t.doc,n),setTimeout(()=>r.input.focus(),20)):o==3&&(yI?t.display.input.onContextMenu(e):sN(t)))}function PPe(e,t,r,n,o){let s="Click";return n=="double"?s="Double"+s:n=="triple"&&(s="Triple"+s),s=(t==1?"Left":t==2?"Middle":"Right")+s,Ug(e,Uz(s,o),o,a=>{if(typeof a=="string"&&(a=Bg[a]),!a)return!1;let l=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),l=a(e,r)!=m0}finally{e.state.suppressEdits=!1}return l})}function FPe(e,t,r){let n=e.getOption("configureMouse"),o=n?n(e,t,r):{};if(o.unit==null){let s=PDe?r.shiftKey&&r.metaKey:r.altKey;o.unit=s?"rectangle":t=="single"?"char":t=="double"?"word":"line"}return(o.extend==null||e.doc.extend)&&(o.extend=e.doc.extend||r.shiftKey),o.addNew==null&&(o.addNew=co?r.metaKey:r.ctrlKey),o.moveOnDrag==null&&(o.moveOnDrag=!(co?r.altKey:r.ctrlKey)),o}function jPe(e,t,r,n){Ft?setTimeout(mI(X9,e),0):e.curOp.focus=ho();let o=FPe(e,r,n),s=e.doc.sel,a;e.options.dragDrop&&HDe&&!e.isReadOnly()&&r=="single"&&(a=s.contains(t))>-1&&(wt((a=s.ranges[a]).from(),t)<0||t.xRel>0)&&(wt(a.to(),t)>0||t.xRel<0)?WPe(e,n,t,o):BPe(e,n,t,o)}function WPe(e,t,r,n){let o=e.display,s=!1,a=Xr(e,u=>{On&&(o.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:sN(e)),Ui(o.wrapper.ownerDocument,"mouseup",a),Ui(o.wrapper.ownerDocument,"mousemove",l),Ui(o.scroller,"dragstart",f),Ui(o.scroller,"drop",a),s||(ti(u),n.addNew||V0(e.doc,r,null,null,n.extend),On&&!y0||Ft&&lr==9?setTimeout(()=>{o.wrapper.ownerDocument.body.focus({preventScroll:!0}),o.input.focus()},20):o.input.focus())}),l=function(u){s=s||Math.abs(t.clientX-u.clientX)+Math.abs(t.clientY-u.clientY)>=10},f=()=>s=!0;On&&(o.scroller.draggable=!0),e.state.draggingText=a,a.copy=!n.moveOnDrag,ct(o.wrapper.ownerDocument,"mouseup",a),ct(o.wrapper.ownerDocument,"mousemove",l),ct(o.scroller,"dragstart",f),ct(o.scroller,"drop",a),e.state.delayingBlurEvent=!0,setTimeout(()=>o.input.focus(),20),o.scroller.dragDrop&&o.scroller.dragDrop()}function Zz(e,t,r){if(r=="char")return new Xt(t,t);if(r=="word")return e.findWordAt(t);if(r=="line")return new Xt(Le(t.line,0),mt(e.doc,Le(t.line+1,0)));let n=r(e,t);return new Xt(n.from,n.to)}function BPe(e,t,r,n){Ft&&sN(e);let o=e.display,s=e.doc;ti(t);let a,l,f=s.sel,u=f.ranges;if(n.addNew&&!n.extend?(l=s.sel.contains(r),l>-1?a=u[l]:a=new Xt(r,r)):(a=s.sel.primary(),l=s.sel.primIndex),n.unit=="rectangle")n.addNew||(a=new Xt(r,r)),r=mc(e,t,!0,!0),l=-1;else{let x=Zz(e,r,n.unit);n.extend?a=wN(a,x.anchor,x.head,n.extend):a=x}n.addNew?l==-1?(l=u.length,wn(s,zo(e,u.concat([a]),l),{scroll:!1,origin:"*mouse"})):u.length>1&&u[l].empty()&&n.unit=="char"&&!n.extend?(wn(s,zo(e,u.slice(0,l).concat(u.slice(l+1)),0),{scroll:!1,origin:"*mouse"}),f=s.sel):mN(s,l,a,vI):(l=0,wn(s,new wu([a],0),vI),f=s.sel);let d=r;function g(x){if(wt(d,x)!=0)if(d=x,n.unit=="rectangle"){let S=[],N=e.options.tabSize,$=po(it(s,r.line).text,r.ch,N),D=po(it(s,x.line).text,x.ch,N),K=Math.min($,D),q=Math.max($,D);for(let k=Math.min(r.line,x.line),V=Math.min(e.lastLine(),Math.max(r.line,x.line));k<=V;k++){let j=it(s,k).text,B=SI(j,K,N);K==q?S.push(new Xt(Le(k,B),Le(k,B))):j.length>B&&S.push(new Xt(Le(k,B),Le(k,SI(j,q,N))))}S.length||S.push(new Xt(r,r)),wn(s,zo(e,f.ranges.slice(0,l).concat(S),l),{origin:"*mouse",scroll:!1}),e.scrollIntoView(x)}else{let S=a,N=Zz(e,x,n.unit),$=S.anchor,D;wt(N.anchor,$)>0?(D=N.head,$=$0(S.from(),N.anchor)):(D=N.anchor,$=A0(S.to(),N.head));let K=f.ranges.slice(0);K[l]=UPe(e,new Xt(mt(s,$),D)),wn(s,zo(e,K,l),vI)}}let h=o.wrapper.getBoundingClientRect(),p=0;function w(x){let S=++p,N=mc(e,x,!0,n.unit=="rectangle");if(N)if(wt(N,d)!=0){e.curOp.focus=ho(),g(N);let $=W0(o,s);(N.line>=$.to||N.line<$.from)&&setTimeout(Xr(e,()=>{p==S&&w(x)}),150)}else{let $=x.clientY<h.top?-20:x.clientY>h.bottom?20:0;$&&setTimeout(Xr(e,()=>{p==S&&(o.scroller.scrollTop+=$,w(x))}),50)}}function y(x){e.state.selectingText=!1,p=1/0,x&&(ti(x),o.input.focus()),Ui(o.wrapper.ownerDocument,"mousemove",v),Ui(o.wrapper.ownerDocument,"mouseup",E),s.history.lastSelOrigin=null}let v=Xr(e,x=>{x.buttons===0||!s9(x)?y(x):w(x)}),E=Xr(e,y);e.state.selectingText=E,ct(o.wrapper.ownerDocument,"mousemove",v),ct(o.wrapper.ownerDocument,"mouseup",E)}function UPe(e,t){let{anchor:r,head:n}=t,o=it(e.doc,r.line);if(wt(r,n)==0&&r.sticky==n.sticky)return t;let s=ja(o);if(!s)return t;let a=wg(s,r.ch,r.sticky),l=s[a];if(l.from!=r.ch&&l.to!=r.ch)return t;let f=a+(l.from==r.ch==(l.level!=1)?0:1);if(f==0||f==s.length)return t;let u;if(n.line!=r.line)u=(n.line-r.line)*(e.doc.direction=="ltr"?1:-1)>0;else{let w=wg(s,n.ch,n.sticky),y=w-a||(n.ch-r.ch)*(l.level==1?-1:1);w==f-1||w==f?u=y<0:u=y>0}let d=s[f+(u?-1:0)],g=u==(d.level==1),h=g?d.from:d.to,p=g?"after":"before";return r.ch==h&&r.sticky==p?t:new Xt(new Le(r.line,h,p),n)}function eK(e,t,r,n){let o,s;if(t.touches)o=t.touches[0].clientX,s=t.touches[0].clientY;else try{o=t.clientX,s=t.clientY}catch{return!1}if(o>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&ti(t);let a=e.display,l=a.lineDiv.getBoundingClientRect();if(s>l.bottom||!bo(e,r))return $I(t);s-=l.top-a.viewOffset;for(let f=0;f<e.display.gutterSpecs.length;++f){let u=a.gutters.childNodes[f];if(u&&u.getBoundingClientRect().right>=o){let d=_c(e.doc,s),g=e.display.gutterSpecs[f];return Fr(e,r,e,d,g.className,t),$I(t)}}}function TN(e,t){return eK(e,t,"gutterClick",!0)}function tK(e,t){Ua(e.display,t)||qPe(e,t)||Jr(e,t,"contextmenu")||yI||e.display.input.onContextMenu(t)}function qPe(e,t){return bo(e,"gutterContextMenu")?eK(e,t,"gutterContextMenu",!1):!1}function rK(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Ig(e)}var Zh={toString:function(){return"CodeMirror.Init"}},nK={},X0={};function HPe(e){let t=e.optionHandlers;function r(n,o,s,a){e.defaults[n]=o,s&&(t[n]=a?(l,f,u)=>{u!=Zh&&s(l,f,u)}:s)}e.defineOption=r,e.Init=Zh,r("value","",(n,o)=>n.setValue(o),!0),r("mode",null,(n,o)=>{n.doc.modeOption=o,gN(n)},!0),r("indentUnit",2,gN,!0),r("indentWithTabs",!1),r("smartIndent",!0),r("tabSize",4,n=>{Mg(n),Ig(n),ri(n)},!0),r("lineSeparator",null,(n,o)=>{if(n.doc.lineSep=o,!o)return;let s=[],a=n.doc.first;n.doc.iter(l=>{for(let f=0;;){let u=l.text.indexOf(o,f);if(u==-1)break;f=u+o.length,s.push(Le(a,u))}a++});for(let l=s.length-1;l>=0;l--)Jh(n.doc,o,s[l],Le(s[l].line,s[l].ch+o.length))}),r("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,(n,o,s)=>{n.state.specialChars=new RegExp(o.source+(o.test("	")?"":"|	"),"g"),s!=Zh&&n.refresh()}),r("specialCharPlaceholder",_Me,n=>n.refresh(),!0),r("electricChars",!0),r("inputStyle",pg?"contenteditable":"textarea",()=>{throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),r("spellcheck",!1,(n,o)=>n.getInputField().spellcheck=o,!0),r("autocorrect",!1,(n,o)=>n.getInputField().autocorrect=o,!0),r("autocapitalize",!1,(n,o)=>n.getInputField().autocapitalize=o,!0),r("rtlMoveVisually",!FDe),r("wholeLineUpdateBefore",!0),r("theme","default",n=>{rK(n),Dg(n)},!0),r("keyMap","default",(n,o,s)=>{let a=J0(o),l=s!=Zh&&J0(s);l&&l.detach&&l.detach(n,a),a.attach&&a.attach(n,l||null)}),r("extraKeys",null),r("configureMouse",null),r("lineWrapping",!1,GPe,!0),r("gutters",[],(n,o)=>{n.display.gutterSpecs=pN(o,n.options.lineNumbers),Dg(n)},!0),r("fixedGutter",!0,(n,o)=>{n.display.gutters.style.left=o?nN(n.display)+"px":"0",n.refresh()},!0),r("coverGutterNextToScrollbar",!1,n=>Vh(n),!0),r("scrollbarStyle","native",n=>{nz(n),Vh(n),n.display.scrollbars.setScrollTop(n.doc.scrollTop),n.display.scrollbars.setScrollLeft(n.doc.scrollLeft)},!0),r("lineNumbers",!1,(n,o)=>{n.display.gutterSpecs=pN(n.options.gutters,o),Dg(n)},!0),r("firstLineNumber",1,Dg,!0),r("lineNumberFormatter",n=>n,Dg,!0),r("showCursorWhenSelecting",!1,Ng,!0),r("resetSelectionOnContextMenu",!0),r("lineWiseCopyCut",!0),r("pasteLinesPerSelection",!0),r("selectionsMayTouch",!1),r("readOnly",!1,(n,o)=>{o=="nocursor"&&(qh(n),n.display.input.blur()),n.display.input.readOnlyChanged(o)}),r("screenReaderLabel",null,(n,o)=>{o=o===""?null:o,n.display.input.screenReaderLabelChanged(o)}),r("disableInput",!1,(n,o)=>{o||n.display.input.reset()},!0),r("dragDrop",!0,VPe),r("allowDropFileTypes",null),r("cursorBlinkRate",530),r("cursorScrollMargin",0),r("cursorHeight",1,Ng,!0),r("singleCursorHeightPerLine",!0,Ng,!0),r("workTime",100),r("workDelay",100),r("flattenSpans",!0,Mg,!0),r("addModeClass",!1,Mg,!0),r("pollInterval",100),r("undoDepth",200,(n,o)=>n.doc.history.undoDepth=o),r("historyEventDelay",1250),r("viewportMargin",10,n=>n.refresh(),!0),r("maxHighlightLength",1e4,Mg,!0),r("moveInputWithCursor",!0,(n,o)=>{o||n.display.input.resetPosition()}),r("tabindex",null,(n,o)=>n.display.input.getField().tabIndex=o||""),r("autofocus",null),r("direction","ltr",(n,o)=>n.doc.setDirection(o),!0),r("phrases",null)}function VPe(e,t,r){let n=r&&r!=Zh;if(!t!=!n){let o=e.display.dragFunctions,s=t?ct:Ui;s(e.display.scroller,"dragstart",o.start),s(e.display.scroller,"dragenter",o.enter),s(e.display.scroller,"dragover",o.over),s(e.display.scroller,"dragleave",o.leave),s(e.display.scroller,"drop",o.drop)}}function GPe(e){e.options.lineWrapping?(hc(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(cc(e.display.wrapper,"CodeMirror-wrap"),GI(e)),iN(e),ri(e),Ig(e),setTimeout(()=>Vh(e),100)}function fr(e,t){if(!(this instanceof fr))return new fr(e,t);this.options=t=t?pc(t):{},pc(nK,t,!1);let r=t.value;typeof r=="string"?r=new xc(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;let n=new fr.inputStyles[t.inputStyle](this),o=this.display=new oPe(e,r,n,t);o.wrapper.CodeMirror=this,rK(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),nz(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Dh,keySeq:null,specialChars:null},t.autofocus&&!pg&&o.input.focus(),Ft&&lr<11&&setTimeout(()=>this.display.input.reset(!0),20),KPe(this),RPe(),Ec(this),this.curOp.forceUpdate=!0,pz(this,r),t.autofocus&&!pg||this.hasFocus()?setTimeout(()=>{this.hasFocus()&&!this.state.focused&&aN(this)},20):qh(this);for(let s in X0)X0.hasOwnProperty(s)&&X0[s](this,t[s],Zh);az(this),t.finishInit&&t.finishInit(this);for(let s=0;s<IN.length;++s)IN[s](this);Rc(this),On&&t.lineWrapping&&getComputedStyle(o.lineDiv).textRendering=="optimizelegibility"&&(o.lineDiv.style.textRendering="auto")}fr.defaults=nK,fr.optionHandlers=X0;var zPe=fr;function KPe(e){let t=e.display;ct(t.scroller,"mousedown",Xr(e,Qz)),Ft&&lr<11?ct(t.scroller,"dblclick",Xr(e,f=>{if(Jr(e,f))return;let u=mc(e,f);if(!u||TN(e,f)||Ua(e.display,f))return;ti(f);let d=e.findWordAt(u);V0(e.doc,d.anchor,d.head)})):ct(t.scroller,"dblclick",f=>Jr(e,f)||ti(f)),ct(t.scroller,"contextmenu",f=>tK(e,f)),ct(t.input.getField(),"contextmenu",f=>{t.scroller.contains(f.target)||tK(e,f)});let r,n={end:0};function o(){t.activeTouch&&(r=setTimeout(()=>t.activeTouch=null,1e3),n=t.activeTouch,n.end=+new Date)}function s(f){if(f.touches.length!=1)return!1;let u=f.touches[0];return u.radiusX<=1&&u.radiusY<=1}function a(f,u){if(u.left==null)return!0;let d=u.left-f.left,g=u.top-f.top;return d*d+g*g>20*20}ct(t.scroller,"touchstart",f=>{if(!Jr(e,f)&&!s(f)&&!TN(e,f)){t.input.ensurePolled(),clearTimeout(r);let u=+new Date;t.activeTouch={start:u,moved:!1,prev:u-n.end<=300?n:null},f.touches.length==1&&(t.activeTouch.left=f.touches[0].pageX,t.activeTouch.top=f.touches[0].pageY)}}),ct(t.scroller,"touchmove",()=>{t.activeTouch&&(t.activeTouch.moved=!0)}),ct(t.scroller,"touchend",f=>{let u=t.activeTouch;if(u&&!Ua(t,f)&&u.left!=null&&!u.moved&&new Date-u.start<300){let d=e.coordsChar(t.activeTouch,"page"),g;!u.prev||a(u,u.prev)?g=new Xt(d,d):!u.prev.prev||a(u,u.prev.prev)?g=e.findWordAt(d):g=new Xt(Le(d.line,0),mt(e.doc,Le(d.line+1,0))),e.setSelection(g.anchor,g.head),e.focus(),ti(f)}o()}),ct(t.scroller,"touchcancel",o),ct(t.scroller,"scroll",()=>{t.scroller.clientHeight&&(Cg(e,t.scroller.scrollTop),Sc(e,t.scroller.scrollLeft,!0),Fr(e,"scroll",e))}),ct(t.scroller,"mousewheel",f=>fz(e,f)),ct(t.scroller,"DOMMouseScroll",f=>fz(e,f)),ct(t.wrapper,"scroll",()=>t.wrapper.scrollTop=t.wrapper.scrollLeft=0),t.dragFunctions={enter:f=>{Jr(e,f)||mg(f)},over:f=>{Jr(e,f)||(EPe(e,f),mg(f))},start:f=>SPe(e,f),drop:Xr(e,vPe),leave:f=>{Jr(e,f)||Fz(e)}};let l=t.input.getField();ct(l,"keyup",f=>Jz.call(e,f)),ct(l,"keydown",Xr(e,Kz)),ct(l,"keypress",Xr(e,Yz)),ct(l,"focus",f=>aN(e,f)),ct(l,"blur",f=>qh(e,f))}var IN=[];fr.defineInitHook=e=>IN.push(e);function Vg(e,t,r,n){let o=e.doc,s;r==null&&(r="add"),r=="smart"&&(o.mode.indent?s=Eg(e,t).state:r="prev");let a=e.options.tabSize,l=it(o,t),f=po(l.text,null,a);l.stateAfter&&(l.stateAfter=null);let u=l.text.match(/^\s*/)[0],d;if(!n&&!/\S/.test(l.text))d=0,r="not";else if(r=="smart"&&(d=o.mode.indent(s,l.text.slice(u.length),l.text),d==m0||d>150)){if(!n)return;r="prev"}r=="prev"?t>o.first?d=po(it(o,t-1).text,null,a):d=0:r=="add"?d=f+e.options.indentUnit:r=="subtract"?d=f-e.options.indentUnit:typeof r=="number"&&(d=f+r),d=Math.max(0,d);let g="",h=0;if(e.options.indentWithTabs)for(let p=Math.floor(d/a);p;--p)h+=a,g+="	";if(h<d&&(g+=EI(d-h)),g!=u)return Jh(o,g,Le(t,0),Le(t,u.length),"+input"),l.stateAfter=null,!0;for(let p=0;p<o.sel.ranges.length;p++){let w=o.sel.ranges[p];if(w.head.line==t&&w.head.ch<u.length){let y=Le(t,u.length);mN(o,p,new Xt(y,y));break}}}var Ko=null;function Q0(e){Ko=e}function NN(e,t,r,n,o){let s=e.doc;e.display.shift=!1,n||(n=s.sel);let a=+new Date-200,l=o=="paste"||e.state.pasteIncoming>a,f=kI(t),u=null;if(l&&n.ranges.length>1)if(Ko&&Ko.text.join(`
`)==t){if(n.ranges.length%Ko.text.length==0){u=[];for(let g=0;g<Ko.text.length;g++)u.push(s.splitLines(Ko.text[g]))}}else f.length==n.ranges.length&&e.options.pasteLinesPerSelection&&(u=S0(f,g=>[g]));let d=e.curOp.updateInput;for(let g=n.ranges.length-1;g>=0;g--){let h=n.ranges[g],p=h.from(),w=h.to();h.empty()&&(r&&r>0?p=Le(p.line,p.ch-r):e.state.overwrite&&!l?w=Le(w.line,Math.min(it(s,w.line).text.length,w.ch+qt(f).length)):l&&Ko&&Ko.lineWise&&Ko.text.join(`
`)==f.join(`
`)&&(p=w=Le(p.line,0)));let y={from:p,to:w,text:u?u[g%u.length]:f,origin:o||(l?"paste":e.state.cutIncoming>a?"cut":"+input")};Kh(e.doc,y),Yr(e,"inputRead",e,y)}t&&!l&&oK(e,t),Hh(e),e.curOp.updateInput<2&&(e.curOp.updateInput=d),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function iK(e,t){let r=e.clipboardData&&e.clipboardData.getData("Text");if(r)return e.preventDefault(),!t.isReadOnly()&&!t.options.disableInput&&Ri(t,()=>NN(t,r,0,null,"paste")),!0}function oK(e,t){if(!e.options.electricChars||!e.options.smartIndent)return;let r=e.doc.sel;for(let n=r.ranges.length-1;n>=0;n--){let o=r.ranges[n];if(o.head.ch>100||n&&r.ranges[n-1].head.line==o.head.line)continue;let s=e.getModeAt(o.head),a=!1;if(s.electricChars){for(let l=0;l<s.electricChars.length;l++)if(t.indexOf(s.electricChars.charAt(l))>-1){a=Vg(e,o.head.line,"smart");break}}else s.electricInput&&s.electricInput.test(it(e.doc,o.head.line).text.slice(0,o.head.ch))&&(a=Vg(e,o.head.line,"smart"));a&&Yr(e,"electricInput",e,o.head.line)}}function sK(e){let t=[],r=[];for(let n=0;n<e.doc.sel.ranges.length;n++){let o=e.doc.sel.ranges[n].head.line,s={anchor:Le(o,0),head:Le(o+1,0)};r.push(s),t.push(e.getRange(s.anchor,s.head))}return{text:t,ranges:r}}function aK(e,t,r,n){e.setAttribute("autocorrect",r?"":"off"),e.setAttribute("autocapitalize",n?"":"off"),e.setAttribute("spellcheck",!!t)}function lK(){let e=ft("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=ft("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return On?e.style.width="1000px":e.setAttribute("wrap","off"),hg&&(e.style.border="1px solid black"),aK(e),t}function JPe(e){let t=e.optionHandlers,r=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(n,o){let s=this.options,a=s[n];s[n]==o&&n!="mode"||(s[n]=o,t.hasOwnProperty(n)&&Xr(this,t[n])(this,o,a),Fr(this,"optionChange",this,n))},getOption:function(n){return this.options[n]},getDoc:function(){return this.doc},addKeyMap:function(n,o){this.state.keyMaps[o?"push":"unshift"](J0(n))},removeKeyMap:function(n){let o=this.state.keyMaps;for(let s=0;s<o.length;++s)if(o[s]==n||o[s].name==n)return o.splice(s,1),!0},addOverlay:Ln(function(n,o){let s=n.token?n:e.getMode(this.options,n);if(s.startState)throw new Error("Overlays may not be stateful.");jDe(this.state.overlays,{mode:s,modeSpec:n,opaque:o&&o.opaque,priority:o&&o.priority||0},a=>a.priority),this.state.modeGen++,ri(this)}),removeOverlay:Ln(function(n){let o=this.state.overlays;for(let s=0;s<o.length;++s){let a=o[s].modeSpec;if(a==n||typeof n=="string"&&a.name==n){o.splice(s,1),this.state.modeGen++,ri(this);return}}}),indentLine:Ln(function(n,o,s){typeof o!="string"&&typeof o!="number"&&(o==null?o=this.options.smartIndent?"smart":"prev":o=o?"add":"subtract"),vg(this.doc,n)&&Vg(this,n,o,s)}),indentSelection:Ln(function(n){let o=this.doc.sel.ranges,s=-1;for(let a=0;a<o.length;a++){let l=o[a];if(l.empty())l.head.line>s&&(Vg(this,l.head.line,n,!0),s=l.head.line,a==this.doc.sel.primIndex&&Hh(this));else{let f=l.from(),u=l.to(),d=Math.max(s,f.line);s=Math.min(this.lastLine(),u.line-(u.ch?0:1))+1;for(let h=d;h<s;++h)Vg(this,h,n);let g=this.doc.sel.ranges;f.ch==0&&o.length==g.length&&g[a].from().ch>0&&mN(this.doc,a,new Xt(f,g[a].to()),Ps)}}}),getTokenAt:function(n,o){return p9(this,n,o)},getLineTokens:function(n,o){return p9(this,Le(n),o,!0)},getTokenTypeAt:function(n){n=mt(this.doc,n);let o=c9(this,it(this.doc,n.line)),s=0,a=(o.length-1)/2,l=n.ch,f;if(l==0)f=o[2];else for(;;){let d=s+a>>1;if((d?o[d*2-1]:0)>=l)a=d;else if(o[d*2+1]<l)s=d+1;else{f=o[d*2+2];break}}let u=f?f.indexOf("overlay "):-1;return u<0?f:u==0?null:f.slice(0,u-1)},getModeAt:function(n){let o=this.doc.mode;return o.innerMode?e.innerMode(o,this.getTokenAt(n).state).mode:o},getHelper:function(n,o){return this.getHelpers(n,o)[0]},getHelpers:function(n,o){let s=[];if(!r.hasOwnProperty(o))return s;let a=r[o],l=this.getModeAt(n);if(typeof l[o]=="string")a[l[o]]&&s.push(a[l[o]]);else if(l[o])for(let f=0;f<l[o].length;f++){let u=a[l[o][f]];u&&s.push(u)}else l.helperType&&a[l.helperType]?s.push(a[l.helperType]):a[l.name]&&s.push(a[l.name]);for(let f=0;f<a._global.length;f++){let u=a._global[f];u.pred(l,this)&&yn(s,u.val)==-1&&s.push(u.val)}return s},getStateAfter:function(n,o){let s=this.doc;return n=l9(s,n??s.first+s.size-1),Eg(this,n+1,o).state},cursorCoords:function(n,o){let s,a=this.doc.sel.primary();return n==null?s=a.head:typeof n=="object"?s=mt(this.doc,n):s=n?a.from():a.to(),Go(this,s,o||"page")},charCoords:function(n,o){return QI(this,mt(this.doc,n),o||"page")},coordsChar:function(n,o){return n=q9(this,n,o||"page"),eN(this,n.left,n.top)},lineAtHeight:function(n,o){return n=q9(this,{top:n,left:0},o||"page").top,_c(this.doc,n+this.display.viewOffset)},heightAtLine:function(n,o,s){let a=!1,l;if(typeof n=="number"){let f=this.doc.first+this.doc.size-1;n<this.doc.first?n=this.doc.first:n>f&&(n=f,a=!0),l=it(this.doc,n)}else l=n;return M0(this,l,{top:0,left:0},o||"page",s||a).top+(a?this.doc.height-Ba(l):0)},defaultTextHeight:function(){return Bh(this.display)},defaultCharWidth:function(){return Uh(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(n,o,s,a,l){let f=this.display;n=Go(this,mt(this.doc,n));let u=n.bottom,d=n.left;if(o.style.position="absolute",o.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(o),f.sizer.appendChild(o),a=="over")u=n.top;else if(a=="above"||a=="near"){let g=Math.max(f.wrapper.clientHeight,this.doc.height),h=Math.max(f.sizer.clientWidth,f.lineSpace.clientWidth);(a=="above"||n.bottom+o.offsetHeight>g)&&n.top>o.offsetHeight?u=n.top-o.offsetHeight:n.bottom+o.offsetHeight<=g&&(u=n.bottom),d+o.offsetWidth>h&&(d=h-o.offsetWidth)}o.style.top=u+"px",o.style.left=o.style.right="",l=="right"?(d=f.sizer.clientWidth-o.offsetWidth,o.style.right="0px"):(l=="left"?d=0:l=="middle"&&(d=(f.sizer.clientWidth-o.offsetWidth)/2),o.style.left=d+"px"),s&&qMe(this,{left:d,top:u,right:d+o.offsetWidth,bottom:u+o.offsetHeight})},triggerOnKeyDown:Ln(Kz),triggerOnKeyPress:Ln(Yz),triggerOnKeyUp:Jz,triggerOnMouseDown:Ln(Qz),execCommand:function(n){if(Bg.hasOwnProperty(n))return Bg[n].call(null,this)},triggerElectric:Ln(function(n){oK(this,n)}),findPosH:function(n,o,s,a){let l=1;o<0&&(l=-1,o=-o);let f=mt(this.doc,n);for(let u=0;u<o&&(f=kN(this.doc,f,l,s,a),!f.hitSide);++u);return f},moveH:Ln(function(n,o){this.extendSelectionsBy(s=>this.display.shift||this.doc.extend||s.empty()?kN(this.doc,s.head,n,o,this.options.rtlMoveVisually):n<0?s.from():s.to(),gg)}),deleteH:Ln(function(n,o){let s=this.doc.sel,a=this.doc;s.somethingSelected()?a.replaceSelection("",null,"+delete"):Qh(this,l=>{let f=kN(a,l.head,n,o,!1);return n<0?{from:f,to:l.head}:{from:l.head,to:f}})}),findPosV:function(n,o,s,a){let l=1,f=a;o<0&&(l=-1,o=-o);let u=mt(this.doc,n);for(let d=0;d<o;++d){let g=Go(this,u,"div");if(f==null?f=g.left:g.left=f,u=uK(this,g,l,s),u.hitSide)break}return u},moveV:Ln(function(n,o){let s=this.doc,a=[],l=!this.display.shift&&!s.extend&&s.sel.somethingSelected();if(s.extendSelectionsBy(f=>{if(l)return n<0?f.from():f.to();let u=Go(this,f.head,"div");f.goalColumn!=null&&(u.left=f.goalColumn),a.push(u.left);let d=uK(this,u,n,o);return o=="page"&&f==s.sel.primary()&&uN(this,QI(this,d,"div").top-u.top),d},gg),a.length)for(let f=0;f<s.sel.ranges.length;f++)s.sel.ranges[f].goalColumn=a[f]}),findWordAt:function(n){let o=this.doc,s=it(o,n.line).text,a=n.ch,l=n.ch;if(s){let f=this.getHelper(n,"wordChars");(n.sticky=="before"||l==s.length)&&a?--a:++l;let u=s.charAt(a),d=E0(u,f)?g=>E0(g,f):/\s/.test(u)?g=>/\s/.test(g):g=>!/\s/.test(g)&&!E0(g);for(;a>0&&d(s.charAt(a-1));)--a;for(;l<s.length&&d(s.charAt(l));)++l}return new Xt(Le(n.line,a),Le(n.line,l))},toggleOverwrite:function(n){n!=null&&n==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?hc(this.display.cursorDiv,"CodeMirror-overwrite"):cc(this.display.cursorDiv,"CodeMirror-overwrite"),Fr(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ho()},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Ln(function(n,o){kg(this,n,o)}),getScrollInfo:function(){let n=this.display.scroller;return{left:n.scrollLeft,top:n.scrollTop,height:n.scrollHeight-Ws(this)-this.display.barHeight,width:n.scrollWidth-Ws(this)-this.display.barWidth,clientHeight:JI(this),clientWidth:yc(this)}},scrollIntoView:Ln(function(n,o){n==null?(n={from:this.doc.sel.primary().head,to:null},o==null&&(o=this.options.cursorScrollMargin)):typeof n=="number"?n={from:Le(n,0),to:null}:n.from==null&&(n={from:n,to:null}),n.to||(n.to=n.from),n.margin=o||0,n.from.line!=null?HMe(this,n):Z9(this,n.from,n.to,n.margin)}),setSize:Ln(function(n,o){let s=l=>typeof l=="number"||/^\d+$/.test(String(l))?l+"px":l;n!=null&&(this.display.wrapper.style.width=s(n)),o!=null&&(this.display.wrapper.style.height=s(o)),this.options.lineWrapping&&W9(this);let a=this.display.viewFrom;this.doc.iter(a,this.display.viewTo,l=>{if(l.widgets){for(let f=0;f<l.widgets.length;f++)if(l.widgets[f].noHScroll){_u(this,a,"widget");break}}++a}),this.curOp.forceUpdate=!0,Fr(this,"refresh",this)}),operation:function(n){return Ri(this,n)},startOperation:function(){return Ec(this)},endOperation:function(){return Rc(this)},refresh:Ln(function(){let n=this.display.cachedTextHeight;ri(this),this.curOp.forceUpdate=!0,Ig(this),kg(this,this.doc.scrollLeft,this.doc.scrollTop),dN(this.display),(n==null||Math.abs(n-Bh(this.display))>.5||this.options.lineWrapping)&&iN(this),Fr(this,"refresh",this)}),swapDoc:Ln(function(n){let o=this.doc;return o.cm=null,this.state.selectingText&&this.state.selectingText(),pz(this,n),Ig(this),this.display.input.reset(),kg(this,n.scrollLeft,n.scrollTop),this.curOp.forceScroll=!0,Yr(this,"swapDoc",this,o),o}),phrase:function(n){let o=this.options.phrases;return o&&Object.prototype.hasOwnProperty.call(o,n)?o[n]:n},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Mh(e),e.registerHelper=function(n,o,s){r.hasOwnProperty(n)||(r[n]=e[n]={_global:[]}),r[n][o]=s},e.registerGlobalHelper=function(n,o,s,a){e.registerHelper(n,o,a),r[n]._global.push({pred:s,val:a})}}function kN(e,t,r,n,o){let s=t,a=r,l=it(e,t.line),f=o&&e.direction=="rtl"?-r:r;function u(){let h=t.line+f;return h<e.first||h>=e.first+e.size?!1:(t=new Le(h,t.ch,t.sticky),l=it(e,h))}function d(h){let p;if(n=="codepoint"){let w=l.text.charCodeAt(t.ch+(r>0?0:-1));if(isNaN(w))p=null;else{let y=r>0?w>=55296&&w<56320:w>=56320&&w<57343;p=new Le(t.line,Math.max(0,Math.min(l.text.length,t.ch+r*(y?2:1))),-r)}}else o?p=IPe(e.cm,l,t,r):p=xN(l,t,r);if(p==null)if(!h&&u())t=AN(o,e.cm,l,t.line,f);else return!1;else t=p;return!0}if(n=="char"||n=="codepoint")d();else if(n=="column")d(!0);else if(n=="word"||n=="group"){let h=null,p=n=="group",w=e.cm&&e.cm.getHelper(t,"wordChars");for(let y=!0;!(r<0&&!d(!y));y=!1){let v=l.text.charAt(t.ch)||`
`,E=E0(v,w)?"w":p&&v==`
`?"n":!p||/\s/.test(v)?null:"p";if(p&&!y&&!E&&(E="s"),h&&h!=E){r<0&&(r=1,d(),t.sticky="after");break}if(E&&(h=E),r>0&&!d(!y))break}}let g=z0(e,t,s,a,!0);return FI(s,g)&&(g.hitSide=!0),g}function uK(e,t,r,n){let o=e.doc,s=t.left,a;if(n=="page"){let f=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),u=Math.max(f-.5*Bh(e.display),3);a=(r>0?t.bottom:t.top)+r*u}else n=="line"&&(a=r>0?t.bottom+3:t.top-3);let l;for(;l=eN(e,s,a),!!l.outside;){if(r<0?a<=0:a>=o.height){l.hitSide=!0;break}a+=r*5}return l}var fK=class{constructor(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Dh,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null}init(e){let t=this,r=t.cm,n=t.div=e.lineDiv;n.contentEditable=!0,aK(n,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize);function o(a){for(let l=a.target;l;l=l.parentNode){if(l==n)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(l.className))break}return!1}ct(n,"paste",a=>{!o(a)||Jr(r,a)||iK(a,r)||lr<=11&&setTimeout(Xr(r,()=>this.updateFromDOM()),20)}),ct(n,"compositionstart",a=>{this.composing={data:a.data,done:!1}}),ct(n,"compositionupdate",a=>{this.composing||(this.composing={data:a.data,done:!1})}),ct(n,"compositionend",a=>{this.composing&&(a.data!=this.composing.data&&this.readFromDOMSoon(),this.composing.done=!0)}),ct(n,"touchstart",()=>t.forceCompositionEnd()),ct(n,"input",()=>{this.composing||this.readFromDOMSoon()});function s(a){if(!o(a)||Jr(r,a))return;if(r.somethingSelected())Q0({lineWise:!1,text:r.getSelections()}),a.type=="cut"&&r.replaceSelection("",null,"cut");else if(r.options.lineWiseCopyCut){let d=sK(r);Q0({lineWise:!0,text:d.text}),a.type=="cut"&&r.operation(()=>{r.setSelections(d.ranges,0,Ps),r.replaceSelection("",null,"cut")})}else return;if(a.clipboardData){a.clipboardData.clearData();let d=Ko.text.join(`
`);if(a.clipboardData.setData("Text",d),a.clipboardData.getData("Text")==d){a.preventDefault();return}}let l=lK(),f=l.firstChild;r.display.lineSpace.insertBefore(l,r.display.lineSpace.firstChild),f.value=Ko.text.join(`
`);let u=ho();bg(f),setTimeout(()=>{r.display.lineSpace.removeChild(l),u.focus(),u==n&&t.showPrimarySelection()},50)}ct(n,"copy",s),ct(n,"cut",s)}screenReaderLabelChanged(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")}prepareSelection(){let e=J9(this.cm,!1);return e.focus=ho()==this.div,e}showSelection(e,t){!e||!this.cm.display.view.length||((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))}getSelection(){return this.cm.display.wrapper.ownerDocument.getSelection()}showPrimarySelection(){let e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),n=r.from(),o=r.to();if(t.display.viewTo==t.display.viewFrom||n.line>=t.display.viewTo||o.line<t.display.viewFrom){e.removeAllRanges();return}let s=Z0(t,e.anchorNode,e.anchorOffset),a=Z0(t,e.focusNode,e.focusOffset);if(s&&!s.bad&&a&&!a.bad&&wt($0(s,a),n)==0&&wt(A0(s,a),o)==0)return;let l=t.display.view,f=n.line>=t.display.viewFrom&&cK(t,n)||{node:l[0].measure.map[2],offset:0},u=o.line<t.display.viewTo&&cK(t,o);if(!u){let h=l[l.length-1].measure,p=h.maps?h.maps[h.maps.length-1]:h.map;u={node:p[p.length-1],offset:p[p.length-2]-p[p.length-3]}}if(!f||!u){e.removeAllRanges();return}let d=e.rangeCount&&e.getRangeAt(0),g;try{g=dc(f.node,f.offset,u.offset,u.node)}catch{}g&&(!Fa&&t.state.focused?(e.collapse(f.node,f.offset),g.collapsed||(e.removeAllRanges(),e.addRange(g))):(e.removeAllRanges(),e.addRange(g)),d&&e.anchorNode==null?e.addRange(d):Fa&&this.startGracePeriod()),this.rememberSelection()}startGracePeriod(){clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(()=>{this.gracePeriod=!1,this.selectionChanged()&&this.cm.operation(()=>this.cm.curOp.selectionChanged=!0)},20)}showMultipleSelections(e){Bi(this.cm.display.cursorDiv,e.cursors),Bi(this.cm.display.selectionDiv,e.selection)}rememberSelection(){let e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset}selectionInEditor(){let e=this.getSelection();if(!e.rangeCount)return!1;let t=e.getRangeAt(0).commonAncestorContainer;return bu(this.div,t)}focus(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||ho()!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())}blur(){this.div.blur()}getField(){return this.div}supportsTouch(){return!0}receivedFocus(){let e=this;this.selectionInEditor()?this.pollSelection():Ri(this.cm,()=>e.cm.curOp.selectionChanged=!0);function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}this.polling.set(this.cm.options.pollInterval,t)}selectionChanged(){let e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset}pollSelection(){if(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())return;let e=this.getSelection(),t=this.cm;if(w0&&_0&&this.cm.display.gutterSpecs.length&&XPe(e.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(this.composing)return;this.rememberSelection();let r=Z0(t,e.anchorNode,e.anchorOffset),n=Z0(t,e.focusNode,e.focusOffset);r&&n&&Ri(t,()=>{wn(t.doc,mu(r,n),Ps),(r.bad||n.bad)&&(t.curOp.selectionChanged=!0)})}pollContent(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);let e=this.cm,t=e.display,r=e.doc.sel.primary(),n=r.from(),o=r.to();if(n.ch==0&&n.line>e.firstLine()&&(n=Le(n.line-1,it(e.doc,n.line-1).length)),o.ch==it(e.doc,o.line).text.length&&o.line<e.lastLine()&&(o=Le(o.line+1,0)),n.line<t.viewFrom||o.line>t.viewTo-1)return!1;let s,a,l;n.line==t.viewFrom||(s=vc(e,n.line))==0?(a=zt(t.view[0].line),l=t.view[0].node):(a=zt(t.view[s].line),l=t.view[s-1].node.nextSibling);let f=vc(e,o.line),u,d;if(f==t.view.length-1?(u=t.viewTo-1,d=t.lineDiv.lastChild):(u=zt(t.view[f+1].line)-1,d=t.view[f+1].node.previousSibling),!l)return!1;let g=e.doc.splitLines(QPe(e,l,d,a,u)),h=gc(e.doc,Le(a,0),Le(u,it(e.doc,u).text.length));for(;g.length>1&&h.length>1;)if(qt(g)==qt(h))g.pop(),h.pop(),u--;else if(g[0]==h[0])g.shift(),h.shift(),a++;else break;let p=0,w=0,y=g[0],v=h[0],E=Math.min(y.length,v.length);for(;p<E&&y.charCodeAt(p)==v.charCodeAt(p);)++p;let x=qt(g),S=qt(h),N=Math.min(x.length-(g.length==1?p:0),S.length-(h.length==1?p:0));for(;w<N&&x.charCodeAt(x.length-w-1)==S.charCodeAt(S.length-w-1);)++w;if(g.length==1&&h.length==1&&a==n.line)for(;p&&p>n.ch&&x.charCodeAt(x.length-w-1)==S.charCodeAt(S.length-w-1);)p--,w++;g[g.length-1]=x.slice(0,x.length-w).replace(/^\u200b+/,""),g[0]=g[0].slice(p).replace(/\u200b+$/,"");let $=Le(a,p),D=Le(u,h.length?qt(h).length-w:0);if(g.length>1||g[0]||wt($,D))return Jh(e.doc,g,$,D,"+input"),!0}ensurePolled(){this.forceCompositionEnd()}reset(){this.forceCompositionEnd()}forceCompositionEnd(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())}readFromDOMSoon(){this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(()=>{if(this.readDOMTimeout=null,this.composing)if(this.composing.done)this.composing=null;else return;this.updateFromDOM()},80))}updateFromDOM(){(this.cm.isReadOnly()||!this.pollContent())&&Ri(this.cm,()=>ri(this.cm))}setUneditable(e){e.contentEditable="false"}onKeyPress(e){e.charCode==0||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Xr(this.cm,NN)(this.cm,String.fromCharCode(e.charCode==null?e.keyCode:e.charCode),0))}readOnlyChanged(e){this.div.contentEditable=String(e!="nocursor")}onContextMenu(){}resetPosition(){}},YPe=fK;fK.prototype.needsContentAttribute=!0;function cK(e,t){let r=YI(e,t.line);if(!r||r.hidden)return null;let n=it(e.doc,t.line),o=D9(r,n,t.line),s=ja(n,e.doc.direction),a="left";s&&(a=wg(s,t.ch)%2?"right":"left");let l=F9(o.map,t.ch,a);return l.offset=l.collapse=="right"?l.end:l.start,l}function XPe(e){for(let t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function ep(e,t){return t&&(e.bad=!0),e}function QPe(e,t,r,n,o){let s="",a=!1,l=e.doc.lineSeparator(),f=!1;function u(p){return w=>w.id==p}function d(){a&&(s+=l,f&&(s+=l),a=f=!1)}function g(p){p&&(d(),s+=p)}function h(p){if(p.nodeType==1){let w=p.getAttribute("cm-text");if(w){g(w);return}let y=p.getAttribute("cm-marker"),v;if(y){let x=e.findMarks(Le(n,0),Le(o+1,0),u(+y));x.length&&(v=x[0].find(0))&&g(gc(e.doc,v.from,v.to).join(l));return}if(p.getAttribute("contenteditable")=="false")return;let E=/^(pre|div|p|li|table|br)$/i.test(p.nodeName);if(!/^br$/i.test(p.nodeName)&&p.textContent.length==0)return;E&&d();for(let x=0;x<p.childNodes.length;x++)h(p.childNodes[x]);/^(pre|p)$/i.test(p.nodeName)&&(f=!0),E&&(a=!0)}else p.nodeType==3&&g(p.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;h(t),t!=r;)t=t.nextSibling,f=!1;return s}function Z0(e,t,r){let n;if(t==e.display.lineDiv){if(n=e.display.lineDiv.childNodes[r],!n)return ep(e.clipPos(Le(e.display.viewTo-1)),!0);t=null,r=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(let o=0;o<e.display.view.length;o++){let s=e.display.view[o];if(s.node==n)return ZPe(s,t,r)}}function ZPe(e,t,r){let n=e.text.firstChild,o=!1;if(!t||!bu(n,t))return ep(Le(zt(e.line),0),!0);if(t==n&&(o=!0,t=n.childNodes[r],r=0,!t)){let g=e.rest?qt(e.rest):e.line;return ep(Le(zt(g),g.text.length),o)}let s=t.nodeType==3?t:null,a=t;for(!s&&t.childNodes.length==1&&t.firstChild.nodeType==3&&(s=t.firstChild,r&&(r=s.nodeValue.length));a.parentNode!=n;)a=a.parentNode;let l=e.measure,f=l.maps;function u(g,h,p){for(let w=-1;w<(f?f.length:0);w++){let y=w<0?l.map:f[w];for(let v=0;v<y.length;v+=3){let E=y[v+2];if(E==g||E==h){let x=zt(w<0?e.line:e.rest[w]),S=y[v]+p;return(p<0||E!=g)&&(S=y[v+(p?1:0)]),Le(x,S)}}}}let d=u(s,a,r);if(d)return ep(d,o);for(let g=a.nextSibling,h=s?s.nodeValue.length-r:0;g;g=g.nextSibling){if(d=u(g,g.firstChild,0),d)return ep(Le(d.line,d.ch-h),o);h+=g.textContent.length}for(let g=a.previousSibling,h=r;g;g=g.previousSibling){if(d=u(g,g.firstChild,-1),d)return ep(Le(d.line,d.ch+h),o);h+=g.textContent.length}}var dK=class{constructor(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Dh,this.hasSelection=!1,this.composing=null}init(e){let t=this,r=this.cm;this.createField(e);const n=this.textarea;e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),hg&&(n.style.width="0px"),ct(n,"input",()=>{Ft&&lr>=9&&this.hasSelection&&(this.hasSelection=null),t.poll()}),ct(n,"paste",s=>{Jr(r,s)||iK(s,r)||(r.state.pasteIncoming=+new Date,t.fastPoll())});function o(s){if(!Jr(r,s)){if(r.somethingSelected())Q0({lineWise:!1,text:r.getSelections()});else if(r.options.lineWiseCopyCut){let a=sK(r);Q0({lineWise:!0,text:a.text}),s.type=="cut"?r.setSelections(a.ranges,null,Ps):(t.prevInput="",n.value=a.text.join(`
`),bg(n))}else return;s.type=="cut"&&(r.state.cutIncoming=+new Date)}}ct(n,"cut",o),ct(n,"copy",o),ct(e.scroller,"paste",s=>{if(Ua(e,s)||Jr(r,s))return;if(!n.dispatchEvent){r.state.pasteIncoming=+new Date,t.focus();return}const a=new Event("paste");a.clipboardData=s.clipboardData,n.dispatchEvent(a)}),ct(e.lineSpace,"selectstart",s=>{Ua(e,s)||ti(s)}),ct(n,"compositionstart",()=>{let s=r.getCursor("from");t.composing&&t.composing.range.clear(),t.composing={start:s,range:r.markText(s,r.getCursor("to"),{className:"CodeMirror-composing"})}}),ct(n,"compositionend",()=>{t.composing&&(t.poll(),t.composing.range.clear(),t.composing=null)})}createField(e){this.wrapper=lK(),this.textarea=this.wrapper.firstChild}screenReaderLabelChanged(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")}prepareSelection(){let e=this.cm,t=e.display,r=e.doc,n=J9(e);if(e.options.moveInputWithCursor){let o=Go(e,r.sel.primary().head,"div"),s=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,o.top+a.top-s.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,o.left+a.left-s.left))}return n}showSelection(e){let t=this.cm,r=t.display;Bi(r.cursorDiv,e.cursors),Bi(r.selectionDiv,e.selection),e.teTop!=null&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")}reset(e){if(this.contextMenuPending||this.composing)return;let t=this.cm;if(t.somethingSelected()){this.prevInput="";let r=t.getSelection();this.textarea.value=r,t.state.focused&&bg(this.textarea),Ft&&lr>=9&&(this.hasSelection=r)}else e||(this.prevInput=this.textarea.value="",Ft&&lr>=9&&(this.hasSelection=null))}getField(){return this.textarea}supportsTouch(){return!1}focus(){if(this.cm.options.readOnly!="nocursor"&&(!pg||ho()!=this.textarea))try{this.textarea.focus()}catch{}}blur(){this.textarea.blur()}resetPosition(){this.wrapper.style.top=this.wrapper.style.left=0}receivedFocus(){this.slowPoll()}slowPoll(){this.pollingFast||this.polling.set(this.cm.options.pollInterval,()=>{this.poll(),this.cm.state.focused&&this.slowPoll()})}fastPoll(){let e=!1,t=this;t.pollingFast=!0;function r(){!t.poll()&&!e?(e=!0,t.polling.set(60,r)):(t.pollingFast=!1,t.slowPoll())}t.polling.set(20,r)}poll(){let e=this.cm,t=this.textarea,r=this.prevInput;if(this.contextMenuPending||!e.state.focused||zDe(t)&&!r&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;let n=t.value;if(n==r&&!e.somethingSelected())return!1;if(Ft&&lr>=9&&this.hasSelection===n||co&&/[\uf700-\uf7ff]/.test(n))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){let a=n.charCodeAt(0);if(a==8203&&!r&&(r="​"),a==8666)return this.reset(),this.cm.execCommand("undo")}let o=0,s=Math.min(r.length,n.length);for(;o<s&&r.charCodeAt(o)==n.charCodeAt(o);)++o;return Ri(e,()=>{NN(e,n.slice(o),r.length-o,null,this.composing?"*compose":null),n.length>1e3||n.indexOf(`
`)>-1?t.value=this.prevInput="":this.prevInput=n,this.composing&&(this.composing.range.clear(),this.composing.range=e.markText(this.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0}ensurePolled(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)}onKeyPress(){Ft&&lr>=9&&(this.hasSelection=null),this.fastPoll()}onContextMenu(e){let t=this,r=t.cm,n=r.display,o=t.textarea;t.contextMenuPending&&t.contextMenuPending();let s=mc(r,e),a=n.scroller.scrollTop;if(!s||Vo)return;r.options.resetSelectionOnContextMenu&&r.doc.sel.contains(s)==-1&&Xr(r,wn)(r.doc,mu(s),Ps);let f=o.style.cssText,u=t.wrapper.style.cssText,d=t.wrapper.offsetParent.getBoundingClientRect();t.wrapper.style.cssText="position: static",o.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: ${e.clientY-d.top-5}px; left: ${e.clientX-d.left-5}px;
      z-index: 1000; background: ${Ft?"rgba(255, 255, 255, .05)":"transparent"};
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;let g;On&&(g=window.scrollY),n.input.focus(),On&&window.scrollTo(null,g),n.input.reset(),r.somethingSelected()||(o.value=t.prevInput=" "),t.contextMenuPending=p,n.selForContextMenu=r.doc.sel,clearTimeout(n.detectingSelectAll);function h(){if(o.selectionStart!=null){let w=r.somethingSelected(),y="​"+(w?o.value:"");o.value="⇚",o.value=y,t.prevInput=w?"":"​",o.selectionStart=1,o.selectionEnd=y.length,n.selForContextMenu=r.doc.sel}}function p(){if(t.contextMenuPending==p&&(t.contextMenuPending=!1,t.wrapper.style.cssText=u,o.style.cssText=f,Ft&&lr<9&&n.scrollbars.setScrollTop(n.scroller.scrollTop=a),o.selectionStart!=null)){(!Ft||Ft&&lr<9)&&h();let w=0,y=()=>{n.selForContextMenu==r.doc.sel&&o.selectionStart==0&&o.selectionEnd>0&&t.prevInput=="​"?Xr(r,$z)(r):w++<10?n.detectingSelectAll=setTimeout(y,500):(n.selForContextMenu=null,n.input.reset())};n.detectingSelectAll=setTimeout(y,200)}}if(Ft&&lr>=9&&h(),yI){mg(e);let w=()=>{Ui(window,"mouseup",w),setTimeout(p,20)};ct(window,"mouseup",w)}else setTimeout(p,50)}readOnlyChanged(e){e||this.reset(),this.textarea.disabled=e=="nocursor",this.textarea.readOnly=!!e}setUneditable(){}},e2e=dK;dK.prototype.needsContentAttribute=!1;function t2e(e,t){if(t=t?pc(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),t.autofocus==null){let s=ho();t.autofocus=s==e||e.getAttribute("autofocus")!=null&&s==document.body}function r(){e.value=o.getValue()}let n;if(e.form&&(ct(e.form,"submit",r),!t.leaveSubmitMethodAlone)){let s=e.form;n=s.submit;try{let a=s.submit=()=>{r(),s.submit=n,s.submit(),s.submit=a}}catch{}}t.finishInit=s=>{s.save=r,s.getTextArea=()=>e,s.toTextArea=()=>{s.toTextArea=isNaN,r(),e.parentNode.removeChild(s.getWrapperElement()),e.style.display="",e.form&&(Ui(e.form,"submit",r),!t.leaveSubmitMethodAlone&&typeof e.form.submit=="function"&&(e.form.submit=n))}},e.style.display="none";let o=fr(s=>e.parentNode.insertBefore(s,e.nextSibling),t);return o}function r2e(e){e.off=Ui,e.on=ct,e.wheelEventPixels=sPe,e.Doc=xc,e.splitLines=kI,e.countColumn=po,e.findColumn=SI,e.isWordChar=RI,e.Pass=m0,e.signal=Fr,e.Line=xg,e.changeEnd=vu,e.scrollbarModel=rz,e.Pos=Le,e.cmpPos=wt,e.modes=OI,e.mimeModes=Ph,e.resolveMode=R0,e.getMode=LI,e.modeExtensions=Fh,e.extendMode=QDe,e.copyState=bc,e.startState=a9,e.innerMode=DI,e.commands=Bg,e.keyMap=Ha,e.keyName=qz,e.isModifierKey=Bz,e.lookupKey=Xh,e.normalizeKeyMap=TPe,e.StringStream=x0,e.SharedTextMarker=EN,e.TextMarker=SN,e.LineWidget=vN,e.e_preventDefault=ti,e.e_stopPropagation=o9,e.e_stop=mg,e.addClass=hc,e.contains=bu,e.rmClass=cc,e.keyNames=Eu}HPe(fr),JPe(fr);var n2e="iter insert remove copy getEditor constructor".split(" ");for(let e in xc.prototype)xc.prototype.hasOwnProperty(e)&&yn(n2e,e)<0&&(fr.prototype[e]=function(t){return function(){return t.apply(this.doc,arguments)}}(xc.prototype[e]));Mh(xc),fr.inputStyles={textarea:e2e,contenteditable:YPe},fr.defineMode=function(e){!fr.defaults.mode&&e!="null"&&(fr.defaults.mode=e),YDe.apply(this,arguments)},fr.defineMIME=XDe,fr.defineMode("null",()=>({token:e=>e.skipToEnd()})),fr.defineMIME("text/plain","null"),fr.defineExtension=(e,t)=>{fr.prototype[e]=t},fr.defineDocExtension=(e,t)=>{xc.prototype[e]=t},fr.fromTextArea=t2e,r2e(fr),fr.version="5.61.0";var ev=fr;document.body.insertAdjacentHTML("beforeend",`
<style>
/* BASICS */

.CodeMirror {
  /* Set height, width, borders, and global font properties here */
  font-family: monospace;
  height: auto;
  color: black;
  direction: ltr;
}

/* PADDING */

.CodeMirror-lines {
  padding: 4px 0; /* Vertical padding around content */
}
.CodeMirror pre.CodeMirror-line,
.CodeMirror pre.CodeMirror-line-like {
  padding: 0 4px; /* Horizontal padding of content */
}

.CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {
  background-color: white; /* The little square between H and V scrollbars */
}

/* GUTTER */

.CodeMirror-gutters {
  border-right: 1px solid #ddd;
  background-color: #f7f7f7;
  white-space: nowrap;
}
.CodeMirror-linenumbers {}
.CodeMirror-linenumber {
  padding: 0 3px 0 5px;
  min-width: 20px;
  text-align: right;
  color: #999;
  white-space: nowrap;
}

.CodeMirror-guttermarker { color: black; }
.CodeMirror-guttermarker-subtle { color: #999; }

/* CURSOR */

.CodeMirror-cursor {
  border-left: 1px solid black;
  border-right: none;
  width: 0;
}
/* Shown when moving in bi-directional text */
.CodeMirror div.CodeMirror-secondarycursor {
  border-left: 1px solid silver;
}
.cm-fat-cursor .CodeMirror-cursor {
  width: auto;
  border: 0 !important;
  background: #7e7;
}
.cm-fat-cursor div.CodeMirror-cursors {
  z-index: 1;
}
.cm-fat-cursor-mark {
  background-color: rgba(20, 255, 20, 0.5);
  -webkit-animation: blink 1.06s steps(1) infinite;
  -moz-animation: blink 1.06s steps(1) infinite;
  animation: blink 1.06s steps(1) infinite;
}
.cm-animate-fat-cursor {
  width: auto;
  border: 0;
  -webkit-animation: blink 1.06s steps(1) infinite;
  -moz-animation: blink 1.06s steps(1) infinite;
  animation: blink 1.06s steps(1) infinite;
  background-color: #7e7;
}
@-moz-keyframes blink {
  0% {}
  50% { background-color: transparent; }
  100% {}
}
@-webkit-keyframes blink {
  0% {}
  50% { background-color: transparent; }
  100% {}
}
@keyframes blink {
  0% {}
  50% { background-color: transparent; }
  100% {}
}

/* Can style cursor different in overwrite (non-insert) mode */
.CodeMirror-overwrite .CodeMirror-cursor {}

.cm-tab { display: inline-block; text-decoration: inherit; }

.CodeMirror-rulers {
  position: absolute;
  left: 0; right: 0; top: -50px; bottom: 0;
  overflow: hidden;
}
.CodeMirror-ruler {
  border-left: 1px solid #ccc;
  top: 0; bottom: 0;
  position: absolute;
}

/* DEFAULT THEME */

.cm-s-default .cm-header {color: blue;}
.cm-s-default .cm-quote {color: #090;}
.cm-negative {color: #d44;}
.cm-positive {color: #292;}
.cm-header, .cm-strong {font-weight: bold;}
.cm-em {font-style: italic;}
.cm-link {text-decoration: underline;}
.cm-strikethrough {text-decoration: line-through;}

.cm-s-default .cm-keyword {color: #708;}
.cm-s-default .cm-atom {color: #219;}
.cm-s-default .cm-number {color: #164;}
.cm-s-default .cm-def {color: #00f;}
.cm-s-default .cm-variable,
.cm-s-default .cm-punctuation,
.cm-s-default .cm-property,
.cm-s-default .cm-operator {}
.cm-s-default .cm-variable-2 {color: #05a;}
.cm-s-default .cm-variable-3, .cm-s-default .cm-type {color: #085;}
.cm-s-default .cm-comment {color: #a50;}
.cm-s-default .cm-string {color: #a11;}
.cm-s-default .cm-string-2 {color: #f50;}
.cm-s-default .cm-meta {color: #555;}
.cm-s-default .cm-qualifier {color: #555;}
.cm-s-default .cm-builtin {color: #30a;}
.cm-s-default .cm-bracket {color: #997;}
.cm-s-default .cm-tag {color: #170;}
.cm-s-default .cm-attribute {color: #00c;}
.cm-s-default .cm-hr {color: #999;}
.cm-s-default .cm-link {color: #00c;}

.cm-s-default .cm-error {color: #f00;}
.cm-invalidchar {color: #f00;}

.CodeMirror-composing { border-bottom: 2px solid; }

/* Default styles for common addons */

div.CodeMirror span.CodeMirror-matchingbracket {color: #0b0;}
div.CodeMirror span.CodeMirror-nonmatchingbracket {color: #a22;}
.CodeMirror-matchingtag { background: rgba(255, 150, 0, .3); }
.CodeMirror-activeline-background {background: #e8f2ff;}

/* STOP */

/* The rest of this file contains styles related to the mechanics of
    the editor. You probably shouldn't touch them. */

.CodeMirror {
  position: relative;
  overflow: hidden;
  background: white;
}

.CodeMirror-scroll {
  overflow: scroll !important; /* Things will break if this is overridden */
  /* 50px is the magic margin used to hide the element's real scrollbars */
  /* See overflow: hidden in .CodeMirror */
  margin-bottom: -50px; margin-right: -50px;
  padding-bottom: 50px;
  height: 100%;
  outline: none; /* Prevent dragging from highlighting the element */
  position: relative;
}
.CodeMirror-sizer {
  position: relative;
  border-right: 50px solid transparent;
}

/* The fake, visible scrollbars. Used to force redraw during scrolling
    before actual scrolling happens, thus preventing shaking and
    flickering artifacts. */
.CodeMirror-vscrollbar, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {
  position: absolute;
  z-index: 6;
  display: none;
}
.CodeMirror-vscrollbar {
  right: 0; top: 0;
  overflow-x: hidden;
  overflow-y: scroll;
}
.CodeMirror-hscrollbar {
  bottom: 0; left: 0;
  overflow-y: hidden;
  overflow-x: scroll;
}
.CodeMirror-scrollbar-filler {
  right: 0; bottom: 0;
}
.CodeMirror-gutter-filler {
  left: 0; bottom: 0;
}

.CodeMirror-gutters {
  position: absolute; left: 0; top: 0;
  min-height: 100%;
  z-index: 3;
}
.CodeMirror-gutter {
  white-space: normal;
  height: 100%;
  display: inline-block;
  vertical-align: top;
  margin-bottom: -50px;
}
.CodeMirror-gutter-wrapper {
  position: absolute;
  z-index: 4;
  background: none !important;
  border: none !important;
}
.CodeMirror-gutter-background {
  position: absolute;
  top: 0; bottom: 0;
  z-index: 4;
}
.CodeMirror-gutter-elt {
  position: absolute;
  cursor: default;
  z-index: 4;
}
.CodeMirror-gutter-wrapper ::selection { background-color: transparent }
.CodeMirror-gutter-wrapper ::-moz-selection { background-color: transparent }

.CodeMirror-lines {
  cursor: text;
  min-height: 1px; /* prevents collapsing before first draw */
}
.CodeMirror pre.CodeMirror-line,
.CodeMirror pre.CodeMirror-line-like {
  /* Reset some styles that the rest of the page might have set */
  -moz-border-radius: 0; -webkit-border-radius: 0; border-radius: 0;
  border-width: 0;
  background: transparent;
  font-family: inherit;
  font-size: inherit;
  margin: 0;
  white-space: pre;
  word-wrap: normal;
  line-height: inherit;
  color: inherit;
  z-index: 2;
  position: relative;
  overflow: visible;
  -webkit-tap-highlight-color: transparent;
  -webkit-font-variant-ligatures: contextual;
  font-variant-ligatures: contextual;
}
.CodeMirror-wrap pre.CodeMirror-line,
.CodeMirror-wrap pre.CodeMirror-line-like {
  word-wrap: break-word;
  white-space: pre-wrap;
  word-break: normal;
}

.CodeMirror-linebackground {
  position: absolute;
  left: 0; right: 0; top: 0; bottom: 0;
  z-index: 0;
}

.CodeMirror-linewidget {
  position: relative;
  z-index: 2;
  padding: 0.1px; /* Force widget margins to stay inside of the container */
}

.CodeMirror-widget {}

.CodeMirror-rtl pre { direction: rtl; }

.CodeMirror-code {
  outline: none;
}

/* Force content-box sizing for the elements where we expect it */
.CodeMirror-scroll,
.CodeMirror-sizer,
.CodeMirror-gutter,
.CodeMirror-gutters,
.CodeMirror-linenumber {
  -moz-box-sizing: content-box;
  box-sizing: content-box;
}

.CodeMirror-measure {
  position: absolute;
  width: 100%;
  height: 0;
  overflow: hidden;
  visibility: hidden;
}

.CodeMirror-cursor {
  position: absolute;
  pointer-events: none;
}
.CodeMirror-measure pre { position: static; }

div.CodeMirror-cursors {
  visibility: hidden;
  position: relative;
  z-index: 3;
}
div.CodeMirror-dragcursors {
  visibility: visible;
}

.CodeMirror-focused div.CodeMirror-cursors {
  visibility: visible;
}

.CodeMirror-selected { background: #d9d9d9; }
.CodeMirror-focused .CodeMirror-selected { background: #d7d4f0; }
.CodeMirror-crosshair { cursor: crosshair; }
.CodeMirror-line::selection, .CodeMirror-line > span::selection, .CodeMirror-line > span > span::selection { background: #d7d4f0; }
.CodeMirror-line::-moz-selection, .CodeMirror-line > span::-moz-selection, .CodeMirror-line > span > span::-moz-selection { background: #d7d4f0; }

.cm-searching {
  background-color: #ffa;
  background-color: rgba(255, 255, 0, .4);
}

/* Used to force a border model for a node */
.cm-force-border { padding-right: .1px; }

@media print {
  /* Hide the cursor when printing */
  .CodeMirror div.CodeMirror-cursors {
    visibility: hidden;
  }
}

/* See issue #2901 */
.cm-tab-wrap-hack:after { content: ''; }

/* Help users use markselection to safely style text background */
span.CodeMirror-selectedtext { background: none; }
</style>
`),self.CodeMirror=ev;var CN=class extends HTMLElement{static get observedAttributes(){return["src","readonly","mode","theme"]}attributeChangedCallback(e,t,r){this.__initialized&&t!==r&&(e==="readonly"?this[e]=r!==null:this[e]=r)}get readonly(){return this.editor.getOption("readOnly")}set readonly(e){this.editor.setOption("readOnly",e)}get mode(){return this.editor.getOption("mode")}set mode(e){this.editor.setOption("mode",e)}get theme(){return this.editor.getOption("theme")}set theme(e){this.editor.setOption("theme",e)}get src(){return this.getAttribute("src")}set src(e){this.setAttribute("src",e),this.setSrc()}get value(){return this.editor.getValue()}set value(e){this.setValue(e)}constructor(){super(),this.__initialized=!1,this.__element=null,this.editor=null}async connectedCallback(){const e=document.createElement("template");e.innerHTML=CN.template(),this.appendChild(e.content.cloneNode(!0)),this.style.display="block",this.__element=this.querySelector("textarea");const t=this.hasAttribute("mode")?this.getAttribute("mode"):"null",r=this.hasAttribute("theme")?this.getAttribute("theme"):"default";let n=this.getAttribute("readonly");n===""?n=!0:n!=="nocursor"&&(n=!1);let o="";const s=this.querySelector("script");s&&s.getAttribute("type")==="wc-content"&&(o=CN.dedentText(s.innerHTML),o=o.replace(/&lt;(\/?script)(.*?)&gt;/g,"<$1$2>"));let a=ev.defaults.viewportMargin;if(this.hasAttribute("viewport-margin")){const l=this.getAttribute("viewport-margin").toLowerCase();a=l==="infinity"?1/0:parseInt(l)}this.editor=ev.fromTextArea(this.__element,{lineNumbers:!0,readOnly:n,mode:t,theme:r,viewportMargin:a}),this.hasAttribute("src")?this.setSrc(this.getAttribute("src")):(await new Promise(l=>setTimeout(l,50)),this.value=o),this.__initialized=!0}disconnectedCallback(){this.editor&&this.editor.toTextArea(),this.editor=null,this.__initialized=!1}async setSrc(){const e=this.getAttribute("src"),t=await this.fetchSrc(e);this.value=t}async setValue(e){this.editor.swapDoc(ev.Doc(e,this.getAttribute("mode"))),this.editor.refresh()}async fetchSrc(e){return(await fetch(e)).text()}static template(){return`
      <textarea style="display:inherit; width:inherit; height:inherit;"></textarea>
    `}static dedentText(e){const t=e.split(`
`);t[0]===""&&t.splice(0,1);const r=t[0];let n=0;const s=r[0]==="	"?"	":" ";for(;r[n]===s;)n+=1;const a=[];for(const l of t){let f=l;for(let u=0;u<n&&f[0]===s;u++)f=f.substring(1);a.push(f)}return a[a.length-1]===""&&a.splice(a.length-1,1),a.join(`
`)}};customElements.define("wc-codemirror",CN);function hK(e,t,r,n){var o,s=!1,a=0;function l(){o&&clearTimeout(o)}function f(){l(),s=!0}typeof t!="boolean"&&(n=r,r=t,t=void 0);function u(){for(var d=arguments.length,g=new Array(d),h=0;h<d;h++)g[h]=arguments[h];var p=this,w=Date.now()-a;if(s)return;function y(){a=Date.now(),r.apply(p,g)}function v(){o=void 0}n&&!o&&y(),l(),n===void 0&&w>e?y():t!==!0&&(o=setTimeout(n?v:y,n===void 0?e-w:e))}return u.cancel=f,u}function i2e(e,t,r){return r===void 0?hK(e,t,!1):hK(e,r,t!==!1)}const Ru=Symbol("Initial value"),ON=Symbol("Editor dirty"),Va=Symbol("ParseHandler");function o2e(e){let n=0;return new Promise((o,s)=>{const a=setInterval(()=>{e()&&(clearInterval(a),o()),n+=1,n===100&&(clearInterval(a),s(new Error("Value did not become truthy in time")))},10)})}class s2e extends dg{static get styles(){return wDe`
      :host {
        display: block;
        text-align: left;
      }

      [part='error'] {
        text-decoration: underline;
        text-decoration-color: red;
        text-decoration-style: wavy;
      }

      wc-codemirror,
      #wrapper {
        width: 100%;
        height: 100%;
      }

      :host(:not([ready])) #wrapper {
        display: none;
      }
    `}static get properties(){return{value:{type:String,noAccessor:!0},readonly:{type:Boolean,reflect:!0},prefixes:{type:String,attribute:"prefixes"},isParsing:{type:Boolean,attribute:"is-parsing",reflect:!0},autoParse:{type:Boolean,attribute:"auto-parse"},parseDelay:{type:Number},customPrefixes:{type:Object}}}constructor(){super(),this.parseDelay=250,this[Ru]="",this.customPrefixes={},this.__style=document.createElement("link"),this.__style.rel="stylesheet",this.__style.href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.61.1/codemirror.min.css"}connectedCallback(){const t=new Promise(r=>{this.__style.onload=r});super.connectedCallback(),this.ready=Promise.resolve().then(async()=>{await t,await this.requestUpdate(),await o2e(()=>this.codeMirror&&this.codeMirror.editor&&this.codeMirror.__initialized),await this._initializeCodeMirror(),[...this.renderRoot.querySelectorAll("[class^=CodeMirror]")].forEach(r=>{r.classList.forEach(n=>{n.match(/^CodeMirror/)&&r.setAttribute("part",n)})}),this.setAttribute("ready",""),this.codeMirror.editor.refresh(),this[Ru]&&this.codeMirror.editor.setValue(this[Ru])})}get _prefixes(){return async()=>{const t=await Promise.resolve().then(()=>ba);return(this.prefixes||"").split(",").map(n=>n.trim()).reduce((n,o)=>o in t?{...n,[o]:t[o]().value}:n,{})}}get codeMirror(){return this.renderRoot.querySelector("wc-codemirror")}get value(){return this.hasAttribute("ready")?this.codeMirror.editor.getValue():this[Ru]||""}set value(t){typeof t=="string"&&(this.hasAttribute("ready")?this.value!==t&&(this.codeMirror.editor.setValue(t),this[Va]()):this[Ru]=t)}async firstUpdated(t){super.firstUpdated(t),this[Ru]&&(await this.ready,this.codeMirror.editor.setValue(this[Ru]),this[Va](),this[Ru]=void 0)}updated(t){super.updated(t),(t.has("autoParse")||t.has("parseDelay"))&&this.__setParseHandler()}render(){return xDe`${this.__style}
      <div id="wrapper">
        <wc-codemirror mode="${this.format}" ?readonly="${this.readonly}">
        </wc-codemirror>
      </div>`}async parse(){if(!this.isParsing){this.__errorMarker&&this.__errorMarker.clear(),this.isParsing=!0;try{await this._parse()}catch(t){typeof this._errorLine=="function"&&await this.__highlightError(this._errorLine(t)),this.dispatchEvent(new CustomEvent("parsing-failed",{detail:{error:t}}))}finally{this.isParsing=!1}}}async _initializeCodeMirror(){this.codeMirror.editor.setSize("100%","100%"),this.__setParseHandler(),this.codeMirror.editor.on("change",()=>{this[ON]=!0})}__setParseHandler(){this.codeMirror.editor&&(this[Va]&&(this.codeMirror.editor.off("blur",this[Va]),this.codeMirror.editor.off("change",this[Va])),this.autoParse?(this[Va]=i2e(this.parseDelay,this.__beginParse.bind(this)),this.codeMirror.editor.on("change",this[Va])):(this[Va]=this.__beginParse.bind(this),this.codeMirror.editor.on("blur",this[Va])))}async __beginParse(){this[ON]&&await this.parse(),this[ON]=!1}async __highlightError(t){if(!this.ready)return;let r={line:0,ch:0},n={line:0,ch:Number.MAX_SAFE_INTEGER};t&&t.from&&(r=t.from,this.codeMirror.editor.scrollIntoView(r)),t&&t.to&&(n=t.to);const o=t?t.message:"";await this.ready,this.__errorMarker=this.codeMirror.editor.getDoc().markText(r,n,{attributes:{part:"error",title:o}})}async _combinePrefixes(){return Object.entries(this.customPrefixes).reduce((t,[r,n])=>!n||!r||typeof n!="string"||typeof r!="string"?t:{...t,[r]:n},await this._prefixes())}}window.CodeMirror.defineMode("javascript",function(e,t){var r=e.indentUnit,n=t.statementIndent,o=t.jsonld,s=t.json||o,a=t.typescript,l=t.wordCharacters||/[\w$\xa1-\uffff]/,f=function(){function Y(pr){return{type:pr,style:"keyword"}}var fe=Y("keyword a"),Ie=Y("keyword b"),De=Y("keyword c"),at=Y("keyword d"),xt=Y("operator"),Pt={type:"atom",style:"atom"};return{if:Y("if"),while:fe,with:fe,else:Ie,do:Ie,try:Ie,finally:Ie,return:at,break:at,continue:at,new:Y("new"),delete:De,void:De,throw:De,debugger:Y("debugger"),var:Y("var"),const:Y("var"),let:Y("var"),function:Y("function"),catch:Y("catch"),for:Y("for"),switch:Y("switch"),case:Y("case"),default:Y("default"),in:xt,typeof:xt,instanceof:xt,true:Pt,false:Pt,null:Pt,undefined:Pt,NaN:Pt,Infinity:Pt,this:Y("this"),class:Y("class"),super:Y("atom"),yield:De,export:Y("export"),import:Y("import"),extends:De,await:De}}(),u=/[+\-*&%=<>!?|~^@]/,d=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function g(Y){for(var fe=!1,Ie,De=!1;(Ie=Y.next())!=null;){if(!fe){if(Ie=="/"&&!De)return;Ie=="["?De=!0:De&&Ie=="]"&&(De=!1)}fe=!fe&&Ie=="\\"}}var h,p;function w(Y,fe,Ie){return h=Y,p=Ie,fe}function y(Y,fe){var Ie=Y.next();if(Ie=='"'||Ie=="'")return fe.tokenize=v(Ie),fe.tokenize(Y,fe);if(Ie=="."&&Y.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return w("number","number");if(Ie=="."&&Y.match(".."))return w("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(Ie))return w(Ie);if(Ie=="="&&Y.eat(">"))return w("=>","operator");if(Ie=="0"&&Y.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return w("number","number");if(/\d/.test(Ie))return Y.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),w("number","number");if(Ie=="/")return Y.eat("*")?(fe.tokenize=E,E(Y,fe)):Y.eat("/")?(Y.skipToEnd(),w("comment","comment")):fs(Y,fe,1)?(g(Y),Y.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),w("regexp","string-2")):(Y.eat("="),w("operator","operator",Y.current()));if(Ie=="`")return fe.tokenize=x,x(Y,fe);if(Ie=="#")return Y.skipToEnd(),w("error","error");if(Ie=="<"&&Y.match("!--")||Ie=="-"&&Y.match("->"))return Y.skipToEnd(),w("comment","comment");if(u.test(Ie))return(Ie!=">"||!fe.lexical||fe.lexical.type!=">")&&(Y.eat("=")?(Ie=="!"||Ie=="=")&&Y.eat("="):/[<>*+\-]/.test(Ie)&&(Y.eat(Ie),Ie==">"&&Y.eat(Ie))),w("operator","operator",Y.current());if(l.test(Ie)){Y.eatWhile(l);var De=Y.current();if(fe.lastType!="."){if(f.propertyIsEnumerable(De)){var at=f[De];return w(at.type,at.style,De)}if(De=="async"&&Y.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,!1))return w("async","keyword",De)}return w("variable","variable",De)}}function v(Y){return function(fe,Ie){var De=!1,at;if(o&&fe.peek()=="@"&&fe.match(d))return Ie.tokenize=y,w("jsonld-keyword","meta");for(;(at=fe.next())!=null&&!(at==Y&&!De);)De=!De&&at=="\\";return De||(Ie.tokenize=y),w("string","string")}}function E(Y,fe){for(var Ie=!1,De;De=Y.next();){if(De=="/"&&Ie){fe.tokenize=y;break}Ie=De=="*"}return w("comment","comment")}function x(Y,fe){for(var Ie=!1,De;(De=Y.next())!=null;){if(!Ie&&(De=="`"||De=="$"&&Y.eat("{"))){fe.tokenize=y;break}Ie=!Ie&&De=="\\"}return w("quasi","string-2",Y.current())}var S="([{}])";function N(Y,fe){fe.fatArrowAt&&(fe.fatArrowAt=null);var Ie=Y.string.indexOf("=>",Y.start);if(!(Ie<0)){if(a){var De=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(Y.string.slice(Y.start,Ie));De&&(Ie=De.index)}for(var at=0,xt=!1,Pt=Ie-1;Pt>=0;--Pt){var pr=Y.string.charAt(Pt),Vn=S.indexOf(pr);if(Vn>=0&&Vn<3){if(!at){++Pt;break}if(--at==0){pr=="("&&(xt=!0);break}}else if(Vn>=3&&Vn<6)++at;else if(l.test(pr))xt=!0;else if(/["'\/`]/.test(pr))for(;;--Pt){if(Pt==0)return;var ox=Y.string.charAt(Pt-1);if(ox==pr&&Y.string.charAt(Pt-2)!="\\"){Pt--;break}}else if(xt&&!at){++Pt;break}}xt&&!at&&(fe.fatArrowAt=Pt)}}var $={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function D(Y,fe,Ie,De,at,xt){this.indented=Y,this.column=fe,this.type=Ie,this.prev=at,this.info=xt,De!=null&&(this.align=De)}function K(Y,fe){for(var Ie=Y.localVars;Ie;Ie=Ie.next)if(Ie.name==fe)return!0;for(var De=Y.context;De;De=De.prev)for(var Ie=De.vars;Ie;Ie=Ie.next)if(Ie.name==fe)return!0}function q(Y,fe,Ie,De,at){var xt=Y.cc;for(k.state=Y,k.stream=at,k.marked=null,k.cc=xt,k.style=fe,Y.lexical.hasOwnProperty("align")||(Y.lexical.align=!0);;){var Pt=xt.length?xt.pop():s?le:xe;if(Pt(Ie,De)){for(;xt.length&&xt[xt.length-1].lex;)xt.pop()();return k.marked?k.marked:Ie=="variable"&&K(Y,De)?"variable-2":fe}}}var k={state:null,column:null,marked:null,cc:null};function V(){for(var Y=arguments.length-1;Y>=0;Y--)k.cc.push(arguments[Y])}function j(){return V.apply(null,arguments),!0}function B(Y,fe){for(var Ie=fe;Ie;Ie=Ie.next)if(Ie.name==Y)return!0;return!1}function A(Y){var fe=k.state;if(k.marked="def",fe.context){if(fe.lexical.info=="var"&&fe.context&&fe.context.block){var Ie=U(Y,fe.context);if(Ie!=null){fe.context=Ie;return}}else if(!B(Y,fe.localVars)){fe.localVars=new Q(Y,fe.localVars);return}}t.globalVars&&!B(Y,fe.globalVars)&&(fe.globalVars=new Q(Y,fe.globalVars))}function U(Y,fe){if(fe)if(fe.block){var Ie=U(Y,fe.prev);return Ie?Ie==fe.prev?fe:new H(Ie,fe.vars,!0):null}else return B(Y,fe.vars)?fe:new H(fe.prev,new Q(Y,fe.vars),!1);else return null}function G(Y){return Y=="public"||Y=="private"||Y=="protected"||Y=="abstract"||Y=="readonly"}function H(Y,fe,Ie){this.prev=Y,this.vars=fe,this.block=Ie}function Q(Y,fe){this.name=Y,this.next=fe}var ne=new Q("this",new Q("arguments",null));function se(){k.state.context=new H(k.state.context,k.state.localVars,!1),k.state.localVars=ne}function ae(){k.state.context=new H(k.state.context,k.state.localVars,!0),k.state.localVars=null}function Z(){k.state.localVars=k.state.context.vars,k.state.context=k.state.context.prev}Z.lex=!0;function ge(Y,fe){var Ie=function(){var De=k.state,at=De.indented;if(De.lexical.type=="stat")at=De.lexical.indented;else for(var xt=De.lexical;xt&&xt.type==")"&&xt.align;xt=xt.prev)at=xt.indented;De.lexical=new D(at,k.stream.column(),Y,null,De.lexical,fe)};return Ie.lex=!0,Ie}function W(){var Y=k.state;Y.lexical.prev&&(Y.lexical.type==")"&&(Y.indented=Y.lexical.indented),Y.lexical=Y.lexical.prev)}W.lex=!0;function ue(Y){function fe(Ie){return Ie==Y?j():Y==";"||Ie=="}"||Ie==")"||Ie=="]"?V():j(fe)}return fe}function xe(Y,fe){return Y=="var"?j(ge("vardef",fe),Mt,ue(";"),W):Y=="keyword a"?j(ge("form"),Ae,xe,W):Y=="keyword b"?j(ge("form"),xe,W):Y=="keyword d"?k.stream.match(/^\s*$/,!1)?j():j(ge("stat"),ie,ue(";"),W):Y=="debugger"?j(ue(";")):Y=="{"?j(ge("}"),ae,L,W,Z):Y==";"?j():Y=="if"?(k.state.lexical.info=="else"&&k.state.cc[k.state.cc.length-1]==W&&k.state.cc.pop()(),j(ge("form"),Ae,xe,W,c)):Y=="function"?j(P):Y=="for"?j(ge("form"),b,xe,W):Y=="class"||a&&fe=="interface"?(k.marked="keyword",j(ge("form",Y=="class"?Y:fe),pe,W)):Y=="variable"?a&&fe=="declare"?(k.marked="keyword",j(xe)):a&&(fe=="module"||fe=="enum"||fe=="type")&&k.stream.match(/^\s*\w/,!1)?(k.marked="keyword",fe=="enum"?j(sr):fe=="type"?j($e,ue("operator"),ve,ue(";")):j(ge("form"),ht,ue("{"),ge("}"),L,W,W)):a&&fe=="namespace"?(k.marked="keyword",j(ge("form"),le,xe,W)):a&&fe=="abstract"?(k.marked="keyword",j(xe)):j(ge("stat"),ye):Y=="switch"?j(ge("form"),Ae,ue("{"),ge("}","switch"),ae,L,W,W,Z):Y=="case"?j(le,ue(":")):Y=="default"?j(ue(":")):Y=="catch"?j(ge("form"),se,he,xe,W,Z):Y=="export"?j(ge("stat"),Be,W):Y=="import"?j(ge("stat"),tt,W):Y=="async"?j(xe):fe=="@"?j(le,xe):V(ge("stat"),le,ue(";"),W)}function he(Y){if(Y=="(")return j(de,ue(")"))}function le(Y,fe){return We(Y,fe,!1)}function _e(Y,fe){return We(Y,fe,!0)}function Ae(Y){return Y!="("?V():j(ge(")"),le,ue(")"),W)}function We(Y,fe,Ie){if(k.state.fatArrowAt==k.stream.start){var De=Ie?C:O;if(Y=="(")return j(se,ge(")"),Ue(de,")"),W,ue("=>"),De,Z);if(Y=="variable")return V(se,ht,ue("=>"),De,Z)}var at=Ie?_:te;return $.hasOwnProperty(Y)?j(at):Y=="function"?j(P,at):Y=="class"||a&&fe=="interface"?(k.marked="keyword",j(ge("form"),ee,W)):Y=="keyword c"||Y=="async"?j(Ie?_e:le):Y=="("?j(ge(")"),ie,ue(")"),W,at):Y=="operator"||Y=="spread"?j(Ie?_e:le):Y=="["?j(ge("]"),St,W,at):Y=="{"?z(we,"}",null,at):Y=="quasi"?V(m,at):Y=="new"?j(X(Ie)):Y=="import"?j(le):j()}function ie(Y){return Y.match(/[;\}\)\],]/)?V():V(le)}function te(Y,fe){return Y==","?j(le):_(Y,fe,!1)}function _(Y,fe,Ie){var De=Ie==!1?te:_,at=Ie==!1?le:_e;if(Y=="=>")return j(se,Ie?C:O,Z);if(Y=="operator")return/\+\+|--/.test(fe)||a&&fe=="!"?j(De):a&&fe=="<"&&k.stream.match(/^([^>]|<.*?>)*>\s*\(/,!1)?j(ge(">"),Ue(ve,">"),W,De):fe=="?"?j(le,ue(":"),at):j(at);if(Y=="quasi")return V(m,De);if(Y!=";"){if(Y=="(")return z(_e,")","call",De);if(Y==".")return j(F,De);if(Y=="[")return j(ge("]"),ie,ue("]"),W,De);if(a&&fe=="as")return k.marked="keyword",j(ve,De);if(Y=="regexp")return k.state.lastType=k.marked="operator",k.stream.backUp(k.stream.pos-k.stream.start-1),j(at)}}function m(Y,fe){return Y!="quasi"?V():fe.slice(fe.length-2)!="${"?j(m):j(le,R)}function R(Y){if(Y=="}")return k.marked="string-2",k.state.tokenize=x,j(m)}function O(Y){return N(k.stream,k.state),V(Y=="{"?xe:le)}function C(Y){return N(k.stream,k.state),V(Y=="{"?xe:_e)}function X(Y){return function(fe){return fe=="."?j(Y?J:re):fe=="variable"&&a?j(rt,Y?_:te):V(Y?_e:le)}}function re(Y,fe){if(fe=="target")return k.marked="keyword",j(te)}function J(Y,fe){if(fe=="target")return k.marked="keyword",j(_)}function ye(Y){return Y==":"?j(W,xe):V(te,ue(";"),W)}function F(Y){if(Y=="variable")return k.marked="property",j()}function we(Y,fe){if(Y=="async")return k.marked="property",j(we);if(Y=="variable"||k.style=="keyword"){if(k.marked="property",fe=="get"||fe=="set")return j(Ce);var Ie;return a&&k.state.fatArrowAt==k.stream.start&&(Ie=k.stream.match(/^\s*:\s*/,!1))&&(k.state.fatArrowAt=k.stream.pos+Ie[0].length),j(Me)}else{if(Y=="number"||Y=="string")return k.marked=o?"property":k.style+" property",j(Me);if(Y=="jsonld-keyword")return j(Me);if(a&&G(fe))return k.marked="keyword",j(we);if(Y=="[")return j(le,M,ue("]"),Me);if(Y=="spread")return j(_e,Me);if(fe=="*")return k.marked="keyword",j(we);if(Y==":")return V(Me)}}function Ce(Y){return Y!="variable"?V(Me):(k.marked="property",j(P))}function Me(Y){if(Y==":")return j(_e);if(Y=="(")return V(P)}function Ue(Y,fe,Ie){function De(at,xt){if(Ie?Ie.indexOf(at)>-1:at==","){var Pt=k.state.lexical;return Pt.info=="call"&&(Pt.pos=(Pt.pos||0)+1),j(function(pr,Vn){return pr==fe||Vn==fe?V():V(Y)},De)}return at==fe||xt==fe?j():Ie&&Ie.indexOf(";")>-1?V(Y):j(ue(fe))}return function(at,xt){return at==fe||xt==fe?j():V(Y,De)}}function z(Y,fe,Ie){for(var De=3;De<arguments.length;De++)k.cc.push(arguments[De]);return j(ge(fe,Ie),Ue(Y,fe),W)}function L(Y){return Y=="}"?j():V(xe,L)}function M(Y,fe){if(a){if(Y==":")return j(ve);if(fe=="?")return j(M)}}function oe(Y,fe){if(a&&(Y==":"||fe=="in"))return j(ve)}function ce(Y){if(a&&Y==":")return k.stream.match(/^\s*\w+\s+is\b/,!1)?j(le,Se,ve):j(ve)}function Se(Y,fe){if(fe=="is")return k.marked="keyword",j()}function ve(Y,fe){if(fe=="keyof"||fe=="typeof"||fe=="infer")return k.marked="keyword",j(fe=="typeof"?_e:ve);if(Y=="variable"||fe=="void")return k.marked="type",j(Xe);if(fe=="|"||fe=="&")return j(ve);if(Y=="string"||Y=="number"||Y=="atom")return j(Xe);if(Y=="[")return j(ge("]"),Ue(ve,"]",","),W,Xe);if(Y=="{")return j(ge("}"),Ue(dt,"}",",;"),W,Xe);if(Y=="(")return j(Ue(et,")"),ze,Xe);if(Y=="<")return j(Ue(ve,">"),ve)}function ze(Y){if(Y=="=>")return j(ve)}function dt(Y,fe){if(Y=="variable"||k.style=="keyword")return k.marked="property",j(dt);if(fe=="?"||Y=="number"||Y=="string")return j(dt);if(Y==":")return j(ve);if(Y=="[")return j(ue("variable"),oe,ue("]"),dt);if(Y=="(")return V(Ee,dt)}function et(Y,fe){return Y=="variable"&&k.stream.match(/^\s*[?:]/,!1)||fe=="?"?j(et):Y==":"?j(ve):Y=="spread"?j(et):V(ve)}function Xe(Y,fe){if(fe=="<")return j(ge(">"),Ue(ve,">"),W,Xe);if(fe=="|"||Y=="."||fe=="&")return j(ve);if(Y=="[")return j(ve,ue("]"),Xe);if(fe=="extends"||fe=="implements")return k.marked="keyword",j(ve);if(fe=="?")return j(ve,ue(":"),ve)}function rt(Y,fe){if(fe=="<")return j(ge(">"),Ue(ve,">"),W,Xe)}function Lt(){return V(ve,vr)}function vr(Y,fe){if(fe=="=")return j(ve)}function Mt(Y,fe){return fe=="enum"?(k.marked="keyword",j(sr)):V(ht,M,_t,jt)}function ht(Y,fe){if(a&&G(fe))return k.marked="keyword",j(ht);if(Y=="variable")return A(fe),j();if(Y=="spread")return j(ht);if(Y=="[")return z(rr,"]");if(Y=="{")return z(wr,"}")}function wr(Y,fe){return Y=="variable"&&!k.stream.match(/^\s*:/,!1)?(A(fe),j(_t)):(Y=="variable"&&(k.marked="property"),Y=="spread"?j(ht):Y=="}"?V():Y=="["?j(le,ue("]"),ue(":"),wr):j(ue(":"),ht,_t))}function rr(){return V(ht,_t)}function _t(Y,fe){if(fe=="=")return j(_e)}function jt(Y){if(Y==",")return j(Mt)}function c(Y,fe){if(Y=="keyword b"&&fe=="else")return j(ge("form","else"),xe,W)}function b(Y,fe){if(fe=="await")return j(b);if(Y=="(")return j(ge(")"),I,W)}function I(Y){return Y=="var"?j(Mt,T):Y=="variable"?j(T):V(T)}function T(Y,fe){return Y==")"?j():Y==";"?j(T):fe=="in"||fe=="of"?(k.marked="keyword",j(le,T)):V(le,T)}function P(Y,fe){if(fe=="*")return k.marked="keyword",j(P);if(Y=="variable")return A(fe),j(P);if(Y=="(")return j(se,ge(")"),Ue(de,")"),W,ce,xe,Z);if(a&&fe=="<")return j(ge(">"),Ue(Lt,">"),W,P)}function Ee(Y,fe){if(fe=="*")return k.marked="keyword",j(Ee);if(Y=="variable")return A(fe),j(Ee);if(Y=="(")return j(se,ge(")"),Ue(de,")"),W,ce,Z);if(a&&fe=="<")return j(ge(">"),Ue(Lt,">"),W,Ee)}function $e(Y,fe){if(Y=="keyword"||Y=="variable")return k.marked="type",j($e);if(fe=="<")return j(ge(">"),Ue(Lt,">"),W)}function de(Y,fe){return fe=="@"&&j(le,de),Y=="spread"?j(de):a&&G(fe)?(k.marked="keyword",j(de)):a&&Y=="this"?j(M,_t):V(ht,M,_t)}function ee(Y,fe){return Y=="variable"?pe(Y,fe):Re(Y,fe)}function pe(Y,fe){if(Y=="variable")return A(fe),j(Re)}function Re(Y,fe){if(fe=="<")return j(ge(">"),Ue(Lt,">"),W,Re);if(fe=="extends"||fe=="implements"||a&&Y==",")return fe=="implements"&&(k.marked="keyword"),j(a?ve:le,Re);if(Y=="{")return j(ge("}"),me,W)}function me(Y,fe){if(Y=="async"||Y=="variable"&&(fe=="static"||fe=="get"||fe=="set"||a&&G(fe))&&k.stream.match(/^\s+[\w$\xa1-\uffff]/,!1))return k.marked="keyword",j(me);if(Y=="variable"||k.style=="keyword")return k.marked="property",j(a?Ve:P,me);if(Y=="number"||Y=="string")return j(a?Ve:P,me);if(Y=="[")return j(le,M,ue("]"),a?Ve:P,me);if(fe=="*")return k.marked="keyword",j(me);if(a&&Y=="(")return V(Ee,me);if(Y==";"||Y==",")return j(me);if(Y=="}")return j();if(fe=="@")return j(le,me)}function Ve(Y,fe){if(fe=="?")return j(Ve);if(Y==":")return j(ve,_t);if(fe=="=")return j(_e);var Ie=k.state.lexical.prev,De=Ie&&Ie.info=="interface";return V(De?Ee:P)}function Be(Y,fe){return fe=="*"?(k.marked="keyword",j(hr,ue(";"))):fe=="default"?(k.marked="keyword",j(le,ue(";"))):Y=="{"?j(Ue(Ye,"}"),hr,ue(";")):V(xe)}function Ye(Y,fe){if(fe=="as")return k.marked="keyword",j(ue("variable"));if(Y=="variable")return V(_e,Ye)}function tt(Y){return Y=="string"?j():Y=="("?V(le):V(Ke,ke,hr)}function Ke(Y,fe){return Y=="{"?z(Ke,"}"):(Y=="variable"&&A(fe),fe=="*"&&(k.marked="keyword"),j(Te))}function ke(Y){if(Y==",")return j(Ke,ke)}function Te(Y,fe){if(fe=="as")return k.marked="keyword",j(Ke)}function hr(Y,fe){if(fe=="from")return k.marked="keyword",j(le)}function St(Y){return Y=="]"?j():V(Ue(_e,"]"))}function sr(){return V(ge("form"),ht,ue("{"),ge("}"),Ue(Dr,"}"),W,W)}function Dr(){return V(ht,_t)}function ur(Y,fe){return Y.lastType=="operator"||Y.lastType==","||u.test(fe.charAt(0))||/[,.]/.test(fe.charAt(0))}function fs(Y,fe,Ie){return fe.tokenize==y&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(fe.lastType)||fe.lastType=="quasi"&&/\{\s*$/.test(Y.string.slice(0,Y.pos-(Ie||0)))}return{startState:function(Y){var fe={tokenize:y,lastType:"sof",cc:[],lexical:new D((Y||0)-r,0,"block",!1),localVars:t.localVars,context:t.localVars&&new H(null,null,!1),indented:Y||0};return t.globalVars&&typeof t.globalVars=="object"&&(fe.globalVars=t.globalVars),fe},token:function(Y,fe){if(Y.sol()&&(fe.lexical.hasOwnProperty("align")||(fe.lexical.align=!1),fe.indented=Y.indentation(),N(Y,fe)),fe.tokenize!=E&&Y.eatSpace())return null;var Ie=fe.tokenize(Y,fe);return h=="comment"?Ie:(fe.lastType=h=="operator"&&(p=="++"||p=="--")?"incdec":h,q(fe,Ie,h,p,Y))},indent:function(Y,fe){if(Y.tokenize==E)return CodeMirror.Pass;if(Y.tokenize!=y)return 0;var Ie=fe&&fe.charAt(0),De=Y.lexical,at;if(!/^\s*else\b/.test(fe))for(var xt=Y.cc.length-1;xt>=0;--xt){var Pt=Y.cc[xt];if(Pt==W)De=De.prev;else if(Pt!=c)break}for(;(De.type=="stat"||De.type=="form")&&(Ie=="}"||(at=Y.cc[Y.cc.length-1])&&(at==te||at==_)&&!/^[,\.=+\-*:?[\(]/.test(fe));)De=De.prev;n&&De.type==")"&&De.prev.type=="stat"&&(De=De.prev);var pr=De.type,Vn=Ie==pr;return pr=="vardef"?De.indented+(Y.lastType=="operator"||Y.lastType==","?De.info.length+1:0):pr=="form"&&Ie=="{"?De.indented:pr=="form"?De.indented+r:pr=="stat"?De.indented+(ur(Y,fe)?n||r:0):De.info=="switch"&&!Vn&&t.doubleIndentSwitch!=!1?De.indented+(/^(?:case|default)\b/.test(fe)?r:2*r):De.align?De.column+(Vn?0:1):De.indented+(Vn?0:r)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:s?null:"/*",blockCommentEnd:s?null:"*/",blockCommentContinue:s?null:" * ",lineComment:s?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:s?"json":"javascript",jsonldMode:o,jsonMode:s,expressionAllowed:fs,skipExpression:function(Y){var fe=Y.cc[Y.cc.length-1];(fe==le||fe==_e)&&Y.cc.pop()}}}),CodeMirror.registerHelper("wordChars","javascript",/[\w$]/),CodeMirror.defineMIME("text/javascript","javascript"),CodeMirror.defineMIME("text/ecmascript","javascript"),CodeMirror.defineMIME("application/javascript","javascript"),CodeMirror.defineMIME("application/x-javascript","javascript"),CodeMirror.defineMIME("application/ecmascript","javascript"),CodeMirror.defineMIME("application/json",{name:"javascript",json:!0}),CodeMirror.defineMIME("application/x-json",{name:"javascript",json:!0}),CodeMirror.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),CodeMirror.defineMIME("text/typescript",{name:"javascript",typescript:!0}),CodeMirror.defineMIME("application/typescript",{name:"javascript",typescript:!0}),window.CodeMirror.defineMode("turtle",function(e){var t=e.indentUnit,r;function n(d){return new RegExp("^(?:"+d.join("|")+")$","i")}n([]);var o=n(["@prefix","@base","a"]),s=/[*+\-<>=&|]/;function a(d,g){var h=d.next();if(r=null,h=="<"&&!d.match(/^[\s\u00a0=]/,!1))return d.match(/^[^\s\u00a0>]*>?/),"atom";if(h=='"'||h=="'")return g.tokenize=l(h),g.tokenize(d,g);if(/[{}\(\),\.;\[\]]/.test(h))return r=h,null;if(h=="#")return d.skipToEnd(),"comment";if(s.test(h))return d.eatWhile(s),null;if(h==":")return"operator";if(d.eatWhile(/[_\w\d]/),d.peek()==":")return"variable-3";var p=d.current();return o.test(p)?"meta":h>="A"&&h<="Z"?"comment":"keyword";var p=d.current()}function l(d){return function(g,h){for(var p=!1,w;(w=g.next())!=null;){if(w==d&&!p){h.tokenize=a;break}p=!p&&w=="\\"}return"string"}}function f(d,g,h){d.context={prev:d.context,indent:d.indent,col:h,type:g}}function u(d){d.indent=d.context.indent,d.context=d.context.prev}return{startState:function(){return{tokenize:a,context:null,indent:0,col:0}},token:function(d,g){if(d.sol()&&(g.context&&g.context.align==null&&(g.context.align=!1),g.indent=d.indentation()),d.eatSpace())return null;var h=g.tokenize(d,g);if(h!="comment"&&g.context&&g.context.align==null&&g.context.type!="pattern"&&(g.context.align=!0),r=="(")f(g,")",d.column());else if(r=="[")f(g,"]",d.column());else if(r=="{")f(g,"}",d.column());else if(/[\]\}\)]/.test(r)){for(;g.context&&g.context.type=="pattern";)u(g);g.context&&r==g.context.type&&u(g)}else r=="."&&g.context&&g.context.type=="pattern"?u(g):/atom|string|variable/.test(h)&&g.context&&(/[\}\]]/.test(g.context.type)?f(g,"pattern",d.column()):g.context.type=="pattern"&&!g.context.align&&(g.context.align=!0,g.context.col=d.column()));return h},indent:function(d,g){var h=g&&g.charAt(0),p=d.context;if(/[\]\}]/.test(h))for(;p&&p.type=="pattern";)p=p.prev;var w=p&&h==p.type;return p?p.type=="pattern"?p.col:p.align?p.col+(w?0:1):p.indent+(w?0:t):0},lineComment:"#"}}),CodeMirror.defineMIME("text/turtle","turtle"),CodeMirror.defineMIME("text/n3","turtle"),CodeMirror.defineMIME("application/trig","turtle"),window.CodeMirror.defineMode("ntriples",function(){var e={PRE_SUBJECT:0,WRITING_SUB_URI:1,WRITING_BNODE_URI:2,PRE_PRED:3,WRITING_PRED_URI:4,PRE_OBJ:5,WRITING_OBJ_URI:6,WRITING_OBJ_BNODE:7,WRITING_OBJ_LITERAL:8,WRITING_LIT_LANG:9,WRITING_LIT_TYPE:10,POST_OBJ:11,ERROR:12};function t(r,n){var o=r.location,s;o==e.PRE_SUBJECT&&n=="<"?s=e.WRITING_SUB_URI:o==e.PRE_SUBJECT&&n=="_"?s=e.WRITING_BNODE_URI:o==e.PRE_PRED&&n=="<"?s=e.WRITING_PRED_URI:o==e.PRE_OBJ&&n=="<"?s=e.WRITING_OBJ_URI:o==e.PRE_OBJ&&n=="_"?s=e.WRITING_OBJ_BNODE:o==e.PRE_OBJ&&n=='"'?s=e.WRITING_OBJ_LITERAL:o==e.WRITING_SUB_URI&&n==">"||o==e.WRITING_BNODE_URI&&n==" "?s=e.PRE_PRED:o==e.WRITING_PRED_URI&&n==">"?s=e.PRE_OBJ:o==e.WRITING_OBJ_URI&&n==">"||o==e.WRITING_OBJ_BNODE&&n==" "||o==e.WRITING_OBJ_LITERAL&&n=='"'||o==e.WRITING_LIT_LANG&&n==" "||o==e.WRITING_LIT_TYPE&&n==">"?s=e.POST_OBJ:o==e.WRITING_OBJ_LITERAL&&n=="@"?s=e.WRITING_LIT_LANG:o==e.WRITING_OBJ_LITERAL&&n=="^"?s=e.WRITING_LIT_TYPE:n==" "&&(o==e.PRE_SUBJECT||o==e.PRE_PRED||o==e.PRE_OBJ||o==e.POST_OBJ)?s=o:o==e.POST_OBJ&&n=="."?s=e.PRE_SUBJECT:s=e.ERROR,r.location=s}return{startState:function(){return{location:e.PRE_SUBJECT,uris:[],anchors:[],bnodes:[],langs:[],types:[]}},token:function(r,n){var o=r.next();if(o=="<"){t(n,o);var s="";return r.eatWhile(function(d){return d!="#"&&d!=">"?(s+=d,!0):!1}),n.uris.push(s),r.match("#",!1)||(r.next(),t(n,">")),"variable"}if(o=="#"){var a="";return r.eatWhile(function(d){return d!=">"&&d!=" "?(a+=d,!0):!1}),n.anchors.push(a),"variable-2"}if(o==">")return t(n,">"),"variable";if(o=="_"){t(n,o);var l="";return r.eatWhile(function(d){return d!=" "?(l+=d,!0):!1}),n.bnodes.push(l),r.next(),t(n," "),"builtin"}if(o=='"')return t(n,o),r.eatWhile(function(d){return d!='"'}),r.next(),r.peek()!="@"&&r.peek()!="^"&&t(n,'"'),"string";if(o=="@"){t(n,"@");var f="";return r.eatWhile(function(d){return d!=" "?(f+=d,!0):!1}),n.langs.push(f),r.next(),t(n," "),"string-2"}if(o=="^"){r.next(),t(n,"^");var u="";return r.eatWhile(function(d){return d!=">"?(u+=d,!0):!1}),n.types.push(u),r.next(),t(n,">"),"variable"}o==" "&&t(n,o),o=="."&&t(n,o)}}}),CodeMirror.defineMIME("application/n-triples","ntriples"),CodeMirror.defineMIME("application/n-quads","ntriples"),CodeMirror.defineMIME("text/n-triples","ntriples");var a2e={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},l2e={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};window.CodeMirror.defineMode("xml",function(e,t){var r=e.indentUnit,n={},o=t.htmlMode?a2e:l2e;for(var s in o)n[s]=o[s];for(var s in t)n[s]=t[s];var a,l;function f(k,V){function j(U){return V.tokenize=U,U(k,V)}var B=k.next();if(B=="<")return k.eat("!")?k.eat("[")?k.match("CDATA[")?j(g("atom","]]>")):null:k.match("--")?j(g("comment","-->")):k.match("DOCTYPE",!0,!0)?(k.eatWhile(/[\w\._\-]/),j(h(1))):null:k.eat("?")?(k.eatWhile(/[\w\._\-]/),V.tokenize=g("meta","?>"),"meta"):(a=k.eat("/")?"closeTag":"openTag",V.tokenize=u,"tag bracket");if(B=="&"){var A;return k.eat("#")?k.eat("x")?A=k.eatWhile(/[a-fA-F\d]/)&&k.eat(";"):A=k.eatWhile(/[\d]/)&&k.eat(";"):A=k.eatWhile(/[\w\.\-:]/)&&k.eat(";"),A?"atom":"error"}else return k.eatWhile(/[^&<]/),null}f.isInText=!0;function u(k,V){var j=k.next();if(j==">"||j=="/"&&k.eat(">"))return V.tokenize=f,a=j==">"?"endTag":"selfcloseTag","tag bracket";if(j=="=")return a="equals",null;if(j=="<"){V.tokenize=f,V.state=v,V.tagName=V.tagStart=null;var B=V.tokenize(k,V);return B?B+" tag error":"tag error"}else return/[\'\"]/.test(j)?(V.tokenize=d(j),V.stringStartCol=k.column(),V.tokenize(k,V)):(k.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function d(k){var V=function(j,B){for(;!j.eol();)if(j.next()==k){B.tokenize=u;break}return"string"};return V.isInAttribute=!0,V}function g(k,V){return function(j,B){for(;!j.eol();){if(j.match(V)){B.tokenize=f;break}j.next()}return k}}function h(k){return function(V,j){for(var B;(B=V.next())!=null;){if(B=="<")return j.tokenize=h(k+1),j.tokenize(V,j);if(B==">")if(k==1){j.tokenize=f;break}else return j.tokenize=h(k-1),j.tokenize(V,j)}return"meta"}}function p(k,V,j){this.prev=k.context,this.tagName=V,this.indent=k.indented,this.startOfLine=j,(n.doNotIndent.hasOwnProperty(V)||k.context&&k.context.noIndent)&&(this.noIndent=!0)}function w(k){k.context&&(k.context=k.context.prev)}function y(k,V){for(var j;;){if(!k.context||(j=k.context.tagName,!n.contextGrabbers.hasOwnProperty(j)||!n.contextGrabbers[j].hasOwnProperty(V)))return;w(k)}}function v(k,V,j){return k=="openTag"?(j.tagStart=V.column(),E):k=="closeTag"?x:v}function E(k,V,j){return k=="word"?(j.tagName=V.current(),l="tag",$):n.allowMissingTagName&&k=="endTag"?(l="tag bracket",$(k,V,j)):(l="error",E)}function x(k,V,j){if(k=="word"){var B=V.current();return j.context&&j.context.tagName!=B&&n.implicitlyClosed.hasOwnProperty(j.context.tagName)&&w(j),j.context&&j.context.tagName==B||n.matchClosing===!1?(l="tag",S):(l="tag error",N)}else return n.allowMissingTagName&&k=="endTag"?(l="tag bracket",S(k,V,j)):(l="error",N)}function S(k,V,j){return k!="endTag"?(l="error",S):(w(j),v)}function N(k,V,j){return l="error",S(k,V,j)}function $(k,V,j){if(k=="word")return l="attribute",D;if(k=="endTag"||k=="selfcloseTag"){var B=j.tagName,A=j.tagStart;return j.tagName=j.tagStart=null,k=="selfcloseTag"||n.autoSelfClosers.hasOwnProperty(B)?y(j,B):(y(j,B),j.context=new p(j,B,A==j.indented)),v}return l="error",$}function D(k,V,j){return k=="equals"?K:(n.allowMissing||(l="error"),$(k,V,j))}function K(k,V,j){return k=="string"?q:k=="word"&&n.allowUnquoted?(l="string",$):(l="error",$(k,V,j))}function q(k,V,j){return k=="string"?q:$(k,V,j)}return{startState:function(k){var V={tokenize:f,state:v,indented:k||0,tagName:null,tagStart:null,context:null};return k!=null&&(V.baseIndent=k),V},token:function(k,V){if(!V.tagName&&k.sol()&&(V.indented=k.indentation()),k.eatSpace())return null;a=null;var j=V.tokenize(k,V);return(j||a)&&j!="comment"&&(l=null,V.state=V.state(a||j,k,V),l&&(j=l=="error"?j+" error":l)),j},indent:function(k,V,j){var B=k.context;if(k.tokenize.isInAttribute)return k.tagStart==k.indented?k.stringStartCol+1:k.indented+r;if(B&&B.noIndent)return CodeMirror.Pass;if(k.tokenize!=u&&k.tokenize!=f)return j?j.match(/^(\s*)/)[0].length:0;if(k.tagName)return n.multilineTagIndentPastTag!==!1?k.tagStart+k.tagName.length+2:k.tagStart+r*(n.multilineTagIndentFactor||1);if(n.alignCDATA&&/<!\[CDATA\[/.test(V))return 0;var A=V&&/^<(\/)?([\w_:\.-]*)/.exec(V);if(A&&A[1])for(;B;)if(B.tagName==A[2]){B=B.prev;break}else if(n.implicitlyClosed.hasOwnProperty(B.tagName))B=B.prev;else break;else if(A)for(;B;){var U=n.contextGrabbers[B.tagName];if(U&&U.hasOwnProperty(A[2]))B=B.prev;else break}for(;B&&B.prev&&!B.startOfLine;)B=B.prev;return B?B.indent+r:k.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:n.htmlMode?"html":"xml",helperType:n.htmlMode?"html":"xml",skipAttribute:function(k){k.state==K&&(k.state=$)},xmlCurrentTag:function(k){return k.tagName?{name:k.tagName,close:k.type=="closeTag"}:null},xmlCurrentContext:function(k){for(var V=[],j=k.context;j;j=j.prev)j.tagName&&V.push(j.tagName);return V.reverse()}}}),CodeMirror.defineMIME("text/xml","xml"),CodeMirror.defineMIME("application/xml","xml"),CodeMirror.mimeModes.hasOwnProperty("text/html")||CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:!0});const tv=Symbol("parsed quads");class u2e extends s2e{static get properties(){return{format:{type:String,reflect:!0},quads:{type:Array},noReserialize:{type:Boolean,attribute:"no-reserialize"}}}constructor(){super(),this.isParsing=!1,this.noReserialize=!1}disconnectedCallback(){super.disconnectedCallback(),this.ready=null}get quads(){return this[tv]}set quads(t){if(typeof t>"u"||t===null)return;const r=this[tv];this[tv]=t,this.requestUpdate("quads",r)}async updated(t){super.updated(t);let r=!1,n=!1;const o=this.quads&&this.quads.length>0;t.has("format")&&(r=o&&!this.noReserialize,n=!r),t.has("quads")&&(r=!0),(t.has("prefixes")||t.has("customPrefixes"))&&(r=o),n?this.parse():r&&this.__serialize()}async _parse(){const{toStream:t}=await Promise.resolve().then(()=>Fpe),r=t(this.value),n=[],o={},s=this.$rdf.formats.parsers.import(this.format,r);if(!s){this.dispatchEvent(new CustomEvent("parsing-failed",{detail:{notFound:!0}}));return}s.on("prefix",(a,l)=>{o[a]=l});for await(const a of s)n.push(a);this[tv]=n,this.dispatchEvent(new CustomEvent("quads-changed",{detail:{value:n}})),this.__notifyParsedPrefixes(o)}async __serialize(){if(!this.format)return;await this.ready;const{Readable:t}=await Promise.resolve().then(()=>Fpe),r=[...this.quads||[]],n=new t({objectMode:!0,read(){if(r.length===0){this.push(null);return}this.push(r.shift())}}),o=this.$rdf.formats.serializers.import(this.format,n,{prefixes:await this._combinePrefixes()});if(!o){this.value=`No serializer found for media type ${this.format}`;return}let s="";for await(const a of o)s+=a;this.format===Ho.jsonLd&&(s=JSON.stringify(JSON.parse(s),null,2)),this.value=s,this.dispatchEvent(new CustomEvent("serialized",{detail:{value:s}}))}_errorLine(t){const r={message:t.message};return t.context&&t.context.line&&(r.from={line:t.context.line-1,ch:0},r.to={line:t.context.line-1,ch:Number.MAX_SAFE_INTEGER}),r}__notifyParsedPrefixes(t){const r={},n={...t};for(const[o,s]of Object.entries(t))o in ba&&(r[o]=s,delete n[o]);this.dispatchEvent(new CustomEvent("prefixes-parsed",{detail:{prefixes:{...r,...n}}}))}}const pK=new hw([GU,Zd]);pK.formats.import(fo),window.customElements.define("rdf-editor",class extends KNe(u2e,pK){});function Dn(e,t,...r){if(e in t){let o=t[e];return typeof o=="function"?o(...r):o}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Dn),n}var Ac=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Ac||{}),f2e=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(f2e||{});function sn({visible:e=!0,features:t=0,ourProps:r,theirProps:n,...o}){var s;let a=gK(n,r),l=Object.assign(o,{props:a});if(e||t&2&&a.static)return LN(l);if(t&1){let f=(s=a.unmount)==null||s?0:1;return Dn(f,{0(){return null},1(){return LN({...o,props:{...a,hidden:!0,style:{display:"none"}}})}})}return LN(l)}function LN({props:e,attrs:t,slots:r,slot:n,name:o}){var s,a;let{as:l,...f}=rv(e,["unmount","static"]),u=(s=r.default)==null?void 0:s.call(r,n),d={};if(n){let g=!1,h=[];for(let[p,w]of Object.entries(n))typeof w=="boolean"&&(g=!0),w===!0&&h.push(p);g&&(d["data-headlessui-state"]=h.join(" "))}if(l==="template"){if(u=bK(u??[]),Object.keys(f).length>0||Object.keys(t).length>0){let[g,...h]=u??[];if(!c2e(g)||h.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${o} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(f).concat(Object.keys(t)).map(y=>y.trim()).filter((y,v,E)=>E.indexOf(y)===v).sort((y,v)=>y.localeCompare(v)).map(y=>`  - ${y}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(y=>`  - ${y}`).join(`
`)].join(`
`));let p=gK((a=g.props)!=null?a:{},f),w=Mo(g,p);for(let y in p)y.startsWith("on")&&(w.props||(w.props={}),w.props[y]=p[y]);return w}return Array.isArray(u)&&u.length===1?u[0]:u}return Mr(l,Object.assign({},f,d),{default:()=>u})}function bK(e){return e.flatMap(t=>t.type===Dt?bK(t.children):[t])}function gK(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let o in n)o.startsWith("on")&&typeof n[o]=="function"?(r[o]!=null||(r[o]=[]),r[o].push(n[o])):t[o]=n[o];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(r).map(n=>[n,void 0])));for(let n in r)Object.assign(t,{[n](o,...s){let a=r[n];for(let l of a){if(o instanceof Event&&o.defaultPrevented)return;l(o,...s)}}});return t}function DN(e){let t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function rv(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}function c2e(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}let d2e=0;function h2e(){return++d2e}function Jo(){return h2e()}var At=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(At||{});function p2e(e){throw new Error("Unexpected object: "+e)}var ir=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(ir||{});function _K(e,t){let r=t.resolveItems();if(r.length<=0)return null;let n=t.resolveActiveIndex(),o=n??-1,s=(()=>{switch(e.focus){case 0:return r.findIndex(a=>!t.resolveDisabled(a));case 1:{let a=r.slice().reverse().findIndex((l,f,u)=>o!==-1&&u.length-f-1>=o?!1:!t.resolveDisabled(l));return a===-1?a:r.length-1-a}case 2:return r.findIndex((a,l)=>l<=o?!1:!t.resolveDisabled(a));case 3:{let a=r.slice().reverse().findIndex(l=>!t.resolveDisabled(l));return a===-1?a:r.length-1-a}case 4:return r.findIndex(a=>t.resolveId(a)===e.id);case 5:return null;default:p2e(e)}})();return s===-1?n:s}function lt(e){var t;return e==null||e.value==null?null:(t=e.value.$el)!=null?t:e.value}let yK=Symbol("Context");var Hi=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Hi||{});function MN(){return hn(yK,null)}function wK(e){ro(yK,e)}function mK(e,t){if(e)return e;let r=t??"button";if(typeof r=="string"&&r.toLowerCase()==="button")return"button"}function PN(e,t){let r=qe(mK(e.value.type,e.value.as));return Sr(()=>{r.value=mK(e.value.type,e.value.as)}),Lo(()=>{var n;r.value||lt(t)&&lt(t)instanceof HTMLButtonElement&&!((n=lt(t))!=null&&n.hasAttribute("type"))&&(r.value="button")}),r}var b2e=Object.defineProperty,g2e=(e,t,r)=>t in e?b2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,vK=(e,t,r)=>(g2e(e,typeof t!="symbol"?t+"":t,r),r);let _2e=class{constructor(){vK(this,"current",this.detect()),vK(this,"currentId",0)}set(t){this.current!==t&&(this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},nv=new _2e;function Yo(e){if(nv.isServer)return null;if(e instanceof Node)return e.ownerDocument;if(e!=null&&e.hasOwnProperty("value")){let t=lt(e);if(t)return t.ownerDocument}return document}function SK({container:e,accept:t,walk:r,enabled:n}){Lo(()=>{let o=e.value;if(!o||n!==void 0&&!n.value)return;let s=Yo(e);if(!s)return;let a=Object.assign(f=>t(f),{acceptNode:t}),l=s.createTreeWalker(o,NodeFilter.SHOW_ELEMENT,a,!1);for(;l.nextNode();)r(l.currentNode)})}let FN=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var xi=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(xi||{}),iv=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(iv||{}),y2e=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(y2e||{});function EK(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(FN)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var ov=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(ov||{});function sv(e,t=0){var r;return e===((r=Yo(e))==null?void 0:r.body)?!1:Dn(t,{0(){return e.matches(FN)},1(){let n=e;for(;n!==null;){if(n.matches(FN))return!0;n=n.parentElement}return!1}})}function RK(e){let t=Yo(e);fn(()=>{t&&!sv(t.activeElement,0)&&xu(e)})}var w2e=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(w2e||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function xu(e){e==null||e.focus({preventScroll:!0})}let m2e=["textarea","input"].join(",");function v2e(e){var t,r;return(r=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,m2e))!=null?r:!1}function av(e,t=r=>r){return e.slice().sort((r,n)=>{let o=t(r),s=t(n);if(o===null||s===null)return 0;let a=o.compareDocumentPosition(s);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function S2e(e,t){return $c(EK(),t,{relativeTo:e})}function $c(e,t,{sorted:r=!0,relativeTo:n=null,skipElements:o=[]}={}){var s;let a=(s=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e==null?void 0:e.ownerDocument)!=null?s:document,l=Array.isArray(e)?r?av(e):e:EK(e);o.length>0&&l.length>1&&(l=l.filter(w=>!o.includes(w))),n=n??a.activeElement;let f=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,l.indexOf(n))-1;if(t&4)return Math.max(0,l.indexOf(n))+1;if(t&8)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=t&32?{preventScroll:!0}:{},g=0,h=l.length,p;do{if(g>=h||g+h<=0)return 0;let w=u+g;if(t&16)w=(w+h)%h;else{if(w<0)return 3;if(w>=h)return 1}p=l[w],p==null||p.focus(d),g+=f}while(p!==a.activeElement);return t&6&&v2e(p)&&p.select(),2}function xK(e,t,r){nv.isServer||Lo(n=>{document.addEventListener(e,t,r),n(()=>document.removeEventListener(e,t,r))})}function AK(e,t,r){nv.isServer||Lo(n=>{window.addEventListener(e,t,r),n(()=>window.removeEventListener(e,t,r))})}function jN(e,t,r=Je(()=>!0)){function n(s,a){if(!r.value||s.defaultPrevented)return;let l=a(s);if(l===null||!l.getRootNode().contains(l))return;let f=function u(d){return typeof d=="function"?u(d()):Array.isArray(d)||d instanceof Set?d:[d]}(e);for(let u of f){if(u===null)continue;let d=u instanceof HTMLElement?u:lt(u);if(d!=null&&d.contains(l)||s.composed&&s.composedPath().includes(d))return}return!sv(l,ov.Loose)&&l.tabIndex!==-1&&s.preventDefault(),t(s,l)}let o=qe(null);xK("mousedown",s=>{var a,l;r.value&&(o.value=((l=(a=s.composedPath)==null?void 0:a.call(s))==null?void 0:l[0])||s.target)},!0),xK("click",s=>{o.value&&(n(s,()=>o.value),o.value=null)},!0),AK("blur",s=>n(s,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}var Tc=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Tc||{});let tp=Tt({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(e,{slots:t,attrs:r}){return()=>{let{features:n,...o}=e,s={"aria-hidden":(n&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return sn({ourProps:s,theirProps:o,slot:{},attrs:r,slots:t,name:"Hidden"})}}});function WN(e={},t=null,r=[]){for(let[n,o]of Object.entries(e))TK(r,$K(t,n),o);return r}function $K(e,t){return e?e+"["+t+"]":t}function TK(e,t,r){if(Array.isArray(r))for(let[n,o]of r.entries())TK(e,$K(t,n.toString()),o);else r instanceof Date?e.push([t,r.toISOString()]):typeof r=="boolean"?e.push([t,r?"1":"0"]):typeof r=="string"?e.push([t,r]):typeof r=="number"?e.push([t,`${r}`]):r==null?e.push([t,""]):WN(r,t,e)}function IK(e){var t;let r=(t=e==null?void 0:e.form)!=null?t:e.closest("form");if(r){for(let n of r.elements)if(n.tagName==="INPUT"&&n.type==="submit"||n.tagName==="BUTTON"&&n.type==="submit"||n.nodeName==="INPUT"&&n.type==="image"){n.click();return}}}function BN(e,t,r){let n=qe(r==null?void 0:r.value),o=Je(()=>e.value!==void 0);return[Je(()=>o.value?e.value:n.value),function(s){return o.value||(n.value=s),t==null?void 0:t(s)}]}function NK(e){return[e.screenX,e.screenY]}function kK(){let e=qe([-1,-1]);return{wasMoved(t){let r=NK(t);return e.value[0]===r[0]&&e.value[1]===r[1]?!1:(e.value=r,!0)},update(t){e.value=NK(t)}}}function E2e(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function CK(){let e=[],t={addEventListener(r,n,o,s){return r.addEventListener(n,o,s),t.add(()=>r.removeEventListener(n,o,s))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);t.add(()=>cancelAnimationFrame(n))},nextFrame(...r){t.requestAnimationFrame(()=>{t.requestAnimationFrame(...r)})},setTimeout(...r){let n=setTimeout(...r);t.add(()=>clearTimeout(n))},style(r,n,o){let s=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:o}),this.add(()=>{Object.assign(r.style,{[n]:s})})},group(r){let n=CK();return r(n),this.add(()=>n.dispose())},add(r){return e.push(r),()=>{let n=e.indexOf(r);if(n>=0)for(let o of e.splice(n,1))o()}},dispose(){for(let r of e.splice(0))r()}};return t}var Gg=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Gg||{});function R2e(){let e=qe(0);return AK("keydown",t=>{t.key==="Tab"&&(e.value=t.shiftKey?1:0)}),e}function OK(e,t,r,n){nv.isServer||Lo(o=>{e=e??window,e.addEventListener(t,r,n),o(()=>e.removeEventListener(t,r,n))})}function LK(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function x2e(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}function DK(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let r of e.value){let n=lt(r);n instanceof HTMLElement&&t.add(n)}return t}var MK=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(MK||{});let zg=Object.assign(Tt({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:qe(new Set)}},inheritAttrs:!1,setup(e,{attrs:t,slots:r,expose:n}){let o=qe(null);n({el:o,$el:o});let s=Je(()=>Yo(o)),a=qe(!1);Sr(()=>a.value=!0),to(()=>a.value=!1),$2e({ownerDocument:s},Je(()=>a.value&&!!(e.features&16)));let l=T2e({ownerDocument:s,container:o,initialFocus:Je(()=>e.initialFocus)},Je(()=>a.value&&!!(e.features&2)));I2e({ownerDocument:s,container:o,containers:e.containers,previousActiveElement:l},Je(()=>a.value&&!!(e.features&8)));let f=R2e();function u(p){let w=lt(o);w&&(y=>y())(()=>{Dn(f.value,{[Gg.Forwards]:()=>{$c(w,xi.First,{skipElements:[p.relatedTarget]})},[Gg.Backwards]:()=>{$c(w,xi.Last,{skipElements:[p.relatedTarget]})}})})}let d=qe(!1);function g(p){p.key==="Tab"&&(d.value=!0,requestAnimationFrame(()=>{d.value=!1}))}function h(p){if(!a.value)return;let w=DK(e.containers);lt(o)instanceof HTMLElement&&w.add(lt(o));let y=p.relatedTarget;y instanceof HTMLElement&&y.dataset.headlessuiFocusGuard!=="true"&&(PK(w,y)||(d.value?$c(lt(o),Dn(f.value,{[Gg.Forwards]:()=>xi.Next,[Gg.Backwards]:()=>xi.Previous})|xi.WrapAround,{relativeTo:p.target}):p.target instanceof HTMLElement&&xu(p.target)))}return()=>{let p={},w={ref:o,onKeydown:g,onFocusout:h},{features:y,initialFocus:v,containers:E,...x}=e;return Mr(Dt,[!!(y&4)&&Mr(tp,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:u,features:Tc.Focusable}),sn({ourProps:w,theirProps:{...t,...x},slot:p,attrs:t,slots:r,name:"FocusTrap"}),!!(y&4)&&Mr(tp,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:u,features:Tc.Focusable})])}}}),{features:MK}),Ic=[];x2e(()=>{function e(t){t.target instanceof HTMLElement&&t.target!==document.body&&Ic[0]!==t.target&&(Ic.unshift(t.target),Ic=Ic.filter(r=>r!=null&&r.isConnected),Ic.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function A2e(e){let t=qe(Ic.slice());return cn([e],([r],[n])=>{n===!0&&r===!1?LK(()=>{t.value.splice(0)}):n===!1&&r===!0&&(t.value=Ic.slice())},{flush:"post"}),()=>{var r;return(r=t.value.find(n=>n!=null&&n.isConnected))!=null?r:null}}function $2e({ownerDocument:e},t){let r=A2e(t);Sr(()=>{Lo(()=>{var n,o;t.value||((n=e.value)==null?void 0:n.activeElement)===((o=e.value)==null?void 0:o.body)&&xu(r())},{flush:"post"})}),to(()=>{t.value&&xu(r())})}function T2e({ownerDocument:e,container:t,initialFocus:r},n){let o=qe(null),s=qe(!1);return Sr(()=>s.value=!0),to(()=>s.value=!1),Sr(()=>{cn([t,r,n],(a,l)=>{if(a.every((u,d)=>(l==null?void 0:l[d])===u)||!n.value)return;let f=lt(t);f&&LK(()=>{var u,d;if(!s.value)return;let g=lt(r),h=(u=e.value)==null?void 0:u.activeElement;if(g){if(g===h){o.value=h;return}}else if(f.contains(h)){o.value=h;return}g?xu(g):$c(f,xi.First|xi.NoScroll)===iv.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),o.value=(d=e.value)==null?void 0:d.activeElement})},{immediate:!0,flush:"post"})}),o}function I2e({ownerDocument:e,container:t,containers:r,previousActiveElement:n},o){var s;OK((s=e.value)==null?void 0:s.defaultView,"focus",a=>{if(!o.value)return;let l=DK(r);lt(t)instanceof HTMLElement&&l.add(lt(t));let f=n.value;if(!f)return;let u=a.target;u&&u instanceof HTMLElement?PK(l,u)?(n.value=u,xu(u)):(a.preventDefault(),a.stopPropagation(),xu(f)):xu(n.value)},!0)}function PK(e,t){for(let r of e)if(r.contains(t))return!0;return!1}let UN=new Map,Kg=new Map;function FK(e,t=qe(!0)){Lo(r=>{var n;if(!t.value)return;let o=lt(e);if(!o)return;r(function(){var a;if(!o)return;let l=(a=Kg.get(o))!=null?a:1;if(l===1?Kg.delete(o):Kg.set(o,l-1),l!==1)return;let f=UN.get(o);f&&(f["aria-hidden"]===null?o.removeAttribute("aria-hidden"):o.setAttribute("aria-hidden",f["aria-hidden"]),o.inert=f.inert,UN.delete(o))});let s=(n=Kg.get(o))!=null?n:0;Kg.set(o,s+1),s===0&&(UN.set(o,{"aria-hidden":o.getAttribute("aria-hidden"),inert:o.inert}),o.setAttribute("aria-hidden","true"),o.inert=!0)})}let jK=Symbol("ForcePortalRootContext");function N2e(){return hn(jK,!1)}let WK=Tt({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(e,{slots:t,attrs:r}){return ro(jK,e.force),()=>{let{force:n,...o}=e;return sn({theirProps:o,ourProps:{},slot:{},slots:t,attrs:r,name:"ForcePortalRoot"})}}});function k2e(e){let t=Yo(e);if(!t){if(e===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${e}`)}let r=t.getElementById("headlessui-portal-root");if(r)return r;let n=t.createElement("div");return n.setAttribute("id","headlessui-portal-root"),t.body.appendChild(n)}let C2e=Tt({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:t,attrs:r}){let n=qe(null),o=Je(()=>Yo(n)),s=N2e(),a=hn(BK,null),l=qe(s===!0||a==null?k2e(n.value):a.resolveTarget());Lo(()=>{s||a!=null&&(l.value=a.resolveTarget())});let f=hn(qN,null);return Sr(()=>{let u=lt(n);u&&f&&to(f.register(u))}),to(()=>{var u,d;let g=(u=o.value)==null?void 0:u.getElementById("headlessui-portal-root");g&&l.value===g&&l.value.children.length<=0&&((d=l.value.parentElement)==null||d.removeChild(l.value))}),()=>{if(l.value===null)return null;let u={ref:n,"data-headlessui-portal":""};return Mr(g_e,{to:l.value},sn({ourProps:u,theirProps:e,slot:{},attrs:r,slots:t,name:"Portal"}))}}}),qN=Symbol("PortalParentContext");function O2e(){let e=hn(qN,null),t=qe([]);function r(s){return t.value.push(s),e&&e.register(s),()=>n(s)}function n(s){let a=t.value.indexOf(s);a!==-1&&t.value.splice(a,1),e&&e.unregister(s)}let o={register:r,unregister:n,portals:t};return[t,Tt({name:"PortalWrapper",setup(s,{slots:a}){return ro(qN,o),()=>{var l;return(l=a.default)==null?void 0:l.call(a)}}})]}let BK=Symbol("PortalGroupContext"),L2e=Tt({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(e,{attrs:t,slots:r}){let n=Uy({resolveTarget(){return e.target}});return ro(BK,n),()=>{let{target:o,...s}=e;return sn({theirProps:s,ourProps:{},slot:{},attrs:t,slots:r,name:"PortalGroup"})}}}),UK=Symbol("StackContext");var HN=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(HN||{});function D2e(){return hn(UK,()=>{})}function M2e({type:e,enabled:t,element:r,onUpdate:n}){let o=D2e();function s(...a){n==null||n(...a),o(...a)}Sr(()=>{cn(t,(a,l)=>{a?s(0,e,r):l===!0&&s(1,e,r)},{immediate:!0,flush:"sync"})}),to(()=>{t.value&&s(1,e,r)}),ro(UK,s)}let P2e=Symbol("DescriptionContext");function VN({slot:e=qe({}),name:t="Description",props:r={}}={}){let n=qe([]);function o(s){return n.value.push(s),()=>{let a=n.value.indexOf(s);a!==-1&&n.value.splice(a,1)}}return ro(P2e,{register:o,slot:e,name:t,props:r}),Je(()=>n.value.length>0?n.value.join(" "):void 0)}function F2e(e){let t=qbe(e.getSnapshot());return to(e.subscribe(()=>{t.value=e.getSnapshot()})),t}function j2e(e,t){let r=e(),n=new Set;return{getSnapshot(){return r},subscribe(o){return n.add(o),()=>n.delete(o)},dispatch(o,...s){let a=t[o].call(r,...s);a&&(r=a,n.forEach(l=>l()))}}}function W2e(){let e;return{before({doc:t}){var r;let n=t.documentElement;e=((r=t.defaultView)!=null?r:window).innerWidth-n.clientWidth},after({doc:t,d:r}){let n=t.documentElement,o=n.clientWidth-n.offsetWidth,s=e-o;r.style(n,"paddingRight",`${s}px`)}}}function B2e(){if(!E2e())return{};let e;return{before(){e=window.pageYOffset},after({doc:t,d:r,meta:n}){function o(a){return n.containers.flatMap(l=>l()).some(l=>l.contains(a))}r.style(t.body,"marginTop",`-${e}px`),window.scrollTo(0,0);let s=null;r.addEventListener(t,"click",a=>{if(a.target instanceof HTMLElement)try{let l=a.target.closest("a");if(!l)return;let{hash:f}=new URL(l.href),u=t.querySelector(f);u&&!o(u)&&(s=u)}catch{}},!0),r.addEventListener(t,"touchmove",a=>{a.target instanceof HTMLElement&&!o(a.target)&&a.preventDefault()},{passive:!1}),r.add(()=>{window.scrollTo(0,window.pageYOffset+e),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})}}}function U2e(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function q2e(e){let t={};for(let r of e)Object.assign(t,r(t));return t}let Nc=j2e(()=>new Map,{PUSH(e,t){var r;let n=(r=this.get(e))!=null?r:{doc:e,count:0,d:CK(),meta:new Set};return n.count++,n.meta.add(t),this.set(e,n),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:r}){let n={doc:e,d:t,meta:q2e(r)},o=[B2e(),W2e(),U2e()];o.forEach(({before:s})=>s==null?void 0:s(n)),o.forEach(({after:s})=>s==null?void 0:s(n))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Nc.subscribe(()=>{let e=Nc.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let n=t.get(r.doc)==="hidden",o=r.count!==0;(o&&!n||!o&&n)&&Nc.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&Nc.dispatch("TEARDOWN",r)}});function H2e(e,t,r){let n=F2e(Nc),o=Je(()=>{let s=e.value?n.value.get(e.value):void 0;return s?s.count>0:!1});return cn([e,t],([s,a],[l],f)=>{if(!s||!a)return;Nc.dispatch("PUSH",s,r);let u=!1;f(()=>{u||(Nc.dispatch("POP",l??s,r),u=!0)})},{immediate:!0}),o}function V2e({defaultContainers:e=[],portals:t}={}){let r=qe(null),n=Yo(r);function o(){var s;let a=[];for(let l of e)l!==null&&(l instanceof HTMLElement?a.push(l):"value"in l&&l.value instanceof HTMLElement&&a.push(l.value));if(t!=null&&t.value)for(let l of t.value)a.push(l);for(let l of(s=n==null?void 0:n.querySelectorAll("html > *, body > *"))!=null?s:[])l!==document.body&&l!==document.head&&l instanceof HTMLElement&&l.id!=="headlessui-portal-root"&&(l.contains(lt(r))||a.some(f=>l.contains(f))||a.push(l));return a}return{resolveContainers:o,contains(s){return o().some(a=>a.contains(s))},mainTreeNodeRef:r,MainTreeNode(){return Mr(tp,{features:Tc.Hidden,ref:r})}}}var G2e=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(G2e||{});let GN=Symbol("DialogContext");function qK(e){let t=hn(GN,null);if(t===null){let r=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,qK),r}return t}let lv="DC8F892D-2EBD-447C-A4C8-A03058436FF4",z2e=Tt({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:lv},initialFocus:{type:Object,default:null},id:{type:String,default:()=>`headlessui-dialog-${Jo()}`}},emits:{close:e=>!0},setup(e,{emit:t,attrs:r,slots:n,expose:o}){var s;let a=qe(!1);Sr(()=>{a.value=!0});let l=qe(0),f=MN(),u=Je(()=>e.open===lv&&f!==null?(f.value&Hi.Open)===Hi.Open:e.open),d=qe(null),g=Je(()=>Yo(d));if(o({el:d,$el:d}),!(e.open!==lv||f!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof u.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${u.value===lv?void 0:e.open}`);let h=Je(()=>a.value&&u.value?0:1),p=Je(()=>h.value===0),w=Je(()=>l.value>1),y=hn(GN,null)!==null,[v,E]=O2e(),{resolveContainers:x,mainTreeNodeRef:S,MainTreeNode:N}=V2e({portals:v,defaultContainers:[Je(()=>{var Q;return(Q=A.panelRef.value)!=null?Q:d.value})]}),$=Je(()=>w.value?"parent":"leaf"),D=Je(()=>f!==null?(f.value&Hi.Closing)===Hi.Closing:!1),K=Je(()=>y||D.value?!1:p.value),q=Je(()=>{var Q,ne,se;return(se=Array.from((ne=(Q=g.value)==null?void 0:Q.querySelectorAll("body > *"))!=null?ne:[]).find(ae=>ae.id==="headlessui-portal-root"?!1:ae.contains(lt(S))&&ae instanceof HTMLElement))!=null?se:null});FK(q,K);let k=Je(()=>w.value?!0:p.value),V=Je(()=>{var Q,ne,se;return(se=Array.from((ne=(Q=g.value)==null?void 0:Q.querySelectorAll("[data-headlessui-portal]"))!=null?ne:[]).find(ae=>ae.contains(lt(S))&&ae instanceof HTMLElement))!=null?se:null});FK(V,k),M2e({type:"Dialog",enabled:Je(()=>h.value===0),element:d,onUpdate:(Q,ne)=>{if(ne==="Dialog")return Dn(Q,{[HN.Add]:()=>l.value+=1,[HN.Remove]:()=>l.value-=1})}});let j=VN({name:"DialogDescription",slot:Je(()=>({open:u.value}))}),B=qe(null),A={titleId:B,panelRef:qe(null),dialogState:h,setTitleId(Q){B.value!==Q&&(B.value=Q)},close(){t("close",!1)}};ro(GN,A);let U=Je(()=>!(!p.value||w.value));jN(x,(Q,ne)=>{A.close(),fn(()=>ne==null?void 0:ne.focus())},U);let G=Je(()=>!(w.value||h.value!==0));OK((s=g.value)==null?void 0:s.defaultView,"keydown",Q=>{G.value&&(Q.defaultPrevented||Q.key===At.Escape&&(Q.preventDefault(),Q.stopPropagation(),A.close()))});let H=Je(()=>!(D.value||h.value!==0||y));return H2e(g,H,Q=>{var ne;return{containers:[...(ne=Q.containers)!=null?ne:[],x]}}),Lo(Q=>{if(h.value!==0)return;let ne=lt(d);if(!ne)return;let se=new ResizeObserver(ae=>{for(let Z of ae){let ge=Z.target.getBoundingClientRect();ge.x===0&&ge.y===0&&ge.width===0&&ge.height===0&&A.close()}});se.observe(ne),Q(()=>se.disconnect())}),()=>{let{id:Q,open:ne,initialFocus:se,...ae}=e,Z={...r,ref:d,id:Q,role:"dialog","aria-modal":h.value===0?!0:void 0,"aria-labelledby":B.value,"aria-describedby":j.value},ge={open:h.value===0};return Mr(WK,{force:!0},()=>[Mr(C2e,()=>Mr(L2e,{target:d.value},()=>Mr(WK,{force:!1},()=>Mr(zg,{initialFocus:se,containers:x,features:p.value?Dn($.value,{parent:zg.features.RestoreFocus,leaf:zg.features.All&~zg.features.FocusLock}):zg.features.None},()=>Mr(E,{},()=>sn({ourProps:Z,theirProps:{...ae,...r},slot:ge,attrs:r,slots:n,visible:h.value===0,features:Ac.RenderStrategy|Ac.Static,name:"Dialog"})))))),Mr(N)])}}}),K2e=Tt({name:"DialogOverlay",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:()=>`headlessui-dialog-overlay-${Jo()}`}},setup(e,{attrs:t,slots:r}){let n=qK("DialogOverlay");function o(s){s.target===s.currentTarget&&(s.preventDefault(),s.stopPropagation(),n.close())}return()=>{let{id:s,...a}=e;return sn({ourProps:{id:s,"aria-hidden":!0,onClick:o},theirProps:a,slot:{open:n.dialogState.value===0},attrs:t,slots:r,name:"DialogOverlay"})}}}),HK=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function VK(e){var t,r;let n=(t=e.innerText)!=null?t:"",o=e.cloneNode(!0);if(!(o instanceof HTMLElement))return n;let s=!1;for(let l of o.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))l.remove(),s=!0;let a=s?(r=o.innerText)!=null?r:"":n;return HK.test(a)&&(a=a.replace(HK,"")),a}function J2e(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let r=e.getAttribute("aria-labelledby");if(r){let n=r.split(" ").map(o=>{let s=document.getElementById(o);if(s){let a=s.getAttribute("aria-label");return typeof a=="string"?a.trim():VK(s).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return VK(e).trim()}function GK(e){let t=qe(""),r=qe("");return()=>{let n=lt(e);if(!n)return"";let o=n.innerText;if(t.value===o)return r.value;let s=J2e(n).trim().toLowerCase();return t.value=o,r.value=s,s}}function Y2e(e,t){return e===t}var X2e=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(X2e||{}),Q2e=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Q2e||{}),Z2e=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Z2e||{});function eFe(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let zK=Symbol("ListboxContext");function uv(e){let t=hn(zK,null);if(t===null){let r=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,uv),r}return t}let tFe=Tt({name:"Listbox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>Y2e},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:t,attrs:r,emit:n}){let o=qe(1),s=qe(null),a=qe(null),l=qe(null),f=qe([]),u=qe(""),d=qe(null),g=qe(1);function h(x=S=>S){let S=d.value!==null?f.value[d.value]:null,N=av(x(f.value.slice()),D=>lt(D.dataRef.domRef)),$=S?N.indexOf(S):null;return $===-1&&($=null),{options:N,activeOptionIndex:$}}let p=Je(()=>e.multiple?1:0),[w,y]=BN(Je(()=>e.modelValue===void 0?Dn(p.value,{1:[],0:void 0}):e.modelValue),x=>n("update:modelValue",x),Je(()=>e.defaultValue)),v={listboxState:o,value:w,mode:p,compare(x,S){if(typeof e.by=="string"){let N=e.by;return(x==null?void 0:x[N])===(S==null?void 0:S[N])}return e.by(x,S)},orientation:Je(()=>e.horizontal?"horizontal":"vertical"),labelRef:s,buttonRef:a,optionsRef:l,disabled:Je(()=>e.disabled),options:f,searchQuery:u,activeOptionIndex:d,activationTrigger:g,closeListbox(){e.disabled||o.value!==1&&(o.value=1,d.value=null)},openListbox(){e.disabled||o.value!==0&&(o.value=0)},goToOption(x,S,N){if(e.disabled||o.value===1)return;let $=h(),D=_K(x===ir.Specific?{focus:ir.Specific,id:S}:{focus:x},{resolveItems:()=>$.options,resolveActiveIndex:()=>$.activeOptionIndex,resolveId:K=>K.id,resolveDisabled:K=>K.dataRef.disabled});u.value="",d.value=D,g.value=N??1,f.value=$.options},search(x){if(e.disabled||o.value===1)return;let S=u.value!==""?0:1;u.value+=x.toLowerCase();let N=(d.value!==null?f.value.slice(d.value+S).concat(f.value.slice(0,d.value+S)):f.value).find(D=>D.dataRef.textValue.startsWith(u.value)&&!D.dataRef.disabled),$=N?f.value.indexOf(N):-1;$===-1||$===d.value||(d.value=$,g.value=1)},clearSearch(){e.disabled||o.value!==1&&u.value!==""&&(u.value="")},registerOption(x,S){let N=h($=>[...$,{id:x,dataRef:S}]);f.value=N.options,d.value=N.activeOptionIndex},unregisterOption(x){let S=h(N=>{let $=N.findIndex(D=>D.id===x);return $!==-1&&N.splice($,1),N});f.value=S.options,d.value=S.activeOptionIndex,g.value=1},select(x){e.disabled||y(Dn(p.value,{0:()=>x,1:()=>{let S=nt(v.value.value).slice(),N=nt(x),$=S.findIndex(D=>v.compare(N,nt(D)));return $===-1?S.push(N):S.splice($,1),S}}))}};jN([a,l],(x,S)=>{var N;v.closeListbox(),sv(S,ov.Loose)||(x.preventDefault(),(N=lt(a))==null||N.focus())},Je(()=>o.value===0)),ro(zK,v),wK(Je(()=>Dn(o.value,{0:Hi.Open,1:Hi.Closed})));let E=Je(()=>{var x;return(x=lt(a))==null?void 0:x.closest("form")});return Sr(()=>{cn([E],()=>{if(!E.value||e.defaultValue===void 0)return;function x(){v.select(e.defaultValue)}return E.value.addEventListener("reset",x),()=>{var S;(S=E.value)==null||S.removeEventListener("reset",x)}},{immediate:!0})}),()=>{let{name:x,modelValue:S,disabled:N,form:$,...D}=e,K={open:o.value===0,disabled:N,value:w.value};return Mr(Dt,[...x!=null&&w.value!=null?WN({[x]:w.value}).map(([q,k])=>Mr(tp,DN({features:Tc.Hidden,key:q,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:$,name:q,value:k}))):[],sn({ourProps:{},theirProps:{...r,...rv(D,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:K,slots:t,attrs:r,name:"Listbox"})])}}}),rFe=Tt({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-listbox-button-${Jo()}`}},setup(e,{attrs:t,slots:r,expose:n}){let o=uv("ListboxButton");n({el:o.buttonRef,$el:o.buttonRef});function s(u){switch(u.key){case At.Space:case At.Enter:case At.ArrowDown:u.preventDefault(),o.openListbox(),fn(()=>{var d;(d=lt(o.optionsRef))==null||d.focus({preventScroll:!0}),o.value.value||o.goToOption(ir.First)});break;case At.ArrowUp:u.preventDefault(),o.openListbox(),fn(()=>{var d;(d=lt(o.optionsRef))==null||d.focus({preventScroll:!0}),o.value.value||o.goToOption(ir.Last)});break}}function a(u){switch(u.key){case At.Space:u.preventDefault();break}}function l(u){o.disabled.value||(o.listboxState.value===0?(o.closeListbox(),fn(()=>{var d;return(d=lt(o.buttonRef))==null?void 0:d.focus({preventScroll:!0})})):(u.preventDefault(),o.openListbox(),eFe(()=>{var d;return(d=lt(o.optionsRef))==null?void 0:d.focus({preventScroll:!0})})))}let f=PN(Je(()=>({as:e.as,type:t.type})),o.buttonRef);return()=>{var u,d;let g={open:o.listboxState.value===0,disabled:o.disabled.value,value:o.value.value},{id:h,...p}=e,w={ref:o.buttonRef,id:h,type:f.value,"aria-haspopup":"listbox","aria-controls":(u=lt(o.optionsRef))==null?void 0:u.id,"aria-expanded":o.disabled.value?void 0:o.listboxState.value===0,"aria-labelledby":o.labelRef.value?[(d=lt(o.labelRef))==null?void 0:d.id,h].join(" "):void 0,disabled:o.disabled.value===!0?!0:void 0,onKeydown:s,onKeyup:a,onClick:l};return sn({ourProps:w,theirProps:p,slot:g,attrs:t,slots:r,name:"ListboxButton"})}}}),nFe=Tt({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-listbox-options-${Jo()}`}},setup(e,{attrs:t,slots:r,expose:n}){let o=uv("ListboxOptions"),s=qe(null);n({el:o.optionsRef,$el:o.optionsRef});function a(u){switch(s.value&&clearTimeout(s.value),u.key){case At.Space:if(o.searchQuery.value!=="")return u.preventDefault(),u.stopPropagation(),o.search(u.key);case At.Enter:if(u.preventDefault(),u.stopPropagation(),o.activeOptionIndex.value!==null){let d=o.options.value[o.activeOptionIndex.value];o.select(d.dataRef.value)}o.mode.value===0&&(o.closeListbox(),fn(()=>{var d;return(d=lt(o.buttonRef))==null?void 0:d.focus({preventScroll:!0})}));break;case Dn(o.orientation.value,{vertical:At.ArrowDown,horizontal:At.ArrowRight}):return u.preventDefault(),u.stopPropagation(),o.goToOption(ir.Next);case Dn(o.orientation.value,{vertical:At.ArrowUp,horizontal:At.ArrowLeft}):return u.preventDefault(),u.stopPropagation(),o.goToOption(ir.Previous);case At.Home:case At.PageUp:return u.preventDefault(),u.stopPropagation(),o.goToOption(ir.First);case At.End:case At.PageDown:return u.preventDefault(),u.stopPropagation(),o.goToOption(ir.Last);case At.Escape:u.preventDefault(),u.stopPropagation(),o.closeListbox(),fn(()=>{var d;return(d=lt(o.buttonRef))==null?void 0:d.focus({preventScroll:!0})});break;case At.Tab:u.preventDefault(),u.stopPropagation();break;default:u.key.length===1&&(o.search(u.key),s.value=setTimeout(()=>o.clearSearch(),350));break}}let l=MN(),f=Je(()=>l!==null?(l.value&Hi.Open)===Hi.Open:o.listboxState.value===0);return()=>{var u,d,g,h;let p={open:o.listboxState.value===0},{id:w,...y}=e,v={"aria-activedescendant":o.activeOptionIndex.value===null||(u=o.options.value[o.activeOptionIndex.value])==null?void 0:u.id,"aria-multiselectable":o.mode.value===1?!0:void 0,"aria-labelledby":(h=(d=lt(o.labelRef))==null?void 0:d.id)!=null?h:(g=lt(o.buttonRef))==null?void 0:g.id,"aria-orientation":o.orientation.value,id:w,onKeydown:a,role:"listbox",tabIndex:0,ref:o.optionsRef};return sn({ourProps:v,theirProps:y,slot:p,attrs:t,slots:r,features:Ac.RenderStrategy|Ac.Static,visible:f.value,name:"ListboxOptions"})}}}),iFe=Tt({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-listbox.option-${Jo()}`}},setup(e,{slots:t,attrs:r,expose:n}){let o=uv("ListboxOption"),s=qe(null);n({el:s,$el:s});let a=Je(()=>o.activeOptionIndex.value!==null?o.options.value[o.activeOptionIndex.value].id===e.id:!1),l=Je(()=>Dn(o.mode.value,{0:()=>o.compare(nt(o.value.value),nt(e.value)),1:()=>nt(o.value.value).some(E=>o.compare(nt(E),nt(e.value)))})),f=Je(()=>Dn(o.mode.value,{1:()=>{var E;let x=nt(o.value.value);return((E=o.options.value.find(S=>x.some(N=>o.compare(nt(N),nt(S.dataRef.value)))))==null?void 0:E.id)===e.id},0:()=>l.value})),u=GK(s),d=Je(()=>({disabled:e.disabled,value:e.value,get textValue(){return u()},domRef:s}));Sr(()=>o.registerOption(e.id,d)),to(()=>o.unregisterOption(e.id)),Sr(()=>{cn([o.listboxState,l],()=>{o.listboxState.value===0&&l.value&&Dn(o.mode.value,{1:()=>{f.value&&o.goToOption(ir.Specific,e.id)},0:()=>{o.goToOption(ir.Specific,e.id)}})},{immediate:!0})}),Lo(()=>{o.listboxState.value===0&&a.value&&o.activationTrigger.value!==0&&fn(()=>{var E,x;return(x=(E=lt(s))==null?void 0:E.scrollIntoView)==null?void 0:x.call(E,{block:"nearest"})})});function g(E){if(e.disabled)return E.preventDefault();o.select(e.value),o.mode.value===0&&(o.closeListbox(),fn(()=>{var x;return(x=lt(o.buttonRef))==null?void 0:x.focus({preventScroll:!0})}))}function h(){if(e.disabled)return o.goToOption(ir.Nothing);o.goToOption(ir.Specific,e.id)}let p=kK();function w(E){p.update(E)}function y(E){p.wasMoved(E)&&(e.disabled||a.value||o.goToOption(ir.Specific,e.id,0))}function v(E){p.wasMoved(E)&&(e.disabled||a.value&&o.goToOption(ir.Nothing))}return()=>{let{disabled:E}=e,x={active:a.value,selected:l.value,disabled:E},{id:S,value:N,disabled:$,...D}=e,K={id:S,ref:s,role:"option",tabIndex:E===!0?void 0:-1,"aria-disabled":E===!0?!0:void 0,"aria-selected":l.value,disabled:void 0,onClick:g,onFocus:h,onPointerenter:w,onMouseenter:w,onPointermove:y,onMousemove:y,onPointerleave:v,onMouseleave:v};return sn({ourProps:K,theirProps:D,slot:x,attrs:r,slots:t,name:"ListboxOption"})}}});var oFe=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(oFe||{}),sFe=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(sFe||{});function aFe(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let KK=Symbol("MenuContext");function fv(e){let t=hn(KK,null);if(t===null){let r=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,fv),r}return t}let lFe=Tt({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:t,attrs:r}){let n=qe(1),o=qe(null),s=qe(null),a=qe([]),l=qe(""),f=qe(null),u=qe(1);function d(h=p=>p){let p=f.value!==null?a.value[f.value]:null,w=av(h(a.value.slice()),v=>lt(v.dataRef.domRef)),y=p?w.indexOf(p):null;return y===-1&&(y=null),{items:w,activeItemIndex:y}}let g={menuState:n,buttonRef:o,itemsRef:s,items:a,searchQuery:l,activeItemIndex:f,activationTrigger:u,closeMenu:()=>{n.value=1,f.value=null},openMenu:()=>n.value=0,goToItem(h,p,w){let y=d(),v=_K(h===ir.Specific?{focus:ir.Specific,id:p}:{focus:h},{resolveItems:()=>y.items,resolveActiveIndex:()=>y.activeItemIndex,resolveId:E=>E.id,resolveDisabled:E=>E.dataRef.disabled});l.value="",f.value=v,u.value=w??1,a.value=y.items},search(h){let p=l.value!==""?0:1;l.value+=h.toLowerCase();let w=(f.value!==null?a.value.slice(f.value+p).concat(a.value.slice(0,f.value+p)):a.value).find(v=>v.dataRef.textValue.startsWith(l.value)&&!v.dataRef.disabled),y=w?a.value.indexOf(w):-1;y===-1||y===f.value||(f.value=y,u.value=1)},clearSearch(){l.value=""},registerItem(h,p){let w=d(y=>[...y,{id:h,dataRef:p}]);a.value=w.items,f.value=w.activeItemIndex,u.value=1},unregisterItem(h){let p=d(w=>{let y=w.findIndex(v=>v.id===h);return y!==-1&&w.splice(y,1),w});a.value=p.items,f.value=p.activeItemIndex,u.value=1}};return jN([o,s],(h,p)=>{var w;g.closeMenu(),sv(p,ov.Loose)||(h.preventDefault(),(w=lt(o))==null||w.focus())},Je(()=>n.value===0)),ro(KK,g),wK(Je(()=>Dn(n.value,{0:Hi.Open,1:Hi.Closed}))),()=>{let h={open:n.value===0,close:g.closeMenu};return sn({ourProps:{},theirProps:e,slot:h,slots:t,attrs:r,name:"Menu"})}}}),uFe=Tt({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-menu-button-${Jo()}`}},setup(e,{attrs:t,slots:r,expose:n}){let o=fv("MenuButton");n({el:o.buttonRef,$el:o.buttonRef});function s(u){switch(u.key){case At.Space:case At.Enter:case At.ArrowDown:u.preventDefault(),u.stopPropagation(),o.openMenu(),fn(()=>{var d;(d=lt(o.itemsRef))==null||d.focus({preventScroll:!0}),o.goToItem(ir.First)});break;case At.ArrowUp:u.preventDefault(),u.stopPropagation(),o.openMenu(),fn(()=>{var d;(d=lt(o.itemsRef))==null||d.focus({preventScroll:!0}),o.goToItem(ir.Last)});break}}function a(u){switch(u.key){case At.Space:u.preventDefault();break}}function l(u){e.disabled||(o.menuState.value===0?(o.closeMenu(),fn(()=>{var d;return(d=lt(o.buttonRef))==null?void 0:d.focus({preventScroll:!0})})):(u.preventDefault(),o.openMenu(),aFe(()=>{var d;return(d=lt(o.itemsRef))==null?void 0:d.focus({preventScroll:!0})})))}let f=PN(Je(()=>({as:e.as,type:t.type})),o.buttonRef);return()=>{var u;let d={open:o.menuState.value===0},{id:g,...h}=e,p={ref:o.buttonRef,id:g,type:f.value,"aria-haspopup":"menu","aria-controls":(u=lt(o.itemsRef))==null?void 0:u.id,"aria-expanded":e.disabled?void 0:o.menuState.value===0,onKeydown:s,onKeyup:a,onClick:l};return sn({ourProps:p,theirProps:h,slot:d,attrs:t,slots:r,name:"MenuButton"})}}}),fFe=Tt({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-menu-items-${Jo()}`}},setup(e,{attrs:t,slots:r,expose:n}){let o=fv("MenuItems"),s=qe(null);n({el:o.itemsRef,$el:o.itemsRef}),SK({container:Je(()=>lt(o.itemsRef)),enabled:Je(()=>o.menuState.value===0),accept(d){return d.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:d.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(d){d.setAttribute("role","none")}});function a(d){var g;switch(s.value&&clearTimeout(s.value),d.key){case At.Space:if(o.searchQuery.value!=="")return d.preventDefault(),d.stopPropagation(),o.search(d.key);case At.Enter:if(d.preventDefault(),d.stopPropagation(),o.activeItemIndex.value!==null){let h=o.items.value[o.activeItemIndex.value];(g=lt(h.dataRef.domRef))==null||g.click()}o.closeMenu(),RK(lt(o.buttonRef));break;case At.ArrowDown:return d.preventDefault(),d.stopPropagation(),o.goToItem(ir.Next);case At.ArrowUp:return d.preventDefault(),d.stopPropagation(),o.goToItem(ir.Previous);case At.Home:case At.PageUp:return d.preventDefault(),d.stopPropagation(),o.goToItem(ir.First);case At.End:case At.PageDown:return d.preventDefault(),d.stopPropagation(),o.goToItem(ir.Last);case At.Escape:d.preventDefault(),d.stopPropagation(),o.closeMenu(),fn(()=>{var h;return(h=lt(o.buttonRef))==null?void 0:h.focus({preventScroll:!0})});break;case At.Tab:d.preventDefault(),d.stopPropagation(),o.closeMenu(),fn(()=>S2e(lt(o.buttonRef),d.shiftKey?xi.Previous:xi.Next));break;default:d.key.length===1&&(o.search(d.key),s.value=setTimeout(()=>o.clearSearch(),350));break}}function l(d){switch(d.key){case At.Space:d.preventDefault();break}}let f=MN(),u=Je(()=>f!==null?(f.value&Hi.Open)===Hi.Open:o.menuState.value===0);return()=>{var d,g;let h={open:o.menuState.value===0},{id:p,...w}=e,y={"aria-activedescendant":o.activeItemIndex.value===null||(d=o.items.value[o.activeItemIndex.value])==null?void 0:d.id,"aria-labelledby":(g=lt(o.buttonRef))==null?void 0:g.id,id:p,onKeydown:a,onKeyup:l,role:"menu",tabIndex:0,ref:o.itemsRef};return sn({ourProps:y,theirProps:w,slot:h,attrs:t,slots:r,features:Ac.RenderStrategy|Ac.Static,visible:u.value,name:"MenuItems"})}}}),JK=Tt({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-menu-item-${Jo()}`}},setup(e,{slots:t,attrs:r,expose:n}){let o=fv("MenuItem"),s=qe(null);n({el:s,$el:s});let a=Je(()=>o.activeItemIndex.value!==null?o.items.value[o.activeItemIndex.value].id===e.id:!1),l=GK(s),f=Je(()=>({disabled:e.disabled,get textValue(){return l()},domRef:s}));Sr(()=>o.registerItem(e.id,f)),to(()=>o.unregisterItem(e.id)),Lo(()=>{o.menuState.value===0&&a.value&&o.activationTrigger.value!==0&&fn(()=>{var y,v;return(v=(y=lt(s))==null?void 0:y.scrollIntoView)==null?void 0:v.call(y,{block:"nearest"})})});function u(y){if(e.disabled)return y.preventDefault();o.closeMenu(),RK(lt(o.buttonRef))}function d(){if(e.disabled)return o.goToItem(ir.Nothing);o.goToItem(ir.Specific,e.id)}let g=kK();function h(y){g.update(y)}function p(y){g.wasMoved(y)&&(e.disabled||a.value||o.goToItem(ir.Specific,e.id,0))}function w(y){g.wasMoved(y)&&(e.disabled||a.value&&o.goToItem(ir.Nothing))}return()=>{let{disabled:y}=e,v={active:a.value,disabled:y,close:o.closeMenu},{id:E,...x}=e;return sn({ourProps:{id:E,ref:s,role:"menuitem",tabIndex:y===!0?void 0:-1,"aria-disabled":y===!0?!0:void 0,disabled:void 0,onClick:u,onFocus:d,onPointerenter:h,onMouseenter:h,onPointermove:p,onMousemove:p,onPointerleave:w,onMouseleave:w},theirProps:{...r,...x},slot:v,attrs:r,slots:t,name:"MenuItem"})}}}),cFe=Symbol("LabelContext");function YK({slot:e={},name:t="Label",props:r={}}={}){let n=qe([]);function o(s){return n.value.push(s),()=>{let a=n.value.indexOf(s);a!==-1&&n.value.splice(a,1)}}return ro(cFe,{register:o,slot:e,name:t,props:r}),Je(()=>n.value.length>0?n.value.join(" "):void 0)}function dFe(e,t){return e===t}let XK=Symbol("RadioGroupContext");function QK(e){let t=hn(XK,null);if(t===null){let r=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,QK),r}return t}let hFe=Tt({name:"RadioGroup",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"div"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>dFe},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},id:{type:String,default:()=>`headlessui-radiogroup-${Jo()}`}},inheritAttrs:!1,setup(e,{emit:t,attrs:r,slots:n,expose:o}){let s=qe(null),a=qe([]),l=YK({name:"RadioGroupLabel"}),f=VN({name:"RadioGroupDescription"});o({el:s,$el:s});let[u,d]=BN(Je(()=>e.modelValue),w=>t("update:modelValue",w),Je(()=>e.defaultValue)),g={options:a,value:u,disabled:Je(()=>e.disabled),firstOption:Je(()=>a.value.find(w=>!w.propsRef.disabled)),containsCheckedOption:Je(()=>a.value.some(w=>g.compare(nt(w.propsRef.value),nt(e.modelValue)))),compare(w,y){if(typeof e.by=="string"){let v=e.by;return(w==null?void 0:w[v])===(y==null?void 0:y[v])}return e.by(w,y)},change(w){var y;if(e.disabled||g.compare(nt(u.value),nt(w)))return!1;let v=(y=a.value.find(E=>g.compare(nt(E.propsRef.value),nt(w))))==null?void 0:y.propsRef;return v!=null&&v.disabled?!1:(d(w),!0)},registerOption(w){a.value.push(w),a.value=av(a.value,y=>y.element)},unregisterOption(w){let y=a.value.findIndex(v=>v.id===w);y!==-1&&a.value.splice(y,1)}};ro(XK,g),SK({container:Je(()=>lt(s)),accept(w){return w.getAttribute("role")==="radio"?NodeFilter.FILTER_REJECT:w.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(w){w.setAttribute("role","none")}});function h(w){if(!s.value||!s.value.contains(w.target))return;let y=a.value.filter(v=>v.propsRef.disabled===!1).map(v=>v.element);switch(w.key){case At.Enter:IK(w.currentTarget);break;case At.ArrowLeft:case At.ArrowUp:if(w.preventDefault(),w.stopPropagation(),$c(y,xi.Previous|xi.WrapAround)===iv.Success){let v=a.value.find(E=>{var x;return E.element===((x=Yo(s))==null?void 0:x.activeElement)});v&&g.change(v.propsRef.value)}break;case At.ArrowRight:case At.ArrowDown:if(w.preventDefault(),w.stopPropagation(),$c(y,xi.Next|xi.WrapAround)===iv.Success){let v=a.value.find(E=>{var x;return E.element===((x=Yo(E.element))==null?void 0:x.activeElement)});v&&g.change(v.propsRef.value)}break;case At.Space:{w.preventDefault(),w.stopPropagation();let v=a.value.find(E=>{var x;return E.element===((x=Yo(E.element))==null?void 0:x.activeElement)});v&&g.change(v.propsRef.value)}break}}let p=Je(()=>{var w;return(w=lt(s))==null?void 0:w.closest("form")});return Sr(()=>{cn([p],()=>{if(!p.value||e.defaultValue===void 0)return;function w(){g.change(e.defaultValue)}return p.value.addEventListener("reset",w),()=>{var y;(y=p.value)==null||y.removeEventListener("reset",w)}},{immediate:!0})}),()=>{let{disabled:w,name:y,id:v,form:E,...x}=e,S={ref:s,id:v,role:"radiogroup","aria-labelledby":l.value,"aria-describedby":f.value,onKeydown:h};return Mr(Dt,[...y!=null&&u.value!=null?WN({[y]:u.value}).map(([N,$])=>Mr(tp,DN({features:Tc.Hidden,key:N,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:E,name:N,value:$}))):[],sn({ourProps:S,theirProps:{...r,...rv(x,["modelValue","defaultValue","by"])},slot:{},attrs:r,slots:n,name:"RadioGroup"})])}}});var pFe=(e=>(e[e.Empty=1]="Empty",e[e.Active=2]="Active",e))(pFe||{});let bFe=Tt({name:"RadioGroupOption",props:{as:{type:[Object,String],default:"div"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-radiogroup-option-${Jo()}`}},setup(e,{attrs:t,slots:r,expose:n}){let o=QK("RadioGroupOption"),s=YK({name:"RadioGroupLabel"}),a=VN({name:"RadioGroupDescription"}),l=qe(null),f=Je(()=>({value:e.value,disabled:e.disabled})),u=qe(1);n({el:l,$el:l});let d=Je(()=>lt(l));Sr(()=>o.registerOption({id:e.id,element:d,propsRef:f})),to(()=>o.unregisterOption(e.id));let g=Je(()=>{var x;return((x=o.firstOption.value)==null?void 0:x.id)===e.id}),h=Je(()=>o.disabled.value||e.disabled),p=Je(()=>o.compare(nt(o.value.value),nt(e.value))),w=Je(()=>h.value?-1:p.value||!o.containsCheckedOption.value&&g.value?0:-1);function y(){var x;o.change(e.value)&&(u.value|=2,(x=lt(l))==null||x.focus())}function v(){u.value|=2}function E(){u.value&=-3}return()=>{let{id:x,value:S,disabled:N,...$}=e,D={checked:p.value,disabled:h.value,active:!!(u.value&2)},K={id:x,ref:l,role:"radio","aria-checked":p.value?"true":"false","aria-labelledby":s.value,"aria-describedby":a.value,"aria-disabled":h.value?!0:void 0,tabIndex:w.value,onClick:h.value?void 0:y,onFocus:h.value?void 0:v,onBlur:h.value?void 0:E};return sn({ourProps:K,theirProps:$,slot:D,attrs:t,slots:r,name:"RadioGroupOption"})}}}),gFe=Symbol("GroupContext"),_Fe=Tt({name:"Switch",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:()=>`headlessui-switch-${Jo()}`}},inheritAttrs:!1,setup(e,{emit:t,attrs:r,slots:n,expose:o}){let s=hn(gFe,null),[a,l]=BN(Je(()=>e.modelValue),v=>t("update:modelValue",v),Je(()=>e.defaultChecked));function f(){l(!a.value)}let u=qe(null),d=s===null?u:s.switchRef,g=PN(Je(()=>({as:e.as,type:r.type})),d);o({el:d,$el:d});function h(v){v.preventDefault(),f()}function p(v){v.key===At.Space?(v.preventDefault(),f()):v.key===At.Enter&&IK(v.currentTarget)}function w(v){v.preventDefault()}let y=Je(()=>{var v,E;return(E=(v=lt(d))==null?void 0:v.closest)==null?void 0:E.call(v,"form")});return Sr(()=>{cn([y],()=>{if(!y.value||e.defaultChecked===void 0)return;function v(){l(e.defaultChecked)}return y.value.addEventListener("reset",v),()=>{var E;(E=y.value)==null||E.removeEventListener("reset",v)}},{immediate:!0})}),()=>{let{id:v,name:E,value:x,form:S,...N}=e,$={checked:a.value},D={id:v,ref:d,role:"switch",type:g.value,tabIndex:0,"aria-checked":a.value,"aria-labelledby":s==null?void 0:s.labelledby.value,"aria-describedby":s==null?void 0:s.describedby.value,onClick:h,onKeyup:p,onKeypress:w};return Mr(Dt,[E!=null&&a.value!=null?Mr(tp,DN({features:Tc.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:a.value,form:S,name:E,value:x})):null,sn({ourProps:D,theirProps:{...r,...rv(N,["modelValue","defaultChecked"])},slot:$,attrs:r,slots:n,name:"Switch"})])}}});const yFe={class:"flex items-center justify-center min-h-screen"},wFe={class:"modal-card"},ZK=Tt({...{name:"SpexDialog"},props:{open:{type:Boolean}},emits:["close"],setup(e,{emit:t}){return(r,n)=>(Ne(),er(Ze(z2e),{open:r.open,onClose:n[0]||(n[0]=o=>r.$emit("close")),class:"fixed inset-0 z-10 overflow-y-auto"},{default:pt(()=>[be("div",yFe,[Pe(Ze(K2e),{class:"fixed inset-0 bg-black opacity-50"}),be("div",wFe,[ya(r.$slots,"default")])])]),_:3},8,["open"]))}}),mFe={class:"group inline-block relative"},vFe={key:0,class:"invisible group-hover:visible absolute z-10 bottom-full left-1/2 -translate-x-1/2 -translate-y-1 delay-300"},SFe={class:"bg-gray-800 text-white font-normal text-sm rounded py-1 px-3 whitespace-nowrap"},EFe=be("svg",{class:"absolute h-3 w-full left-0 top-full fill-current text-gray-800",viewBox:"0 0 255 255"},[be("polygon",{points:"0,0 127.5,127.5 255,0"})],-1),ni=Tt({...{name:"SpexTooltip"},props:{label:{},position:{}},setup(e){return(t,r)=>(Ne(),He("div",mFe,[t.label?(Ne(),He("div",vFe,[be("div",SFe,[_i(Wt(t.label)+" ",1),EFe])])):Ut("",!0),be("div",null,[ya(t.$slots,"default")])]))}}),eJ=e=>(_ge("data-v-a0722119"),e=e(),yge(),e),RFe={class:"modal-card-head py-4"},xFe=eJ(()=>be("h3",{style:{color:"grey"}},"Generated SHACL shapes",-1)),AFe={class:"ml-auto"},$Fe={class:"modal-card-body overflow-y-hidden flex flex-col pb-0"},TFe={class:"flex justify-between"},IFe={class:"flex items-center gap-2"},NFe=eJ(()=>be("span",null,"Copy",-1)),kFe=Tt({...{name:"ModalShacl"},props:{datamodel:{},loadShacl:{}},emits:["close","open-load-shacl"],setup(e,{emit:t}){const r=e,n=Oa.getInstance(),o=Je(()=>n.prefixes.reduce((p,{prefix:w,namespace:y})=>({...p,[w]:y}),{})),s=Je(()=>[...n.dataModelToSHACL(r.datamodel).dataset]),a=qe(null),l=qe(null),f=qe([{label:"JSON-LD",value:"application/ld+json"},{label:"Turtle",value:"text/turtle"},{label:"N-Triples",value:"application/n-triples"}]),u=qe("application/ld+json"),d=qe(["sh","schema"].join(","));async function g(){const p=l.value.codeMirror.value;await navigator.clipboard.writeText(p),a.value="Copied 👍",setTimeout(()=>{a.value=null},3e3)}function h(){t("open-load-shacl"),t("close")}return(p,w)=>{const y=Bx("rdf-editor");return Ne(),er(ZK,{onClose:w[2]||(w[2]=v=>p.$emit("close"))},{default:pt(()=>[be("div",RFe,[xFe,be("div",AFe,[Pe(ni,{label:"Load SHACL shapes",position:"bottom",class:"mr-4"},{default:pt(()=>[be("button",{class:"button",onClick:h},[Pe(Ze(mye),{class:"icon"})])]),_:1}),Pe(ni,{label:"Close",position:"bottom"},{default:pt(()=>[be("button",{class:"button is-light",onClick:w[0]||(w[0]=v=>p.$emit("close"))},[Pe(Ze(Jl),{class:"icon"})])]),_:1})])]),be("div",$Fe,[be("div",TFe,[Pe(Ze(hFe),{modelValue:u.value,"onUpdate:modelValue":w[1]||(w[1]=v=>u.value=v),class:"field has-addons"},{default:pt(()=>[(Ne(!0),He(Dt,null,dn(f.value,v=>(Ne(),er(Ze(bFe),{key:v.value,value:v.value,class:"control"},{default:pt(({checked:E})=>[be("span",{class:rn(["button",E?"is-primary":""])},Wt(v.label),3)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),be("div",IFe,[Kn(be("span",{class:"text-green-500"},Wt(a.value),513),[[Sf,a.value]]),be("button",{class:"button",onClick:g},[Pe(Ze(FU),{class:"icon"}),NFe])])]),Pe(y,{format:u.value,".quads":s.value,".prefixes":d.value,".customPrefixes":o.value,ref_key:"snippet",ref:l,class:"overflow-y-auto"},null,8,["format",".quads",".prefixes",".customPrefixes"])])]),_:1})}}}),Xo=(e,t)=>{const r=e.__vccOpts||e;for(const[n,o]of t)r[n]=o;return r},CFe=Xo(kFe,[["__scopeId","data-v-a0722119"]]),OFe={name:"ModalShaclLoad",props:["load","endpoint"],emits:["close"],components:{SpexDialog:ZK,XMarkIcon:Jl},data(){return{data:"",error:null}},methods:{async onSubmit(){if(this.data)try{const e=Wr.formast.parsers.import("text/turtle",rg.Readable.from(this.data)),t=await Wr.dataset().import(e),r=Wr.clownface({dataset:t,term:au.DefaultShapes}).in(Bo.type).in(au.shape);if(!r.term)throw new Error("No node with spex:shape pointing to a spex:DefaultShapes found");const n=this.endpoint.dataModelFromSHACL(r);this.load(n),this.$emit("close")}catch(e){this.error=e.toString()}}}},LFe={class:"modal-card-head py-4"},DFe=be("h3",{style:{color:"grey"}},"Load SHACL shapes",-1),MFe={class:"ml-auto"},PFe={class:"modal-card-body"},FFe={class:"field"},jFe={key:0,class:"help is-danger"},WFe=be("p",{class:"help",style:{color:"grey"}},[_i(" Paste your SHACL shapes in "),be("strong",null,"Turtle"),_i(" format in the field above. ")],-1),BFe=be("div",{class:"field"},[be("button",{class:"button is-primary",type:"submit"},"Load")],-1);function UFe(e,t,r,n,o,s){const a=Bx("XMarkIcon"),l=Bx("SpexDialog");return Ne(),er(l,{onClose:t[3]||(t[3]=f=>e.$emit("close"))},{default:pt(()=>[be("div",LFe,[DFe,be("div",MFe,[be("button",{class:"button is-light",title:"Close",onClick:t[0]||(t[0]=f=>e.$emit("close"))},[Pe(a,{class:"icon"})])])]),be("div",PFe,[be("form",{onSubmit:t[2]||(t[2]=uye((...f)=>s.onSubmit&&s.onSubmit(...f),["prevent"]))},[be("div",FFe,[Kn(be("textarea",{type:"textarea",class:rn(["textarea",{"is-danger":o.error}]),"onUpdate:modelValue":t[1]||(t[1]=f=>o.data=f)},null,2),[[Kl,o.data]]),o.error?(Ne(),He("p",jFe,Wt(o.error),1)):Ut("",!0),WFe]),BFe],32)])]),_:1})}const qFe=Xo(OFe,[["render",UFe]]),HFe={class:"flex justify-center flex-row gap-1"},VFe={class:"relative z-50 text-right flex justify-center flex-row"},GFe={class:"flex h-full justify-center"},zFe={class:"px-1 py-1"},KFe=Tt({...{name:"ShapeComponentActions"},props:{table:{}},emits:["hide","explore","export"],setup(e,{emit:t}){const r=qe(null);function n(o){t("export",o),r.value="👍",setTimeout(()=>{r.value=null},1500)}return(o,s)=>(Ne(),He("div",HFe,[be("div",null,[be("div",VFe,[Pe(Ze(lFe),{as:"div",class:"relative inline-block"},{default:pt(()=>[be("div",GFe,[Pe(Ze(uFe),{style:{"font-size":"0.75rem",height:"2.5em",width:"2.5em","border-radius":"2px","padding-top":"1px"},class:"inline-flex w-full justify-center rounded-md bg-black bg-opacity-20 text-sm font-medium text-white hover:bg-opacity-30 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75"},{default:pt(()=>[Pe(Ze(Aye),{class:"h-7 w-7 --color-primary-300 hover:text-orange","aria-hidden":"true"})]),_:1})]),Pe(cw,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:pt(()=>[Pe(Ze(fFe),{class:"absolute right-0 mt-2 w-56 origin-top-right divide-y divide-gray-100 rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:pt(()=>[be("div",zFe,[Pe(Ze(JK),null,{default:pt(({active:a})=>[be("button",{class:rn([a?"bg-orange-400 text-white":"text-gray-900","group flex w-full items-center rounded-md px-2 py-2 text-sm"]),onClick:s[0]||(s[0]=l=>n(o.table))},[Pe(Ze(FU),{class:"mr-2 h-5 w-5 icon","aria-hidden":"true"}),_i(" Copy NodeShape ")],2)]),_:1}),Pe(Ze(JK),null,{default:pt(({active:a})=>[be("button",{class:rn([a?"bg-orange-400 text-white":"text-gray-900","group flex w-full items-center rounded-md px-2 py-2 text-sm"]),onClick:s[1]||(s[1]=l=>o.$emit("explore",o.table))},[Pe(Ze(Nye),{class:"mr-2 h-5 w-5 icon","aria-hidden":"true"}),_i(" Explore Data ")],2)]),_:1})])]),_:1})]),_:1})]),_:1})])]),Pe(ni,{label:"Hide"},{default:pt(()=>[be("button",{class:"button is-light is-small",onClick:s[2]||(s[2]=a=>o.$emit("hide",o.table))},[Pe(Ze(jU),{class:"icon"})])]),_:1})]))}}),JFe={class:"font-bold"},YFe={class:"w-full"},XFe=["data-id","onMouseenter","onMouseleave"],QFe={class:"text-inherit dark:border-gray-500 px-3 py-2"},ZFe={class:"text-inherit dark:border-gray-500 px-3 py-2"},eje=Tt({...{name:"ShapeComponent"},props:{table:{},activeLinks:{}},emits:["hide","explore","export","hover-title","unhover-title","hover-property","unhover-property"],setup(e,{emit:t}){const r=e;function n(a){a.stopPropagation()}const o=Je(()=>r.activeLinks.some(a=>a.target===r.table.id));function s(a){return r.activeLinks.some(l=>l.source===r.table.id&&l.sourceProperty===a.id)}return(a,l)=>(Ne(),He("div",{class:rn(["border dark:border-gray-500 rounded-lg shadow-md bg-white dark:bg-gray-800 opacity-90 text-sm",{active:o.value}])},[be("header",{class:"bg-gray-100 dark:bg-gray-900 flex items-center gap-4 justify-between px-3 py-2 rounded-lg",onMouseenter:l[3]||(l[3]=f=>a.$emit("hover-title",a.table)),onMouseleave:l[4]||(l[4]=f=>a.$emit("unhover-title",a.table))},[Pe(ni,{label:a.table.id},{default:pt(()=>[be("h3",JFe,Wt(a.table.name),1)]),_:1},8,["label"]),Pe(KFe,{table:a.table,onExport:l[0]||(l[0]=f=>a.$emit("export",a.table)),onHide:l[1]||(l[1]=f=>a.$emit("hide",a.table)),onExplore:l[2]||(l[2]=f=>a.$emit("explore",a.table))},null,8,["table"])],32),be("table",YFe,[(Ne(!0),He(Dt,null,dn(a.table.properties,(f,u)=>(Ne(),He("tr",{class:rn(["border-b last:border-b-0 hover:bg-orange-400 hover:bg-opacity-20 text-gray-800 dark:text-gray-50",{active:s(f)}]),key:u,"data-id":f.id,onMouseenter:d=>a.$emit("hover-property",a.table,f),onMouseleave:d=>a.$emit("unhover-property",a.table,f)},[be("th",QFe,[Pe(ni,{label:f.id},{default:pt(()=>[be("span",{onMousedown:n},Wt(f.name),33)]),_:2},1032,["label"])]),be("td",ZFe,[(Ne(!0),He(Dt,null,dn(f.values,d=>(Ne(),He("div",{key:d.id},[ya(a.$slots,"property-value",{value:d},()=>[Pe(ni,{label:d.id},{default:pt(()=>[be("span",{onMousedown:n},Wt(d.name),33)]),_:2},1032,["label"])])]))),128))])],42,XFe))),128))])],2))}});var tje={value:()=>{}};function Jg(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new cv(r)}function cv(e){this._=e}function rje(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",o=r.indexOf(".");if(o>=0&&(n=r.slice(o+1),r=r.slice(0,o)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}cv.prototype=Jg.prototype={constructor:cv,on:function(e,t){var r=this._,n=rje(e+"",r),o,s=-1,a=n.length;if(arguments.length<2){for(;++s<a;)if((o=(e=n[s]).type)&&(o=nje(r[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<a;)if(o=(e=n[s]).type)r[o]=tJ(r[o],e.name,t);else if(t==null)for(o in r)r[o]=tJ(r[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new cv(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var r=new Array(o),n=0,o,s;n<o;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,o=s.length;n<o;++n)s[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],o=0,s=n.length;o<s;++o)n[o].value.apply(t,r)}};function nje(e,t){for(var r=0,n=e.length,o;r<n;++r)if((o=e[r]).name===t)return o.value}function tJ(e,t,r){for(var n=0,o=e.length;n<o;++n)if(e[n].name===t){e[n]=tje,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var zN="http://www.w3.org/1999/xhtml";const rJ={svg:"http://www.w3.org/2000/svg",xhtml:zN,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function dv(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),rJ.hasOwnProperty(t)?{space:rJ[t],local:e}:e}function ije(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===zN&&t.documentElement.namespaceURI===zN?t.createElement(e):t.createElementNS(r,e)}}function oje(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function nJ(e){var t=dv(e);return(t.local?oje:ije)(t)}function sje(){}function KN(e){return e==null?sje:function(){return this.querySelector(e)}}function aje(e){typeof e!="function"&&(e=KN(e));for(var t=this._groups,r=t.length,n=new Array(r),o=0;o<r;++o)for(var s=t[o],a=s.length,l=n[o]=new Array(a),f,u,d=0;d<a;++d)(f=s[d])&&(u=e.call(f,f.__data__,d,s))&&("__data__"in f&&(u.__data__=f.__data__),l[d]=u);return new Vi(n,this._parents)}function lje(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function uje(){return[]}function iJ(e){return e==null?uje:function(){return this.querySelectorAll(e)}}function fje(e){return function(){return lje(e.apply(this,arguments))}}function cje(e){typeof e=="function"?e=fje(e):e=iJ(e);for(var t=this._groups,r=t.length,n=[],o=[],s=0;s<r;++s)for(var a=t[s],l=a.length,f,u=0;u<l;++u)(f=a[u])&&(n.push(e.call(f,f.__data__,u,a)),o.push(f));return new Vi(n,o)}function oJ(e){return function(){return this.matches(e)}}function sJ(e){return function(t){return t.matches(e)}}var dje=Array.prototype.find;function hje(e){return function(){return dje.call(this.children,e)}}function pje(){return this.firstElementChild}function bje(e){return this.select(e==null?pje:hje(typeof e=="function"?e:sJ(e)))}var gje=Array.prototype.filter;function _je(){return Array.from(this.children)}function yje(e){return function(){return gje.call(this.children,e)}}function wje(e){return this.selectAll(e==null?_je:yje(typeof e=="function"?e:sJ(e)))}function mje(e){typeof e!="function"&&(e=oJ(e));for(var t=this._groups,r=t.length,n=new Array(r),o=0;o<r;++o)for(var s=t[o],a=s.length,l=n[o]=[],f,u=0;u<a;++u)(f=s[u])&&e.call(f,f.__data__,u,s)&&l.push(f);return new Vi(n,this._parents)}function aJ(e){return new Array(e.length)}function vje(){return new Vi(this._enter||this._groups.map(aJ),this._parents)}function hv(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}hv.prototype={constructor:hv,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Sje(e){return function(){return e}}function Eje(e,t,r,n,o,s){for(var a=0,l,f=t.length,u=s.length;a<u;++a)(l=t[a])?(l.__data__=s[a],n[a]=l):r[a]=new hv(e,s[a]);for(;a<f;++a)(l=t[a])&&(o[a]=l)}function Rje(e,t,r,n,o,s,a){var l,f,u=new Map,d=t.length,g=s.length,h=new Array(d),p;for(l=0;l<d;++l)(f=t[l])&&(h[l]=p=a.call(f,f.__data__,l,t)+"",u.has(p)?o[l]=f:u.set(p,f));for(l=0;l<g;++l)p=a.call(e,s[l],l,s)+"",(f=u.get(p))?(n[l]=f,f.__data__=s[l],u.delete(p)):r[l]=new hv(e,s[l]);for(l=0;l<d;++l)(f=t[l])&&u.get(h[l])===f&&(o[l]=f)}function xje(e){return e.__data__}function Aje(e,t){if(!arguments.length)return Array.from(this,xje);var r=t?Rje:Eje,n=this._parents,o=this._groups;typeof e!="function"&&(e=Sje(e));for(var s=o.length,a=new Array(s),l=new Array(s),f=new Array(s),u=0;u<s;++u){var d=n[u],g=o[u],h=g.length,p=$je(e.call(d,d&&d.__data__,u,n)),w=p.length,y=l[u]=new Array(w),v=a[u]=new Array(w),E=f[u]=new Array(h);r(d,g,y,v,E,p,t);for(var x=0,S=0,N,$;x<w;++x)if(N=y[x]){for(x>=S&&(S=x+1);!($=v[S])&&++S<w;);N._next=$||null}}return a=new Vi(a,n),a._enter=l,a._exit=f,a}function $je(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Tje(){return new Vi(this._exit||this._groups.map(aJ),this._parents)}function Ije(e,t,r){var n=this.enter(),o=this,s=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),r==null?s.remove():r(s),n&&o?n.merge(o).order():o}function Nje(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,o=r.length,s=n.length,a=Math.min(o,s),l=new Array(o),f=0;f<a;++f)for(var u=r[f],d=n[f],g=u.length,h=l[f]=new Array(g),p,w=0;w<g;++w)(p=u[w]||d[w])&&(h[w]=p);for(;f<o;++f)l[f]=r[f];return new Vi(l,this._parents)}function kje(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],o=n.length-1,s=n[o],a;--o>=0;)(a=n[o])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function Cje(e){e||(e=Oje);function t(g,h){return g&&h?e(g.__data__,h.__data__):!g-!h}for(var r=this._groups,n=r.length,o=new Array(n),s=0;s<n;++s){for(var a=r[s],l=a.length,f=o[s]=new Array(l),u,d=0;d<l;++d)(u=a[d])&&(f[d]=u);f.sort(t)}return new Vi(o,this._parents).order()}function Oje(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Lje(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Dje(){return Array.from(this)}function Mje(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],o=0,s=n.length;o<s;++o){var a=n[o];if(a)return a}return null}function Pje(){let e=0;for(const t of this)++e;return e}function Fje(){return!this.node()}function jje(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var o=t[r],s=0,a=o.length,l;s<a;++s)(l=o[s])&&e.call(l,l.__data__,s,o);return this}function Wje(e){return function(){this.removeAttribute(e)}}function Bje(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Uje(e,t){return function(){this.setAttribute(e,t)}}function qje(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Hje(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function Vje(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function Gje(e,t){var r=dv(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?Bje:Wje:typeof t=="function"?r.local?Vje:Hje:r.local?qje:Uje)(r,t))}function lJ(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function zje(e){return function(){this.style.removeProperty(e)}}function Kje(e,t,r){return function(){this.style.setProperty(e,t,r)}}function Jje(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function Yje(e,t,r){return arguments.length>1?this.each((t==null?zje:typeof t=="function"?Jje:Kje)(e,t,r??"")):rp(this.node(),e)}function rp(e,t){return e.style.getPropertyValue(t)||lJ(e).getComputedStyle(e,null).getPropertyValue(t)}function Xje(e){return function(){delete this[e]}}function Qje(e,t){return function(){this[e]=t}}function Zje(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function e3e(e,t){return arguments.length>1?this.each((t==null?Xje:typeof t=="function"?Zje:Qje)(e,t)):this.node()[e]}function uJ(e){return e.trim().split(/^|\s+/)}function JN(e){return e.classList||new fJ(e)}function fJ(e){this._node=e,this._names=uJ(e.getAttribute("class")||"")}fJ.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function cJ(e,t){for(var r=JN(e),n=-1,o=t.length;++n<o;)r.add(t[n])}function dJ(e,t){for(var r=JN(e),n=-1,o=t.length;++n<o;)r.remove(t[n])}function t3e(e){return function(){cJ(this,e)}}function r3e(e){return function(){dJ(this,e)}}function n3e(e,t){return function(){(t.apply(this,arguments)?cJ:dJ)(this,e)}}function i3e(e,t){var r=uJ(e+"");if(arguments.length<2){for(var n=JN(this.node()),o=-1,s=r.length;++o<s;)if(!n.contains(r[o]))return!1;return!0}return this.each((typeof t=="function"?n3e:t?t3e:r3e)(r,t))}function o3e(){this.textContent=""}function s3e(e){return function(){this.textContent=e}}function a3e(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function l3e(e){return arguments.length?this.each(e==null?o3e:(typeof e=="function"?a3e:s3e)(e)):this.node().textContent}function u3e(){this.innerHTML=""}function f3e(e){return function(){this.innerHTML=e}}function c3e(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function d3e(e){return arguments.length?this.each(e==null?u3e:(typeof e=="function"?c3e:f3e)(e)):this.node().innerHTML}function h3e(){this.nextSibling&&this.parentNode.appendChild(this)}function p3e(){return this.each(h3e)}function b3e(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function g3e(){return this.each(b3e)}function _3e(e){var t=typeof e=="function"?e:nJ(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function y3e(){return null}function w3e(e,t){var r=typeof e=="function"?e:nJ(e),n=t==null?y3e:typeof t=="function"?t:KN(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function m3e(){var e=this.parentNode;e&&e.removeChild(this)}function v3e(){return this.each(m3e)}function S3e(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function E3e(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function R3e(e){return this.select(e?E3e:S3e)}function x3e(e){return arguments.length?this.property("__data__",e):this.node().__data__}function A3e(e){return function(t){e.call(this,t,this.__data__)}}function $3e(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function T3e(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,o=t.length,s;r<o;++r)s=t[r],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++n]=s;++n?t.length=n:delete this.__on}}}function I3e(e,t,r){return function(){var n=this.__on,o,s=A3e(t);if(n){for(var a=0,l=n.length;a<l;++a)if((o=n[a]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=s,o.options=r),o.value=t;return}}this.addEventListener(e.type,s,r),o={type:e.type,name:e.name,value:t,listener:s,options:r},n?n.push(o):this.__on=[o]}}function N3e(e,t,r){var n=$3e(e+""),o,s=n.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var f=0,u=l.length,d;f<u;++f)for(o=0,d=l[f];o<s;++o)if((a=n[o]).type===d.type&&a.name===d.name)return d.value}return}for(l=t?I3e:T3e,o=0;o<s;++o)this.each(l(n[o],t,r));return this}function hJ(e,t,r){var n=lJ(e),o=n.CustomEvent;typeof o=="function"?o=new o(t,r):(o=n.document.createEvent("Event"),r?(o.initEvent(t,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function k3e(e,t){return function(){return hJ(this,e,t)}}function C3e(e,t){return function(){return hJ(this,e,t.apply(this,arguments))}}function O3e(e,t){return this.each((typeof t=="function"?C3e:k3e)(e,t))}function*L3e(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],o=0,s=n.length,a;o<s;++o)(a=n[o])&&(yield a)}var pJ=[null];function Vi(e,t){this._groups=e,this._parents=t}function Yg(){return new Vi([[document.documentElement]],pJ)}function D3e(){return this}Vi.prototype=Yg.prototype={constructor:Vi,select:aje,selectAll:cje,selectChild:bje,selectChildren:wje,filter:mje,data:Aje,enter:vje,exit:Tje,join:Ije,merge:Nje,selection:D3e,order:kje,sort:Cje,call:Lje,nodes:Dje,node:Mje,size:Pje,empty:Fje,each:jje,attr:Gje,style:Yje,property:e3e,classed:i3e,text:l3e,html:d3e,raise:p3e,lower:g3e,append:_3e,insert:w3e,remove:v3e,clone:R3e,datum:x3e,on:N3e,dispatch:O3e,[Symbol.iterator]:L3e};function go(e){return typeof e=="string"?new Vi([[document.querySelector(e)]],[document.documentElement]):new Vi([[e]],pJ)}function M3e(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Ga(e,t){if(e=M3e(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const P3e={passive:!1},Xg={capture:!0,passive:!1};function YN(e){e.stopImmediatePropagation()}function np(e){e.preventDefault(),e.stopImmediatePropagation()}function bJ(e){var t=e.document.documentElement,r=go(e).on("dragstart.drag",np,Xg);"onselectstart"in t?r.on("selectstart.drag",np,Xg):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function gJ(e,t){var r=e.document.documentElement,n=go(e).on("dragstart.drag",null);t&&(n.on("click.drag",np,Xg),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const pv=e=>()=>e;function XN(e,{sourceEvent:t,subject:r,target:n,identifier:o,active:s,x:a,y:l,dx:f,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:f,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}XN.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function F3e(e){return!e.ctrlKey&&!e.button}function j3e(){return this.parentNode}function W3e(e,t){return t??{x:e.x,y:e.y}}function B3e(){return navigator.maxTouchPoints||"ontouchstart"in this}function U3e(){var e=F3e,t=j3e,r=W3e,n=B3e,o={},s=Jg("start","drag","end"),a=0,l,f,u,d,g=0;function h(N){N.on("mousedown.drag",p).filter(n).on("touchstart.drag",v).on("touchmove.drag",E,P3e).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(N,$){if(!(d||!e.call(this,N,$))){var D=S(this,t.call(this,N,$),N,$,"mouse");D&&(go(N.view).on("mousemove.drag",w,Xg).on("mouseup.drag",y,Xg),bJ(N.view),YN(N),u=!1,l=N.clientX,f=N.clientY,D("start",N))}}function w(N){if(np(N),!u){var $=N.clientX-l,D=N.clientY-f;u=$*$+D*D>g}o.mouse("drag",N)}function y(N){go(N.view).on("mousemove.drag mouseup.drag",null),gJ(N.view,u),np(N),o.mouse("end",N)}function v(N,$){if(e.call(this,N,$)){var D=N.changedTouches,K=t.call(this,N,$),q=D.length,k,V;for(k=0;k<q;++k)(V=S(this,K,N,$,D[k].identifier,D[k]))&&(YN(N),V("start",N,D[k]))}}function E(N){var $=N.changedTouches,D=$.length,K,q;for(K=0;K<D;++K)(q=o[$[K].identifier])&&(np(N),q("drag",N,$[K]))}function x(N){var $=N.changedTouches,D=$.length,K,q;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),K=0;K<D;++K)(q=o[$[K].identifier])&&(YN(N),q("end",N,$[K]))}function S(N,$,D,K,q,k){var V=s.copy(),j=Ga(k||D,$),B,A,U;if((U=r.call(N,new XN("beforestart",{sourceEvent:D,target:h,identifier:q,active:a,x:j[0],y:j[1],dx:0,dy:0,dispatch:V}),K))!=null)return B=U.x-j[0]||0,A=U.y-j[1]||0,function G(H,Q,ne){var se=j,ae;switch(H){case"start":o[q]=G,ae=a++;break;case"end":delete o[q],--a;case"drag":j=Ga(ne||Q,$),ae=a;break}V.call(H,N,new XN(H,{sourceEvent:Q,subject:U,target:h,identifier:q,active:ae,x:j[0]+B,y:j[1]+A,dx:j[0]-se[0],dy:j[1]-se[1],dispatch:V}),K)}}return h.filter=function(N){return arguments.length?(e=typeof N=="function"?N:pv(!!N),h):e},h.container=function(N){return arguments.length?(t=typeof N=="function"?N:pv(N),h):t},h.subject=function(N){return arguments.length?(r=typeof N=="function"?N:pv(N),h):r},h.touchable=function(N){return arguments.length?(n=typeof N=="function"?N:pv(!!N),h):n},h.on=function(){var N=s.on.apply(s,arguments);return N===s?h:N},h.clickDistance=function(N){return arguments.length?(g=(N=+N)*N,h):Math.sqrt(g)},h}function QN(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function _J(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Qg(){}var Zg=.7,bv=1/Zg,ip="\\s*([+-]?\\d+)\\s*",e_="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Us="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",q3e=/^#([0-9a-f]{3,8})$/,H3e=new RegExp(`^rgb\\(${ip},${ip},${ip}\\)$`),V3e=new RegExp(`^rgb\\(${Us},${Us},${Us}\\)$`),G3e=new RegExp(`^rgba\\(${ip},${ip},${ip},${e_}\\)$`),z3e=new RegExp(`^rgba\\(${Us},${Us},${Us},${e_}\\)$`),K3e=new RegExp(`^hsl\\(${e_},${Us},${Us}\\)$`),J3e=new RegExp(`^hsla\\(${e_},${Us},${Us},${e_}\\)$`),yJ={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};QN(Qg,t_,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:wJ,formatHex:wJ,formatHex8:Y3e,formatHsl:X3e,formatRgb:mJ,toString:mJ});function wJ(){return this.rgb().formatHex()}function Y3e(){return this.rgb().formatHex8()}function X3e(){return xJ(this).formatHsl()}function mJ(){return this.rgb().formatRgb()}function t_(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=q3e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?vJ(t):r===3?new Ai(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?gv(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?gv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=H3e.exec(e))?new Ai(t[1],t[2],t[3],1):(t=V3e.exec(e))?new Ai(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=G3e.exec(e))?gv(t[1],t[2],t[3],t[4]):(t=z3e.exec(e))?gv(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=K3e.exec(e))?RJ(t[1],t[2]/100,t[3]/100,1):(t=J3e.exec(e))?RJ(t[1],t[2]/100,t[3]/100,t[4]):yJ.hasOwnProperty(e)?vJ(yJ[e]):e==="transparent"?new Ai(NaN,NaN,NaN,0):null}function vJ(e){return new Ai(e>>16&255,e>>8&255,e&255,1)}function gv(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ai(e,t,r,n)}function Q3e(e){return e instanceof Qg||(e=t_(e)),e?(e=e.rgb(),new Ai(e.r,e.g,e.b,e.opacity)):new Ai}function ZN(e,t,r,n){return arguments.length===1?Q3e(e):new Ai(e,t,r,n??1)}function Ai(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}QN(Ai,ZN,_J(Qg,{brighter(e){return e=e==null?bv:Math.pow(bv,e),new Ai(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Zg:Math.pow(Zg,e),new Ai(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ai(kc(this.r),kc(this.g),kc(this.b),_v(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:SJ,formatHex:SJ,formatHex8:Z3e,formatRgb:EJ,toString:EJ}));function SJ(){return`#${Cc(this.r)}${Cc(this.g)}${Cc(this.b)}`}function Z3e(){return`#${Cc(this.r)}${Cc(this.g)}${Cc(this.b)}${Cc((isNaN(this.opacity)?1:this.opacity)*255)}`}function EJ(){const e=_v(this.opacity);return`${e===1?"rgb(":"rgba("}${kc(this.r)}, ${kc(this.g)}, ${kc(this.b)}${e===1?")":`, ${e})`}`}function _v(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function kc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Cc(e){return e=kc(e),(e<16?"0":"")+e.toString(16)}function RJ(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Qo(e,t,r,n)}function xJ(e){if(e instanceof Qo)return new Qo(e.h,e.s,e.l,e.opacity);if(e instanceof Qg||(e=t_(e)),!e)return new Qo;if(e instanceof Qo)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,o=Math.min(t,r,n),s=Math.max(t,r,n),a=NaN,l=s-o,f=(s+o)/2;return l?(t===s?a=(r-n)/l+(r<n)*6:r===s?a=(n-t)/l+2:a=(t-r)/l+4,l/=f<.5?s+o:2-s-o,a*=60):l=f>0&&f<1?0:a,new Qo(a,l,f,e.opacity)}function eWe(e,t,r,n){return arguments.length===1?xJ(e):new Qo(e,t,r,n??1)}function Qo(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}QN(Qo,eWe,_J(Qg,{brighter(e){return e=e==null?bv:Math.pow(bv,e),new Qo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Zg:Math.pow(Zg,e),new Qo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,o=2*r-n;return new Ai(ek(e>=240?e-240:e+120,o,n),ek(e,o,n),ek(e<120?e+240:e-120,o,n),this.opacity)},clamp(){return new Qo(AJ(this.h),yv(this.s),yv(this.l),_v(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_v(this.opacity);return`${e===1?"hsl(":"hsla("}${AJ(this.h)}, ${yv(this.s)*100}%, ${yv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function AJ(e){return e=(e||0)%360,e<0?e+360:e}function yv(e){return Math.max(0,Math.min(1,e||0))}function ek(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const $J=e=>()=>e;function tWe(e,t){return function(r){return e+r*t}}function rWe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function nWe(e){return(e=+e)==1?TJ:function(t,r){return r-t?rWe(t,r,e):$J(isNaN(t)?r:t)}}function TJ(e,t){var r=t-e;return r?tWe(e,r):$J(isNaN(e)?t:e)}const IJ=function e(t){var r=nWe(t);function n(o,s){var a=r((o=ZN(o)).r,(s=ZN(s)).r),l=r(o.g,s.g),f=r(o.b,s.b),u=TJ(o.opacity,s.opacity);return function(d){return o.r=a(d),o.g=l(d),o.b=f(d),o.opacity=u(d),o+""}}return n.gamma=e,n}(1);function Au(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var tk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rk=new RegExp(tk.source,"g");function iWe(e){return function(){return e}}function oWe(e){return function(t){return e(t)+""}}function sWe(e,t){var r=tk.lastIndex=rk.lastIndex=0,n,o,s,a=-1,l=[],f=[];for(e=e+"",t=t+"";(n=tk.exec(e))&&(o=rk.exec(t));)(s=o.index)>r&&(s=t.slice(r,s),l[a]?l[a]+=s:l[++a]=s),(n=n[0])===(o=o[0])?l[a]?l[a]+=o:l[++a]=o:(l[++a]=null,f.push({i:a,x:Au(n,o)})),r=rk.lastIndex;return r<t.length&&(s=t.slice(r),l[a]?l[a]+=s:l[++a]=s),l.length<2?f[0]?oWe(f[0].x):iWe(t):(t=f.length,function(u){for(var d=0,g;d<t;++d)l[(g=f[d]).i]=g.x(u);return l.join("")})}var NJ=180/Math.PI,nk={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function kJ(e,t,r,n,o,s){var a,l,f;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(f=e*r+t*n)&&(r-=e*f,n-=t*f),(l=Math.sqrt(r*r+n*n))&&(r/=l,n/=l,f/=l),e*n<t*r&&(e=-e,t=-t,f=-f,a=-a),{translateX:o,translateY:s,rotate:Math.atan2(t,e)*NJ,skewX:Math.atan(f)*NJ,scaleX:a,scaleY:l}}var wv;function aWe(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?nk:kJ(t.a,t.b,t.c,t.d,t.e,t.f)}function lWe(e){return e==null||(wv||(wv=document.createElementNS("http://www.w3.org/2000/svg","g")),wv.setAttribute("transform",e),!(e=wv.transform.baseVal.consolidate()))?nk:(e=e.matrix,kJ(e.a,e.b,e.c,e.d,e.e,e.f))}function CJ(e,t,r,n){function o(u){return u.length?u.pop()+" ":""}function s(u,d,g,h,p,w){if(u!==g||d!==h){var y=p.push("translate(",null,t,null,r);w.push({i:y-4,x:Au(u,g)},{i:y-2,x:Au(d,h)})}else(g||h)&&p.push("translate("+g+t+h+r)}function a(u,d,g,h){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),h.push({i:g.push(o(g)+"rotate(",null,n)-2,x:Au(u,d)})):d&&g.push(o(g)+"rotate("+d+n)}function l(u,d,g,h){u!==d?h.push({i:g.push(o(g)+"skewX(",null,n)-2,x:Au(u,d)}):d&&g.push(o(g)+"skewX("+d+n)}function f(u,d,g,h,p,w){if(u!==g||d!==h){var y=p.push(o(p)+"scale(",null,",",null,")");w.push({i:y-4,x:Au(u,g)},{i:y-2,x:Au(d,h)})}else(g!==1||h!==1)&&p.push(o(p)+"scale("+g+","+h+")")}return function(u,d){var g=[],h=[];return u=e(u),d=e(d),s(u.translateX,u.translateY,d.translateX,d.translateY,g,h),a(u.rotate,d.rotate,g,h),l(u.skewX,d.skewX,g,h),f(u.scaleX,u.scaleY,d.scaleX,d.scaleY,g,h),u=d=null,function(p){for(var w=-1,y=h.length,v;++w<y;)g[(v=h[w]).i]=v.x(p);return g.join("")}}}var uWe=CJ(aWe,"px, ","px)","deg)"),fWe=CJ(lWe,", ",")",")"),cWe=1e-12;function OJ(e){return((e=Math.exp(e))+1/e)/2}function dWe(e){return((e=Math.exp(e))-1/e)/2}function hWe(e){return((e=Math.exp(2*e))-1)/(e+1)}const pWe=function e(t,r,n){function o(s,a){var l=s[0],f=s[1],u=s[2],d=a[0],g=a[1],h=a[2],p=d-l,w=g-f,y=p*p+w*w,v,E;if(y<cWe)E=Math.log(h/u)/t,v=function(K){return[l+K*p,f+K*w,u*Math.exp(t*K*E)]};else{var x=Math.sqrt(y),S=(h*h-u*u+n*y)/(2*u*r*x),N=(h*h-u*u-n*y)/(2*h*r*x),$=Math.log(Math.sqrt(S*S+1)-S),D=Math.log(Math.sqrt(N*N+1)-N);E=(D-$)/t,v=function(K){var q=K*E,k=OJ($),V=u/(r*x)*(k*hWe(t*q+$)-dWe($));return[l+V*p,f+V*w,u*k/OJ(t*q+$)]}}return v.duration=E*1e3*t/Math.SQRT2,v}return o.rho=function(s){var a=Math.max(.001,+s),l=a*a,f=l*l;return e(a,l,f)},o}(Math.SQRT2,2,4);var op=0,r_=0,n_=0,LJ=1e3,mv,i_,vv=0,Oc=0,Sv=0,o_=typeof performance=="object"&&performance.now?performance:Date,DJ=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ik(){return Oc||(DJ(bWe),Oc=o_.now()+Sv)}function bWe(){Oc=0}function Ev(){this._call=this._time=this._next=null}Ev.prototype=ok.prototype={constructor:Ev,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?ik():+r)+(t==null?0:+t),!this._next&&i_!==this&&(i_?i_._next=this:mv=this,i_=this),this._call=e,this._time=r,sk()},stop:function(){this._call&&(this._call=null,this._time=1/0,sk())}};function ok(e,t,r){var n=new Ev;return n.restart(e,t,r),n}function gWe(){ik(),++op;for(var e=mv,t;e;)(t=Oc-e._time)>=0&&e._call.call(void 0,t),e=e._next;--op}function MJ(){Oc=(vv=o_.now())+Sv,op=r_=0;try{gWe()}finally{op=0,yWe(),Oc=0}}function _We(){var e=o_.now(),t=e-vv;t>LJ&&(Sv-=t,vv=e)}function yWe(){for(var e,t=mv,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:mv=r);i_=e,sk(n)}function sk(e){if(!op){r_&&(r_=clearTimeout(r_));var t=e-Oc;t>24?(e<1/0&&(r_=setTimeout(MJ,e-o_.now()-Sv)),n_&&(n_=clearInterval(n_))):(n_||(vv=o_.now(),n_=setInterval(_We,LJ)),op=1,DJ(MJ))}}function PJ(e,t,r){var n=new Ev;return t=t==null?0:+t,n.restart(o=>{n.stop(),e(o+t)},t,r),n}var wWe=Jg("start","end","cancel","interrupt"),mWe=[],FJ=0,jJ=1,ak=2,Rv=3,WJ=4,lk=5,xv=6;function Av(e,t,r,n,o,s){var a=e.__transition;if(!a)e.__transition={};else if(r in a)return;vWe(e,r,{name:t,index:n,group:o,on:wWe,tween:mWe,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:FJ})}function uk(e,t){var r=Zo(e,t);if(r.state>FJ)throw new Error("too late; already scheduled");return r}function qs(e,t){var r=Zo(e,t);if(r.state>Rv)throw new Error("too late; already running");return r}function Zo(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function vWe(e,t,r){var n=e.__transition,o;n[t]=r,r.timer=ok(s,0,r.time);function s(u){r.state=jJ,r.timer.restart(a,r.delay,r.time),r.delay<=u&&a(u-r.delay)}function a(u){var d,g,h,p;if(r.state!==jJ)return f();for(d in n)if(p=n[d],p.name===r.name){if(p.state===Rv)return PJ(a);p.state===WJ?(p.state=xv,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete n[d]):+d<t&&(p.state=xv,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete n[d])}if(PJ(function(){r.state===Rv&&(r.state=WJ,r.timer.restart(l,r.delay,r.time),l(u))}),r.state=ak,r.on.call("start",e,e.__data__,r.index,r.group),r.state===ak){for(r.state=Rv,o=new Array(h=r.tween.length),d=0,g=-1;d<h;++d)(p=r.tween[d].value.call(e,e.__data__,r.index,r.group))&&(o[++g]=p);o.length=g+1}}function l(u){for(var d=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(f),r.state=lk,1),g=-1,h=o.length;++g<h;)o[g].call(e,d);r.state===lk&&(r.on.call("end",e,e.__data__,r.index,r.group),f())}function f(){r.state=xv,r.timer.stop(),delete n[t];for(var u in n)return;delete e.__transition}}function $v(e,t){var r=e.__transition,n,o,s=!0,a;if(r){t=t==null?null:t+"";for(a in r){if((n=r[a]).name!==t){s=!1;continue}o=n.state>ak&&n.state<lk,n.state=xv,n.timer.stop(),n.on.call(o?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[a]}s&&delete e.__transition}}function SWe(e){return this.each(function(){$v(this,e)})}function EWe(e,t){var r,n;return function(){var o=qs(this,e),s=o.tween;if(s!==r){n=r=s;for(var a=0,l=n.length;a<l;++a)if(n[a].name===t){n=n.slice(),n.splice(a,1);break}}o.tween=n}}function RWe(e,t,r){var n,o;if(typeof r!="function")throw new Error;return function(){var s=qs(this,e),a=s.tween;if(a!==n){o=(n=a).slice();for(var l={name:t,value:r},f=0,u=o.length;f<u;++f)if(o[f].name===t){o[f]=l;break}f===u&&o.push(l)}s.tween=o}}function xWe(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=Zo(this.node(),r).tween,o=0,s=n.length,a;o<s;++o)if((a=n[o]).name===e)return a.value;return null}return this.each((t==null?EWe:RWe)(r,e,t))}function fk(e,t,r){var n=e._id;return e.each(function(){var o=qs(this,n);(o.value||(o.value={}))[t]=r.apply(this,arguments)}),function(o){return Zo(o,n).value[t]}}function BJ(e,t){var r;return(typeof t=="number"?Au:t instanceof t_?IJ:(r=t_(t))?(t=r,IJ):sWe)(e,t)}function AWe(e){return function(){this.removeAttribute(e)}}function $We(e){return function(){this.removeAttributeNS(e.space,e.local)}}function TWe(e,t,r){var n,o=r+"",s;return function(){var a=this.getAttribute(e);return a===o?null:a===n?s:s=t(n=a,r)}}function IWe(e,t,r){var n,o=r+"",s;return function(){var a=this.getAttributeNS(e.space,e.local);return a===o?null:a===n?s:s=t(n=a,r)}}function NWe(e,t,r){var n,o,s;return function(){var a,l=r(this),f;return l==null?void this.removeAttribute(e):(a=this.getAttribute(e),f=l+"",a===f?null:a===n&&f===o?s:(o=f,s=t(n=a,l)))}}function kWe(e,t,r){var n,o,s;return function(){var a,l=r(this),f;return l==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),f=l+"",a===f?null:a===n&&f===o?s:(o=f,s=t(n=a,l)))}}function CWe(e,t){var r=dv(e),n=r==="transform"?fWe:BJ;return this.attrTween(e,typeof t=="function"?(r.local?kWe:NWe)(r,n,fk(this,"attr."+e,t)):t==null?(r.local?$We:AWe)(r):(r.local?IWe:TWe)(r,n,t))}function OWe(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function LWe(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function DWe(e,t){var r,n;function o(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&LWe(e,s)),r}return o._value=t,o}function MWe(e,t){var r,n;function o(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&OWe(e,s)),r}return o._value=t,o}function PWe(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=dv(e);return this.tween(r,(n.local?DWe:MWe)(n,t))}function FWe(e,t){return function(){uk(this,e).delay=+t.apply(this,arguments)}}function jWe(e,t){return t=+t,function(){uk(this,e).delay=t}}function WWe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?FWe:jWe)(t,e)):Zo(this.node(),t).delay}function BWe(e,t){return function(){qs(this,e).duration=+t.apply(this,arguments)}}function UWe(e,t){return t=+t,function(){qs(this,e).duration=t}}function qWe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?BWe:UWe)(t,e)):Zo(this.node(),t).duration}function HWe(e,t){if(typeof t!="function")throw new Error;return function(){qs(this,e).ease=t}}function VWe(e){var t=this._id;return arguments.length?this.each(HWe(t,e)):Zo(this.node(),t).ease}function GWe(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;qs(this,e).ease=r}}function zWe(e){if(typeof e!="function")throw new Error;return this.each(GWe(this._id,e))}function KWe(e){typeof e!="function"&&(e=oJ(e));for(var t=this._groups,r=t.length,n=new Array(r),o=0;o<r;++o)for(var s=t[o],a=s.length,l=n[o]=[],f,u=0;u<a;++u)(f=s[u])&&e.call(f,f.__data__,u,s)&&l.push(f);return new za(n,this._parents,this._name,this._id)}function JWe(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,o=r.length,s=Math.min(n,o),a=new Array(n),l=0;l<s;++l)for(var f=t[l],u=r[l],d=f.length,g=a[l]=new Array(d),h,p=0;p<d;++p)(h=f[p]||u[p])&&(g[p]=h);for(;l<n;++l)a[l]=t[l];return new za(a,this._parents,this._name,this._id)}function YWe(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function XWe(e,t,r){var n,o,s=YWe(t)?uk:qs;return function(){var a=s(this,e),l=a.on;l!==n&&(o=(n=l).copy()).on(t,r),a.on=o}}function QWe(e,t){var r=this._id;return arguments.length<2?Zo(this.node(),r).on.on(e):this.each(XWe(r,e,t))}function ZWe(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function eBe(){return this.on("end.remove",ZWe(this._id))}function tBe(e){var t=this._name,r=this._id;typeof e!="function"&&(e=KN(e));for(var n=this._groups,o=n.length,s=new Array(o),a=0;a<o;++a)for(var l=n[a],f=l.length,u=s[a]=new Array(f),d,g,h=0;h<f;++h)(d=l[h])&&(g=e.call(d,d.__data__,h,l))&&("__data__"in d&&(g.__data__=d.__data__),u[h]=g,Av(u[h],t,r,h,u,Zo(d,r)));return new za(s,this._parents,t,r)}function rBe(e){var t=this._name,r=this._id;typeof e!="function"&&(e=iJ(e));for(var n=this._groups,o=n.length,s=[],a=[],l=0;l<o;++l)for(var f=n[l],u=f.length,d,g=0;g<u;++g)if(d=f[g]){for(var h=e.call(d,d.__data__,g,f),p,w=Zo(d,r),y=0,v=h.length;y<v;++y)(p=h[y])&&Av(p,t,r,y,h,w);s.push(h),a.push(d)}return new za(s,a,t,r)}var nBe=Yg.prototype.constructor;function iBe(){return new nBe(this._groups,this._parents)}function oBe(e,t){var r,n,o;return function(){var s=rp(this,e),a=(this.style.removeProperty(e),rp(this,e));return s===a?null:s===r&&a===n?o:o=t(r=s,n=a)}}function UJ(e){return function(){this.style.removeProperty(e)}}function sBe(e,t,r){var n,o=r+"",s;return function(){var a=rp(this,e);return a===o?null:a===n?s:s=t(n=a,r)}}function aBe(e,t,r){var n,o,s;return function(){var a=rp(this,e),l=r(this),f=l+"";return l==null&&(f=l=(this.style.removeProperty(e),rp(this,e))),a===f?null:a===n&&f===o?s:(o=f,s=t(n=a,l))}}function lBe(e,t){var r,n,o,s="style."+t,a="end."+s,l;return function(){var f=qs(this,e),u=f.on,d=f.value[s]==null?l||(l=UJ(t)):void 0;(u!==r||o!==d)&&(n=(r=u).copy()).on(a,o=d),f.on=n}}function uBe(e,t,r){var n=(e+="")=="transform"?uWe:BJ;return t==null?this.styleTween(e,oBe(e,n)).on("end.style."+e,UJ(e)):typeof t=="function"?this.styleTween(e,aBe(e,n,fk(this,"style."+e,t))).each(lBe(this._id,e)):this.styleTween(e,sBe(e,n,t),r).on("end.style."+e,null)}function fBe(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function cBe(e,t,r){var n,o;function s(){var a=t.apply(this,arguments);return a!==o&&(n=(o=a)&&fBe(e,a,r)),n}return s._value=t,s}function dBe(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,cBe(e,t,r??""))}function hBe(e){return function(){this.textContent=e}}function pBe(e){return function(){var t=e(this);this.textContent=t??""}}function bBe(e){return this.tween("text",typeof e=="function"?pBe(fk(this,"text",e)):hBe(e==null?"":e+""))}function gBe(e){return function(t){this.textContent=e.call(this,t)}}function _Be(e){var t,r;function n(){var o=e.apply(this,arguments);return o!==r&&(t=(r=o)&&gBe(o)),t}return n._value=e,n}function yBe(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,_Be(e))}function wBe(){for(var e=this._name,t=this._id,r=qJ(),n=this._groups,o=n.length,s=0;s<o;++s)for(var a=n[s],l=a.length,f,u=0;u<l;++u)if(f=a[u]){var d=Zo(f,t);Av(f,e,r,u,a,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new za(n,this._parents,e,r)}function mBe(){var e,t,r=this,n=r._id,o=r.size();return new Promise(function(s,a){var l={value:a},f={value:function(){--o===0&&s()}};r.each(function(){var u=qs(this,n),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(f)),u.on=t}),o===0&&s()})}var vBe=0;function za(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function qJ(){return++vBe}var Ka=Yg.prototype;za.prototype={constructor:za,select:tBe,selectAll:rBe,selectChild:Ka.selectChild,selectChildren:Ka.selectChildren,filter:KWe,merge:JWe,selection:iBe,transition:wBe,call:Ka.call,nodes:Ka.nodes,node:Ka.node,size:Ka.size,empty:Ka.empty,each:Ka.each,on:QWe,attr:CWe,attrTween:PWe,style:uBe,styleTween:dBe,text:bBe,textTween:yBe,remove:eBe,tween:xWe,delay:WWe,duration:qWe,ease:VWe,easeVarying:zWe,end:mBe,[Symbol.iterator]:Ka[Symbol.iterator]};function SBe(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var EBe={time:null,delay:0,duration:250,ease:SBe};function RBe(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function xBe(e){var t,r;e instanceof za?(t=e._id,e=e._name):(t=qJ(),(r=EBe).time=ik(),e=e==null?null:e+"");for(var n=this._groups,o=n.length,s=0;s<o;++s)for(var a=n[s],l=a.length,f,u=0;u<l;++u)(f=a[u])&&Av(f,e,t,u,a,r||RBe(f,t));return new za(n,this._parents,e,t)}Yg.prototype.interrupt=SWe,Yg.prototype.transition=xBe;const ck=Math.PI,dk=2*ck,Lc=1e-6,ABe=dk-Lc;function HJ(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function $Be(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return HJ;const r=10**t;return function(n){this._+=n[0];for(let o=1,s=n.length;o<s;++o)this._+=Math.round(arguments[o]*r)/r+n[o]}}class TBe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?HJ:$Be(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,o){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+o}`}bezierCurveTo(t,r,n,o,s,a){this._append`C${+t},${+r},${+n},${+o},${this._x1=+s},${this._y1=+a}`}arcTo(t,r,n,o,s){if(t=+t,r=+r,n=+n,o=+o,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,l=this._y1,f=n-t,u=o-r,d=a-t,g=l-r,h=d*d+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Lc)if(!(Math.abs(g*f-u*d)>Lc)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-a,w=o-l,y=f*f+u*u,v=p*p+w*w,E=Math.sqrt(y),x=Math.sqrt(h),S=s*Math.tan((ck-Math.acos((y+h-v)/(2*E*x)))/2),N=S/x,$=S/E;Math.abs(N-1)>Lc&&this._append`L${t+N*d},${r+N*g}`,this._append`A${s},${s},0,0,${+(g*p>d*w)},${this._x1=t+$*f},${this._y1=r+$*u}`}}arc(t,r,n,o,s,a){if(t=+t,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(o),f=n*Math.sin(o),u=t+l,d=r+f,g=1^a,h=a?o-s:s-o;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Lc||Math.abs(this._y1-d)>Lc)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%dk+dk),h>ABe?this._append`A${n},${n},0,1,${g},${t-l},${r-f}A${n},${n},0,1,${g},${this._x1=u},${this._y1=d}`:h>Lc&&this._append`A${n},${n},0,${+(h>=ck)},${g},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,o){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+o}h${-n}Z`}toString(){return this._}}function es(e){return function(){return e}}function VJ(e){return(e()-.5)*1e-6}function IBe(e){return e.index}function GJ(e,t){var r=e.get(t);if(!r)throw new Error("node not found: "+t);return r}function NBe(e){var t=IBe,r=g,n,o=es(30),s,a,l,f,u,d=1;e==null&&(e=[]);function g(v){return 1/Math.min(l[v.source.index],l[v.target.index])}function h(v){for(var E=0,x=e.length;E<d;++E)for(var S=0,N,$,D,K,q,k,V;S<x;++S)N=e[S],$=N.source,D=N.target,K=D.x+D.vx-$.x-$.vx||VJ(u),q=D.y+D.vy-$.y-$.vy||VJ(u),k=Math.sqrt(K*K+q*q),k=(k-s[S])/k*v*n[S],K*=k,q*=k,D.vx-=K*(V=f[S]),D.vy-=q*V,$.vx+=K*(V=1-V),$.vy+=q*V}function p(){if(a){var v,E=a.length,x=e.length,S=new Map(a.map(($,D)=>[t($,D,a),$])),N;for(v=0,l=new Array(E);v<x;++v)N=e[v],N.index=v,typeof N.source!="object"&&(N.source=GJ(S,N.source)),typeof N.target!="object"&&(N.target=GJ(S,N.target)),l[N.source.index]=(l[N.source.index]||0)+1,l[N.target.index]=(l[N.target.index]||0)+1;for(v=0,f=new Array(x);v<x;++v)N=e[v],f[v]=l[N.source.index]/(l[N.source.index]+l[N.target.index]);n=new Array(x),w(),s=new Array(x),y()}}function w(){if(a)for(var v=0,E=e.length;v<E;++v)n[v]=+r(e[v],v,e)}function y(){if(a)for(var v=0,E=e.length;v<E;++v)s[v]=+o(e[v],v,e)}return h.initialize=function(v,E){a=v,u=E,p()},h.links=function(v){return arguments.length?(e=v,p(),h):e},h.id=function(v){return arguments.length?(t=v,h):t},h.iterations=function(v){return arguments.length?(d=+v,h):d},h.strength=function(v){return arguments.length?(r=typeof v=="function"?v:es(+v),w(),h):r},h.distance=function(v){return arguments.length?(o=typeof v=="function"?v:es(+v),y(),h):o},h}const kBe=1664525,CBe=1013904223,zJ=4294967296;function OBe(){let e=1;return()=>(e=(kBe*e+CBe)%zJ)/zJ}var LBe=10,DBe=Math.PI*(3-Math.sqrt(5));function MBe(e){var t,r=1,n=.001,o=1-Math.pow(n,1/300),s=0,a=.6,l=new Map,f=ok(g),u=Jg("tick","end"),d=OBe();e==null&&(e=[]);function g(){h(),u.call("tick",t),r<n&&(f.stop(),u.call("end",t))}function h(y){var v,E=e.length,x;y===void 0&&(y=1);for(var S=0;S<y;++S)for(r+=(s-r)*o,l.forEach(function(N){N(r)}),v=0;v<E;++v)x=e[v],x.fx==null?x.x+=x.vx*=a:(x.x=x.fx,x.vx=0),x.fy==null?x.y+=x.vy*=a:(x.y=x.fy,x.vy=0);return t}function p(){for(var y=0,v=e.length,E;y<v;++y){if(E=e[y],E.index=y,E.fx!=null&&(E.x=E.fx),E.fy!=null&&(E.y=E.fy),isNaN(E.x)||isNaN(E.y)){var x=LBe*Math.sqrt(.5+y),S=y*DBe;E.x=x*Math.cos(S),E.y=x*Math.sin(S)}(isNaN(E.vx)||isNaN(E.vy))&&(E.vx=E.vy=0)}}function w(y){return y.initialize&&y.initialize(e,d),y}return p(),t={tick:h,restart:function(){return f.restart(g),t},stop:function(){return f.stop(),t},nodes:function(y){return arguments.length?(e=y,p(),l.forEach(w),t):e},alpha:function(y){return arguments.length?(r=+y,t):r},alphaMin:function(y){return arguments.length?(n=+y,t):n},alphaDecay:function(y){return arguments.length?(o=+y,t):+o},alphaTarget:function(y){return arguments.length?(s=+y,t):s},velocityDecay:function(y){return arguments.length?(a=1-y,t):1-a},randomSource:function(y){return arguments.length?(d=y,l.forEach(w),t):d},force:function(y,v){return arguments.length>1?(v==null?l.delete(y):l.set(y,w(v)),t):l.get(y)},find:function(y,v,E){var x=0,S=e.length,N,$,D,K,q;for(E==null?E=1/0:E*=E,x=0;x<S;++x)K=e[x],N=y-K.x,$=v-K.y,D=N*N+$*$,D<E&&(q=K,E=D);return q},on:function(y,v){return arguments.length>1?(u.on(y,v),t):u.on(y)}}}function PBe(e){var t=es(.1),r,n,o;typeof e!="function"&&(e=es(e==null?0:+e));function s(l){for(var f=0,u=r.length,d;f<u;++f)d=r[f],d.vx+=(o[f]-d.x)*n[f]*l}function a(){if(r){var l,f=r.length;for(n=new Array(f),o=new Array(f),l=0;l<f;++l)n[l]=isNaN(o[l]=+e(r[l],l,r))?0:+t(r[l],l,r)}}return s.initialize=function(l){r=l,a()},s.strength=function(l){return arguments.length?(t=typeof l=="function"?l:es(+l),a(),s):t},s.x=function(l){return arguments.length?(e=typeof l=="function"?l:es(+l),a(),s):e},s}function FBe(e){var t=es(.1),r,n,o;typeof e!="function"&&(e=es(e==null?0:+e));function s(l){for(var f=0,u=r.length,d;f<u;++f)d=r[f],d.vy+=(o[f]-d.y)*n[f]*l}function a(){if(r){var l,f=r.length;for(n=new Array(f),o=new Array(f),l=0;l<f;++l)n[l]=isNaN(o[l]=+e(r[l],l,r))?0:+t(r[l],l,r)}}return s.initialize=function(l){r=l,a()},s.strength=function(l){return arguments.length?(t=typeof l=="function"?l:es(+l),a(),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:es(+l),a(),s):e},s}function KJ(e){return function(){return e}}function jBe(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new TBe(t)}var WBe=Array.prototype.slice;function BBe(e){return e[0]}function UBe(e){return e[1]}class qBe{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function HBe(e){return new qBe(e,!0)}function VBe(e){return e.source}function GBe(e){return e.target}function zBe(e){let t=VBe,r=GBe,n=BBe,o=UBe,s=null,a=null,l=jBe(f);function f(){let u;const d=WBe.call(arguments),g=t.apply(this,d),h=r.apply(this,d);if(s==null&&(a=e(u=l())),a.lineStart(),d[0]=g,a.point(+n.apply(this,d),+o.apply(this,d)),d[0]=h,a.point(+n.apply(this,d),+o.apply(this,d)),a.lineEnd(),u)return a=null,u+""||null}return f.source=function(u){return arguments.length?(t=u,f):t},f.target=function(u){return arguments.length?(r=u,f):r},f.x=function(u){return arguments.length?(n=typeof u=="function"?u:KJ(+u),f):n},f.y=function(u){return arguments.length?(o=typeof u=="function"?u:KJ(+u),f):o},f.context=function(u){return arguments.length?(u==null?s=a=null:a=e(s=u),f):s},f}function KBe(){return zBe(HBe)}const Tv=e=>()=>e;function JBe(e,{sourceEvent:t,target:r,transform:n,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:o}})}function Ja(e,t,r){this.k=e,this.x=t,this.y=r}Ja.prototype={constructor:Ja,scale:function(e){return e===1?this:new Ja(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ja(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Iv=new Ja(1,0,0);hk.prototype=Ja.prototype;function hk(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Iv;return e.__zoom}function pk(e){e.stopImmediatePropagation()}function s_(e){e.preventDefault(),e.stopImmediatePropagation()}function YBe(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function XBe(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function JJ(){return this.__zoom||Iv}function QBe(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function ZBe(){return navigator.maxTouchPoints||"ontouchstart"in this}function eUe(e,t,r){var n=e.invertX(t[0][0])-r[0][0],o=e.invertX(t[1][0])-r[1][0],s=e.invertY(t[0][1])-r[0][1],a=e.invertY(t[1][1])-r[1][1];return e.translate(o>n?(n+o)/2:Math.min(0,n)||Math.max(0,o),a>s?(s+a)/2:Math.min(0,s)||Math.max(0,a))}function tUe(){var e=YBe,t=XBe,r=eUe,n=QBe,o=ZBe,s=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],l=250,f=pWe,u=Jg("start","zoom","end"),d,g,h,p=500,w=150,y=0,v=10;function E(U){U.property("__zoom",JJ).on("wheel.zoom",q,{passive:!1}).on("mousedown.zoom",k).on("dblclick.zoom",V).filter(o).on("touchstart.zoom",j).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",A).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}E.transform=function(U,G,H,Q){var ne=U.selection?U.selection():U;ne.property("__zoom",JJ),U!==ne?$(U,G,H,Q):ne.interrupt().each(function(){D(this,arguments).event(Q).start().zoom(null,typeof G=="function"?G.apply(this,arguments):G).end()})},E.scaleBy=function(U,G,H,Q){E.scaleTo(U,function(){var ne=this.__zoom.k,se=typeof G=="function"?G.apply(this,arguments):G;return ne*se},H,Q)},E.scaleTo=function(U,G,H,Q){E.transform(U,function(){var ne=t.apply(this,arguments),se=this.__zoom,ae=H==null?N(ne):typeof H=="function"?H.apply(this,arguments):H,Z=se.invert(ae),ge=typeof G=="function"?G.apply(this,arguments):G;return r(S(x(se,ge),ae,Z),ne,a)},H,Q)},E.translateBy=function(U,G,H,Q){E.transform(U,function(){return r(this.__zoom.translate(typeof G=="function"?G.apply(this,arguments):G,typeof H=="function"?H.apply(this,arguments):H),t.apply(this,arguments),a)},null,Q)},E.translateTo=function(U,G,H,Q,ne){E.transform(U,function(){var se=t.apply(this,arguments),ae=this.__zoom,Z=Q==null?N(se):typeof Q=="function"?Q.apply(this,arguments):Q;return r(Iv.translate(Z[0],Z[1]).scale(ae.k).translate(typeof G=="function"?-G.apply(this,arguments):-G,typeof H=="function"?-H.apply(this,arguments):-H),se,a)},Q,ne)};function x(U,G){return G=Math.max(s[0],Math.min(s[1],G)),G===U.k?U:new Ja(G,U.x,U.y)}function S(U,G,H){var Q=G[0]-H[0]*U.k,ne=G[1]-H[1]*U.k;return Q===U.x&&ne===U.y?U:new Ja(U.k,Q,ne)}function N(U){return[(+U[0][0]+ +U[1][0])/2,(+U[0][1]+ +U[1][1])/2]}function $(U,G,H,Q){U.on("start.zoom",function(){D(this,arguments).event(Q).start()}).on("interrupt.zoom end.zoom",function(){D(this,arguments).event(Q).end()}).tween("zoom",function(){var ne=this,se=arguments,ae=D(ne,se).event(Q),Z=t.apply(ne,se),ge=H==null?N(Z):typeof H=="function"?H.apply(ne,se):H,W=Math.max(Z[1][0]-Z[0][0],Z[1][1]-Z[0][1]),ue=ne.__zoom,xe=typeof G=="function"?G.apply(ne,se):G,he=f(ue.invert(ge).concat(W/ue.k),xe.invert(ge).concat(W/xe.k));return function(le){if(le===1)le=xe;else{var _e=he(le),Ae=W/_e[2];le=new Ja(Ae,ge[0]-_e[0]*Ae,ge[1]-_e[1]*Ae)}ae.zoom(null,le)}})}function D(U,G,H){return!H&&U.__zooming||new K(U,G)}function K(U,G){this.that=U,this.args=G,this.active=0,this.sourceEvent=null,this.extent=t.apply(U,G),this.taps=0}K.prototype={event:function(U){return U&&(this.sourceEvent=U),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(U,G){return this.mouse&&U!=="mouse"&&(this.mouse[1]=G.invert(this.mouse[0])),this.touch0&&U!=="touch"&&(this.touch0[1]=G.invert(this.touch0[0])),this.touch1&&U!=="touch"&&(this.touch1[1]=G.invert(this.touch1[0])),this.that.__zoom=G,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(U){var G=go(this.that).datum();u.call(U,this.that,new JBe(U,{sourceEvent:this.sourceEvent,target:E,type:U,transform:this.that.__zoom,dispatch:u}),G)}};function q(U,...G){if(!e.apply(this,arguments))return;var H=D(this,G).event(U),Q=this.__zoom,ne=Math.max(s[0],Math.min(s[1],Q.k*Math.pow(2,n.apply(this,arguments)))),se=Ga(U);if(H.wheel)(H.mouse[0][0]!==se[0]||H.mouse[0][1]!==se[1])&&(H.mouse[1]=Q.invert(H.mouse[0]=se)),clearTimeout(H.wheel);else{if(Q.k===ne)return;H.mouse=[se,Q.invert(se)],$v(this),H.start()}s_(U),H.wheel=setTimeout(ae,w),H.zoom("mouse",r(S(x(Q,ne),H.mouse[0],H.mouse[1]),H.extent,a));function ae(){H.wheel=null,H.end()}}function k(U,...G){if(h||!e.apply(this,arguments))return;var H=U.currentTarget,Q=D(this,G,!0).event(U),ne=go(U.view).on("mousemove.zoom",ge,!0).on("mouseup.zoom",W,!0),se=Ga(U,H),ae=U.clientX,Z=U.clientY;bJ(U.view),pk(U),Q.mouse=[se,this.__zoom.invert(se)],$v(this),Q.start();function ge(ue){if(s_(ue),!Q.moved){var xe=ue.clientX-ae,he=ue.clientY-Z;Q.moved=xe*xe+he*he>y}Q.event(ue).zoom("mouse",r(S(Q.that.__zoom,Q.mouse[0]=Ga(ue,H),Q.mouse[1]),Q.extent,a))}function W(ue){ne.on("mousemove.zoom mouseup.zoom",null),gJ(ue.view,Q.moved),s_(ue),Q.event(ue).end()}}function V(U,...G){if(e.apply(this,arguments)){var H=this.__zoom,Q=Ga(U.changedTouches?U.changedTouches[0]:U,this),ne=H.invert(Q),se=H.k*(U.shiftKey?.5:2),ae=r(S(x(H,se),Q,ne),t.apply(this,G),a);s_(U),l>0?go(this).transition().duration(l).call($,ae,Q,U):go(this).call(E.transform,ae,Q,U)}}function j(U,...G){if(e.apply(this,arguments)){var H=U.touches,Q=H.length,ne=D(this,G,U.changedTouches.length===Q).event(U),se,ae,Z,ge;for(pk(U),ae=0;ae<Q;++ae)Z=H[ae],ge=Ga(Z,this),ge=[ge,this.__zoom.invert(ge),Z.identifier],ne.touch0?!ne.touch1&&ne.touch0[2]!==ge[2]&&(ne.touch1=ge,ne.taps=0):(ne.touch0=ge,se=!0,ne.taps=1+!!d);d&&(d=clearTimeout(d)),se&&(ne.taps<2&&(g=ge[0],d=setTimeout(function(){d=null},p)),$v(this),ne.start())}}function B(U,...G){if(this.__zooming){var H=D(this,G).event(U),Q=U.changedTouches,ne=Q.length,se,ae,Z,ge;for(s_(U),se=0;se<ne;++se)ae=Q[se],Z=Ga(ae,this),H.touch0&&H.touch0[2]===ae.identifier?H.touch0[0]=Z:H.touch1&&H.touch1[2]===ae.identifier&&(H.touch1[0]=Z);if(ae=H.that.__zoom,H.touch1){var W=H.touch0[0],ue=H.touch0[1],xe=H.touch1[0],he=H.touch1[1],le=(le=xe[0]-W[0])*le+(le=xe[1]-W[1])*le,_e=(_e=he[0]-ue[0])*_e+(_e=he[1]-ue[1])*_e;ae=x(ae,Math.sqrt(le/_e)),Z=[(W[0]+xe[0])/2,(W[1]+xe[1])/2],ge=[(ue[0]+he[0])/2,(ue[1]+he[1])/2]}else if(H.touch0)Z=H.touch0[0],ge=H.touch0[1];else return;H.zoom("touch",r(S(ae,Z,ge),H.extent,a))}}function A(U,...G){if(this.__zooming){var H=D(this,G).event(U),Q=U.changedTouches,ne=Q.length,se,ae;for(pk(U),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),se=0;se<ne;++se)ae=Q[se],H.touch0&&H.touch0[2]===ae.identifier?delete H.touch0:H.touch1&&H.touch1[2]===ae.identifier&&delete H.touch1;if(H.touch1&&!H.touch0&&(H.touch0=H.touch1,delete H.touch1),H.touch0)H.touch0[1]=this.__zoom.invert(H.touch0[0]);else if(H.end(),H.taps===2&&(ae=Ga(ae,this),Math.hypot(g[0]-ae[0],g[1]-ae[1])<v)){var Z=go(this).on("dblclick.zoom");Z&&Z.apply(this,arguments)}}}return E.wheelDelta=function(U){return arguments.length?(n=typeof U=="function"?U:Tv(+U),E):n},E.filter=function(U){return arguments.length?(e=typeof U=="function"?U:Tv(!!U),E):e},E.touchable=function(U){return arguments.length?(o=typeof U=="function"?U:Tv(!!U),E):o},E.extent=function(U){return arguments.length?(t=typeof U=="function"?U:Tv([[+U[0][0],+U[0][1]],[+U[1][0],+U[1][1]]]),E):t},E.scaleExtent=function(U){return arguments.length?(s[0]=+U[0],s[1]=+U[1],E):[s[0],s[1]]},E.translateExtent=function(U){return arguments.length?(a[0][0]=+U[0][0],a[1][0]=+U[1][0],a[0][1]=+U[0][1],a[1][1]=+U[1][1],E):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},E.constrain=function(U){return arguments.length?(r=U,E):r},E.duration=function(U){return arguments.length?(l=+U,E):l},E.interpolate=function(U){return arguments.length?(f=U,E):f},E.on=function(){var U=u.on.apply(u,arguments);return U===u?E:U},E.clickDistance=function(U){return arguments.length?(y=(U=+U)*U,E):Math.sqrt(y)},E.tapDistance=function(U){return arguments.length?(v=+U,E):v},E}function bk(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var gk,YJ;function rUe(){if(YJ)return gk;YJ=1;function e(){this.__data__=[],this.size=0}return gk=e,gk}var _k,XJ;function sp(){if(XJ)return _k;XJ=1;function e(t,r){return t===r||t!==t&&r!==r}return _k=e,_k}var yk,QJ;function Nv(){if(QJ)return yk;QJ=1;var e=sp();function t(r,n){for(var o=r.length;o--;)if(e(r[o][0],n))return o;return-1}return yk=t,yk}var wk,ZJ;function nUe(){if(ZJ)return wk;ZJ=1;var e=Nv(),t=Array.prototype,r=t.splice;function n(o){var s=this.__data__,a=e(s,o);if(a<0)return!1;var l=s.length-1;return a==l?s.pop():r.call(s,a,1),--this.size,!0}return wk=n,wk}var mk,eY;function iUe(){if(eY)return mk;eY=1;var e=Nv();function t(r){var n=this.__data__,o=e(n,r);return o<0?void 0:n[o][1]}return mk=t,mk}var vk,tY;function oUe(){if(tY)return vk;tY=1;var e=Nv();function t(r){return e(this.__data__,r)>-1}return vk=t,vk}var Sk,rY;function sUe(){if(rY)return Sk;rY=1;var e=Nv();function t(r,n){var o=this.__data__,s=e(o,r);return s<0?(++this.size,o.push([r,n])):o[s][1]=n,this}return Sk=t,Sk}var Ek,nY;function kv(){if(nY)return Ek;nY=1;var e=rUe(),t=nUe(),r=iUe(),n=oUe(),o=sUe();function s(a){var l=-1,f=a==null?0:a.length;for(this.clear();++l<f;){var u=a[l];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=o,Ek=s,Ek}var Rk,iY;function aUe(){if(iY)return Rk;iY=1;var e=kv();function t(){this.__data__=new e,this.size=0}return Rk=t,Rk}var xk,oY;function lUe(){if(oY)return xk;oY=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return xk=e,xk}var Ak,sY;function uUe(){if(sY)return Ak;sY=1;function e(t){return this.__data__.get(t)}return Ak=e,Ak}var $k,aY;function fUe(){if(aY)return $k;aY=1;function e(t){return this.__data__.has(t)}return $k=e,$k}var Tk,lY;function a_(){if(lY)return Tk;lY=1;var e=Kf(),t=ao(),r="[object AsyncFunction]",n="[object Function]",o="[object GeneratorFunction]",s="[object Proxy]";function a(l){if(!t(l))return!1;var f=e(l);return f==n||f==o||f==r||f==s}return Tk=a,Tk}var Ik,uY;function cUe(){if(uY)return Ik;uY=1;var e=Wo(),t=e["__core-js_shared__"];return Ik=t,Ik}var Nk,fY;function dUe(){if(fY)return Nk;fY=1;var e=cUe(),t=function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!t&&t in n}return Nk=r,Nk}var kk,cY;function dY(){if(cY)return kk;cY=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return kk=r,kk}var Ck,hY;function hUe(){if(hY)return Ck;hY=1;var e=a_(),t=dUe(),r=ao(),n=dY(),o=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,a=Function.prototype,l=Object.prototype,f=a.toString,u=l.hasOwnProperty,d=RegExp("^"+f.call(u).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function g(h){if(!r(h)||t(h))return!1;var p=e(h)?d:s;return p.test(n(h))}return Ck=g,Ck}var Ok,pY;function pUe(){if(pY)return Ok;pY=1;function e(t,r){return t==null?void 0:t[r]}return Ok=e,Ok}var Lk,bY;function Dc(){if(bY)return Lk;bY=1;var e=hUe(),t=pUe();function r(n,o){var s=t(n,o);return e(s)?s:void 0}return Lk=r,Lk}var Dk,gY;function Mk(){if(gY)return Dk;gY=1;var e=Dc(),t=Wo(),r=e(t,"Map");return Dk=r,Dk}var Pk,_Y;function Cv(){if(_Y)return Pk;_Y=1;var e=Dc(),t=e(Object,"create");return Pk=t,Pk}var Fk,yY;function bUe(){if(yY)return Fk;yY=1;var e=Cv();function t(){this.__data__=e?e(null):{},this.size=0}return Fk=t,Fk}var jk,wY;function gUe(){if(wY)return jk;wY=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return jk=e,jk}var Wk,mY;function _Ue(){if(mY)return Wk;mY=1;var e=Cv(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function o(s){var a=this.__data__;if(e){var l=a[s];return l===t?void 0:l}return n.call(a,s)?a[s]:void 0}return Wk=o,Wk}var Bk,vY;function yUe(){if(vY)return Bk;vY=1;var e=Cv(),t=Object.prototype,r=t.hasOwnProperty;function n(o){var s=this.__data__;return e?s[o]!==void 0:r.call(s,o)}return Bk=n,Bk}var Uk,SY;function wUe(){if(SY)return Uk;SY=1;var e=Cv(),t="__lodash_hash_undefined__";function r(n,o){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=e&&o===void 0?t:o,this}return Uk=r,Uk}var qk,EY;function mUe(){if(EY)return qk;EY=1;var e=bUe(),t=gUe(),r=_Ue(),n=yUe(),o=wUe();function s(a){var l=-1,f=a==null?0:a.length;for(this.clear();++l<f;){var u=a[l];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=o,qk=s,qk}var Hk,RY;function vUe(){if(RY)return Hk;RY=1;var e=mUe(),t=kv(),r=Mk();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return Hk=n,Hk}var Vk,xY;function SUe(){if(xY)return Vk;xY=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return Vk=e,Vk}var Gk,AY;function Ov(){if(AY)return Gk;AY=1;var e=SUe();function t(r,n){var o=r.__data__;return e(n)?o[typeof n=="string"?"string":"hash"]:o.map}return Gk=t,Gk}var zk,$Y;function EUe(){if($Y)return zk;$Y=1;var e=Ov();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return zk=t,zk}var Kk,TY;function RUe(){if(TY)return Kk;TY=1;var e=Ov();function t(r){return e(this,r).get(r)}return Kk=t,Kk}var Jk,IY;function xUe(){if(IY)return Jk;IY=1;var e=Ov();function t(r){return e(this,r).has(r)}return Jk=t,Jk}var Yk,NY;function AUe(){if(NY)return Yk;NY=1;var e=Ov();function t(r,n){var o=e(this,r),s=o.size;return o.set(r,n),this.size+=o.size==s?0:1,this}return Yk=t,Yk}var Xk,kY;function Qk(){if(kY)return Xk;kY=1;var e=vUe(),t=EUe(),r=RUe(),n=xUe(),o=AUe();function s(a){var l=-1,f=a==null?0:a.length;for(this.clear();++l<f;){var u=a[l];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=o,Xk=s,Xk}var Zk,CY;function $Ue(){if(CY)return Zk;CY=1;var e=kv(),t=Mk(),r=Qk(),n=200;function o(s,a){var l=this.__data__;if(l instanceof e){var f=l.__data__;if(!t||f.length<n-1)return f.push([s,a]),this.size=++l.size,this;l=this.__data__=new r(f)}return l.set(s,a),this.size=l.size,this}return Zk=o,Zk}var eC,OY;function Lv(){if(OY)return eC;OY=1;var e=kv(),t=aUe(),r=lUe(),n=uUe(),o=fUe(),s=$Ue();function a(l){var f=this.__data__=new e(l);this.size=f.size}return a.prototype.clear=t,a.prototype.delete=r,a.prototype.get=n,a.prototype.has=o,a.prototype.set=s,eC=a,eC}var tC,LY;function rC(){if(LY)return tC;LY=1;function e(t,r){for(var n=-1,o=t==null?0:t.length;++n<o&&r(t[n],n,t)!==!1;);return t}return tC=e,tC}var nC,DY;function MY(){if(DY)return nC;DY=1;var e=Dc(),t=function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}}();return nC=t,nC}var iC,PY;function Dv(){if(PY)return iC;PY=1;var e=MY();function t(r,n,o){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:o,writable:!0}):r[n]=o}return iC=t,iC}var oC,FY;function Mv(){if(FY)return oC;FY=1;var e=Dv(),t=sp(),r=Object.prototype,n=r.hasOwnProperty;function o(s,a,l){var f=s[a];(!(n.call(s,a)&&t(f,l))||l===void 0&&!(a in s))&&e(s,a,l)}return oC=o,oC}var sC,jY;function l_(){if(jY)return sC;jY=1;var e=Mv(),t=Dv();function r(n,o,s,a){var l=!s;s||(s={});for(var f=-1,u=o.length;++f<u;){var d=o[f],g=a?a(s[d],n[d],d,s,n):void 0;g===void 0&&(g=n[d]),l?t(s,d,g):e(s,d,g)}return s}return sC=r,sC}var aC,WY;function TUe(){if(WY)return aC;WY=1;function e(t,r){for(var n=-1,o=Array(t);++n<t;)o[n]=r(n);return o}return aC=e,aC}var lC,BY;function IUe(){if(BY)return lC;BY=1;var e=Kf(),t=ks(),r="[object Arguments]";function n(o){return t(o)&&e(o)==r}return lC=n,lC}var uC,UY;function u_(){if(UY)return uC;UY=1;var e=IUe(),t=ks(),r=Object.prototype,n=r.hasOwnProperty,o=r.propertyIsEnumerable,s=e(function(){return arguments}())?e:function(a){return t(a)&&n.call(a,"callee")&&!o.call(a,"callee")};return uC=s,uC}var fC,qY;function Br(){if(qY)return fC;qY=1;var e=Array.isArray;return fC=e,fC}var f_={exports:{}},cC,HY;function NUe(){if(HY)return cC;HY=1;function e(){return!1}return cC=e,cC}f_.exports;var VY;function ap(){return VY||(VY=1,function(e,t){var r=Wo(),n=NUe(),o=t&&!t.nodeType&&t,s=o&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===o,l=a?r.Buffer:void 0,f=l?l.isBuffer:void 0,u=f||n;e.exports=u}(f_,f_.exports)),f_.exports}var dC,GY;function Pv(){if(GY)return dC;GY=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,o){var s=typeof n;return o=o??e,!!o&&(s=="number"||s!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<o}return dC=r,dC}var hC,zY;function pC(){if(zY)return hC;zY=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return hC=t,hC}var bC,KY;function kUe(){if(KY)return bC;KY=1;var e=Kf(),t=pC(),r=ks(),n="[object Arguments]",o="[object Array]",s="[object Boolean]",a="[object Date]",l="[object Error]",f="[object Function]",u="[object Map]",d="[object Number]",g="[object Object]",h="[object RegExp]",p="[object Set]",w="[object String]",y="[object WeakMap]",v="[object ArrayBuffer]",E="[object DataView]",x="[object Float32Array]",S="[object Float64Array]",N="[object Int8Array]",$="[object Int16Array]",D="[object Int32Array]",K="[object Uint8Array]",q="[object Uint8ClampedArray]",k="[object Uint16Array]",V="[object Uint32Array]",j={};j[x]=j[S]=j[N]=j[$]=j[D]=j[K]=j[q]=j[k]=j[V]=!0,j[n]=j[o]=j[v]=j[s]=j[E]=j[a]=j[l]=j[f]=j[u]=j[d]=j[g]=j[h]=j[p]=j[w]=j[y]=!1;function B(A){return r(A)&&t(A.length)&&!!j[e(A)]}return bC=B,bC}var gC,JY;function Fv(){if(JY)return gC;JY=1;function e(t){return function(r){return t(r)}}return gC=e,gC}var c_={exports:{}};c_.exports;var YY;function _C(){return YY||(YY=1,function(e,t){var r=z6(),n=t&&!t.nodeType&&t,o=n&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===n,a=s&&r.process,l=function(){try{var f=o&&o.require&&o.require("util").types;return f||a&&a.binding&&a.binding("util")}catch{}}();e.exports=l}(c_,c_.exports)),c_.exports}var yC,XY;function d_(){if(XY)return yC;XY=1;var e=kUe(),t=Fv(),r=_C(),n=r&&r.isTypedArray,o=n?t(n):e;return yC=o,yC}var wC,QY;function ZY(){if(QY)return wC;QY=1;var e=TUe(),t=u_(),r=Br(),n=ap(),o=Pv(),s=d_(),a=Object.prototype,l=a.hasOwnProperty;function f(u,d){var g=r(u),h=!g&&t(u),p=!g&&!h&&n(u),w=!g&&!h&&!p&&s(u),y=g||h||p||w,v=y?e(u.length,String):[],E=v.length;for(var x in u)(d||l.call(u,x))&&!(y&&(x=="length"||p&&(x=="offset"||x=="parent")||w&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||o(x,E)))&&v.push(x);return v}return wC=f,wC}var mC,eX;function jv(){if(eX)return mC;eX=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,o=typeof n=="function"&&n.prototype||e;return r===o}return mC=t,mC}var vC,tX;function rX(){if(tX)return vC;tX=1;function e(t,r){return function(n){return t(r(n))}}return vC=e,vC}var SC,nX;function CUe(){if(nX)return SC;nX=1;var e=rX(),t=e(Object.keys,Object);return SC=t,SC}var EC,iX;function RC(){if(iX)return EC;iX=1;var e=jv(),t=CUe(),r=Object.prototype,n=r.hasOwnProperty;function o(s){if(!e(s))return t(s);var a=[];for(var l in Object(s))n.call(s,l)&&l!="constructor"&&a.push(l);return a}return EC=o,EC}var xC,oX;function Ya(){if(oX)return xC;oX=1;var e=a_(),t=pC();function r(n){return n!=null&&t(n.length)&&!e(n)}return xC=r,xC}var AC,sX;function $u(){if(sX)return AC;sX=1;var e=ZY(),t=RC(),r=Ya();function n(o){return r(o)?e(o):t(o)}return AC=n,AC}var $C,aX;function OUe(){if(aX)return $C;aX=1;var e=l_(),t=$u();function r(n,o){return n&&e(o,t(o),n)}return $C=r,$C}var TC,lX;function LUe(){if(lX)return TC;lX=1;function e(t){var r=[];if(t!=null)for(var n in Object(t))r.push(n);return r}return TC=e,TC}var IC,uX;function DUe(){if(uX)return IC;uX=1;var e=ao(),t=jv(),r=LUe(),n=Object.prototype,o=n.hasOwnProperty;function s(a){if(!e(a))return r(a);var l=t(a),f=[];for(var u in a)u=="constructor"&&(l||!o.call(a,u))||f.push(u);return f}return IC=s,IC}var NC,fX;function Mc(){if(fX)return NC;fX=1;var e=ZY(),t=DUe(),r=Ya();function n(o){return r(o)?e(o,!0):t(o)}return NC=n,NC}var kC,cX;function MUe(){if(cX)return kC;cX=1;var e=l_(),t=Mc();function r(n,o){return n&&e(o,t(o),n)}return kC=r,kC}var h_={exports:{}};h_.exports;var dX;function hX(){return dX||(dX=1,function(e,t){var r=Wo(),n=t&&!t.nodeType&&t,o=n&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===n,a=s?r.Buffer:void 0,l=a?a.allocUnsafe:void 0;function f(u,d){if(d)return u.slice();var g=u.length,h=l?l(g):new u.constructor(g);return u.copy(h),h}e.exports=f}(h_,h_.exports)),h_.exports}var CC,pX;function bX(){if(pX)return CC;pX=1;function e(t,r){var n=-1,o=t.length;for(r||(r=Array(o));++n<o;)r[n]=t[n];return r}return CC=e,CC}var OC,gX;function _X(){if(gX)return OC;gX=1;function e(t,r){for(var n=-1,o=t==null?0:t.length,s=0,a=[];++n<o;){var l=t[n];r(l,n,t)&&(a[s++]=l)}return a}return OC=e,OC}var LC,yX;function wX(){if(yX)return LC;yX=1;function e(){return[]}return LC=e,LC}var DC,mX;function MC(){if(mX)return DC;mX=1;var e=_X(),t=wX(),r=Object.prototype,n=r.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(a){return a==null?[]:(a=Object(a),e(o(a),function(l){return n.call(a,l)}))}:t;return DC=s,DC}var PC,vX;function PUe(){if(vX)return PC;vX=1;var e=l_(),t=MC();function r(n,o){return e(n,t(n),o)}return PC=r,PC}var FC,SX;function jC(){if(SX)return FC;SX=1;function e(t,r){for(var n=-1,o=r.length,s=t.length;++n<o;)t[s+n]=r[n];return t}return FC=e,FC}var WC,EX;function Wv(){if(EX)return WC;EX=1;var e=rX(),t=e(Object.getPrototypeOf,Object);return WC=t,WC}var BC,RX;function xX(){if(RX)return BC;RX=1;var e=jC(),t=Wv(),r=MC(),n=wX(),o=Object.getOwnPropertySymbols,s=o?function(a){for(var l=[];a;)e(l,r(a)),a=t(a);return l}:n;return BC=s,BC}var UC,AX;function FUe(){if(AX)return UC;AX=1;var e=l_(),t=xX();function r(n,o){return e(n,t(n),o)}return UC=r,UC}var qC,$X;function TX(){if($X)return qC;$X=1;var e=jC(),t=Br();function r(n,o,s){var a=o(n);return t(n)?a:e(a,s(n))}return qC=r,qC}var HC,IX;function NX(){if(IX)return HC;IX=1;var e=TX(),t=MC(),r=$u();function n(o){return e(o,r,t)}return HC=n,HC}var VC,kX;function jUe(){if(kX)return VC;kX=1;var e=TX(),t=xX(),r=Mc();function n(o){return e(o,r,t)}return VC=n,VC}var GC,CX;function WUe(){if(CX)return GC;CX=1;var e=Dc(),t=Wo(),r=e(t,"DataView");return GC=r,GC}var zC,OX;function BUe(){if(OX)return zC;OX=1;var e=Dc(),t=Wo(),r=e(t,"Promise");return zC=r,zC}var KC,LX;function DX(){if(LX)return KC;LX=1;var e=Dc(),t=Wo(),r=e(t,"Set");return KC=r,KC}var JC,MX;function UUe(){if(MX)return JC;MX=1;var e=Dc(),t=Wo(),r=e(t,"WeakMap");return JC=r,JC}var YC,PX;function lp(){if(PX)return YC;PX=1;var e=WUe(),t=Mk(),r=BUe(),n=DX(),o=UUe(),s=Kf(),a=dY(),l="[object Map]",f="[object Object]",u="[object Promise]",d="[object Set]",g="[object WeakMap]",h="[object DataView]",p=a(e),w=a(t),y=a(r),v=a(n),E=a(o),x=s;return(e&&x(new e(new ArrayBuffer(1)))!=h||t&&x(new t)!=l||r&&x(r.resolve())!=u||n&&x(new n)!=d||o&&x(new o)!=g)&&(x=function(S){var N=s(S),$=N==f?S.constructor:void 0,D=$?a($):"";if(D)switch(D){case p:return h;case w:return l;case y:return u;case v:return d;case E:return g}return N}),YC=x,YC}var XC,FX;function qUe(){if(FX)return XC;FX=1;var e=Object.prototype,t=e.hasOwnProperty;function r(n){var o=n.length,s=new n.constructor(o);return o&&typeof n[0]=="string"&&t.call(n,"index")&&(s.index=n.index,s.input=n.input),s}return XC=r,XC}var QC,jX;function WX(){if(jX)return QC;jX=1;var e=Wo(),t=e.Uint8Array;return QC=t,QC}var ZC,BX;function eO(){if(BX)return ZC;BX=1;var e=WX();function t(r){var n=new r.constructor(r.byteLength);return new e(n).set(new e(r)),n}return ZC=t,ZC}var tO,UX;function HUe(){if(UX)return tO;UX=1;var e=eO();function t(r,n){var o=n?e(r.buffer):r.buffer;return new r.constructor(o,r.byteOffset,r.byteLength)}return tO=t,tO}var rO,qX;function VUe(){if(qX)return rO;qX=1;var e=/\w*$/;function t(r){var n=new r.constructor(r.source,e.exec(r));return n.lastIndex=r.lastIndex,n}return rO=t,rO}var nO,HX;function GUe(){if(HX)return nO;HX=1;var e=mh(),t=e?e.prototype:void 0,r=t?t.valueOf:void 0;function n(o){return r?Object(r.call(o)):{}}return nO=n,nO}var iO,VX;function GX(){if(VX)return iO;VX=1;var e=eO();function t(r,n){var o=n?e(r.buffer):r.buffer;return new r.constructor(o,r.byteOffset,r.length)}return iO=t,iO}var oO,zX;function zUe(){if(zX)return oO;zX=1;var e=eO(),t=HUe(),r=VUe(),n=GUe(),o=GX(),s="[object Boolean]",a="[object Date]",l="[object Map]",f="[object Number]",u="[object RegExp]",d="[object Set]",g="[object String]",h="[object Symbol]",p="[object ArrayBuffer]",w="[object DataView]",y="[object Float32Array]",v="[object Float64Array]",E="[object Int8Array]",x="[object Int16Array]",S="[object Int32Array]",N="[object Uint8Array]",$="[object Uint8ClampedArray]",D="[object Uint16Array]",K="[object Uint32Array]";function q(k,V,j){var B=k.constructor;switch(V){case p:return e(k);case s:case a:return new B(+k);case w:return t(k,j);case y:case v:case E:case x:case S:case N:case $:case D:case K:return o(k,j);case l:return new B;case f:case g:return new B(k);case u:return r(k);case d:return new B;case h:return n(k)}}return oO=q,oO}var sO,KX;function JX(){if(KX)return sO;KX=1;var e=ao(),t=Object.create,r=function(){function n(){}return function(o){if(!e(o))return{};if(t)return t(o);n.prototype=o;var s=new n;return n.prototype=void 0,s}}();return sO=r,sO}var aO,YX;function XX(){if(YX)return aO;YX=1;var e=JX(),t=Wv(),r=jv();function n(o){return typeof o.constructor=="function"&&!r(o)?e(t(o)):{}}return aO=n,aO}var lO,QX;function KUe(){if(QX)return lO;QX=1;var e=lp(),t=ks(),r="[object Map]";function n(o){return t(o)&&e(o)==r}return lO=n,lO}var uO,ZX;function JUe(){if(ZX)return uO;ZX=1;var e=KUe(),t=Fv(),r=_C(),n=r&&r.isMap,o=n?t(n):e;return uO=o,uO}var fO,eQ;function YUe(){if(eQ)return fO;eQ=1;var e=lp(),t=ks(),r="[object Set]";function n(o){return t(o)&&e(o)==r}return fO=n,fO}var cO,tQ;function XUe(){if(tQ)return cO;tQ=1;var e=YUe(),t=Fv(),r=_C(),n=r&&r.isSet,o=n?t(n):e;return cO=o,cO}var dO,rQ;function nQ(){if(rQ)return dO;rQ=1;var e=Lv(),t=rC(),r=Mv(),n=OUe(),o=MUe(),s=hX(),a=bX(),l=PUe(),f=FUe(),u=NX(),d=jUe(),g=lp(),h=qUe(),p=zUe(),w=XX(),y=Br(),v=ap(),E=JUe(),x=ao(),S=XUe(),N=$u(),$=Mc(),D=1,K=2,q=4,k="[object Arguments]",V="[object Array]",j="[object Boolean]",B="[object Date]",A="[object Error]",U="[object Function]",G="[object GeneratorFunction]",H="[object Map]",Q="[object Number]",ne="[object Object]",se="[object RegExp]",ae="[object Set]",Z="[object String]",ge="[object Symbol]",W="[object WeakMap]",ue="[object ArrayBuffer]",xe="[object DataView]",he="[object Float32Array]",le="[object Float64Array]",_e="[object Int8Array]",Ae="[object Int16Array]",We="[object Int32Array]",ie="[object Uint8Array]",te="[object Uint8ClampedArray]",_="[object Uint16Array]",m="[object Uint32Array]",R={};R[k]=R[V]=R[ue]=R[xe]=R[j]=R[B]=R[he]=R[le]=R[_e]=R[Ae]=R[We]=R[H]=R[Q]=R[ne]=R[se]=R[ae]=R[Z]=R[ge]=R[ie]=R[te]=R[_]=R[m]=!0,R[A]=R[U]=R[W]=!1;function O(C,X,re,J,ye,F){var we,Ce=X&D,Me=X&K,Ue=X&q;if(re&&(we=ye?re(C,J,ye,F):re(C)),we!==void 0)return we;if(!x(C))return C;var z=y(C);if(z){if(we=h(C),!Ce)return a(C,we)}else{var L=g(C),M=L==U||L==G;if(v(C))return s(C,Ce);if(L==ne||L==k||M&&!ye){if(we=Me||M?{}:w(C),!Ce)return Me?f(C,o(we,C)):l(C,n(we,C))}else{if(!R[L])return ye?C:{};we=p(C,L,Ce)}}F||(F=new e);var oe=F.get(C);if(oe)return oe;F.set(C,we),S(C)?C.forEach(function(ve){we.add(O(ve,X,re,ve,C,F))}):E(C)&&C.forEach(function(ve,ze){we.set(ze,O(ve,X,re,ze,C,F))});var ce=Ue?Me?d:u:Me?$:N,Se=z?void 0:ce(C);return t(Se||C,function(ve,ze){Se&&(ze=ve,ve=C[ze]),r(we,ze,O(ve,X,re,ze,C,F))}),we}return dO=O,dO}var hO,iQ;function QUe(){if(iQ)return hO;iQ=1;var e=nQ(),t=4;function r(n){return e(n,t)}return hO=r,hO}var pO,oQ;function bO(){if(oQ)return pO;oQ=1;function e(t){return function(){return t}}return pO=e,pO}var gO,sQ;function ZUe(){if(sQ)return gO;sQ=1;function e(t){return function(r,n,o){for(var s=-1,a=Object(r),l=o(r),f=l.length;f--;){var u=l[t?f:++s];if(n(a[u],u,a)===!1)break}return r}}return gO=e,gO}var _O,aQ;function yO(){if(aQ)return _O;aQ=1;var e=ZUe(),t=e();return _O=t,_O}var wO,lQ;function mO(){if(lQ)return wO;lQ=1;var e=yO(),t=$u();function r(n,o){return n&&e(n,o,t)}return wO=r,wO}var vO,uQ;function e5e(){if(uQ)return vO;uQ=1;var e=Ya();function t(r,n){return function(o,s){if(o==null)return o;if(!e(o))return r(o,s);for(var a=o.length,l=n?a:-1,f=Object(o);(n?l--:++l<a)&&s(f[l],l,f)!==!1;);return o}}return vO=t,vO}var SO,fQ;function Bv(){if(fQ)return SO;fQ=1;var e=mO(),t=e5e(),r=t(e);return SO=r,SO}var EO,cQ;function Pc(){if(cQ)return EO;cQ=1;function e(t){return t}return EO=e,EO}var RO,dQ;function hQ(){if(dQ)return RO;dQ=1;var e=Pc();function t(r){return typeof r=="function"?r:e}return RO=t,RO}var xO,pQ;function bQ(){if(pQ)return xO;pQ=1;var e=rC(),t=Bv(),r=hQ(),n=Br();function o(s,a){var l=n(s)?e:t;return l(s,r(a))}return xO=o,xO}var AO,gQ;function _Q(){return gQ||(gQ=1,AO=bQ()),AO}var $O,yQ;function t5e(){if(yQ)return $O;yQ=1;var e=Bv();function t(r,n){var o=[];return e(r,function(s,a,l){n(s,a,l)&&o.push(s)}),o}return $O=t,$O}var TO,wQ;function r5e(){if(wQ)return TO;wQ=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return TO=t,TO}var IO,mQ;function n5e(){if(mQ)return IO;mQ=1;function e(t){return this.__data__.has(t)}return IO=e,IO}var NO,vQ;function SQ(){if(vQ)return NO;vQ=1;var e=Qk(),t=r5e(),r=n5e();function n(o){var s=-1,a=o==null?0:o.length;for(this.__data__=new e;++s<a;)this.add(o[s])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,NO=n,NO}var kO,EQ;function i5e(){if(EQ)return kO;EQ=1;function e(t,r){for(var n=-1,o=t==null?0:t.length;++n<o;)if(r(t[n],n,t))return!0;return!1}return kO=e,kO}var CO,RQ;function xQ(){if(RQ)return CO;RQ=1;function e(t,r){return t.has(r)}return CO=e,CO}var OO,AQ;function $Q(){if(AQ)return OO;AQ=1;var e=SQ(),t=i5e(),r=xQ(),n=1,o=2;function s(a,l,f,u,d,g){var h=f&n,p=a.length,w=l.length;if(p!=w&&!(h&&w>p))return!1;var y=g.get(a),v=g.get(l);if(y&&v)return y==l&&v==a;var E=-1,x=!0,S=f&o?new e:void 0;for(g.set(a,l),g.set(l,a);++E<p;){var N=a[E],$=l[E];if(u)var D=h?u($,N,E,l,a,g):u(N,$,E,a,l,g);if(D!==void 0){if(D)continue;x=!1;break}if(S){if(!t(l,function(K,q){if(!r(S,q)&&(N===K||d(N,K,f,u,g)))return S.push(q)})){x=!1;break}}else if(!(N===$||d(N,$,f,u,g))){x=!1;break}}return g.delete(a),g.delete(l),x}return OO=s,OO}var LO,TQ;function o5e(){if(TQ)return LO;TQ=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(o,s){n[++r]=[s,o]}),n}return LO=e,LO}var DO,IQ;function MO(){if(IQ)return DO;IQ=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(o){n[++r]=o}),n}return DO=e,DO}var PO,NQ;function s5e(){if(NQ)return PO;NQ=1;var e=mh(),t=WX(),r=sp(),n=$Q(),o=o5e(),s=MO(),a=1,l=2,f="[object Boolean]",u="[object Date]",d="[object Error]",g="[object Map]",h="[object Number]",p="[object RegExp]",w="[object Set]",y="[object String]",v="[object Symbol]",E="[object ArrayBuffer]",x="[object DataView]",S=e?e.prototype:void 0,N=S?S.valueOf:void 0;function $(D,K,q,k,V,j,B){switch(q){case x:if(D.byteLength!=K.byteLength||D.byteOffset!=K.byteOffset)return!1;D=D.buffer,K=K.buffer;case E:return!(D.byteLength!=K.byteLength||!j(new t(D),new t(K)));case f:case u:case h:return r(+D,+K);case d:return D.name==K.name&&D.message==K.message;case p:case y:return D==K+"";case g:var A=o;case w:var U=k&a;if(A||(A=s),D.size!=K.size&&!U)return!1;var G=B.get(D);if(G)return G==K;k|=l,B.set(D,K);var H=n(A(D),A(K),k,V,j,B);return B.delete(D),H;case v:if(N)return N.call(D)==N.call(K)}return!1}return PO=$,PO}var FO,kQ;function a5e(){if(kQ)return FO;kQ=1;var e=NX(),t=1,r=Object.prototype,n=r.hasOwnProperty;function o(s,a,l,f,u,d){var g=l&t,h=e(s),p=h.length,w=e(a),y=w.length;if(p!=y&&!g)return!1;for(var v=p;v--;){var E=h[v];if(!(g?E in a:n.call(a,E)))return!1}var x=d.get(s),S=d.get(a);if(x&&S)return x==a&&S==s;var N=!0;d.set(s,a),d.set(a,s);for(var $=g;++v<p;){E=h[v];var D=s[E],K=a[E];if(f)var q=g?f(K,D,E,a,s,d):f(D,K,E,s,a,d);if(!(q===void 0?D===K||u(D,K,l,f,d):q)){N=!1;break}$||($=E=="constructor")}if(N&&!$){var k=s.constructor,V=a.constructor;k!=V&&"constructor"in s&&"constructor"in a&&!(typeof k=="function"&&k instanceof k&&typeof V=="function"&&V instanceof V)&&(N=!1)}return d.delete(s),d.delete(a),N}return FO=o,FO}var jO,CQ;function l5e(){if(CQ)return jO;CQ=1;var e=Lv(),t=$Q(),r=s5e(),n=a5e(),o=lp(),s=Br(),a=ap(),l=d_(),f=1,u="[object Arguments]",d="[object Array]",g="[object Object]",h=Object.prototype,p=h.hasOwnProperty;function w(y,v,E,x,S,N){var $=s(y),D=s(v),K=$?d:o(y),q=D?d:o(v);K=K==u?g:K,q=q==u?g:q;var k=K==g,V=q==g,j=K==q;if(j&&a(y)){if(!a(v))return!1;$=!0,k=!1}if(j&&!k)return N||(N=new e),$||l(y)?t(y,v,E,x,S,N):r(y,v,K,E,x,S,N);if(!(E&f)){var B=k&&p.call(y,"__wrapped__"),A=V&&p.call(v,"__wrapped__");if(B||A){var U=B?y.value():y,G=A?v.value():v;return N||(N=new e),S(U,G,E,x,N)}}return j?(N||(N=new e),n(y,v,E,x,S,N)):!1}return jO=w,jO}var WO,OQ;function LQ(){if(OQ)return WO;OQ=1;var e=l5e(),t=ks();function r(n,o,s,a,l){return n===o?!0:n==null||o==null||!t(n)&&!t(o)?n!==n&&o!==o:e(n,o,s,a,r,l)}return WO=r,WO}var BO,DQ;function u5e(){if(DQ)return BO;DQ=1;var e=Lv(),t=LQ(),r=1,n=2;function o(s,a,l,f){var u=l.length,d=u,g=!f;if(s==null)return!d;for(s=Object(s);u--;){var h=l[u];if(g&&h[2]?h[1]!==s[h[0]]:!(h[0]in s))return!1}for(;++u<d;){h=l[u];var p=h[0],w=s[p],y=h[1];if(g&&h[2]){if(w===void 0&&!(p in s))return!1}else{var v=new e;if(f)var E=f(w,y,p,s,a,v);if(!(E===void 0?t(y,w,r|n,f,v):E))return!1}}return!0}return BO=o,BO}var UO,MQ;function PQ(){if(MQ)return UO;MQ=1;var e=ao();function t(r){return r===r&&!e(r)}return UO=t,UO}var qO,FQ;function f5e(){if(FQ)return qO;FQ=1;var e=PQ(),t=$u();function r(n){for(var o=t(n),s=o.length;s--;){var a=o[s],l=n[a];o[s]=[a,l,e(l)]}return o}return qO=r,qO}var HO,jQ;function WQ(){if(jQ)return HO;jQ=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return HO=e,HO}var VO,BQ;function c5e(){if(BQ)return VO;BQ=1;var e=u5e(),t=f5e(),r=WQ();function n(o){var s=t(o);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(a){return a===o||e(a,o,s)}}return VO=n,VO}var GO,UQ;function zO(){if(UQ)return GO;UQ=1;var e=Br(),t=vh(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function o(s,a){if(e(s))return!1;var l=typeof s;return l=="number"||l=="symbol"||l=="boolean"||s==null||t(s)?!0:n.test(s)||!r.test(s)||a!=null&&s in Object(a)}return GO=o,GO}var KO,qQ;function d5e(){if(qQ)return KO;qQ=1;var e=Qk(),t="Expected a function";function r(n,o){if(typeof n!="function"||o!=null&&typeof o!="function")throw new TypeError(t);var s=function(){var a=arguments,l=o?o.apply(this,a):a[0],f=s.cache;if(f.has(l))return f.get(l);var u=n.apply(this,a);return s.cache=f.set(l,u)||f,u};return s.cache=new(r.Cache||e),s}return r.Cache=e,KO=r,KO}var JO,HQ;function h5e(){if(HQ)return JO;HQ=1;var e=d5e(),t=500;function r(n){var o=e(n,function(a){return s.size===t&&s.clear(),a}),s=o.cache;return o}return JO=r,JO}var YO,VQ;function p5e(){if(VQ)return YO;VQ=1;var e=h5e(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(o){var s=[];return o.charCodeAt(0)===46&&s.push(""),o.replace(t,function(a,l,f,u){s.push(f?u.replace(r,"$1"):l||a)}),s});return YO=n,YO}var XO,GQ;function Uv(){if(GQ)return XO;GQ=1;function e(t,r){for(var n=-1,o=t==null?0:t.length,s=Array(o);++n<o;)s[n]=r(t[n],n,t);return s}return XO=e,XO}var QO,zQ;function b5e(){if(zQ)return QO;zQ=1;var e=mh(),t=Uv(),r=Br(),n=vh(),o=1/0,s=e?e.prototype:void 0,a=s?s.toString:void 0;function l(f){if(typeof f=="string")return f;if(r(f))return t(f,l)+"";if(n(f))return a?a.call(f):"";var u=f+"";return u=="0"&&1/f==-o?"-0":u}return QO=l,QO}var ZO,KQ;function JQ(){if(KQ)return ZO;KQ=1;var e=b5e();function t(r){return r==null?"":e(r)}return ZO=t,ZO}var eL,YQ;function qv(){if(YQ)return eL;YQ=1;var e=Br(),t=zO(),r=p5e(),n=JQ();function o(s,a){return e(s)?s:t(s,a)?[s]:r(n(s))}return eL=o,eL}var tL,XQ;function p_(){if(XQ)return tL;XQ=1;var e=vh(),t=1/0;function r(n){if(typeof n=="string"||e(n))return n;var o=n+"";return o=="0"&&1/n==-t?"-0":o}return tL=r,tL}var rL,QQ;function Hv(){if(QQ)return rL;QQ=1;var e=qv(),t=p_();function r(n,o){o=e(o,n);for(var s=0,a=o.length;n!=null&&s<a;)n=n[t(o[s++])];return s&&s==a?n:void 0}return rL=r,rL}var nL,ZQ;function g5e(){if(ZQ)return nL;ZQ=1;var e=Hv();function t(r,n,o){var s=r==null?void 0:e(r,n);return s===void 0?o:s}return nL=t,nL}var iL,eZ;function _5e(){if(eZ)return iL;eZ=1;function e(t,r){return t!=null&&r in Object(t)}return iL=e,iL}var oL,tZ;function rZ(){if(tZ)return oL;tZ=1;var e=qv(),t=u_(),r=Br(),n=Pv(),o=pC(),s=p_();function a(l,f,u){f=e(f,l);for(var d=-1,g=f.length,h=!1;++d<g;){var p=s(f[d]);if(!(h=l!=null&&u(l,p)))break;l=l[p]}return h||++d!=g?h:(g=l==null?0:l.length,!!g&&o(g)&&n(p,g)&&(r(l)||t(l)))}return oL=a,oL}var sL,nZ;function iZ(){if(nZ)return sL;nZ=1;var e=_5e(),t=rZ();function r(n,o){return n!=null&&t(n,o,e)}return sL=r,sL}var aL,oZ;function y5e(){if(oZ)return aL;oZ=1;var e=LQ(),t=g5e(),r=iZ(),n=zO(),o=PQ(),s=WQ(),a=p_(),l=1,f=2;function u(d,g){return n(d)&&o(g)?s(a(d),g):function(h){var p=t(h,d);return p===void 0&&p===g?r(h,d):e(g,p,l|f)}}return aL=u,aL}var lL,sZ;function aZ(){if(sZ)return lL;sZ=1;function e(t){return function(r){return r==null?void 0:r[t]}}return lL=e,lL}var uL,lZ;function w5e(){if(lZ)return uL;lZ=1;var e=Hv();function t(r){return function(n){return e(n,r)}}return uL=t,uL}var fL,uZ;function m5e(){if(uZ)return fL;uZ=1;var e=aZ(),t=w5e(),r=zO(),n=p_();function o(s){return r(s)?e(n(s)):t(s)}return fL=o,fL}var cL,fZ;function Xa(){if(fZ)return cL;fZ=1;var e=c5e(),t=y5e(),r=Pc(),n=Br(),o=m5e();function s(a){return typeof a=="function"?a:a==null?r:typeof a=="object"?n(a)?t(a[0],a[1]):e(a):o(a)}return cL=s,cL}var dL,cZ;function dZ(){if(cZ)return dL;cZ=1;var e=_X(),t=t5e(),r=Xa(),n=Br();function o(s,a){var l=n(s)?e:t;return l(s,r(a,3))}return dL=o,dL}var hL,hZ;function v5e(){if(hZ)return hL;hZ=1;var e=Object.prototype,t=e.hasOwnProperty;function r(n,o){return n!=null&&t.call(n,o)}return hL=r,hL}var pL,pZ;function bZ(){if(pZ)return pL;pZ=1;var e=v5e(),t=rZ();function r(n,o){return n!=null&&t(n,o,e)}return pL=r,pL}var bL,gZ;function S5e(){if(gZ)return bL;gZ=1;var e=RC(),t=lp(),r=u_(),n=Br(),o=Ya(),s=ap(),a=jv(),l=d_(),f="[object Map]",u="[object Set]",d=Object.prototype,g=d.hasOwnProperty;function h(p){if(p==null)return!0;if(o(p)&&(n(p)||typeof p=="string"||typeof p.splice=="function"||s(p)||l(p)||r(p)))return!p.length;var w=t(p);if(w==f||w==u)return!p.size;if(a(p))return!e(p).length;for(var y in p)if(g.call(p,y))return!1;return!0}return bL=h,bL}var gL,_Z;function yZ(){if(_Z)return gL;_Z=1;function e(t){return t===void 0}return gL=e,gL}var _L,wZ;function mZ(){if(wZ)return _L;wZ=1;var e=Bv(),t=Ya();function r(n,o){var s=-1,a=t(n)?Array(n.length):[];return e(n,function(l,f,u){a[++s]=o(l,f,u)}),a}return _L=r,_L}var yL,vZ;function SZ(){if(vZ)return yL;vZ=1;var e=Uv(),t=Xa(),r=mZ(),n=Br();function o(s,a){var l=n(s)?e:r;return l(s,t(a,3))}return yL=o,yL}var wL,EZ;function E5e(){if(EZ)return wL;EZ=1;function e(t,r,n,o){var s=-1,a=t==null?0:t.length;for(o&&a&&(n=t[++s]);++s<a;)n=r(n,t[s],s,t);return n}return wL=e,wL}var mL,RZ;function R5e(){if(RZ)return mL;RZ=1;function e(t,r,n,o,s){return s(t,function(a,l,f){n=o?(o=!1,a):r(n,a,l,f)}),n}return mL=e,mL}var vL,xZ;function AZ(){if(xZ)return vL;xZ=1;var e=E5e(),t=Bv(),r=Xa(),n=R5e(),o=Br();function s(a,l,f){var u=o(a)?e:n,d=arguments.length<3;return u(a,r(l,4),f,d,t)}return vL=s,vL}var SL,$Z;function x5e(){if($Z)return SL;$Z=1;var e=Kf(),t=Br(),r=ks(),n="[object String]";function o(s){return typeof s=="string"||!t(s)&&r(s)&&e(s)==n}return SL=o,SL}var EL,TZ;function A5e(){if(TZ)return EL;TZ=1;var e=aZ(),t=e("length");return EL=t,EL}var RL,IZ;function $5e(){if(IZ)return RL;IZ=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",o=t+r+n,s="\\ufe0e\\ufe0f",a="\\u200d",l=RegExp("["+a+e+o+s+"]");function f(u){return l.test(u)}return RL=f,RL}var xL,NZ;function T5e(){if(NZ)return xL;NZ=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",o=t+r+n,s="\\ufe0e\\ufe0f",a="["+e+"]",l="["+o+"]",f="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+f+")",d="[^"+e+"]",g="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",w=u+"?",y="["+s+"]?",v="(?:"+p+"(?:"+[d,g,h].join("|")+")"+y+w+")*",E=y+w+v,x="(?:"+[d+l+"?",l,g,h,a].join("|")+")",S=RegExp(f+"(?="+f+")|"+x+E,"g");function N($){for(var D=S.lastIndex=0;S.test($);)++D;return D}return xL=N,xL}var AL,kZ;function I5e(){if(kZ)return AL;kZ=1;var e=A5e(),t=$5e(),r=T5e();function n(o){return t(o)?r(o):e(o)}return AL=n,AL}var $L,CZ;function N5e(){if(CZ)return $L;CZ=1;var e=RC(),t=lp(),r=Ya(),n=x5e(),o=I5e(),s="[object Map]",a="[object Set]";function l(f){if(f==null)return 0;if(r(f))return n(f)?o(f):f.length;var u=t(f);return u==s||u==a?f.size:e(f).length}return $L=l,$L}var TL,OZ;function k5e(){if(OZ)return TL;OZ=1;var e=rC(),t=JX(),r=mO(),n=Xa(),o=Wv(),s=Br(),a=ap(),l=a_(),f=ao(),u=d_();function d(g,h,p){var w=s(g),y=w||a(g)||u(g);if(h=n(h,4),p==null){var v=g&&g.constructor;y?p=w?new v:[]:f(g)?p=l(v)?t(o(g)):{}:p={}}return(y?e:r)(g,function(E,x,S){return h(p,E,x,S)}),p}return TL=d,TL}var IL,LZ;function C5e(){if(LZ)return IL;LZ=1;var e=mh(),t=u_(),r=Br(),n=e?e.isConcatSpreadable:void 0;function o(s){return r(s)||t(s)||!!(n&&s&&s[n])}return IL=o,IL}var NL,DZ;function kL(){if(DZ)return NL;DZ=1;var e=jC(),t=C5e();function r(n,o,s,a,l){var f=-1,u=n.length;for(s||(s=t),l||(l=[]);++f<u;){var d=n[f];o>0&&s(d)?o>1?r(d,o-1,s,a,l):e(l,d):a||(l[l.length]=d)}return l}return NL=r,NL}var CL,MZ;function O5e(){if(MZ)return CL;MZ=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return CL=e,CL}var OL,PZ;function FZ(){if(PZ)return OL;PZ=1;var e=O5e(),t=Math.max;function r(n,o,s){return o=t(o===void 0?n.length-1:o,0),function(){for(var a=arguments,l=-1,f=t(a.length-o,0),u=Array(f);++l<f;)u[l]=a[o+l];l=-1;for(var d=Array(o+1);++l<o;)d[l]=a[l];return d[o]=s(u),e(n,this,d)}}return OL=r,OL}var LL,jZ;function L5e(){if(jZ)return LL;jZ=1;var e=bO(),t=MY(),r=Pc(),n=t?function(o,s){return t(o,"toString",{configurable:!0,enumerable:!1,value:e(s),writable:!0})}:r;return LL=n,LL}var DL,WZ;function D5e(){if(WZ)return DL;WZ=1;var e=800,t=16,r=Date.now;function n(o){var s=0,a=0;return function(){var l=r(),f=t-(l-a);if(a=l,f>0){if(++s>=e)return arguments[0]}else s=0;return o.apply(void 0,arguments)}}return DL=n,DL}var ML,BZ;function UZ(){if(BZ)return ML;BZ=1;var e=L5e(),t=D5e(),r=t(e);return ML=r,ML}var PL,qZ;function Vv(){if(qZ)return PL;qZ=1;var e=Pc(),t=FZ(),r=UZ();function n(o,s){return r(t(o,s,e),o+"")}return PL=n,PL}var FL,HZ;function VZ(){if(HZ)return FL;HZ=1;function e(t,r,n,o){for(var s=t.length,a=n+(o?1:-1);o?a--:++a<s;)if(r(t[a],a,t))return a;return-1}return FL=e,FL}var jL,GZ;function M5e(){if(GZ)return jL;GZ=1;function e(t){return t!==t}return jL=e,jL}var WL,zZ;function P5e(){if(zZ)return WL;zZ=1;function e(t,r,n){for(var o=n-1,s=t.length;++o<s;)if(t[o]===r)return o;return-1}return WL=e,WL}var BL,KZ;function F5e(){if(KZ)return BL;KZ=1;var e=VZ(),t=M5e(),r=P5e();function n(o,s,a){return s===s?r(o,s,a):e(o,t,a)}return BL=n,BL}var UL,JZ;function j5e(){if(JZ)return UL;JZ=1;var e=F5e();function t(r,n){var o=r==null?0:r.length;return!!o&&e(r,n,0)>-1}return UL=t,UL}var qL,YZ;function W5e(){if(YZ)return qL;YZ=1;function e(t,r,n){for(var o=-1,s=t==null?0:t.length;++o<s;)if(n(r,t[o]))return!0;return!1}return qL=e,qL}var HL,XZ;function B5e(){if(XZ)return HL;XZ=1;function e(){}return HL=e,HL}var VL,QZ;function U5e(){if(QZ)return VL;QZ=1;var e=DX(),t=B5e(),r=MO(),n=1/0,o=e&&1/r(new e([,-0]))[1]==n?function(s){return new e(s)}:t;return VL=o,VL}var GL,ZZ;function q5e(){if(ZZ)return GL;ZZ=1;var e=SQ(),t=j5e(),r=W5e(),n=xQ(),o=U5e(),s=MO(),a=200;function l(f,u,d){var g=-1,h=t,p=f.length,w=!0,y=[],v=y;if(d)w=!1,h=r;else if(p>=a){var E=u?null:o(f);if(E)return s(E);w=!1,h=n,v=new e}else v=u?[]:y;e:for(;++g<p;){var x=f[g],S=u?u(x):x;if(x=d||x!==0?x:0,w&&S===S){for(var N=v.length;N--;)if(v[N]===S)continue e;u&&v.push(S),y.push(x)}else h(v,S,d)||(v!==y&&v.push(S),y.push(x))}return y}return GL=l,GL}var zL,eee;function tee(){if(eee)return zL;eee=1;var e=Ya(),t=ks();function r(n){return t(n)&&e(n)}return zL=r,zL}var KL,ree;function H5e(){if(ree)return KL;ree=1;var e=kL(),t=Vv(),r=q5e(),n=tee(),o=t(function(s){return r(e(s,1,n,!0))});return KL=o,KL}var JL,nee;function V5e(){if(nee)return JL;nee=1;var e=Uv();function t(r,n){return e(n,function(o){return r[o]})}return JL=t,JL}var YL,iee;function oee(){if(iee)return YL;iee=1;var e=V5e(),t=$u();function r(n){return n==null?[]:e(n,t(n))}return YL=r,YL}var XL,see;function _o(){if(see)return XL;see=1;var e;if(typeof bk=="function")try{e={clone:QUe(),constant:bO(),each:_Q(),filter:dZ(),has:bZ(),isArray:Br(),isEmpty:S5e(),isFunction:a_(),isUndefined:yZ(),keys:$u(),map:SZ(),reduce:AZ(),size:N5e(),transform:k5e(),union:H5e(),values:oee()}}catch{}return e||(e=window._),XL=e,XL}var QL,aee;function ZL(){if(aee)return QL;aee=1;var e=_o();QL=o;var t="\0",r="\0",n="";function o(d){this._isDirected=e.has(d,"directed")?d.directed:!0,this._isMultigraph=e.has(d,"multigraph")?d.multigraph:!1,this._isCompound=e.has(d,"compound")?d.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[r]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}o.prototype._nodeCount=0,o.prototype._edgeCount=0,o.prototype.isDirected=function(){return this._isDirected},o.prototype.isMultigraph=function(){return this._isMultigraph},o.prototype.isCompound=function(){return this._isCompound},o.prototype.setGraph=function(d){return this._label=d,this},o.prototype.graph=function(){return this._label},o.prototype.setDefaultNodeLabel=function(d){return e.isFunction(d)||(d=e.constant(d)),this._defaultNodeLabelFn=d,this},o.prototype.nodeCount=function(){return this._nodeCount},o.prototype.nodes=function(){return e.keys(this._nodes)},o.prototype.sources=function(){var d=this;return e.filter(this.nodes(),function(g){return e.isEmpty(d._in[g])})},o.prototype.sinks=function(){var d=this;return e.filter(this.nodes(),function(g){return e.isEmpty(d._out[g])})},o.prototype.setNodes=function(d,g){var h=arguments,p=this;return e.each(d,function(w){h.length>1?p.setNode(w,g):p.setNode(w)}),this},o.prototype.setNode=function(d,g){return e.has(this._nodes,d)?(arguments.length>1&&(this._nodes[d]=g),this):(this._nodes[d]=arguments.length>1?g:this._defaultNodeLabelFn(d),this._isCompound&&(this._parent[d]=r,this._children[d]={},this._children[r][d]=!0),this._in[d]={},this._preds[d]={},this._out[d]={},this._sucs[d]={},++this._nodeCount,this)},o.prototype.node=function(d){return this._nodes[d]},o.prototype.hasNode=function(d){return e.has(this._nodes,d)},o.prototype.removeNode=function(d){var g=this;if(e.has(this._nodes,d)){var h=function(p){g.removeEdge(g._edgeObjs[p])};delete this._nodes[d],this._isCompound&&(this._removeFromParentsChildList(d),delete this._parent[d],e.each(this.children(d),function(p){g.setParent(p)}),delete this._children[d]),e.each(e.keys(this._in[d]),h),delete this._in[d],delete this._preds[d],e.each(e.keys(this._out[d]),h),delete this._out[d],delete this._sucs[d],--this._nodeCount}return this},o.prototype.setParent=function(d,g){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(g))g=r;else{g+="";for(var h=g;!e.isUndefined(h);h=this.parent(h))if(h===d)throw new Error("Setting "+g+" as parent of "+d+" would create a cycle");this.setNode(g)}return this.setNode(d),this._removeFromParentsChildList(d),this._parent[d]=g,this._children[g][d]=!0,this},o.prototype._removeFromParentsChildList=function(d){delete this._children[this._parent[d]][d]},o.prototype.parent=function(d){if(this._isCompound){var g=this._parent[d];if(g!==r)return g}},o.prototype.children=function(d){if(e.isUndefined(d)&&(d=r),this._isCompound){var g=this._children[d];if(g)return e.keys(g)}else{if(d===r)return this.nodes();if(this.hasNode(d))return[]}},o.prototype.predecessors=function(d){var g=this._preds[d];if(g)return e.keys(g)},o.prototype.successors=function(d){var g=this._sucs[d];if(g)return e.keys(g)},o.prototype.neighbors=function(d){var g=this.predecessors(d);if(g)return e.union(g,this.successors(d))},o.prototype.isLeaf=function(d){var g;return this.isDirected()?g=this.successors(d):g=this.neighbors(d),g.length===0},o.prototype.filterNodes=function(d){var g=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});g.setGraph(this.graph());var h=this;e.each(this._nodes,function(y,v){d(v)&&g.setNode(v,y)}),e.each(this._edgeObjs,function(y){g.hasNode(y.v)&&g.hasNode(y.w)&&g.setEdge(y,h.edge(y))});var p={};function w(y){var v=h.parent(y);return v===void 0||g.hasNode(v)?(p[y]=v,v):v in p?p[v]:w(v)}return this._isCompound&&e.each(g.nodes(),function(y){g.setParent(y,w(y))}),g},o.prototype.setDefaultEdgeLabel=function(d){return e.isFunction(d)||(d=e.constant(d)),this._defaultEdgeLabelFn=d,this},o.prototype.edgeCount=function(){return this._edgeCount},o.prototype.edges=function(){return e.values(this._edgeObjs)},o.prototype.setPath=function(d,g){var h=this,p=arguments;return e.reduce(d,function(w,y){return p.length>1?h.setEdge(w,y,g):h.setEdge(w,y),y}),this},o.prototype.setEdge=function(){var d,g,h,p,w=!1,y=arguments[0];typeof y=="object"&&y!==null&&"v"in y?(d=y.v,g=y.w,h=y.name,arguments.length===2&&(p=arguments[1],w=!0)):(d=y,g=arguments[1],h=arguments[3],arguments.length>2&&(p=arguments[2],w=!0)),d=""+d,g=""+g,e.isUndefined(h)||(h=""+h);var v=l(this._isDirected,d,g,h);if(e.has(this._edgeLabels,v))return w&&(this._edgeLabels[v]=p),this;if(!e.isUndefined(h)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(d),this.setNode(g),this._edgeLabels[v]=w?p:this._defaultEdgeLabelFn(d,g,h);var E=f(this._isDirected,d,g,h);return d=E.v,g=E.w,Object.freeze(E),this._edgeObjs[v]=E,s(this._preds[g],d),s(this._sucs[d],g),this._in[g][v]=E,this._out[d][v]=E,this._edgeCount++,this},o.prototype.edge=function(d,g,h){var p=arguments.length===1?u(this._isDirected,arguments[0]):l(this._isDirected,d,g,h);return this._edgeLabels[p]},o.prototype.hasEdge=function(d,g,h){var p=arguments.length===1?u(this._isDirected,arguments[0]):l(this._isDirected,d,g,h);return e.has(this._edgeLabels,p)},o.prototype.removeEdge=function(d,g,h){var p=arguments.length===1?u(this._isDirected,arguments[0]):l(this._isDirected,d,g,h),w=this._edgeObjs[p];return w&&(d=w.v,g=w.w,delete this._edgeLabels[p],delete this._edgeObjs[p],a(this._preds[g],d),a(this._sucs[d],g),delete this._in[g][p],delete this._out[d][p],this._edgeCount--),this},o.prototype.inEdges=function(d,g){var h=this._in[d];if(h){var p=e.values(h);return g?e.filter(p,function(w){return w.v===g}):p}},o.prototype.outEdges=function(d,g){var h=this._out[d];if(h){var p=e.values(h);return g?e.filter(p,function(w){return w.w===g}):p}},o.prototype.nodeEdges=function(d,g){var h=this.inEdges(d,g);if(h)return h.concat(this.outEdges(d,g))};function s(d,g){d[g]?d[g]++:d[g]=1}function a(d,g){--d[g]||delete d[g]}function l(d,g,h,p){var w=""+g,y=""+h;if(!d&&w>y){var v=w;w=y,y=v}return w+n+y+n+(e.isUndefined(p)?t:p)}function f(d,g,h,p){var w=""+g,y=""+h;if(!d&&w>y){var v=w;w=y,y=v}var E={v:w,w:y};return p&&(E.name=p),E}function u(d,g){return l(d,g.v,g.w,g.name)}return QL}var eD,lee;function G5e(){return lee||(lee=1,eD="2.1.8"),eD}var tD,uee;function z5e(){return uee||(uee=1,tD={Graph:ZL(),version:G5e()}),tD}var rD,fee;function K5e(){if(fee)return rD;fee=1;var e=_o(),t=ZL();rD={write:r,read:s};function r(a){var l={options:{directed:a.isDirected(),multigraph:a.isMultigraph(),compound:a.isCompound()},nodes:n(a),edges:o(a)};return e.isUndefined(a.graph())||(l.value=e.clone(a.graph())),l}function n(a){return e.map(a.nodes(),function(l){var f=a.node(l),u=a.parent(l),d={v:l};return e.isUndefined(f)||(d.value=f),e.isUndefined(u)||(d.parent=u),d})}function o(a){return e.map(a.edges(),function(l){var f=a.edge(l),u={v:l.v,w:l.w};return e.isUndefined(l.name)||(u.name=l.name),e.isUndefined(f)||(u.value=f),u})}function s(a){var l=new t(a.options).setGraph(a.value);return e.each(a.nodes,function(f){l.setNode(f.v,f.value),f.parent&&l.setParent(f.v,f.parent)}),e.each(a.edges,function(f){l.setEdge({v:f.v,w:f.w,name:f.name},f.value)}),l}return rD}var nD,cee;function J5e(){if(cee)return nD;cee=1;var e=_o();nD=t;function t(r){var n={},o=[],s;function a(l){e.has(n,l)||(n[l]=!0,s.push(l),e.each(r.successors(l),a),e.each(r.predecessors(l),a))}return e.each(r.nodes(),function(l){s=[],a(l),s.length&&o.push(s)}),o}return nD}var iD,dee;function hee(){if(dee)return iD;dee=1;var e=_o();iD=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(r){return r.key})},t.prototype.has=function(r){return e.has(this._keyIndices,r)},t.prototype.priority=function(r){var n=this._keyIndices[r];if(n!==void 0)return this._arr[n].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(r,n){var o=this._keyIndices;if(r=String(r),!e.has(o,r)){var s=this._arr,a=s.length;return o[r]=a,s.push({key:r,priority:n}),this._decrease(a),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var r=this._arr.pop();return delete this._keyIndices[r.key],this._heapify(0),r.key},t.prototype.decrease=function(r,n){var o=this._keyIndices[r];if(n>this._arr[o].priority)throw new Error("New priority is greater than current priority. Key: "+r+" Old: "+this._arr[o].priority+" New: "+n);this._arr[o].priority=n,this._decrease(o)},t.prototype._heapify=function(r){var n=this._arr,o=2*r,s=o+1,a=r;o<n.length&&(a=n[o].priority<n[a].priority?o:a,s<n.length&&(a=n[s].priority<n[a].priority?s:a),a!==r&&(this._swap(r,a),this._heapify(a)))},t.prototype._decrease=function(r){for(var n=this._arr,o=n[r].priority,s;r!==0&&(s=r>>1,!(n[s].priority<o));)this._swap(r,s),r=s},t.prototype._swap=function(r,n){var o=this._arr,s=this._keyIndices,a=o[r],l=o[n];o[r]=l,o[n]=a,s[l.key]=r,s[a.key]=n},iD}var oD,pee;function bee(){if(pee)return oD;pee=1;var e=_o(),t=hee();oD=n;var r=e.constant(1);function n(s,a,l,f){return o(s,String(a),l||r,f||function(u){return s.outEdges(u)})}function o(s,a,l,f){var u={},d=new t,g,h,p=function(w){var y=w.v!==g?w.v:w.w,v=u[y],E=l(w),x=h.distance+E;if(E<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+w+" Weight: "+E);x<v.distance&&(v.distance=x,v.predecessor=g,d.decrease(y,x))};for(s.nodes().forEach(function(w){var y=w===a?0:Number.POSITIVE_INFINITY;u[w]={distance:y},d.add(w,y)});d.size()>0&&(g=d.removeMin(),h=u[g],h.distance!==Number.POSITIVE_INFINITY);)f(g).forEach(p);return u}return oD}var sD,gee;function Y5e(){if(gee)return sD;gee=1;var e=bee(),t=_o();sD=r;function r(n,o,s){return t.transform(n.nodes(),function(a,l){a[l]=e(n,l,o,s)},{})}return sD}var aD,_ee;function yee(){if(_ee)return aD;_ee=1;var e=_o();aD=t;function t(r){var n=0,o=[],s={},a=[];function l(f){var u=s[f]={onStack:!0,lowlink:n,index:n++};if(o.push(f),r.successors(f).forEach(function(h){e.has(s,h)?s[h].onStack&&(u.lowlink=Math.min(u.lowlink,s[h].index)):(l(h),u.lowlink=Math.min(u.lowlink,s[h].lowlink))}),u.lowlink===u.index){var d=[],g;do g=o.pop(),s[g].onStack=!1,d.push(g);while(f!==g);a.push(d)}}return r.nodes().forEach(function(f){e.has(s,f)||l(f)}),a}return aD}var lD,wee;function X5e(){if(wee)return lD;wee=1;var e=_o(),t=yee();lD=r;function r(n){return e.filter(t(n),function(o){return o.length>1||o.length===1&&n.hasEdge(o[0],o[0])})}return lD}var uD,mee;function Q5e(){if(mee)return uD;mee=1;var e=_o();uD=r;var t=e.constant(1);function r(o,s,a){return n(o,s||t,a||function(l){return o.outEdges(l)})}function n(o,s,a){var l={},f=o.nodes();return f.forEach(function(u){l[u]={},l[u][u]={distance:0},f.forEach(function(d){u!==d&&(l[u][d]={distance:Number.POSITIVE_INFINITY})}),a(u).forEach(function(d){var g=d.v===u?d.w:d.v,h=s(d);l[u][g]={distance:h,predecessor:u}})}),f.forEach(function(u){var d=l[u];f.forEach(function(g){var h=l[g];f.forEach(function(p){var w=h[u],y=d[p],v=h[p],E=w.distance+y.distance;E<v.distance&&(v.distance=E,v.predecessor=y.predecessor)})})}),l}return uD}var fD,vee;function See(){if(vee)return fD;vee=1;var e=_o();fD=t,t.CycleException=r;function t(n){var o={},s={},a=[];function l(f){if(e.has(s,f))throw new r;e.has(o,f)||(s[f]=!0,o[f]=!0,e.each(n.predecessors(f),l),delete s[f],a.push(f))}if(e.each(n.sinks(),l),e.size(o)!==n.nodeCount())throw new r;return a}function r(){}return r.prototype=new Error,fD}var cD,Eee;function Z5e(){if(Eee)return cD;Eee=1;var e=See();cD=t;function t(r){try{e(r)}catch(n){if(n instanceof e.CycleException)return!1;throw n}return!0}return cD}var dD,Ree;function xee(){if(Ree)return dD;Ree=1;var e=_o();dD=t;function t(n,o,s){e.isArray(o)||(o=[o]);var a=(n.isDirected()?n.successors:n.neighbors).bind(n),l=[],f={};return e.each(o,function(u){if(!n.hasNode(u))throw new Error("Graph does not have node: "+u);r(n,u,s==="post",f,a,l)}),l}function r(n,o,s,a,l,f){e.has(a,o)||(a[o]=!0,s||f.push(o),e.each(l(o),function(u){r(n,u,s,a,l,f)}),s&&f.push(o))}return dD}var hD,Aee;function e8e(){if(Aee)return hD;Aee=1;var e=xee();hD=t;function t(r,n){return e(r,n,"post")}return hD}var pD,$ee;function t8e(){if($ee)return pD;$ee=1;var e=xee();pD=t;function t(r,n){return e(r,n,"pre")}return pD}var bD,Tee;function r8e(){if(Tee)return bD;Tee=1;var e=_o(),t=ZL(),r=hee();bD=n;function n(o,s){var a=new t,l={},f=new r,u;function d(h){var p=h.v===u?h.w:h.v,w=f.priority(p);if(w!==void 0){var y=s(h);y<w&&(l[p]=u,f.decrease(p,y))}}if(o.nodeCount()===0)return a;e.each(o.nodes(),function(h){f.add(h,Number.POSITIVE_INFINITY),a.setNode(h)}),f.decrease(o.nodes()[0],0);for(var g=!1;f.size()>0;){if(u=f.removeMin(),e.has(l,u))a.setEdge(u,l[u]);else{if(g)throw new Error("Input graph is not connected: "+o);g=!0}o.nodeEdges(u).forEach(d)}return a}return bD}var gD,Iee;function n8e(){return Iee||(Iee=1,gD={components:J5e(),dijkstra:bee(),dijkstraAll:Y5e(),findCycles:X5e(),floydWarshall:Q5e(),isAcyclic:Z5e(),postorder:e8e(),preorder:t8e(),prim:r8e(),tarjan:yee(),topsort:See()}),gD}var _D,Nee;function i8e(){if(Nee)return _D;Nee=1;var e=z5e();return _D={Graph:e.Graph,json:K5e(),alg:n8e(),version:e.version},_D}var Gv;if(typeof bk=="function")try{Gv=i8e()}catch{}Gv||(Gv=window.graphlib);var ts=Gv,yD,kee;function o8e(){if(kee)return yD;kee=1;var e=nQ(),t=1,r=4;function n(o){return e(o,t|r)}return yD=n,yD}var wD,Cee;function zv(){if(Cee)return wD;Cee=1;var e=sp(),t=Ya(),r=Pv(),n=ao();function o(s,a,l){if(!n(l))return!1;var f=typeof a;return(f=="number"?t(l)&&r(a,l.length):f=="string"&&a in l)?e(l[a],s):!1}return wD=o,wD}var mD,Oee;function s8e(){if(Oee)return mD;Oee=1;var e=Vv(),t=sp(),r=zv(),n=Mc(),o=Object.prototype,s=o.hasOwnProperty,a=e(function(l,f){l=Object(l);var u=-1,d=f.length,g=d>2?f[2]:void 0;for(g&&r(f[0],f[1],g)&&(d=1);++u<d;)for(var h=f[u],p=n(h),w=-1,y=p.length;++w<y;){var v=p[w],E=l[v];(E===void 0||t(E,o[v])&&!s.call(l,v))&&(l[v]=h[v])}return l});return mD=a,mD}var vD,Lee;function a8e(){if(Lee)return vD;Lee=1;var e=Xa(),t=Ya(),r=$u();function n(o){return function(s,a,l){var f=Object(s);if(!t(s)){var u=e(a,3);s=r(s),a=function(g){return u(f[g],g,f)}}var d=o(s,a,l);return d>-1?f[u?s[d]:d]:void 0}}return vD=n,vD}var SD,Dee;function l8e(){if(Dee)return SD;Dee=1;var e=VZ(),t=Xa(),r=o4,n=Math.max;function o(s,a,l){var f=s==null?0:s.length;if(!f)return-1;var u=l==null?0:r(l);return u<0&&(u=n(f+u,0)),e(s,t(a,3),u)}return SD=o,SD}var ED,Mee;function u8e(){if(Mee)return ED;Mee=1;var e=a8e(),t=l8e(),r=e(t);return ED=r,ED}var RD,Pee;function Fee(){if(Pee)return RD;Pee=1;var e=kL();function t(r){var n=r==null?0:r.length;return n?e(r,1):[]}return RD=t,RD}var xD,jee;function f8e(){if(jee)return xD;jee=1;var e=yO(),t=hQ(),r=Mc();function n(o,s){return o==null?o:e(o,t(s),r)}return xD=n,xD}var AD,Wee;function c8e(){if(Wee)return AD;Wee=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return AD=e,AD}var $D,Bee;function d8e(){if(Bee)return $D;Bee=1;var e=Dv(),t=mO(),r=Xa();function n(o,s){var a={};return s=r(s,3),t(o,function(l,f,u){e(a,f,s(l,f,u))}),a}return $D=n,$D}var TD,Uee;function ID(){if(Uee)return TD;Uee=1;var e=vh();function t(r,n,o){for(var s=-1,a=r.length;++s<a;){var l=r[s],f=n(l);if(f!=null&&(u===void 0?f===f&&!e(f):o(f,u)))var u=f,d=l}return d}return TD=t,TD}var ND,qee;function h8e(){if(qee)return ND;qee=1;function e(t,r){return t>r}return ND=e,ND}var kD,Hee;function p8e(){if(Hee)return kD;Hee=1;var e=ID(),t=h8e(),r=Pc();function n(o){return o&&o.length?e(o,r,t):void 0}return kD=n,kD}var CD,Vee;function Gee(){if(Vee)return CD;Vee=1;var e=Dv(),t=sp();function r(n,o,s){(s!==void 0&&!t(n[o],s)||s===void 0&&!(o in n))&&e(n,o,s)}return CD=r,CD}var OD,zee;function b8e(){if(zee)return OD;zee=1;var e=Kf(),t=Wv(),r=ks(),n="[object Object]",o=Function.prototype,s=Object.prototype,a=o.toString,l=s.hasOwnProperty,f=a.call(Object);function u(d){if(!r(d)||e(d)!=n)return!1;var g=t(d);if(g===null)return!0;var h=l.call(g,"constructor")&&g.constructor;return typeof h=="function"&&h instanceof h&&a.call(h)==f}return OD=u,OD}var LD,Kee;function Jee(){if(Kee)return LD;Kee=1;function e(t,r){if(!(r==="constructor"&&typeof t[r]=="function")&&r!="__proto__")return t[r]}return LD=e,LD}var DD,Yee;function g8e(){if(Yee)return DD;Yee=1;var e=l_(),t=Mc();function r(n){return e(n,t(n))}return DD=r,DD}var MD,Xee;function _8e(){if(Xee)return MD;Xee=1;var e=Gee(),t=hX(),r=GX(),n=bX(),o=XX(),s=u_(),a=Br(),l=tee(),f=ap(),u=a_(),d=ao(),g=b8e(),h=d_(),p=Jee(),w=g8e();function y(v,E,x,S,N,$,D){var K=p(v,x),q=p(E,x),k=D.get(q);if(k){e(v,x,k);return}var V=$?$(K,q,x+"",v,E,D):void 0,j=V===void 0;if(j){var B=a(q),A=!B&&f(q),U=!B&&!A&&h(q);V=q,B||A||U?a(K)?V=K:l(K)?V=n(K):A?(j=!1,V=t(q,!0)):U?(j=!1,V=r(q,!0)):V=[]:g(q)||s(q)?(V=K,s(K)?V=w(K):(!d(K)||u(K))&&(V=o(q))):j=!1}j&&(D.set(q,V),N(V,q,S,$,D),D.delete(q)),e(v,x,V)}return MD=y,MD}var PD,Qee;function y8e(){if(Qee)return PD;Qee=1;var e=Lv(),t=Gee(),r=yO(),n=_8e(),o=ao(),s=Mc(),a=Jee();function l(f,u,d,g,h){f!==u&&r(u,function(p,w){if(h||(h=new e),o(p))n(f,u,w,d,l,g,h);else{var y=g?g(a(f,w),p,w+"",f,u,h):void 0;y===void 0&&(y=p),t(f,w,y)}},s)}return PD=l,PD}var FD,Zee;function w8e(){if(Zee)return FD;Zee=1;var e=Vv(),t=zv();function r(n){return e(function(o,s){var a=-1,l=s.length,f=l>1?s[l-1]:void 0,u=l>2?s[2]:void 0;for(f=n.length>3&&typeof f=="function"?(l--,f):void 0,u&&t(s[0],s[1],u)&&(f=l<3?void 0:f,l=1),o=Object(o);++a<l;){var d=s[a];d&&n(o,d,a,f)}return o})}return FD=r,FD}var jD,ete;function m8e(){if(ete)return jD;ete=1;var e=y8e(),t=w8e(),r=t(function(n,o,s){e(n,o,s)});return jD=r,jD}var WD,tte;function rte(){if(tte)return WD;tte=1;function e(t,r){return t<r}return WD=e,WD}var BD,nte;function v8e(){if(nte)return BD;nte=1;var e=ID(),t=rte(),r=Pc();function n(o){return o&&o.length?e(o,r,t):void 0}return BD=n,BD}var UD,ite;function S8e(){if(ite)return UD;ite=1;var e=ID(),t=Xa(),r=rte();function n(o,s){return o&&o.length?e(o,t(s,2),r):void 0}return UD=n,UD}var qD,ote;function E8e(){if(ote)return qD;ote=1;var e=Wo(),t=function(){return e.Date.now()};return qD=t,qD}var HD,ste;function R8e(){if(ste)return HD;ste=1;var e=Mv(),t=qv(),r=Pv(),n=ao(),o=p_();function s(a,l,f,u){if(!n(a))return a;l=t(l,a);for(var d=-1,g=l.length,h=g-1,p=a;p!=null&&++d<g;){var w=o(l[d]),y=f;if(w==="__proto__"||w==="constructor"||w==="prototype")return a;if(d!=h){var v=p[w];y=u?u(v,w,p):void 0,y===void 0&&(y=n(v)?v:r(l[d+1])?[]:{})}e(p,w,y),p=p[w]}return a}return HD=s,HD}var VD,ate;function x8e(){if(ate)return VD;ate=1;var e=Hv(),t=R8e(),r=qv();function n(o,s,a){for(var l=-1,f=s.length,u={};++l<f;){var d=s[l],g=e(o,d);a(g,d)&&t(u,r(d,o),g)}return u}return VD=n,VD}var GD,lte;function A8e(){if(lte)return GD;lte=1;var e=x8e(),t=iZ();function r(n,o){return e(n,o,function(s,a){return t(n,a)})}return GD=r,GD}var zD,ute;function $8e(){if(ute)return zD;ute=1;var e=Fee(),t=FZ(),r=UZ();function n(o){return r(t(o,void 0,e),o+"")}return zD=n,zD}var KD,fte;function T8e(){if(fte)return KD;fte=1;var e=A8e(),t=$8e(),r=t(function(n,o){return n==null?{}:e(n,o)});return KD=r,KD}var JD,cte;function I8e(){if(cte)return JD;cte=1;var e=Math.ceil,t=Math.max;function r(n,o,s,a){for(var l=-1,f=t(e((o-n)/(s||1)),0),u=Array(f);f--;)u[a?f:++l]=n,n+=s;return u}return JD=r,JD}var YD,dte;function N8e(){if(dte)return YD;dte=1;var e=I8e(),t=zv(),r=i4;function n(o){return function(s,a,l){return l&&typeof l!="number"&&t(s,a,l)&&(a=l=void 0),s=r(s),a===void 0?(a=s,s=0):a=r(a),l=l===void 0?s<a?1:-1:r(l),e(s,a,l,o)}}return YD=n,YD}var XD,hte;function k8e(){if(hte)return XD;hte=1;var e=N8e(),t=e();return XD=t,XD}var QD,pte;function C8e(){if(pte)return QD;pte=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return QD=e,QD}var ZD,bte;function O8e(){if(bte)return ZD;bte=1;var e=vh();function t(r,n){if(r!==n){var o=r!==void 0,s=r===null,a=r===r,l=e(r),f=n!==void 0,u=n===null,d=n===n,g=e(n);if(!u&&!g&&!l&&r>n||l&&f&&d&&!u&&!g||s&&f&&d||!o&&d||!a)return 1;if(!s&&!l&&!g&&r<n||g&&o&&a&&!s&&!l||u&&o&&a||!f&&a||!d)return-1}return 0}return ZD=t,ZD}var eM,gte;function L8e(){if(gte)return eM;gte=1;var e=O8e();function t(r,n,o){for(var s=-1,a=r.criteria,l=n.criteria,f=a.length,u=o.length;++s<f;){var d=e(a[s],l[s]);if(d){if(s>=u)return d;var g=o[s];return d*(g=="desc"?-1:1)}}return r.index-n.index}return eM=t,eM}var tM,_te;function D8e(){if(_te)return tM;_te=1;var e=Uv(),t=Hv(),r=Xa(),n=mZ(),o=C8e(),s=Fv(),a=L8e(),l=Pc(),f=Br();function u(d,g,h){g.length?g=e(g,function(y){return f(y)?function(v){return t(v,y.length===1?y[0]:y)}:y}):g=[l];var p=-1;g=e(g,s(r));var w=n(d,function(y,v,E){var x=e(g,function(S){return S(y)});return{criteria:x,index:++p,value:y}});return o(w,function(y,v){return a(y,v,h)})}return tM=u,tM}var rM,yte;function M8e(){if(yte)return rM;yte=1;var e=kL(),t=D8e(),r=Vv(),n=zv(),o=r(function(s,a){if(s==null)return[];var l=a.length;return l>1&&n(s,a[0],a[1])?a=[]:l>2&&n(a[0],a[1],a[2])&&(a=[a[0]]),t(s,e(a,1),[])});return rM=o,rM}var nM,wte;function P8e(){if(wte)return nM;wte=1;var e=JQ(),t=0;function r(n){var o=++t;return e(n)+o}return nM=r,nM}var iM,mte;function F8e(){if(mte)return iM;mte=1;function e(t,r,n){for(var o=-1,s=t.length,a=r.length,l={};++o<s;){var f=o<a?r[o]:void 0;n(l,t[o],f)}return l}return iM=e,iM}var oM,vte;function j8e(){if(vte)return oM;vte=1;var e=Mv(),t=F8e();function r(n,o){return t(n||[],o||[],e)}return oM=r,oM}var Kv;if(typeof bk=="function")try{Kv={cloneDeep:o8e(),constant:bO(),defaults:s8e(),each:_Q(),filter:dZ(),find:u8e(),flatten:Fee(),forEach:bQ(),forIn:f8e(),has:bZ(),isUndefined:yZ(),last:c8e(),map:SZ(),mapValues:d8e(),max:p8e(),merge:m8e(),min:v8e(),minBy:S8e(),now:E8e(),pick:T8e(),range:k8e(),reduce:AZ(),sortBy:M8e(),uniqueId:P8e(),values:oee(),zipObject:j8e()}}catch{}Kv||(Kv=window._);var gr=Kv,W8e=Jv;function Jv(){var e={};e._next=e._prev=e,this._sentinel=e}Jv.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return Ste(t),t},Jv.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&Ste(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t},Jv.prototype.toString=function(){for(var e=[],t=this._sentinel,r=t._prev;r!==t;)e.push(JSON.stringify(r,B8e)),r=r._prev;return"["+e.join(", ")+"]"};function Ste(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function B8e(e,t){if(e!=="_next"&&e!=="_prev")return t}var Qa=gr,U8e=ts.Graph,q8e=W8e,H8e=G8e,V8e=Qa.constant(1);function G8e(e,t){if(e.nodeCount()<=1)return[];var r=K8e(e,t||V8e),n=z8e(r.graph,r.buckets,r.zeroIdx);return Qa.flatten(Qa.map(n,function(o){return e.outEdges(o.v,o.w)}),!0)}function z8e(e,t,r){for(var n=[],o=t[t.length-1],s=t[0],a;e.nodeCount();){for(;a=s.dequeue();)sM(e,t,r,a);for(;a=o.dequeue();)sM(e,t,r,a);if(e.nodeCount()){for(var l=t.length-2;l>0;--l)if(a=t[l].dequeue(),a){n=n.concat(sM(e,t,r,a,!0));break}}}return n}function sM(e,t,r,n,o){var s=o?[]:void 0;return Qa.forEach(e.inEdges(n.v),function(a){var l=e.edge(a),f=e.node(a.v);o&&s.push({v:a.v,w:a.w}),f.out-=l,aM(t,r,f)}),Qa.forEach(e.outEdges(n.v),function(a){var l=e.edge(a),f=a.w,u=e.node(f);u.in-=l,aM(t,r,u)}),e.removeNode(n.v),s}function K8e(e,t){var r=new U8e,n=0,o=0;Qa.forEach(e.nodes(),function(l){r.setNode(l,{v:l,in:0,out:0})}),Qa.forEach(e.edges(),function(l){var f=r.edge(l.v,l.w)||0,u=t(l),d=f+u;r.setEdge(l.v,l.w,d),o=Math.max(o,r.node(l.v).out+=u),n=Math.max(n,r.node(l.w).in+=u)});var s=Qa.range(o+n+3).map(function(){return new q8e}),a=n+1;return Qa.forEach(r.nodes(),function(l){aM(s,a,r.node(l))}),{graph:r,buckets:s,zeroIdx:a}}function aM(e,t,r){r.out?r.in?e[r.out-r.in+t].enqueue(r):e[e.length-1].enqueue(r):e[0].enqueue(r)}var Fc=gr,J8e=H8e,Y8e={run:X8e,undo:Z8e};function X8e(e){var t=e.graph().acyclicer==="greedy"?J8e(e,r(e)):Q8e(e);Fc.forEach(t,function(n){var o=e.edge(n);e.removeEdge(n),o.forwardName=n.name,o.reversed=!0,e.setEdge(n.w,n.v,o,Fc.uniqueId("rev"))});function r(n){return function(o){return n.edge(o).weight}}}function Q8e(e){var t=[],r={},n={};function o(s){Fc.has(n,s)||(n[s]=!0,r[s]=!0,Fc.forEach(e.outEdges(s),function(a){Fc.has(r,a.w)?t.push(a):o(a.w)}),delete r[s])}return Fc.forEach(e.nodes(),o),t}function Z8e(e){Fc.forEach(e.edges(),function(t){var r=e.edge(t);if(r.reversed){e.removeEdge(t);var n=r.forwardName;delete r.reversed,delete r.forwardName,e.setEdge(t.w,t.v,r,n)}})}var Ht=gr,Ete=ts.Graph,$i={addDummyNode:Rte,simplify:e7e,asNonCompoundGraph:t7e,successorWeights:r7e,predecessorWeights:n7e,intersectRect:i7e,buildLayerMatrix:o7e,normalizeRanks:s7e,removeEmptyRanks:a7e,addBorderNode:l7e,maxRank:xte,partition:u7e,time:f7e,notime:c7e};function Rte(e,t,r,n){var o;do o=Ht.uniqueId(n);while(e.hasNode(o));return r.dummy=t,e.setNode(o,r),o}function e7e(e){var t=new Ete().setGraph(e.graph());return Ht.forEach(e.nodes(),function(r){t.setNode(r,e.node(r))}),Ht.forEach(e.edges(),function(r){var n=t.edge(r.v,r.w)||{weight:0,minlen:1},o=e.edge(r);t.setEdge(r.v,r.w,{weight:n.weight+o.weight,minlen:Math.max(n.minlen,o.minlen)})}),t}function t7e(e){var t=new Ete({multigraph:e.isMultigraph()}).setGraph(e.graph());return Ht.forEach(e.nodes(),function(r){e.children(r).length||t.setNode(r,e.node(r))}),Ht.forEach(e.edges(),function(r){t.setEdge(r,e.edge(r))}),t}function r7e(e){var t=Ht.map(e.nodes(),function(r){var n={};return Ht.forEach(e.outEdges(r),function(o){n[o.w]=(n[o.w]||0)+e.edge(o).weight}),n});return Ht.zipObject(e.nodes(),t)}function n7e(e){var t=Ht.map(e.nodes(),function(r){var n={};return Ht.forEach(e.inEdges(r),function(o){n[o.v]=(n[o.v]||0)+e.edge(o).weight}),n});return Ht.zipObject(e.nodes(),t)}function i7e(e,t){var r=e.x,n=e.y,o=t.x-r,s=t.y-n,a=e.width/2,l=e.height/2;if(!o&&!s)throw new Error("Not possible to find intersection inside of the rectangle");var f,u;return Math.abs(s)*a>Math.abs(o)*l?(s<0&&(l=-l),f=l*o/s,u=l):(o<0&&(a=-a),f=a,u=a*s/o),{x:r+f,y:n+u}}function o7e(e){var t=Ht.map(Ht.range(xte(e)+1),function(){return[]});return Ht.forEach(e.nodes(),function(r){var n=e.node(r),o=n.rank;Ht.isUndefined(o)||(t[o][n.order]=r)}),t}function s7e(e){var t=Ht.min(Ht.map(e.nodes(),function(r){return e.node(r).rank}));Ht.forEach(e.nodes(),function(r){var n=e.node(r);Ht.has(n,"rank")&&(n.rank-=t)})}function a7e(e){var t=Ht.min(Ht.map(e.nodes(),function(s){return e.node(s).rank})),r=[];Ht.forEach(e.nodes(),function(s){var a=e.node(s).rank-t;r[a]||(r[a]=[]),r[a].push(s)});var n=0,o=e.graph().nodeRankFactor;Ht.forEach(r,function(s,a){Ht.isUndefined(s)&&a%o!==0?--n:n&&Ht.forEach(s,function(l){e.node(l).rank+=n})})}function l7e(e,t,r,n){var o={width:0,height:0};return arguments.length>=4&&(o.rank=r,o.order=n),Rte(e,"border",o,t)}function xte(e){return Ht.max(Ht.map(e.nodes(),function(t){var r=e.node(t).rank;if(!Ht.isUndefined(r))return r}))}function u7e(e,t){var r={lhs:[],rhs:[]};return Ht.forEach(e,function(n){t(n)?r.lhs.push(n):r.rhs.push(n)}),r}function f7e(e,t){var r=Ht.now();try{return t()}finally{console.log(e+" time: "+(Ht.now()-r)+"ms")}}function c7e(e,t){return t()}var Ate=gr,d7e=$i,h7e={run:p7e,undo:g7e};function p7e(e){e.graph().dummyChains=[],Ate.forEach(e.edges(),function(t){b7e(e,t)})}function b7e(e,t){var r=t.v,n=e.node(r).rank,o=t.w,s=e.node(o).rank,a=t.name,l=e.edge(t),f=l.labelRank;if(s!==n+1){e.removeEdge(t);var u,d,g;for(g=0,++n;n<s;++g,++n)l.points=[],d={width:0,height:0,edgeLabel:l,edgeObj:t,rank:n},u=d7e.addDummyNode(e,"edge",d,"_d"),n===f&&(d.width=l.width,d.height=l.height,d.dummy="edge-label",d.labelpos=l.labelpos),e.setEdge(r,u,{weight:l.weight},a),g===0&&e.graph().dummyChains.push(u),r=u;e.setEdge(r,o,{weight:l.weight},a)}}function g7e(e){Ate.forEach(e.graph().dummyChains,function(t){var r=e.node(t),n=r.edgeLabel,o;for(e.setEdge(r.edgeObj,n);r.dummy;)o=e.successors(t)[0],e.removeNode(t),n.points.push({x:r.x,y:r.y}),r.dummy==="edge-label"&&(n.x=r.x,n.y=r.y,n.width=r.width,n.height=r.height),t=o,r=e.node(t)})}var Yv=gr,Xv={longestPath:_7e,slack:y7e};function _7e(e){var t={};function r(n){var o=e.node(n);if(Yv.has(t,n))return o.rank;t[n]=!0;var s=Yv.min(Yv.map(e.outEdges(n),function(a){return r(a.w)-e.edge(a).minlen}));return(s===Number.POSITIVE_INFINITY||s===void 0||s===null)&&(s=0),o.rank=s}Yv.forEach(e.sources(),r)}function y7e(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var Qv=gr,w7e=ts.Graph,Zv=Xv.slack,$te=m7e;function m7e(e){var t=new w7e({directed:!1}),r=e.nodes()[0],n=e.nodeCount();t.setNode(r,{});for(var o,s;v7e(t,e)<n;)o=S7e(t,e),s=t.hasNode(o.v)?Zv(e,o):-Zv(e,o),E7e(t,e,s);return t}function v7e(e,t){function r(n){Qv.forEach(t.nodeEdges(n),function(o){var s=o.v,a=n===s?o.w:s;!e.hasNode(a)&&!Zv(t,o)&&(e.setNode(a,{}),e.setEdge(n,a,{}),r(a))})}return Qv.forEach(e.nodes(),r),e.nodeCount()}function S7e(e,t){return Qv.minBy(t.edges(),function(r){if(e.hasNode(r.v)!==e.hasNode(r.w))return Zv(t,r)})}function E7e(e,t,r){Qv.forEach(e.nodes(),function(n){t.node(n).rank+=r})}var Za=gr,R7e=$te,x7e=Xv.slack,A7e=Xv.longestPath,$7e=ts.alg.preorder,T7e=ts.alg.postorder,I7e=$i.simplify,N7e=jc;jc.initLowLimValues=uM,jc.initCutValues=lM,jc.calcCutValue=Tte,jc.leaveEdge=Nte,jc.enterEdge=kte,jc.exchangeEdges=Cte;function jc(e){e=I7e(e),A7e(e);var t=R7e(e);uM(t),lM(t,e);for(var r,n;r=Nte(t);)n=kte(t,e,r),Cte(t,e,r,n)}function lM(e,t){var r=T7e(e,e.nodes());r=r.slice(0,r.length-1),Za.forEach(r,function(n){k7e(e,t,n)})}function k7e(e,t,r){var n=e.node(r),o=n.parent;e.edge(r,o).cutvalue=Tte(e,t,r)}function Tte(e,t,r){var n=e.node(r),o=n.parent,s=!0,a=t.edge(r,o),l=0;return a||(s=!1,a=t.edge(o,r)),l=a.weight,Za.forEach(t.nodeEdges(r),function(f){var u=f.v===r,d=u?f.w:f.v;if(d!==o){var g=u===s,h=t.edge(f).weight;if(l+=g?h:-h,O7e(e,r,d)){var p=e.edge(r,d).cutvalue;l+=g?-p:p}}}),l}function uM(e,t){arguments.length<2&&(t=e.nodes()[0]),Ite(e,{},1,t)}function Ite(e,t,r,n,o){var s=r,a=e.node(n);return t[n]=!0,Za.forEach(e.neighbors(n),function(l){Za.has(t,l)||(r=Ite(e,t,r,l,n))}),a.low=s,a.lim=r++,o?a.parent=o:delete a.parent,r}function Nte(e){return Za.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function kte(e,t,r){var n=r.v,o=r.w;t.hasEdge(n,o)||(n=r.w,o=r.v);var s=e.node(n),a=e.node(o),l=s,f=!1;s.lim>a.lim&&(l=a,f=!0);var u=Za.filter(t.edges(),function(d){return f===Ote(e,e.node(d.v),l)&&f!==Ote(e,e.node(d.w),l)});return Za.minBy(u,function(d){return x7e(t,d)})}function Cte(e,t,r,n){var o=r.v,s=r.w;e.removeEdge(o,s),e.setEdge(n.v,n.w,{}),uM(e),lM(e,t),C7e(e,t)}function C7e(e,t){var r=Za.find(e.nodes(),function(o){return!t.node(o).parent}),n=$7e(e,r);n=n.slice(1),Za.forEach(n,function(o){var s=e.node(o).parent,a=t.edge(o,s),l=!1;a||(a=t.edge(s,o),l=!0),t.node(o).rank=t.node(s).rank+(l?a.minlen:-a.minlen)})}function O7e(e,t,r){return e.hasEdge(t,r)}function Ote(e,t,r){return r.low<=t.lim&&t.lim<=r.lim}var L7e=Xv,Lte=L7e.longestPath,D7e=$te,M7e=N7e,P7e=F7e;function F7e(e){switch(e.graph().ranker){case"network-simplex":Dte(e);break;case"tight-tree":W7e(e);break;case"longest-path":j7e(e);break;default:Dte(e)}}var j7e=Lte;function W7e(e){Lte(e),D7e(e)}function Dte(e){M7e(e)}var fM=gr,B7e=U7e;function U7e(e){var t=H7e(e);fM.forEach(e.graph().dummyChains,function(r){for(var n=e.node(r),o=n.edgeObj,s=q7e(e,t,o.v,o.w),a=s.path,l=s.lca,f=0,u=a[f],d=!0;r!==o.w;){if(n=e.node(r),d){for(;(u=a[f])!==l&&e.node(u).maxRank<n.rank;)f++;u===l&&(d=!1)}if(!d){for(;f<a.length-1&&e.node(u=a[f+1]).minRank<=n.rank;)f++;u=a[f]}e.setParent(r,u),r=e.successors(r)[0]}})}function q7e(e,t,r,n){var o=[],s=[],a=Math.min(t[r].low,t[n].low),l=Math.max(t[r].lim,t[n].lim),f,u;f=r;do f=e.parent(f),o.push(f);while(f&&(t[f].low>a||l>t[f].lim));for(u=f,f=n;(f=e.parent(f))!==u;)s.push(f);return{path:o.concat(s.reverse()),lca:u}}function H7e(e){var t={},r=0;function n(o){var s=r;fM.forEach(e.children(o),n),t[o]={low:s,lim:r++}}return fM.forEach(e.children(),n),t}var el=gr,cM=$i,V7e={run:G7e,cleanup:J7e};function G7e(e){var t=cM.addDummyNode(e,"root",{},"_root"),r=z7e(e),n=el.max(el.values(r))-1,o=2*n+1;e.graph().nestingRoot=t,el.forEach(e.edges(),function(a){e.edge(a).minlen*=o});var s=K7e(e)+1;el.forEach(e.children(),function(a){Mte(e,t,o,s,n,r,a)}),e.graph().nodeRankFactor=o}function Mte(e,t,r,n,o,s,a){var l=e.children(a);if(!l.length){a!==t&&e.setEdge(t,a,{weight:0,minlen:r});return}var f=cM.addBorderNode(e,"_bt"),u=cM.addBorderNode(e,"_bb"),d=e.node(a);e.setParent(f,a),d.borderTop=f,e.setParent(u,a),d.borderBottom=u,el.forEach(l,function(g){Mte(e,t,r,n,o,s,g);var h=e.node(g),p=h.borderTop?h.borderTop:g,w=h.borderBottom?h.borderBottom:g,y=h.borderTop?n:2*n,v=p!==w?1:o-s[a]+1;e.setEdge(f,p,{weight:y,minlen:v,nestingEdge:!0}),e.setEdge(w,u,{weight:y,minlen:v,nestingEdge:!0})}),e.parent(a)||e.setEdge(t,f,{weight:0,minlen:o+s[a]})}function z7e(e){var t={};function r(n,o){var s=e.children(n);s&&s.length&&el.forEach(s,function(a){r(a,o+1)}),t[n]=o}return el.forEach(e.children(),function(n){r(n,1)}),t}function K7e(e){return el.reduce(e.edges(),function(t,r){return t+e.edge(r).weight},0)}function J7e(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,el.forEach(e.edges(),function(r){var n=e.edge(r);n.nestingEdge&&e.removeEdge(r)})}var dM=gr,Y7e=$i,X7e=Q7e;function Q7e(e){function t(r){var n=e.children(r),o=e.node(r);if(n.length&&dM.forEach(n,t),dM.has(o,"minRank")){o.borderLeft=[],o.borderRight=[];for(var s=o.minRank,a=o.maxRank+1;s<a;++s)Pte(e,"borderLeft","_bl",r,o,s),Pte(e,"borderRight","_br",r,o,s)}}dM.forEach(e.children(),t)}function Pte(e,t,r,n,o,s){var a={width:0,height:0,rank:s,borderType:t},l=o[t][s-1],f=Y7e.addDummyNode(e,"border",a,r);o[t][s]=f,e.setParent(f,n),l&&e.setEdge(l,f,{weight:1})}var Hs=gr,Z7e={adjust:eqe,undo:tqe};function eqe(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&Fte(e)}function tqe(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&rqe(e),(t==="lr"||t==="rl")&&(nqe(e),Fte(e))}function Fte(e){Hs.forEach(e.nodes(),function(t){jte(e.node(t))}),Hs.forEach(e.edges(),function(t){jte(e.edge(t))})}function jte(e){var t=e.width;e.width=e.height,e.height=t}function rqe(e){Hs.forEach(e.nodes(),function(t){hM(e.node(t))}),Hs.forEach(e.edges(),function(t){var r=e.edge(t);Hs.forEach(r.points,hM),Hs.has(r,"y")&&hM(r)})}function hM(e){e.y=-e.y}function nqe(e){Hs.forEach(e.nodes(),function(t){pM(e.node(t))}),Hs.forEach(e.edges(),function(t){var r=e.edge(t);Hs.forEach(r.points,pM),Hs.has(r,"x")&&pM(r)})}function pM(e){var t=e.x;e.x=e.y,e.y=t}var tl=gr,iqe=oqe;function oqe(e){var t={},r=tl.filter(e.nodes(),function(l){return!e.children(l).length}),n=tl.max(tl.map(r,function(l){return e.node(l).rank})),o=tl.map(tl.range(n+1),function(){return[]});function s(l){if(!tl.has(t,l)){t[l]=!0;var f=e.node(l);o[f.rank].push(l),tl.forEach(e.successors(l),s)}}var a=tl.sortBy(r,function(l){return e.node(l).rank});return tl.forEach(a,s),o}var Tu=gr,sqe=aqe;function aqe(e,t){for(var r=0,n=1;n<t.length;++n)r+=lqe(e,t[n-1],t[n]);return r}function lqe(e,t,r){for(var n=Tu.zipObject(r,Tu.map(r,function(u,d){return d})),o=Tu.flatten(Tu.map(t,function(u){return Tu.sortBy(Tu.map(e.outEdges(u),function(d){return{pos:n[d.w],weight:e.edge(d).weight}}),"pos")}),!0),s=1;s<r.length;)s<<=1;var a=2*s-1;s-=1;var l=Tu.map(new Array(a),function(){return 0}),f=0;return Tu.forEach(o.forEach(function(u){var d=u.pos+s;l[d]+=u.weight;for(var g=0;d>0;)d%2&&(g+=l[d+1]),d=d-1>>1,l[d]+=u.weight;f+=u.weight*g})),f}var Wte=gr,uqe=fqe;function fqe(e,t){return Wte.map(t,function(r){var n=e.inEdges(r);if(n.length){var o=Wte.reduce(n,function(s,a){var l=e.edge(a),f=e.node(a.v);return{sum:s.sum+l.weight*f.order,weight:s.weight+l.weight}},{sum:0,weight:0});return{v:r,barycenter:o.sum/o.weight,weight:o.weight}}else return{v:r}})}var Gi=gr,cqe=dqe;function dqe(e,t){var r={};Gi.forEach(e,function(o,s){var a=r[o.v]={indegree:0,in:[],out:[],vs:[o.v],i:s};Gi.isUndefined(o.barycenter)||(a.barycenter=o.barycenter,a.weight=o.weight)}),Gi.forEach(t.edges(),function(o){var s=r[o.v],a=r[o.w];!Gi.isUndefined(s)&&!Gi.isUndefined(a)&&(a.indegree++,s.out.push(r[o.w]))});var n=Gi.filter(r,function(o){return!o.indegree});return hqe(n)}function hqe(e){var t=[];function r(s){return function(a){a.merged||(Gi.isUndefined(a.barycenter)||Gi.isUndefined(s.barycenter)||a.barycenter>=s.barycenter)&&pqe(s,a)}}function n(s){return function(a){a.in.push(s),--a.indegree===0&&e.push(a)}}for(;e.length;){var o=e.pop();t.push(o),Gi.forEach(o.in.reverse(),r(o)),Gi.forEach(o.out,n(o))}return Gi.map(Gi.filter(t,function(s){return!s.merged}),function(s){return Gi.pick(s,["vs","i","barycenter","weight"])})}function pqe(e,t){var r=0,n=0;e.weight&&(r+=e.barycenter*e.weight,n+=e.weight),t.weight&&(r+=t.barycenter*t.weight,n+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=r/n,e.weight=n,e.i=Math.min(t.i,e.i),t.merged=!0}var b_=gr,bqe=$i,gqe=_qe;function _qe(e,t){var r=bqe.partition(e,function(d){return b_.has(d,"barycenter")}),n=r.lhs,o=b_.sortBy(r.rhs,function(d){return-d.i}),s=[],a=0,l=0,f=0;n.sort(yqe(!!t)),f=Bte(s,o,f),b_.forEach(n,function(d){f+=d.vs.length,s.push(d.vs),a+=d.barycenter*d.weight,l+=d.weight,f=Bte(s,o,f)});var u={vs:b_.flatten(s,!0)};return l&&(u.barycenter=a/l,u.weight=l),u}function Bte(e,t,r){for(var n;t.length&&(n=b_.last(t)).i<=r;)t.pop(),e.push(n.vs),r++;return r}function yqe(e){return function(t,r){return t.barycenter<r.barycenter?-1:t.barycenter>r.barycenter?1:e?r.i-t.i:t.i-r.i}}var Iu=gr,wqe=uqe,mqe=cqe,vqe=gqe,Sqe=Ute;function Ute(e,t,r,n){var o=e.children(t),s=e.node(t),a=s?s.borderLeft:void 0,l=s?s.borderRight:void 0,f={};a&&(o=Iu.filter(o,function(w){return w!==a&&w!==l}));var u=wqe(e,o);Iu.forEach(u,function(w){if(e.children(w.v).length){var y=Ute(e,w.v,r,n);f[w.v]=y,Iu.has(y,"barycenter")&&Rqe(w,y)}});var d=mqe(u,r);Eqe(d,f);var g=vqe(d,n);if(a&&(g.vs=Iu.flatten([a,g.vs,l],!0),e.predecessors(a).length)){var h=e.node(e.predecessors(a)[0]),p=e.node(e.predecessors(l)[0]);Iu.has(g,"barycenter")||(g.barycenter=0,g.weight=0),g.barycenter=(g.barycenter*g.weight+h.order+p.order)/(g.weight+2),g.weight+=2}return g}function Eqe(e,t){Iu.forEach(e,function(r){r.vs=Iu.flatten(r.vs.map(function(n){return t[n]?t[n].vs:n}),!0)})}function Rqe(e,t){Iu.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var g_=gr,xqe=ts.Graph,Aqe=$qe;function $qe(e,t,r){var n=Tqe(e),o=new xqe({compound:!0}).setGraph({root:n}).setDefaultNodeLabel(function(s){return e.node(s)});return g_.forEach(e.nodes(),function(s){var a=e.node(s),l=e.parent(s);(a.rank===t||a.minRank<=t&&t<=a.maxRank)&&(o.setNode(s),o.setParent(s,l||n),g_.forEach(e[r](s),function(f){var u=f.v===s?f.w:f.v,d=o.edge(u,s),g=g_.isUndefined(d)?0:d.weight;o.setEdge(u,s,{weight:e.edge(f).weight+g})}),g_.has(a,"minRank")&&o.setNode(s,{borderLeft:a.borderLeft[t],borderRight:a.borderRight[t]}))}),o}function Tqe(e){for(var t;e.hasNode(t=g_.uniqueId("_root")););return t}var Iqe=gr,Nqe=kqe;function kqe(e,t,r){var n={},o;Iqe.forEach(r,function(s){for(var a=e.parent(s),l,f;a;){if(l=e.parent(a),l?(f=n[l],n[l]=a):(f=o,o=a),f&&f!==a){t.setEdge(f,a);return}a=l}})}var Nu=gr,Cqe=iqe,Oqe=sqe,Lqe=Sqe,Dqe=Aqe,Mqe=Nqe,Pqe=ts.Graph,qte=$i,Fqe=jqe;function jqe(e){var t=qte.maxRank(e),r=Hte(e,Nu.range(1,t+1),"inEdges"),n=Hte(e,Nu.range(t-1,-1,-1),"outEdges"),o=Cqe(e);Vte(e,o);for(var s=Number.POSITIVE_INFINITY,a,l=0,f=0;f<4;++l,++f){Wqe(l%2?r:n,l%4>=2),o=qte.buildLayerMatrix(e);var u=Oqe(e,o);u<s&&(f=0,a=Nu.cloneDeep(o),s=u)}Vte(e,a)}function Hte(e,t,r){return Nu.map(t,function(n){return Dqe(e,n,r)})}function Wqe(e,t){var r=new Pqe;Nu.forEach(e,function(n){var o=n.graph().root,s=Lqe(n,o,r,t);Nu.forEach(s.vs,function(a,l){n.node(a).order=l}),Mqe(n,r,s.vs)})}function Vte(e,t){Nu.forEach(t,function(r){Nu.forEach(r,function(n,o){e.node(n).order=o})})}var Rt=gr,Bqe=ts.Graph,Uqe=$i,qqe={positionX:Gqe,findType1Conflicts:Gte,findType2Conflicts:zte,addConflict:bM,hasConflict:Kte,verticalAlignment:Jte,horizontalCompaction:Yte,alignCoordinates:Qte,findSmallestWidthAlignment:Xte,balance:Zte};function Gte(e,t){var r={};function n(o,s){var a=0,l=0,f=o.length,u=Rt.last(s);return Rt.forEach(s,function(d,g){var h=Hqe(e,d),p=h?e.node(h).order:f;(h||d===u)&&(Rt.forEach(s.slice(l,g+1),function(w){Rt.forEach(e.predecessors(w),function(y){var v=e.node(y),E=v.order;(E<a||p<E)&&!(v.dummy&&e.node(w).dummy)&&bM(r,y,w)})}),l=g+1,a=p)}),s}return Rt.reduce(t,n),r}function zte(e,t){var r={};function n(s,a,l,f,u){var d;Rt.forEach(Rt.range(a,l),function(g){d=s[g],e.node(d).dummy&&Rt.forEach(e.predecessors(d),function(h){var p=e.node(h);p.dummy&&(p.order<f||p.order>u)&&bM(r,h,d)})})}function o(s,a){var l=-1,f,u=0;return Rt.forEach(a,function(d,g){if(e.node(d).dummy==="border"){var h=e.predecessors(d);h.length&&(f=e.node(h[0]).order,n(a,u,g,l,f),u=g,l=f)}n(a,u,a.length,f,s.length)}),a}return Rt.reduce(t,o),r}function Hqe(e,t){if(e.node(t).dummy)return Rt.find(e.predecessors(t),function(r){return e.node(r).dummy})}function bM(e,t,r){if(t>r){var n=t;t=r,r=n}var o=e[t];o||(e[t]=o={}),o[r]=!0}function Kte(e,t,r){if(t>r){var n=t;t=r,r=n}return Rt.has(e[t],r)}function Jte(e,t,r,n){var o={},s={},a={};return Rt.forEach(t,function(l){Rt.forEach(l,function(f,u){o[f]=f,s[f]=f,a[f]=u})}),Rt.forEach(t,function(l){var f=-1;Rt.forEach(l,function(u){var d=n(u);if(d.length){d=Rt.sortBy(d,function(y){return a[y]});for(var g=(d.length-1)/2,h=Math.floor(g),p=Math.ceil(g);h<=p;++h){var w=d[h];s[u]===u&&f<a[w]&&!Kte(r,u,w)&&(s[w]=u,s[u]=o[u]=o[w],f=a[w])}}})}),{root:o,align:s}}function Yte(e,t,r,n,o){var s={},a=Vqe(e,t,r,o),l=o?"borderLeft":"borderRight";function f(g,h){for(var p=a.nodes(),w=p.pop(),y={};w;)y[w]?g(w):(y[w]=!0,p.push(w),p=p.concat(h(w))),w=p.pop()}function u(g){s[g]=a.inEdges(g).reduce(function(h,p){return Math.max(h,s[p.v]+a.edge(p))},0)}function d(g){var h=a.outEdges(g).reduce(function(w,y){return Math.min(w,s[y.w]-a.edge(y))},Number.POSITIVE_INFINITY),p=e.node(g);h!==Number.POSITIVE_INFINITY&&p.borderType!==l&&(s[g]=Math.max(s[g],h))}return f(u,a.predecessors.bind(a)),f(d,a.successors.bind(a)),Rt.forEach(n,function(g){s[g]=s[r[g]]}),s}function Vqe(e,t,r,n){var o=new Bqe,s=e.graph(),a=zqe(s.nodesep,s.edgesep,n);return Rt.forEach(t,function(l){var f;Rt.forEach(l,function(u){var d=r[u];if(o.setNode(d),f){var g=r[f],h=o.edge(g,d);o.setEdge(g,d,Math.max(a(e,u,f),h||0))}f=u})}),o}function Xte(e,t){return Rt.minBy(Rt.values(t),function(r){var n=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return Rt.forIn(r,function(s,a){var l=Kqe(e,a)/2;n=Math.max(s+l,n),o=Math.min(s-l,o)}),n-o})}function Qte(e,t){var r=Rt.values(t),n=Rt.min(r),o=Rt.max(r);Rt.forEach(["u","d"],function(s){Rt.forEach(["l","r"],function(a){var l=s+a,f=e[l],u;if(f!==t){var d=Rt.values(f);u=a==="l"?n-Rt.min(d):o-Rt.max(d),u&&(e[l]=Rt.mapValues(f,function(g){return g+u}))}})})}function Zte(e,t){return Rt.mapValues(e.ul,function(r,n){if(t)return e[t.toLowerCase()][n];var o=Rt.sortBy(Rt.map(e,n));return(o[1]+o[2])/2})}function Gqe(e){var t=Uqe.buildLayerMatrix(e),r=Rt.merge(Gte(e,t),zte(e,t)),n={},o;Rt.forEach(["u","d"],function(a){o=a==="u"?t:Rt.values(t).reverse(),Rt.forEach(["l","r"],function(l){l==="r"&&(o=Rt.map(o,function(g){return Rt.values(g).reverse()}));var f=(a==="u"?e.predecessors:e.successors).bind(e),u=Jte(e,o,r,f),d=Yte(e,o,u.root,u.align,l==="r");l==="r"&&(d=Rt.mapValues(d,function(g){return-g})),n[a+l]=d})});var s=Xte(e,n);return Qte(n,s),Zte(n,e.graph().align)}function zqe(e,t,r){return function(n,o,s){var a=n.node(o),l=n.node(s),f=0,u;if(f+=a.width/2,Rt.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":u=-a.width/2;break;case"r":u=a.width/2;break}if(u&&(f+=r?u:-u),u=0,f+=(a.dummy?t:e)/2,f+=(l.dummy?t:e)/2,f+=l.width/2,Rt.has(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":u=l.width/2;break;case"r":u=-l.width/2;break}return u&&(f+=r?u:-u),u=0,f}}function Kqe(e,t){return e.node(t).width}var __=gr,ere=$i,Jqe=qqe.positionX,Yqe=Xqe;function Xqe(e){e=ere.asNonCompoundGraph(e),Qqe(e),__.forEach(Jqe(e),function(t,r){e.node(r).x=t})}function Qqe(e){var t=ere.buildLayerMatrix(e),r=e.graph().ranksep,n=0;__.forEach(t,function(o){var s=__.max(__.map(o,function(a){return e.node(a).height}));__.forEach(o,function(a){e.node(a).y=n+s/2}),n+=s+r})}var Nt=gr,tre=Y8e,rre=h7e,Zqe=P7e,eHe=$i.normalizeRanks,tHe=B7e,rHe=$i.removeEmptyRanks,nre=V7e,nHe=X7e,ire=Z7e,iHe=Fqe,oHe=Yqe,ku=$i,sHe=ts.Graph,aHe=lHe;function lHe(e,t){var r=t&&t.debugTiming?ku.time:ku.notime;r("layout",function(){var n=r("  buildLayoutGraph",function(){return wHe(e)});r("  runLayout",function(){uHe(n,r)}),r("  updateInputGraph",function(){fHe(e,n)})})}function uHe(e,t){t("    makeSpaceForEdgeLabels",function(){mHe(e)}),t("    removeSelfEdges",function(){IHe(e)}),t("    acyclic",function(){tre.run(e)}),t("    nestingGraph.run",function(){nre.run(e)}),t("    rank",function(){Zqe(ku.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){vHe(e)}),t("    removeEmptyRanks",function(){rHe(e)}),t("    nestingGraph.cleanup",function(){nre.cleanup(e)}),t("    normalizeRanks",function(){eHe(e)}),t("    assignRankMinMax",function(){SHe(e)}),t("    removeEdgeLabelProxies",function(){EHe(e)}),t("    normalize.run",function(){rre.run(e)}),t("    parentDummyChains",function(){tHe(e)}),t("    addBorderSegments",function(){nHe(e)}),t("    order",function(){iHe(e)}),t("    insertSelfEdges",function(){NHe(e)}),t("    adjustCoordinateSystem",function(){ire.adjust(e)}),t("    position",function(){oHe(e)}),t("    positionSelfEdges",function(){kHe(e)}),t("    removeBorderNodes",function(){THe(e)}),t("    normalize.undo",function(){rre.undo(e)}),t("    fixupEdgeLabelCoords",function(){AHe(e)}),t("    undoCoordinateSystem",function(){ire.undo(e)}),t("    translateGraph",function(){RHe(e)}),t("    assignNodeIntersects",function(){xHe(e)}),t("    reversePoints",function(){$He(e)}),t("    acyclic.undo",function(){tre.undo(e)})}function fHe(e,t){Nt.forEach(e.nodes(),function(r){var n=e.node(r),o=t.node(r);n&&(n.x=o.x,n.y=o.y,t.children(r).length&&(n.width=o.width,n.height=o.height))}),Nt.forEach(e.edges(),function(r){var n=e.edge(r),o=t.edge(r);n.points=o.points,Nt.has(o,"x")&&(n.x=o.x,n.y=o.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var cHe=["nodesep","edgesep","ranksep","marginx","marginy"],dHe={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},hHe=["acyclicer","ranker","rankdir","align"],pHe=["width","height"],bHe={width:0,height:0},gHe=["minlen","weight","width","height","labeloffset"],_He={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},yHe=["labelpos"];function wHe(e){var t=new sHe({multigraph:!0,compound:!0}),r=_M(e.graph());return t.setGraph(Nt.merge({},dHe,gM(r,cHe),Nt.pick(r,hHe))),Nt.forEach(e.nodes(),function(n){var o=_M(e.node(n));t.setNode(n,Nt.defaults(gM(o,pHe),bHe)),t.setParent(n,e.parent(n))}),Nt.forEach(e.edges(),function(n){var o=_M(e.edge(n));t.setEdge(n,Nt.merge({},_He,gM(o,gHe),Nt.pick(o,yHe)))}),t}function mHe(e){var t=e.graph();t.ranksep/=2,Nt.forEach(e.edges(),function(r){var n=e.edge(r);n.minlen*=2,n.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?n.width+=n.labeloffset:n.height+=n.labeloffset)})}function vHe(e){Nt.forEach(e.edges(),function(t){var r=e.edge(t);if(r.width&&r.height){var n=e.node(t.v),o=e.node(t.w),s={rank:(o.rank-n.rank)/2+n.rank,e:t};ku.addDummyNode(e,"edge-proxy",s,"_ep")}})}function SHe(e){var t=0;Nt.forEach(e.nodes(),function(r){var n=e.node(r);n.borderTop&&(n.minRank=e.node(n.borderTop).rank,n.maxRank=e.node(n.borderBottom).rank,t=Nt.max(t,n.maxRank))}),e.graph().maxRank=t}function EHe(e){Nt.forEach(e.nodes(),function(t){var r=e.node(t);r.dummy==="edge-proxy"&&(e.edge(r.e).labelRank=r.rank,e.removeNode(t))})}function RHe(e){var t=Number.POSITIVE_INFINITY,r=0,n=Number.POSITIVE_INFINITY,o=0,s=e.graph(),a=s.marginx||0,l=s.marginy||0;function f(u){var d=u.x,g=u.y,h=u.width,p=u.height;t=Math.min(t,d-h/2),r=Math.max(r,d+h/2),n=Math.min(n,g-p/2),o=Math.max(o,g+p/2)}Nt.forEach(e.nodes(),function(u){f(e.node(u))}),Nt.forEach(e.edges(),function(u){var d=e.edge(u);Nt.has(d,"x")&&f(d)}),t-=a,n-=l,Nt.forEach(e.nodes(),function(u){var d=e.node(u);d.x-=t,d.y-=n}),Nt.forEach(e.edges(),function(u){var d=e.edge(u);Nt.forEach(d.points,function(g){g.x-=t,g.y-=n}),Nt.has(d,"x")&&(d.x-=t),Nt.has(d,"y")&&(d.y-=n)}),s.width=r-t+a,s.height=o-n+l}function xHe(e){Nt.forEach(e.edges(),function(t){var r=e.edge(t),n=e.node(t.v),o=e.node(t.w),s,a;r.points?(s=r.points[0],a=r.points[r.points.length-1]):(r.points=[],s=o,a=n),r.points.unshift(ku.intersectRect(n,s)),r.points.push(ku.intersectRect(o,a))})}function AHe(e){Nt.forEach(e.edges(),function(t){var r=e.edge(t);if(Nt.has(r,"x"))switch((r.labelpos==="l"||r.labelpos==="r")&&(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset;break}})}function $He(e){Nt.forEach(e.edges(),function(t){var r=e.edge(t);r.reversed&&r.points.reverse()})}function THe(e){Nt.forEach(e.nodes(),function(t){if(e.children(t).length){var r=e.node(t),n=e.node(r.borderTop),o=e.node(r.borderBottom),s=e.node(Nt.last(r.borderLeft)),a=e.node(Nt.last(r.borderRight));r.width=Math.abs(a.x-s.x),r.height=Math.abs(o.y-n.y),r.x=s.x+r.width/2,r.y=n.y+r.height/2}}),Nt.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function IHe(e){Nt.forEach(e.edges(),function(t){if(t.v===t.w){var r=e.node(t.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function NHe(e){var t=ku.buildLayerMatrix(e);Nt.forEach(t,function(r){var n=0;Nt.forEach(r,function(o,s){var a=e.node(o);a.order=s+n,Nt.forEach(a.selfEdges,function(l){ku.addDummyNode(e,"selfedge",{width:l.label.width,height:l.label.height,rank:a.rank,order:s+ ++n,e:l.e,label:l.label},"_se")}),delete a.selfEdges})})}function kHe(e){Nt.forEach(e.nodes(),function(t){var r=e.node(t);if(r.dummy==="selfedge"){var n=e.node(r.e.v),o=n.x+n.width/2,s=n.y,a=r.x-o,l=n.height/2;e.setEdge(r.e,r.label),e.removeNode(t),r.label.points=[{x:o+2*a/3,y:s-l},{x:o+5*a/6,y:s-l},{x:o+a,y:s},{x:o+5*a/6,y:s+l},{x:o+2*a/3,y:s+l}],r.label.x=r.x,r.label.y=r.y}})}function gM(e,t){return Nt.mapValues(Nt.pick(e,t),Number)}function _M(e){var t={};return Nt.forEach(e,function(r,n){t[n.toLowerCase()]=r}),t}var eS=gr,CHe=$i,OHe=ts.Graph,LHe={debugOrdering:DHe};function DHe(e){var t=CHe.buildLayerMatrix(e),r=new OHe({compound:!0,multigraph:!0}).setGraph({});return eS.forEach(e.nodes(),function(n){r.setNode(n,{label:n}),r.setParent(n,"layer"+e.node(n).rank)}),eS.forEach(e.edges(),function(n){r.setEdge(n.v,n.w,{},n.name)}),eS.forEach(t,function(n,o){var s="layer"+o;r.setNode(s,{rank:"same"}),eS.reduce(n,function(a,l){return r.setEdge(a,l,{style:"invis"}),l})}),r}var MHe="0.8.5",PHe={graphlib:ts,layout:aHe,debug:LHe,util:{time:$i.time,notime:$i.notime},version:MHe};const ore=zr(PHe),FHe={name:"GraphLayout",props:{nodes:{required:!0,type:Array},links:{required:!0,type:Array},activeLinks:{required:!0,type:Array},autoZoom:{default:!0},layoutCfg:{type:Object,default:function(){return{rankdir:"RL",align:void 0,nodesep:20,ranksep:50,marginx:10,marginy:10}}}},emits:["link-enter","link-out"],mounted(){this.renderGraph()},watch:{nodes(){this.renderGraph()},layoutCfg:{handler:"onLayoutCfgChange",deep:!0}},methods:{onLayoutCfgChange(){this.renderGraph()},async renderGraph(){if(this.nodes.length===0)return;await fn();const e=this.$el,t=go(e),r=go(this.$refs.layout),n=this.nodes.map(S=>({...S})),o=this.links.map(S=>({...S})),s=UHe(r,n,o,this.layoutCfg),a=MBe().nodes(n);a.force("links",NBe(o).id(({id:S})=>S).strength(0)).force("posX",PBe().strength(1).x(S=>s.nodes[S.id].x)).force("posY",FBe().strength(1).y(S=>s.nodes[S.id].y)).stop(),r.style("width",`${s.width}px`),r.style("height",`${s.height}px`);const l=e.clientWidth/s.width,f=e.clientHeight/s.height,u=Math.min(l,f,1),d=Math.max((e.clientWidth-s.width*u)/2,0),g=Math.max((e.clientHeight-s.height*u)/2,0),h=tUe().scaleExtent([.1,1.2]).on("zoom",({transform:S})=>{r.style("transform",`translate(${S.x}px, ${S.y}px) scale(${S.k})`),r.style("transform-origin","0 0")});t.call(h),qHe(t,h),this.autoZoom&&t.call(h.transform,Iv.translate(d,g).scale(u));const p=S=>this.links.find(({source:N,target:$})=>N===S.source.id&&$===S.target.id),w=r.select(".links").selectAll(".link").data(o).on("mouseover",(S,N)=>{const $=p(N);this.$emit("link-enter",$)}).on("mouseout",(S,N)=>{const $=p(N);this.$emit("link-out",$)}),y=r.select(".links").selectAll(".arrow-head").data(o).on("mouseover",(S,N)=>{const $=p(N);this.$emit("link-enter",$)}).on("mouseout",(S,N)=>{const $=p(N);this.$emit("link-out",$)}),v=()=>jHe(x,w,t,y),E=t.node(),x=r.selectAll(".node").data(n).call(WHe(a,v,E));for(let S=0,N=Math.ceil(Math.log(a.alphaMin())/Math.log(1-a.alphaDecay()));S<N;++S)a.tick();v(),a.force("posX",null).force("posY",null)}}};function jHe(e,t,r,n){const o=r.node(),s=hk(o).k;e.join().attr("style",u=>((isNaN(u.x)||isNaN(u.y))&&(u.x=300,u.y=300),`left: ${u.x}px; top: ${u.y}px`));const a=KBe().source(u=>sre(u,o,s)).target(u=>are(u,o,s)).x(({x:u})=>u).y(({y:u})=>u),l=u=>(are(u,o,s),"M -10 -5 L 0 0 L -10 5 z"),f=u=>{const d=a(u),g=d.split("C")[1].split(",").map(E=>new Number(E.trim()).valueOf()),h=d.split("C")[0].replace("M","").split(",").map(E=>new Number(E.trim()).valueOf()),p=[g[0],g[1]],w=[g[2],g[3]],y=[g[4],g[5]],v=HHe(h,p,w,y);return`translate(${y[0]}, ${y[1]}) rotate(${v(.95)})`};t.attr("d",a),n.attr("d",l),n.attr("transform",f)}function WHe(e,t,r){let n=0,o=0;function s(f,u){f.active||e.alphaTarget(.3).restart(),n=f.x,o=f.y,u.fx=u.x,u.fy=u.y}function a(f,u){const d=hk(r).k;u.fx=n+(f.x-n)/d,u.fy=o+(f.y-o)/d,t()}function l(f,u){f.active||e.alphaTarget(0),u.fx=null,u.fy=null,t()}return U3e().on("start",s).on("drag",a).on("end",l)}function sre(e,t,r){const o=t.querySelector(`[data-id="${e.source.id}"]`),s=o.querySelector(`[data-id="${e.sourceProperty}"]`),a=s??o,l=e.target.x>e.source.x?a.clientWidth+3:-3,f=s?s.getBoundingClientRect().y/r-o.getBoundingClientRect().y/r+s.clientHeight/2:o.clientHeight/2;return{x:e.source.x+l,y:e.source.y+f}}function are(e,t,r){const n=t.querySelector(`[data-id="${e.target.id}"]`),o=sre(e,t,r);return BHe(o,e.target,n.clientWidth,n.clientHeight)}function lre(e,t,r){return Math.max(t,Math.min(r,e))}function BHe(e,t,r,n){const o={x:t.x+r,y:t.y+n},s=lre(e.x,t.x,o.x),a=lre(e.y,t.y,o.y),l=Math.abs(s-t.x),f=Math.abs(s-o.x),u=Math.abs(a-t.y),d=Math.abs(a-o.y),g=Math.min(l,f,u,d);return g===u?{x:s,y:t.y}:g===d?{x:s,y:o.y}:g===l?{x:t.x,y:a}:{x:o.x,y:a}}function UHe(e,t,r,n){const o=new ore.graphlib.Graph;return o.setGraph(n),o.setDefaultEdgeLabel(()=>({})),t.forEach(s=>{const a=e.select(`[data-id="${s.id}"]`),l=a.style("width").replace("px",""),f=a.style("height").replace("px","");o.setNode(s.id,{width:l,height:f})}),r.forEach(({source:s,target:a})=>{o.setEdge(s,a)}),ore.layout(o),{width:o._label.width,height:o._label.height,nodes:o.nodes().reduce((s,a)=>{const l=o.node(a);return{...s,[a]:{id:a,x:l.x-l.width/2,y:l.y-l.height/2}}},{})}}function qHe(e,t){go("body").on("keydown",r=>{if(r.target.localName!=="body")return;const n=50,o={ArrowUp:[0,n],ArrowRight:[-n,0],ArrowDown:[0,-n],ArrowLeft:[n,0]}[r.key];o&&e.call(t.translateBy,...o)})}function HHe(e,t,r,n){return function(s){const a=3*Math.pow(1-s,2)*(t[0]-e[0])+6*(1-s)*s*(r[0]-t[0])+3*Math.pow(s,2)*(n[0]-r[0]),l=3*Math.pow(1-s,2)*(t[1]-e[1])+6*(1-s)*s*(r[1]-t[1])+3*Math.pow(s,2)*(n[1]-r[1]);return Math.atan2(l,a)*(180/Math.PI)}}const VHe={class:"graph-layout"},GHe={ref:"layout",class:"layout"},zHe=["data-id"],KHe={class:"links"},JHe=be("defs",null,[be("marker",{id:"dot",viewBox:"0 0 100 100",refX:"50",refY:"50",markerUnits:"userSpaceOnUse",markerWidth:"6",markerHeight:"6",orient:"auto",class:"fill-gray-600 dark:fill-gray-100"},[be("circle",{cx:"50",cy:"50",r:"50",class:"link-start"})]),be("marker",{id:"dot-active",viewBox:"0 0 100 100",refX:"50",refY:"50",markerUnits:"userSpaceOnUse",markerWidth:"6",markerHeight:"6",orient:"auto",class:"fill-primary-300"},[be("circle",{cx:"50",cy:"50",r:"50",class:"link-start"})])],-1);function YHe(e,t,r,n,o,s){return Ne(),He("div",VHe,[be("div",GHe,[(Ne(!0),He(Dt,null,dn(r.nodes,a=>(Ne(),He("div",{key:a.id,class:"node","data-id":a.id},[ya(e.$slots,"node",{node:a},()=>[_i(" Missing slot ")])],8,zHe))),128)),(Ne(),He("svg",KHe,[JHe,(Ne(!0),He(Dt,null,dn(r.links,(a,l)=>(Ne(),He("g",{class:"link-container",key:l},[be("path",{class:rn(["link stroke-gray-700 dark:stroke-gray-100",{active:r.activeLinks.includes(a)}])},[be("title",null,Wt(a.label),1)],2),be("path",{class:rn(["arrow-head fill-gray-600 dark:fill-gray-100",{active:r.activeLinks.includes(a)}])},null,2)]))),128))]))],512),ya(e.$slots,"default")])}const ure=Xo(FHe,[["render",YHe]]),XHe={class:"z-10 absolute bottom-2 right-2 text-sm text-gray-400"},QHe={key:1,class:"flex-grow bg-light dark:bg-dark flex flex-col items-center justify-center"},ZHe=[be("p",{class:"pb-4"},"No classes to show",-1)],e6e=Tt({...{name:"DataModelComponent"},props:{datamodel:{}},emits:["explore","toggle-shape","export"],setup(e,{emit:t}){const r=e,n=qe([]),o=Je(()=>r.datamodel.tables.filter(({isShown:g})=>g)),s={rankdir:"LR",align:"UR",nodesep:40,ranksep:500,marginx:10,marginy:10},a=Je(()=>{const g=new Set(o.value.map(({id:h})=>h));return o.value.flatMap(h=>h.properties.map(p=>({...p,table:h}))).reduce((h,p)=>(p.values.forEach(w=>{const y=p.table.id,v=w.id;g.has(v)&&h.push({source:y,target:v,sourceProperty:p.id,label:p.name})}),h),[])});function l(g){n.value=a.value.filter(h=>h.source===g.id)}function f(g,h){n.value=a.value.filter(p=>p.source===g.id&&p.sourceProperty===h.id)}function u(){n.value=[]}function d(g){n.value=[g]}return(g,h)=>o.value.length>0?(Ne(),er(Ze(ure),{key:0,nodes:o.value,links:a.value,"active-links":n.value,layoutCfg:s,onLinkEnter:d,onLinkOut:u,class:"bg-light dark:bg-dark flex-grow"},{node:pt(({node:p})=>[Pe(eje,{table:p,"active-links":n.value,onExplore:h[0]||(h[0]=w=>g.$emit("explore",w)),onHide:h[1]||(h[1]=w=>g.$emit("toggle-shape",w,!1)),onExport:h[2]||(h[2]=w=>g.$emit("export",w)),onHoverTitle:l,onUnhoverTitle:u,onHoverProperty:f,onUnhoverProperty:u},null,8,["table","active-links"])]),default:pt(()=>[ya(g.$slots,"default"),Kn(be("p",XHe," introspected ",512),[[Sf,g.datamodel.isIntrospected]])]),_:3},8,["nodes","links","active-links"])):(Ne(),He("div",QHe,ZHe))}}),t6e={class:"font-bold"},r6e={class:"flex flex-nowrap"},n6e={class:"w-full"},i6e=["data-id","onMouseenter","onMouseleave"],o6e={class:"border-b dark:border-gray-500 px-3 py-2 text-gray-800 dark:text-gray-50"},s6e={class:"border-b dark:border-gray-500 px-3 py-2"},a6e=Tt({...{name:"ResourceCard"},props:{resource:{},activeLinks:{}},emits:["hover-title","unhover-title","hover-property","unhover-property"],setup(e,{emit:t}){const r=e;function n(a){a.stopPropagation()}const o=Je(()=>r.activeLinks.some(a=>a.target===r.resource.id));function s(a){return r.activeLinks.some(l=>l.source===r.resource.id&&l.sourceProperty===a.id)}return(a,l)=>(Ne(),He("div",{class:rn(["border dark:border-gray-500 rounded shadow-md bg-white dark:bg-gray-800 opacity-90 text-sm",{active:o.value}])},[be("header",{class:"bg-gray-100 dark:bg-gray-900 flex items-center gap-4 justify-between px-3 py-2",onMouseenter:l[0]||(l[0]=f=>a.$emit("hover-title",a.resource)),onMouseleave:l[1]||(l[1]=f=>a.$emit("unhover-title",a.resource))},[be("h3",t6e,[Pe(ni,{label:a.resource.id},{default:pt(()=>[_i(Wt(a.resource.name),1)]),_:1},8,["label"])]),be("span",r6e,[ya(a.$slots,"actions",{},void 0,!0)])],32),be("table",n6e,[(Ne(!0),He(Dt,null,dn(a.resource.properties,(f,u)=>(Ne(),He("tr",{key:u,"data-id":f.id,class:rn({active:s(f)}),onMouseenter:d=>a.$emit("hover-property",a.resource,f),onMouseleave:d=>a.$emit("unhover-property",a.resource,f)},[be("th",o6e,[Pe(ni,{label:f.id},{default:pt(()=>[be("span",{onMousedown:n},Wt(f.name),33)]),_:2},1032,["label"])]),be("td",s6e,[(Ne(!0),He(Dt,null,dn(f.values,d=>(Ne(),He("div",{key:d.id},[ya(a.$slots,"property-value",{value:d},()=>[Pe(ni,{label:d.id},{default:pt(()=>[be("span",{onMousedown:n},Wt(d.name),33)]),_:2},1032,["label"])],!0)]))),128))])],42,i6e))),128))])],2))}}),l6e=Xo(a6e,[["__scopeId","data-v-e05bd27a"]]),u6e={key:0,class:"has-text-grey"},yM=Tt({...{name:"SpexTerm"},props:{term:{}},setup(e){const t=e,r=Oa.getInstance(),n=qe(l(r,t.term)),o=f(r,t.term),s=qe(t.term&&t.term.language),a=qe(o!==n.value?o:"");function l(u,d){return d&&(d.termType==="NamedNode"?u.shrink(d.value):d.value)}function f(u,d){if(d.termType==="Literal"){const g=d.datatype?`^^${u.shrink(d.datatype.value)}`:"",h=d.language?`@${d.language}`:"";return`${d.value}${g}${h}`}return d.value}return(u,d)=>(Ne(),er(ni,{label:a.value},{default:pt(()=>[_i(Wt(n.value),1),s.value?(Ne(),He("small",u6e,"@"+Wt(s.value),1)):Ut("",!0)]),_:1},8,["label"]))}}),wM=Tt({...{name:"TermExploreButton"},props:{term:{}},emits:["explore-resource"],setup(e,{emit:t}){const r=e,n=Je(()=>["NamedNode","BlankNode"].includes(r.term.termType)),o=Je(()=>({id:r.term.value,name:r.term.value,term:r.term}));return(s,a)=>n.value?(Ne(),er(ni,{key:0,label:"Explore"},{default:pt(()=>[be("button",{class:"button is-white is-small",onClick:a[0]||(a[0]=l=>s.$emit("explore-resource",o.value))},[Pe(Ze($ye),{class:"icon"})])]),_:1})):Ut("",!0)}});var fre;(function(e){e.pop="pop",e.push="push"})(fre||(fre={}));var cre;(function(e){e.back="back",e.forward="forward",e.unknown=""})(cre||(cre={}));var dre;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(dre||(dre={}));const f6e=Symbol("route location");function c6e(){return hn(f6e)}const d6e={class:"card h-full flex flex-col"},h6e={class:"card-header has-background-light"},p6e=be("h3",{class:"card-header-title"}," Resources Explorer ",-1),b6e={class:"card-header-icon py-0 px-1"},g6e=["href"],_6e=["onClick"],y6e={class:"flex items-center"},w6e=Tt({...{name:"ResourcesExplorer"},props:{resources:{}},emits:["explore-resource","unexplore-resource","close"],setup(e,{emit:t}){const r=e,n=c6e(),o=Oa.getInstance(),s=Je(()=>{const h=new Set(r.resources.map(({id:p})=>p));return r.resources.filter(p=>p.properties).flatMap(p=>p.properties.map(w=>({...w,resource:p}))).reduce((p,w)=>(w.values.forEach(y=>{const v=w.resource.id,E=y.value;h.has(E)&&p.push({source:v,target:E,sourceProperty:w.id,label:w.name})}),p),[])}),a=qe([]);function l(h){a.value.push(h)}function f(){a.value=[]}function u(h){a.value=s.value.filter(p=>p.source===h.id)}function d(h,p){a.value=s.value.filter(w=>w.source===h.id&&w.sourceProperty===p.id)}async function g(){r.resources.forEach(async h=>{if(!h.isFetched)try{const w={...await o.fetchResource(h.id),isFetched:!0};t("explore-resource",w)}catch{const w={...h,isFetched:!0};t("explore-resource",w)}})}return Sr(()=>{g()}),cn(r.resources,g),Je(()=>n.params.uri),(h,p)=>(Ne(),He("div",d6e,[be("div",h6e,[p6e,be("p",b6e,[be("button",{class:"button is-light",onClick:p[0]||(p[0]=w=>h.$emit("close")),title:"Close"},[Pe(Ze(Jl),{class:"icon"})])])]),Pe(Ze(ure),{class:"card-content p-0",nodes:h.resources,links:s.value,"active-links":a.value,"auto-zoom":!1,onLinkEnter:l,onLinkOut:f},{node:pt(({node:w})=>[Pe(l6e,{resource:w,"active-links":a.value,onHoverTitle:u,onUnhoverTitle:f,onHoverProperty:d,onUnhoverProperty:f},{actions:pt(()=>[Pe(ni,{label:"Open URI in new tab"},{default:pt(()=>[be("a",{href:w.id,target:"_blank",rel:"noopener noreferrer",class:"button is-light"},[Pe(Ze(wye),{class:"icon"})],8,g6e)]),_:2},1024),Pe(ni,{label:"Hide"},{default:pt(()=>[be("button",{class:"button is-light",onClick:y=>h.$emit("unexplore-resource",w)},[Pe(Ze(jU),{class:"icon"})],8,_6e)]),_:2},1024)]),"property-value":pt(({value:y})=>[be("div",y6e,[Pe(yM,{term:y,endpoint:Ze(o)},null,8,["term","endpoint"]),Pe(wM,{term:y,onExploreResource:p[1]||(p[1]=v=>h.$emit("explore-resource",v))},null,8,["term"])])]),_:2},1032,["resource","active-links"])]),_:1},8,["nodes","links","active-links"])]))}}),m6e={},v6e={class:"animate-spin h-8 w-8",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},S6e=[be("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"#ffb15e","stroke-width":"4"},null,-1),be("path",{class:"opacity-75",fill:"#ffb15e",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)];function E6e(e,t){return Ne(),He("svg",v6e,S6e)}const mM=Xo(m6e,[["render",E6e]]),R6e=["id","value"],x6e={key:0},A6e=be("span",null,"Load more",-1),$6e=Tt({...{name:"SelectGraph"},props:{id:{},modelValue:{},graphs:{},loading:{type:Boolean},hasMoreGraphs:{type:Boolean}},emits:["update:modelValue","fetch-more"],setup(e,{emit:t}){return(r,n)=>(Ne(),er(Ze(tFe),{as:"div",class:"control",modelValue:r.modelValue,"onUpdate:modelValue":n[2]||(n[2]=o=>r.$emit("update:modelValue",o))},{default:pt(()=>[Pe(Ze(rFe),{as:"div",class:"relative"},{default:pt(()=>[be("input",{id:r.id,placeholder:"DEFAULT",class:"input",value:r.modelValue,onInput:n[0]||(n[0]=o=>r.$emit("update:modelValue",o.target.value)),autocomplete:"off"},null,40,R6e),Kn(Pe(mM,{class:"absolute top-2 right-2"},null,512),[[Sf,r.loading]])]),_:1}),Pe(cw,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"scale-95 opacity-0","enter-to-class":"scale-100 opacity-100","leave-active-class":"transition duration-75 ease-out","leave-from-class":"scale-100 opacity-100","leave-to-class":"scale-95 opacity-0"},{default:pt(()=>[Pe(Ze(nFe),{as:"ul",class:"bg-white border border-gray-100 shadow-md absolute w-full z-10 max-h-64 overflow-y-scroll"},{default:pt(()=>[(Ne(!0),He(Dt,null,dn(r.graphs,o=>(Ne(),er(Ze(iFe),{as:"template",key:o,value:o},{default:pt(({active:s,selected:a})=>[be("li",{class:rn(["px-2 py-2",{"bg-gray-100":s,"bg-primary-300":a}])},Wt(o),3)]),_:2},1032,["value"]))),128)),r.hasMoreGraphs?(Ne(),He("li",x6e,[be("button",{type:"button",class:rn(["button is-light justify-start w-full",{"is-loading":r.loading}]),onClick:n[1]||(n[1]=o=>r.$emit("fetch-more"))},[Pe(Ze(yye),{class:"icon"}),A6e],2)])):Ut("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),vM=Tt({...{name:"SpexSwitch"},props:{modelValue:{}},emits:["update:modelValue"],setup(e,{emit:t}){return(r,n)=>(Ne(),er(Ze(_Fe),{modelValue:r.modelValue,"onUpdate:modelValue":n[0]||(n[0]=o=>r.$emit("update:modelValue",o)),class:rn([r.modelValue?"bg-primary-400":"bg-gray-300","relative inline-flex shrink-0 items-center h-6 w-10 rounded-full shadow-inner"])},{default:pt(()=>[be("span",{class:rn([r.modelValue?"translate-x-5":"translate-x-1","inline-block w-4 h-4 bg-white rounded-full shadow transition duration-200 ease-in-out"])},null,2)]),_:1},8,["modelValue","class"]))}}),T6e={class:"card is-shadowless h-full overflow-y-auto"},I6e={class:"card-header has-background-light"},N6e=be("h3",{class:"card-header-title"},"Options",-1),k6e={class:"card-header-icon py-0 px-1"},C6e={class:"card-content"},O6e={class:"field"},L6e=be("label",{class:"label",for:"endpoint"},"Sparql Endpoint URL",-1),D6e={class:"control has-icons-right"},M6e={key:0,class:"icon is-small is-right",CheckIcon:""},P6e={class:"field"},F6e=be("label",{class:"label",for:"username"},"Username",-1),j6e={class:"field"},W6e=be("label",{class:"label",for:"password"},"Password",-1),B6e=be("label",{class:"label",for:"graph"},"Named Graph",-1),U6e={class:"field"},q6e={key:0,class:"message is-danger"},H6e={class:"message-body"},V6e={class:"field"},G6e=be("label",{class:"label"},"Custom prefixes",-1),z6e={class:"flex flex-col gap-1"},K6e=["onUpdate:modelValue"],J6e=["onUpdate:modelValue"],Y6e=["onClick"],X6e={key:0,class:"has-text-grey"},Q6e={class:"field"},Z6e={class:"label flex items-center gap-2"},e4e=be("p",{class:"help"},[_i(" By default, the explorer will use the endpoint schema provided at "),be("code",null,"endpoint/.well-known/void"),_i(" (if any). Use this option to force an introspection. ")],-1),t4e=Tt({...{name:"SettingsPane"},props:{settings:{}},emits:["settingsChanged","close"],setup(e,{emit:t}){const r=e,n=10,o=qe({sparqlEndpoint:r.settings.sparqlEndpoint,namedGraph:r.settings.namedGraph,prefixes:r.settings.prefixes,username:r.settings.username,password:r.settings.password,forceIntrospection:r.settings.forceIntrospection}),s=qe(!1),a=qe(!1);let l=null;r.settings.sparqlEndpoint&&E();const f=qe([]),u=qe(!1),d=qe(!1),g=qe(null),h=qe(0);Sr(async()=>{r.settings.sparqlEndpoint!==null&&await x()});function p(q){q.preventDefault(),q.stopPropagation(),t("settingsChanged",o.value)}function w(){t("close")}function y(q){o.value.namedGraph=null,E()}function v(q){var k,V,j,B;((((k=o.value.username)==null?void 0:k.length)??0)>0&&(((V=o.value.username)==null?void 0:V.length)??0)>0||(((j=o.value.username)==null?void 0:j.length)??0)===0&&(((B=o.value.username)==null?void 0:B.length)??0)===0)&&E()}async function E(){const q=Oa.getInstance(o.value);s.value=await q.canFetchOne(),a.value=!1,s.value&&x()}async function x(){d.value=!0,l=Oa.getInstance(o.value),h.value=0,f.value=await N()??[]}async function S(){const q=await N()??[];f.value=f.value.concat(q)}async function N(){d.value=!0,g.value="";try{const q={offset:h.value,limit:n},k=await(l==null?void 0:l.fetchGraphs(q));return h.value=h.value+n,u.value=((k==null?void 0:k.length)??0)>=n,k}catch(q){return g.value=q.toString(),[]}finally{d.value=!1}}function $(){o.value.prefixes.push({prefix:"",namespace:""})}function D(q){o.value.prefixes.splice(q,1)}function K(){a.value=!0,l=null}return(q,k)=>(Ne(),He("div",T6e,[be("div",I6e,[N6e,be("p",k6e,[be("button",{type:"button",class:"button is-light",onClick:w,title:"Close"},[Pe(Ze(Jl),{class:"icon"})])])]),be("form",C6e,[be("div",O6e,[L6e,be("p",D6e,[Kn(be("input",{id:"endpoint",type:"text",class:"input","onUpdate:modelValue":k[0]||(k[0]=V=>o.value.sparqlEndpoint=V),onBlur:y,onFocusin:K},null,544),[[Kl,o.value.sparqlEndpoint]]),a.value?Ut("",!0):(Ne(),He("span",M6e,[s.value?(Ne(),er(Ze(Sye),{key:0,class:"icon",style:{color:"green"}})):Ut("",!0),s.value?Ut("",!0):(Ne(),er(Ze(Jl),{key:1,class:"icon",style:{color:"red"}}))]))])]),be("div",P6e,[F6e,Kn(be("input",{id:"username",type:"text",class:"input","onUpdate:modelValue":k[1]||(k[1]=V=>o.value.username=V),onBlur:v},null,544),[[Kl,o.value.username]])]),be("div",j6e,[W6e,Kn(be("input",{id:"password",type:"password",class:"input","onUpdate:modelValue":k[2]||(k[2]=V=>o.value.password=V),onBlur:v},null,544),[[Kl,o.value.password]])]),be("div",{class:rn(["field",g.value?"is-danger":""])},[B6e,Pe($6e,{id:"graph",modelValue:o.value.namedGraph,"onUpdate:modelValue":k[3]||(k[3]=V=>o.value.namedGraph=V),graphs:f.value,loading:d.value,"has-more-graphs":u.value,onFetchMore:S},null,8,["modelValue","graphs","loading","has-more-graphs"])],2),be("div",U6e,[g.value?(Ne(),He("div",q6e,[be("div",H6e,Wt(g.value),1)])):Ut("",!0)]),be("div",V6e,[G6e,be("div",z6e,[(Ne(!0),He(Dt,null,dn(o.value.prefixes,(V,j)=>(Ne(),He("div",{key:j,class:"flex gap-1"},[Kn(be("input",{type:"text","onUpdate:modelValue":B=>V.prefix=B,placeholder:"schema",class:"input w-24",required:""},null,8,K6e),[[Kl,V.prefix]]),Kn(be("input",{type:"text","onUpdate:modelValue":B=>V.namespace=B,placeholder:"http://schema.org/",class:"input flex-grow",required:""},null,8,J6e),[[Kl,V.namespace]]),be("button",{type:"button",class:"button is-white",title:"Remove prefix",onClick:B=>D(j)},[Pe(Ze(Tye),{class:"icon"})],8,Y6e)]))),128)),o.value.prefixes.length===0?(Ne(),He("p",X6e," No custom prefix ")):Ut("",!0),be("p",null,[be("button",{type:"button",class:"button is-white",title:"Add prefix",onClick:$},[Pe(Ze(Iye),{class:"icon"})])])])]),be("div",Q6e,[be("label",Z6e,[Pe(vM,{modelValue:o.value.forceIntrospection,"onUpdate:modelValue":k[4]||(k[4]=V=>o.value.forceIntrospection=V)},null,8,["modelValue"]),_i(" Force introspection ")]),e4e]),be("div",{class:"field"},[be("button",{class:"button is-primary",type:"submit",onClick:p},"Load")])])]))}}),r4e={class:"card h-full flex flex-col"},n4e={class:"card-header has-background-light"},i4e={class:"card-header-title"},o4e={key:0},s4e={key:1},a4e={class:"card-header-icon py-0 px-1"},l4e={class:"card-content h-full p-0 overflow-auto flex flex-col"},u4e={key:0,class:"table is-fullwidth mb-0"},f4e=be("th",null,"URI",-1),c4e={class:"border-b"},d4e={class:"flex items-center"},h4e={class:"sticky bottom-0"},p4e={class:"bg-gray-50"},b4e=["colspan"],g4e={class:"flex items-center gap-2"},_4e=["disabled"],y4e={key:1,class:"flex-grow flex justify-center items-center"},w4e={key:2,class:"message is-danger"},m4e={class:"message-body"},v4e=Tt({...{name:"TableExplorer"},props:{table:{},tables:{}},emits:["close","explore-resource"],setup(e,{emit:t}){const r=e,n=Oa.getInstance(),o=qe([]),s=qe(null),a=qe(!1),l=10,f=qe(1),u=async()=>{if(o.value=[],s.value=null,!r.table)return;const g=(f.value-1)*l,h=l;a.value=!0;try{n&&(o.value=await n.fetchTableData(r.table,{offset:g,limit:h}))}catch(p){s.value=p,console.error(p)}finally{a.value=!1}};cn(()=>r.table,(g,h)=>{d(1)});const d=g=>{f.value=g,u()};return Sr(()=>{d(1)}),(g,h)=>(Ne(),He("div",r4e,[be("div",n4e,[be("h3",i4e,[g.table?(Ne(),He("span",o4e,Wt(g.table.name),1)):(Ne(),He("span",s4e,"No table selected"))]),be("p",a4e,[be("button",{class:"button is-light",onClick:h[0]||(h[0]=p=>g.$emit("close")),title:"Close"},[Pe(Ze(Jl),{class:"icon"})])])]),be("div",l4e,[g.table?(Ne(),He("table",u4e,[be("thead",null,[be("tr",null,[f4e,(Ne(!0),He(Dt,null,dn(g.table.properties,(p,w)=>(Ne(),He("th",{key:w},Wt(p.name),1))),128))])]),be("tbody",c4e,[(Ne(!0),He(Dt,null,dn(o.value,(p,w)=>(Ne(),He("tr",{key:w},[be("td",null,[be("p",d4e,[Pe(yM,{term:p.term,endpoint:Ze(n)},null,8,["term","endpoint"]),Pe(wM,{term:p.term,onExploreResource:h[1]||(h[1]=y=>g.$emit("explore-resource",y))},null,8,["term"])])]),(Ne(!0),He(Dt,null,dn(g.table.properties,(y,v)=>(Ne(),He("td",{key:v},[(Ne(!0),He(Dt,null,dn(p[y.id]||[],(E,x)=>(Ne(),He("p",{class:"flex items-center",key:x},[Pe(yM,{term:E,endpoint:Ze(n)},null,8,["term","endpoint"]),Pe(wM,{term:E,onExploreResource:h[2]||(h[2]=S=>g.$emit("explore-resource",S))},null,8,["term"])]))),128))]))),128))]))),128))]),Kn(be("tfoot",h4e,[be("tr",p4e,[be("td",{colspan:1+g.table.properties.length},[be("div",g4e,[be("button",{class:"button px-2",disabled:f.value===1,onClick:h[3]||(h[3]=p=>d(f.value-1))},[Pe(Ze(Eye),{class:"w-5 h-5"})],8,_4e),be("span",null,"Page "+Wt(f.value),1),be("button",{class:"button px-2",onClick:h[4]||(h[4]=p=>d(f.value+1))},[Pe(Ze(Rye),{class:"w-5 h-5"})])])],8,b4e)])],512),[[Sf,!a.value]])])):Ut("",!0),a.value?(Ne(),He("div",y4e,[Pe(mM)])):Ut("",!0),s.value?(Ne(),He("div",w4e,[be("div",m4e," Error loading data: "+Wt(s.value),1)])):Ut("",!0)])]))}});function S4e(e,t){return Ne(),He("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[be("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})])}function E4e(e,t){return Ne(),He("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[be("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})])}function R4e(e,t){return Ne(),He("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[be("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"})])}function x4e(e,t){return Ne(),He("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[be("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})])}const A4e={class:"panel-block is-justify-content-space-between"},$4e={style:{"flex-grow":"1","overflow-x":"clip","text-overflow":"ellipsis"}},T4e={style:{"flex-grow":"0"},class:"badge"},I4e=Tt({...{name:"TableListItem"},props:{table:{}},emits:["toggle-table","select-viewport"],setup(e,{emit:t}){const r=e,n=Je(()=>{const s=r.table.count??0;return s>1e3&&s<1e6?o(s/1e3,1)+"K":s>1e6?o(s/1e6,1)+"M":`${s}`});function o(s,a){const l=Math.pow(10,a||0);return Math.round(s*l)/l}return(s,a)=>(Ne(),He("div",A4e,[be("span",$4e,Wt(s.table.name),1),Pe(ni,{label:"Instances"},{default:pt(()=>[be("div",T4e,Wt(n.value),1)]),_:1}),Pe(vM,{style:{"flex-grow":"0"},modelValue:s.table.isShown,"onUpdate:modelValue":a[0]||(a[0]=l=>s.$emit("toggle-table",s.table,l))},null,8,["modelValue"])]))}}),N4e=Xo(I4e,[["__scopeId","data-v-f6057106"]]),k4e={class:"card is-shadowless overflow-y-auto"},C4e={class:"card-header has-background-light"},O4e=be("h3",{class:"card-header-title"},"Classes",-1),L4e={class:"card-header-icon py-0 px-1"},D4e={class:"card-content px-0 py-1"},M4e={class:"field m-0 px-2 py-2 border-b flex flex-wrap justify-end items-center gap-2"},P4e=be("label",{class:"label m-0",for:"predefined-views"},"Predefined views",-1),F4e={class:"select"},j4e=be("option",{value:""},"-",-1),W4e=["value"],B4e={class:"panel-block is-justify-content-space-between"},U4e={style:{"flex-grow":"1",display:"flex","flex-direction":"row","align-items":"center"}},q4e=Tt({...{name:"TableList"},props:{datamodel:{}},emits:["toggle-table","select-viewport","close"],setup(e,{emit:t}){const r=e,n=qe(!0),o=qe(!1),s=qe(""),a=qe(r.datamodel.tables);Sr(()=>{a.value=a.value.sort((d,g)=>(g.count??0)-(d.count??0))}),cn(s,(d,g)=>{o.value?a.value=r.datamodel.tables.filter(h=>h.name.toLocaleLowerCase().indexOf(d.toLocaleLowerCase())>-1).sort((h,p)=>(h.count??0)-(p.count??0)):a.value=r.datamodel.tables.filter(h=>h.name.toLocaleLowerCase().indexOf(d.toLocaleLowerCase())>-1).sort((h,p)=>(p.count??0)-(h.count??0))}),cn(o,(d,g)=>{d?a.value=r.datamodel.tables.filter(h=>h.name.toLocaleLowerCase().indexOf(s.value.toLocaleLowerCase())>-1).sort((h,p)=>(h.count??0)-(p.count??0)):a.value=r.datamodel.tables.filter(h=>h.name.toLocaleLowerCase().indexOf(s.value.toLocaleLowerCase())>-1).sort((h,p)=>(p.count??0)-(h.count??0))});const l=d=>{const g=d.target.value,h=r.datamodel.viewports.find(p=>p.id===g)??null;t("select-viewport",h)};function f(){o.value=!o.value}const u=d=>{n.value=d,r.datamodel.tables.forEach(g=>{g.isShown=d})};return(d,g)=>(Ne(),He("div",k4e,[be("div",C4e,[O4e,be("p",L4e,[be("button",{class:"button is-light",onClick:g[0]||(g[0]=h=>d.$emit("close"))},[Pe(Ze(Jl),{class:"icon"})])])]),be("div",D4e,[Kn(be("div",M4e,[P4e,be("div",F4e,[be("select",{id:"predefined-views",onInput:l},[j4e,(Ne(!0),He(Dt,null,dn(d.datamodel.viewports,h=>(Ne(),He("option",{key:h.id,value:h.id},Wt(h.name),9,W4e))),128))],32)])],512),[[Sf,d.datamodel.viewports.length>0]]),be("ul",null,[be("li",B4e,[be("div",U4e,[Pe(Ze(x4e),{class:"icon",style:{"margin-right":"5px"}}),Kn(be("input",{type:"text",class:"input","onUpdate:modelValue":g[1]||(g[1]=h=>s.value=h)},null,512),[[Kl,s.value]])]),be("button",{onClick:f,style:{"flex-grow":"0","margin-left":"5px","margin-right":"5px",width:"35px"}},[o.value?(Ne(),er(Ze(E4e),{key:0,class:"icon"})):Ut("",!0),o.value?Ut("",!0):(Ne(),er(Ze(R4e),{key:1,class:"icon"}))]),Pe(vM,{style:{"flex-grow":"0"},modelValue:n.value,"onUpdate:modelValue":u},null,8,["modelValue"])]),(Ne(!0),He(Dt,null,dn(a.value,h=>(Ne(),er(N4e,{key:h.id,table:h,onToggleTable:p=>d.$emit("toggle-table",h,p)},null,8,["table","onToggleTable"]))),128))])])]))}}),H4e={name:"GitHubLogo"},V4e={href:"https://github.com/zazuko/SPEX",target:"_blank",rel:"noopener noreferer",title:"Github repository"},G4e=[be("svg",{class:"w-5 h-5 opacity-100 dark:fill-white hover:opacity-70","aria-hidden":"true",viewBox:"0 0 16 16",version:"1.1","data-view-component":"true"},[be("path",{"fill-rule":"evenodd",d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"})],-1)];function z4e(e,t,r,n,o,s){return Ne(),He("a",V4e,G4e)}const K4e=Xo(H4e,[["render",z4e]]),J4e={name:"ZazukoLogo"},Y4e={href:"https://zazuko.com",target:"_blank",rel:"noopener"},X4e=[gU('<svg class="h-8 dark:fill-white opacity-100 hover:opacity-70" clip-rule="evenodd" fill-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.41421" viewBox="0 0 768 260" xmlns="http://www.w3.org/2000/svg"><path d="m2137 3767c1-1-44-1-42-1h240c6-2 12-7 12-14s-5-13-12-14h-195c-35 0-63-29-63-64 0-31 23-57 53-62 2-1-14-1-13-1h223c7-1 12-7 12-14 0-8-7-14-15-14-80 0-161 2-242 2-16 0-27-17-31-30-21-62-34-144-80-190-121-121-165-296-94-456 66-149 211-240 374-241 336-3 529 388 328 654 16 21 25 47 25 74 0 65-53 119-118 119-66 0-119-54-119-119 0-66 53-119 119-119 19 0 37 5 53 13 175-233 5-574-287-571-143 1-270 80-329 211-62 140-23 293 84 399 56 56 66 131 90 204v1h227c35 0 64 28 64 63 0 31-23 58-53 63-2 0-32 0-34 0h29c-2 0-4 0-6 0h-199c-7 2-12 8-12 14 0 7 5 13 12 14h194c35 0 64 29 64 64 0 31-23 57-54 62-1 1 27 1 25 1h-29c-2 0-4 0-6 0h-188c-6 1-11 7-11 14 0 8 6 14 14 14 21 0 73-1 94 0 206 15 363-55 512-199 135-131 211-315 211-502 0-69-10-136-29-200h-1c-25-86-67-167-123-238h-2c-85-108-201-190-335-233v-3l-1 2c-34-11-69-19-105-24-3 11-8 22-15 33-37 54-110 69-165 33-23-16-40-39-48-65-333 56-587 346-587 695 0 89 17 178 50 261 14-7 30-10 46-10 66 0 119 53 119 119 0 65-53 118-119 118-65 0-118-53-118-118 0-30 10-58 30-80-38-92-58-190-58-290 0-374 273-685 631-744 0-2 1-5 1-7h2c3-15 9-30 18-44 36-54 110-69 165-33 29 20 47 50 51 82 43 6 85 17 126 30v1c77 26 149 64 213 112v-1c70 53 129 115 176 186h1c80 120 126 263 126 418 0 237-111 459-301 603-205 141-324 151-565 147-35 0-64-28-64-63 0-31 23-58 54-62zm183-1327v-1c1-1 1-2 1-3l1-1v-1-1-1l1-1v-1-1l1-2v-1-1-1-1-1l1-1v-1c0-1 0-2 0-3v-1-1-1-1-1-1-1-1-1-1-1-1l-1-1v-1-1-2-1l-1-2v-1-1l-1-1v-1-1-1h-1v-1c-5-14-14-27-28-36-32-22-77-13-99 20-3 5-6 11-8 17v2h-1v3h-1v5h-1v23l1 1v4l1 1v3l1 1v2l1 1v2l1 1c5 13 14 24 26 32 33 22 77 13 99-19 3-5 5-9 7-13zm234 910c-7-7-15-13-23-18-10-5-21-7-32-7-39 0-71 32-71 71s31 71 71 71c39 0 71-32 71-71 0-17-6-33-16-46zm-905 233c40 0 71-32 71-71 0-40-31-72-71-72-39 0-71 32-71 72 0 39 32 71 71 71z" transform="matrix(.14637844056 0 0 .14637844056 -192.39293319 -322.90052908)"></path><g fill="#ff441c"><path d="m3509 3401.22c-4 5-6 10-6 17 0 3 1 6 2 10l6 9c2 2 5 4 8 5s7 2 11 2h417c7 0 13-2 18-7 5-6 8-12 8-20s-3-13-8-19c-5-5-11-7-18-7h-343c-4 0-7-2-8-5s-1-7 1-9l371-443c4-5 6-11 6-18 0-3-1-6-2-9s-4-7-6-9-5-4-8-6c-4-1-7-2-11-2h-417c-8 0-13 3-18 8-6 5-8 11-8 18 0 8 2 14 8 20 5 5 10 8 18 8h342c3 0 6 1 8 4 1 3 1 7-2 9z" transform="matrix(.12790089092 0 0 .12790089092 -128.22109287 -266.58431113)"></path><path d="m4479 3418.22c0 7 2 13 7 18 6 6 12 8 20 8 7 0 13-2 18-8 6-5 8-11 8-18v-251c0-77-27-142-81-196s-119-81-196-81-142 27-196 81c-54 55-81 119-81 196s27 142 81 196 119 81 196 81c32 0 63-5 93-16 29-10 56-26 81-45l36-29c2-2 6-3 9-1 3 1 5 4 5 7zm-224-474c30 0 60 5 88 17 26 12 50 28 70 49 21 20 37 44 48 70 12 28 18 57 18 87s-6 59-18 87c-11 26-27 50-48 70-20 21-44 37-71 49s-57 18-87 18-60-6-88-18c-27-12-50-28-71-48-20-21-36-45-47-71-12-28-18-57-18-87s6-59 18-87c11-26 27-50 47-70 21-21 44-37 71-49 28-12 57-17 88-17z" transform="matrix(.12790089092 0 0 .12790089092 -128.22109287 -266.58431113)"></path><path d="m4597 3401.22c-4 5-5 10-5 17 0 3 0 6 2 10 1 3 3 6 5 9 3 2 5 4 8 5s7 2 11 2h417c7 0 13-2 18-7 6-6 8-12 8-20s-2-13-8-19c-5-5-10-7-18-7h-343c-4 0-6-2-8-5-1-3-1-7 1-9l371-443c5-5 6-11 6-18 0-3-1-6-2-9s-3-7-6-9c-2-2-5-4-8-6-3-1-7-2-11-2h-417c-7 0-13 3-18 8-6 5-8 11-8 18 0 8 2 14 8 20 5 5 11 8 18 8h342c3 0 6 1 8 4 1 3 1 7-1 9z" transform="matrix(.12790089092 0 0 .12790089092 -128.22109287 -266.58431113)"></path><path d="m5609 3444.22c8 0 14-2 20-7 5-6 7-12 7-19v-502c0-7-2-13-7-18-6-5-11-8-19-8s-14 2-19 8c-6 5-8 11-8 18v272c0 27-5 54-16 79-10 24-25 46-43 64-19 19-41 33-65 44-25 11-51 16-79 16-27 0-54-5-79-16-24-11-46-25-64-43-19-19-33-41-43-65-11-25-16-52-16-79v-272c0-7-3-13-8-18-6-5-11-8-19-8s-13 2-19 8c-5 5-8 11-8 18v272c0 34 7 67 20 99 14 30 32 58 56 82 24 23 51 41 82 55 31 13 64 20 98 20 28 0 56-3 83-12 26-8 49-21 70-38l35-27c3-2 6-3 9-1 3 1 5 4 5 7l1 44c0 8 3 14 8 20 5 5 11 7 18 7z" transform="matrix(.12790089092 0 0 .12790089092 -128.22109287 -266.58431113)"></path><path d="m6162 3439.22c4 4 10 5 16 5 4 0 8 0 11-2 3-1 5-3 8-5 3-3 5-6 6-10 2-3 2-6 2-9 0-8-3-14-8-20l-253-285c-2-2-3-5-2-7 0-3 1-5 3-6l252-163c7-5 8-12 8-21 0-3 0-6-1-9-2-3-4-7-7-9-2-2-5-4-8-6-3-1-7-2-11-2-5 0-9 1-14 4l-363 236c-2 2-5 2-8 0-3-1-5-4-5-7v-470c0-7-2-13-7-19-6-5-12-8-19-8-8 0-14 3-19 8-6 6-8 12-8 19v764c0 8 2 14 8 19 5 6 11 8 19 8 7 0 13-2 18-8 6-5 8-11 8-19v-210c0-3 2-6 4-7l93-61c4-3 8-2 11 1z" transform="matrix(.12790089092 0 0 .12790089092 -128.22109287 -266.58431113)"></path><path d="m6802.94 3171.21c0-39.08-6.34-76.05-21.12-111.96-14.79-35.91-36.97-67.59-64.43-95.06-57.04-57.03-125.69-85.55-207.02-85.55-80.27 0-148.92 28.52-207.01 85.55-57.04 58.09-85.55 125.69-85.55 207.02 0 81.32 28.51 149.98 85.55 207.01 58.09 57.04 126.74 85.55 207.01 85.55 81.33 0 149.98-28.51 207.02-85.55 58.09-57.03 86.6-125.69 85.55-207.01zm-292.57-235.53c32.74 0 63.37 5.28 92.95 17.95 27.46 12.68 52.81 29.58 74.99 51.76 21.12 21.12 38.02 46.47 49.64 73.93 12.67 29.57 19.01 60.2 19.01 91.89 0 31.68-6.34 62.31-19.01 91.89-11.62 27.46-28.52 52.81-49.64 73.93-22.18 22.18-47.53 39.08-74.99 51.75-29.58 12.68-60.21 19.02-92.95 19.02-31.68 0-63.37-6.34-92.94-19.02-27.46-12.67-52.81-29.57-73.94-50.69-22.18-22.18-39.08-47.53-50.69-74.99-12.68-29.58-17.96-60.21-17.96-91.89 0-31.69 5.28-62.32 17.96-91.89 11.61-27.46 28.51-52.81 50.69-73.93 21.13-22.18 46.48-39.08 73.94-51.76 29.57-12.67 61.26-17.95 92.94-17.95z" transform="matrix(.12790089092 0 0 .12790089092 -129.98018937 -266.58431113)"></path></g></svg>',1)];function Q4e(e,t,r,n,o,s){return Ne(),He("a",Y4e,X4e)}const Z4e=Xo(J4e,[["render",Q4e]]),eVe={name:"SpexLogo"},tVe={width:"100%",height:"100%",viewBox:"0 0 284 284",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2",fill:"rgba(0,0,0,0.3)"}},rVe=[gU('<path d="M283.465,55.991c-0,-30.902 -25.089,-55.991 -55.992,-55.991l-171.482,0c-30.902,0 -55.991,25.089 -55.991,55.991l-0,171.482c-0,30.903 25.089,55.992 55.991,55.992l171.482,-0c30.903,-0 55.992,-25.089 55.992,-55.992l-0,-171.482Z"></path><clipPath id="_clip1"><path d="M141.732,34.873l92.543,53.43l-0,106.859l-92.543,53.429l-92.542,-53.429l-0,-106.859l92.542,-53.43Zm0,18.209l-76.773,44.325l0,88.65l76.773,44.325l76.773,-44.325l0,-88.65l-76.773,-44.325Z"></path></clipPath><g clip-path="url(#_clip1)"><use xlink:href="#_Image2" x="49.19" y="34.873" width="186px" height="214px"></use></g><defs><image id="_Image2" width="186px" height="214px" xlink:href="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQIBAQEBAQIBAQECAgICAgICAgIDAwQDAwMDAwICAwQDAwQEBAQEAgMFBQQEBQQEBAT/2wBDAQEBAQEBAQIBAQIEAwIDBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAT/wAARCADWALoDAREAAhEBAxEB/8QAHgAAAgMBAQEBAQEAAAAAAAAABAYDBQcIAgkKAQD/xABAEAABAgQDBQUHAgQEBwEAAAABAAIDBBEhBTFBBhIiUWFxgZGh8AcTIzKxwdFS4QgUYvFCgpKiCRUWJENTcmP/xAAfAQACAgIDAQEBAAAAAAAAAAAFBgMHBAgCCQsKAQD/xAA3EQABAwQCAQIFAgUEAgIDAAABAAIEAwURIQYxEkFhBxMiQlEVMggUcYGhCVKRwSMzYuGx0fD/2gAMAwEAAhEDEQA/APjJNymdv3X2TUay6So9fOEqTspY2pflkjFCttH40jYSjPSlK2zzRqPWTBFkdbSbPyvzWRyPWTHEr9JTjQzDedL2RljvJqbLfJLXA5XqG7LwK/Hj1VjWiX0Mo6G6vqqx3j1VoWeUDhHQzp5FY7x6q1bLJBxtHQnZX8Bmsd6tiyV/27VjDNdajzKxn9q3bHVGso2F/hWM79yuGxP6VrLH8fVYdb9yt+ynNI/2/wC1awr0/wDlCJHSdIIyrqXbWnU5pXnO7TtbG5IKYpVtSEnz34BVkWqmSQmaUh5JFuFXZVoWehoEppk4VaJDudfGVa9mik+KapODWlkhXKTjKtmyw840muUgi3RV/cpXe1bdng6GlaE7ooO5JMyvknKdKbABgdBDudQdUsyq/anAycIdxoOuiXpNftTAYGFC45k/3S/JkHala31Kh33c/JCjXP5UixGbk6VtZd5tCvleU9Hk/hKk5J03rWKMUK/uj0aRnCUZ6T+a1e6qNx66YosjPqkuflKb1uxHY1ZMkSR1kpIxCUpU0TBGrBNEORsKiHC6h50KIEZCerRMwQMoyE5QOGsK07PL+obVhDdl9qBYrhkK2rLKyRtHwnEc6c81juGQrgscjY2rGERao7KZhYz+lclirZI2rCFanU3WK/tXRYKnkWhW0vp2flYNXtXVZP8A1H+ytYGh9ZoPKP0lPEAdFX8q27fEUSlPd2E/WpgLgUzSbK0tqki5VMZwrPs9HpNUnDy/CQLlWwCVbdljE4TbJQcrfhV5cpHZVv2SHnGk3yMCu7ZV1dJWyrjsUDo4TNCYIbOSr64Sck7VpwY/yaYHqV4c7MlKUuR2iYGNBDudqUsSpHama3AQ7nalLkmT2pWtzsqBztT3BL8mSpe9BQ755BCzIOVJ8v3SHOSWdB+670aFdeT3Hk9JUnJL5hTyuEYoSEfjSekoT0nnVvbyRuhX62mKLJ6OUmYhJfNZHY1fraZIknraRsRk/mtTuTDFr9JphyekiTkuYbyaUGtkwUKge3Cb7fK8XAhQQn9fNSPHqrPss7ONqxhOy86myxnjat+xTMgKwhOyy5LFcN4V0WGVnx2rOCeVe0rFeNEK7LBXz4qyhZ94WJU9FeXHquS1W8sbgLCrDeVelidmjj+iuZcXA7EClnAT/bfRMUo3w9FJlwdjIKsaz084wmuSh13fVUgXWt2rbsdDPjpN8jCrT1VVxdpGAVcthiE+Ok5yMCu7bVVrdpWMq67BAz46TlJwA0AkeIVaXWXs4KuqyQAxocRpHPdp4pEmye03MbgIV7q62CVJkntTsb6lDOdW+QCWJcnana3Oyh3u1OQyS5Lk+6lA9Ah3Orc/2S/Ik+6ma3Cj3x1Qwyd9rkoJuRz4e6i706EheStHlY9Uqzsjnb1yRihIR6NK90oT0jmCEajyPRMMWUkvEJH5hu+OiPxpA1tM0SV0kTEpH5rFMMWR1hNMKV0s+xSS+bhPgmSJI903wZPST3NMKIQdCjjSHtyn+zTi1wGUZCdl/aigeNYVx2Gdtu1ZQj+RqsR49Vd/HpmfEZVnBP8A9LFeNq9+NychuFaQqeSwqnSv3jVb9quJb5u2qwqyv/j5yz/hX0uKu70vTTohWVbGg4JTPJMy7aV5JEuVTAO1aNkpE+Ok4yEOtLX5Kt7tX2Vc/H42caTth8H5bZ9yq+7ytnavPjsLPjpPOHS/y2VV3mbs7V8cct2fHSZQBDYAM6UVZ3GX5ElWvFoClTDAh3u011SZNld7Wc1uShnu8B5pTmSu9rIa3KFe/U5aBK8uV2pgPQIdzq3OX0S5Jk97UzW4UDnV6BL8mV7qVrc7Ki3x1Qz+b91J4j8J1m5CteHuyXexRkryKo8v0StOYfna6L0JPujsaX7pQnsPrvcPlkjVCT1tMMWX1tJWIYf81r9iPRpKZokzpIuIyB4uHyTFEk77TVCl9bWeYph9nVCZocnpOEGXjG1muKSRY4uAv6smmJXDhgp2t0zBByqmE+h3Tancs149VbPH7jnx2rSE7LNYjx2FfHHJwPjtWsB3d1F1hVAthOMy8lu1bQTWnl4LCqDGVsVxWvnxV3KmpHYh9fQytjeNOzT/ALBMEoN4ivO6WrgcNJVq2lvkQm6QZXdsOaru61QAVcHH6GS1PWHQa7tvuqqvEjAccq+eNw/Lx0n7DZb5bevFVHepmA7a2E41bc+Ok9ykEQ2bxtZVHeJxJIBV/WSA2jSD8bUj3687BV7Pl7O0zNb6BCPdpXtKTZsvvayWtzoIV7/D6pRmS+9qcD0CFc7U9wSxKmd7UzW4UDnanuCXJMtTNZ6lQOdXOwS/Il+6lAJ6UW+OqGGWFz+X7rdZrDs6N8vXNd7tGUvH9jzfTKWJzDs+GnWmSL0JPujsaZ65SjPYb83Dra1UZjyuto/Fm9bSZiGG3dw3zCOxpaZIk3raRcSw35uFMMWUNbTXCm9bWdYrhvzcOvqyZ4crracIE0ZG1mOL4ceOjTrfNNkKV1tPFumdZKzaagOloxsQK8qJqo1BUYrIslw8Ht3pTQH9fuo6jdK+eMXEEtBKuIDsr6f2WDUHa2R4pO8vHauoBrTtGqwaq2d4jIz47V7KGpHYhsj9uVtDxZ3lS/t/2maSbUi3YlK6OwCrjsrPItTvh0KtK0VXXuv4g7V6cajeRaFoeFy9d23lRU3fpYGRlbHcUt5cWkhaRhcpZpI68lSt/uGC7a2Y4paNNJCYnkAboyGaqW5zcknKtmjTDGBrUE9/ifJIc+b3tZjG+gQb3jnb6pLnTe9rJa30CFe/n3BKUyaN7UzW4/qhnP53PJK8qb3tTtbjZQ7n6m55JckzFM1mdlQOfzPcgUiZ3tSgY0FH7zp5oYZ4z2uXg5ddTWG2PDTuqu+GjMXjmUJnulucwzOrfAXRahL90ajzSMbSpO4Wb8Nq8skZoS/dHo04a2k6fwuu9w539etUcjTPdMkWd1kpFxLCvmq1MEWZ1tNMOf1tZ1iuFfNw30NM0zw5nW04wJ/W1mOM4VZ3CRnVNsGZ1tPFtnjW1kOOYYRvndoRqnW3ywcDKsK1TxkbSZDJhvLDm05eu5HXAOHkFdXFrrhzW5VzAfkc1g1G4W0HDrkHFu1eyzrU08EOqhbY8Kl+RZhMUnSo7EKkftW3fDnh1D+3/YTbh4qQKapKvD8NOFe/HaXk5q0PCYNd235VN8hkhudrY7iEIvLNLUcHlK7llRHI7gG+RJW1nDLSX+H0rRZeGIEIfqIy5Kib7cfN7trZezwGxY4BG1FEf+3VVjc5/eCmBjfVAxImd+080gXGeN5KymM9B2g3xL9dBoElzp+ztZLW+gQrn8jU6lKUyf3tTtbjpDOfy7yliVO91M1mNlDuicvEpelTwPVShpKHdE/uUuSrls7UzWfhRe8H6j5oOZ4O8qT5fuvoZM4VWvD5LvsozsdFeMpRmY2ClubwrPh8rIxQne6L0J3ulicwnM7vr1RGqE73RyNP90oz2EfNw+SOR5vW0wRbj1tJGI4OTvcHkj8Wd7poh3EDG1nuK4NQO4OeiZYc7rJTdAuWxtZjjOC2dweVKJtgz+tp3t1y2NrHsfwY8fBzOSd7dOyRtWParj+3axTGZB0rFMRrbV4k+QZIqs8SrX4/dCyo0goSVeLHyU1Zq2g4ReA4sw5Mco7JC6wW53AZ4eWbTPIXI+iDyuv+Vu9wN/zKH9v+wnjC27xb9VXl+qeLStlOK0C+o1argktvblvwqA5RODPLa2z4LbDULNLYMGk9xoe4UAFVrdym6jLmgrc7hNkDKbarxoK6ixNNFR94uOztW1TZrA6VfFiZ+H7KsrpctnazGMP90BEiZ9PAJBn3LZ2spjPwg3xOtvMpLm3H3WS1n4Qr4n9glSXcQNkqdrfQIV8Xv+gStMugGcFTNpod0Tv+gSvKune1OGflDuid58kuSbnvtTNYovef1DyQv9S91z8Gr6xTGFf0+IXfxSn+68VmjPx0VQzOE2PB1yy0RWjcPdFaNwB0Sl2bwb5qMHhZGKFwxjaL0Lh+ClSdwXPg8qo5GuXW0cj3LHqkyfwM0PBXuTBFuI1tMcS54OikLE8Ds7g7hZMkS4jI2myDdetrM8YwAkPqw9lE1wbjsbTtbrsARgrIMewB1H0ZXuyTrbrlsYKsO03cZG1gu0+AENicHPRWNaLiPp2rYsd2BxtY4+E+UmHQnAjiq3qnhrxXpB7VsPwa/BlVjCVdycQVF6+dVgV2rez4aXdtQ08FOGH3cBXNApX7SuxD4aV/mUB/RaRgcIuLBSqqblMgU2uW4HBohrVGLcdm5HfLLctFqxzO7CmHbW9/w1sBrGngfhaiGtgQhDFBQXWrfJLv5vccrcC2QmxI7aLR0gI0Wnq6pm83bZ2jdOmq2JF6+uirG53cDIBWYymgXxev4SFcLrknay20/wAoN8b1qkudeGtztZDaZKDfF9ZBJs28g52shtNDPi9fGwSnLvHe1O2mh3Rete3JLcq7Z9VO2moHRa+qBAZF1znakDAovef1DyQ03Xfak8Hfhfb+NhBvw1Glrkr6CKdw914jFOcR6qmj4Pnw+SI0rh7ohSuOD2qOZwU34PAInRuXuidG5e6XZvAya8GfRGKF0wRkozQuuPVKk7gFd7g7wEcjXXraOxrqNbSRiOzjjvD3Z7gmWJdxrJTJEu4bjazvFtmyQ4+78AmuFdhkbThb71gjaybHdmCd74Z10TnbruBjasC1XwDG1g21GyzqRKQz/pVi2i8DI2rVsd+GR9S5f2x2diwHPishneYSQaUyVt2O5sqgMcVfHFb8G1GODtpJkYpJFbEWOlDkj0lmtLfD4R8lbVfSHl+E+YW7ecw+skuTdMcu1v4PSRJjsxvS2XZeVMV0O2o7lr7zyeKDH7XYh8K7W6VVp4HeF0dgMk2WlhFeBvEDdWj3PuQA1HsDl2afDjjzYMBsmo3fojpiPndawcivrcuHkrfpUlURY+d1TV5voydojTpKuiR+vRVldL61ucuWYymgIkx1VfXLkLd4cstlFBPj9Uizr+Dn6lkspIR8fP6pRmXzOdrIbT9EO6N18LnxS3JvWT2pm01A6L1+5QGReM+qkFNROi+ickHrXb3UoplePe9WrA/Vl+/L91+h+JhF6bmWlKL6GGXH1yvDZp3Deiq6LgxI+XXlVZlO4+6y6dy91Vx8DrXg1rlQlZ1O549VnU7kPyqWY2frXg7bWoiVK7Y9UQpXTH3JfmtnC4H4da9EVoXgD1RWhd8eqVp3ZgnepD8kdjXrB/cjka9+P3JJxLZPeDvhZ60TJCv2CPqTNCv4BAys0xrYxzmupCz/AKaFOVv5CMjLk523kQBB8lie0mw7i2J8E3B0VhWrkLcg+Ssuy8oAI+pcu7dbBvLI3wb3yard4/yMeTfqV6cW5W0OaPJcbbQ4PHwLE3B7C2DFeQKjIq8rbOp3CIMH6gFuj8I+aNoTqTXP0SPVX2BvD3Mv0Qu5/RTcV3ifw4XVtzjUy050F1FsBhJmDCcW8IG8SchzWlvxf5DTgMqAux2u7L+HjiNS5PpVC3WitqmIzITBDZZrRutC65ubcsaatRxf+V2NwITI9FtGmMNAwFQTE1nda0ci5WzLsuR2lQVPGmxehVL3rl9ME4ciNOPpVkWazuqtunLQ4n6lnMjoF8z1SFP5P5Z+pZTaKFdH6/slOXyPJP1KdtFQOj9ful2Rf8/cpW0lA6OOdfNBK97ye1KKXsozGOlfohVW85Pa5hn5URi9R9ShtW759VzFMfhefe/1eSxv1Y/lcvln8L9QbsHN6sPgvoqbcMbyvCSbPOO0K7Bq14LHpVStuQzklTNuR6yhH4HpuZ5Gl1kMueD2sht0I7KBi7P1qNzvospl2x9yyWXcDeVXRtm6/wDj8qrMp3jHqs2nesfcqiPssTX4fkiFK+4PaIUr7jtyX5vY7er8Lnk1FaHIvH7kVociA+5KWIbBmJvUg1/y5JgicpDMfUj8TlAZ09ZvjXs0dFDqS9ag5MzThbuZhhB80423mQpkEuWCbX+yGLHhxd2VN6/4FaNi57SY4eT1anH/AIgspObmp/lcE+2T2Hzn8tNRIUnEDmguaQw1BzC2T4N8QI5qsa6oMf1W1/w2+KNBkin5VfUeq432el5mUxV2FzbHw5qXj+5iMcN2vI99ldd7r0alsdOpHLC0kH+y+if+ADnFDl9alApvDqgAGM/0XdWzMmzBcElzEAbMTEMPIdm1tLeOa6c/4ivijEo3SvGbVGGkjv1/+l9dHwI4OePcQjVq7MVqrQfcNI1/z3/woJ3FG1dx1Nea6zOb/FaIKj//AC5/uti40FxHSXo+JAk31WtPIPigyq52Kmv6oxShEeiqok9WvEqmufPvmE/Ws9kXCDfOV1STN5mHknzWQ2PhDumuuaW5HKw7P1KYUMKF0xfNBq3JfL7lIKKiMfv60QuryDP3KQUl4Mfr50WBUvmfVchS9l4MbqPqsR96z6rkKeF5971p3LFfeM/cv35fuv5749fAKH9WH5X74BfrmOGQjy7xVfR3+pY6K8FH+eevJwqHoR4UX9+p49V/fzz14OEwznumvrkv0XUA7d/lchcaoXn/AJNB5NXMXgDef8r9/Uqo6UZwKA7Ms8F/frjf9y5i6VBvCjds9LHN0MdoK5DkLW681zF2qAYUTtmJR4u5lOgK5DlFNv3qRt5qs9Chomx8i+xfDv0I+y5DmVNh/wDYFM2/yBsZVfG2Dw2KDV8P/SfrRTD4hUKIz80f8rKp8omU9gFUU37LMFmg4RIkC4/TVZDPjBEh7dXAx7olH5zcaBy0FZttH/DfsjjsGJDmZmWYHgh29COvcikX+K6z8ZIrSJgAb7pytHxjv1rqNfRY4491wTt5/wALTEdvfaHgU/7IdqNm37QOfMR5nZvGTMYdAxxkvLxpmHLwplkF7GRosSEyDDMbdh70wN97BxBL+OH+vN/Dt/DZ8I7s7nFKZPlFgp0GwqdOo5lWq4Uw+r82tRaKNMONSqWOfV8GH5dKo7DT32/6I/8AHFbLb/GjxHgXxWjV6fH5tSoyRIptFT5Ip0alVjns8mnwfVYyiXNyWfN8g12PE8ue0f8Ahz/iI2HxKaw7an2ez2Ex5WIYT4bY7I8Ju6acL28JFrEWXQnyr/VO498ZZNS72OR40qpJAJ3ve/f8r00uD/Gj4Lcmt9KRxy7sqUyBj6S3AxoeJwRj8YWDz2xO3ks4iZwWYhEfMHHJVVM/iTbeHF4r5z7q3YnKuI12h1CU0hUEXZvaZh+Jh8VtOaCVfi5/NHPzf8otTvlid/66wKCfgmOD5pOI3vosN3xCNU/v/wArKbdbSf21QhnYTi4zlnHTKqx3c0NT71MLjbT09RHDMTGcBw71EeVl33KQT4J6evBw7ENYLvquB5IXdOUn87C/3heDh88M4ZHbZcf18u+5folxDsOXn+Rnv/WPH9lxN8J9VyEqL0HBef5Gd/8AWfE/hcTec9uX7/NRvyv5/JTn6P8Acfwvz9Xz9y/f5mh+V/v5Kc/R/uP4X9+rH/cv3+ao/lfr096PVV9GTr6R25eCJ4D1X89+B+5/dY77+R9y/vALyZjvCxX8iI+5fvg1eDMch30Cw6nJiM/Uv0MHovJmSNfOhQ+ryrx6cuXhn0UTpo6uHfdC6/MPH7lyFI9gKJ03S9T10CByudeH3/5XMUSh3ztzeumdSlad8R/lg/8Ak/ypGxxnaDiYjT/F36n1dV/d/i06g0n5n+VO2KD6KqmMWIrR/bQqjeVfHevQa5tOqc/1WZTh59EtzuLRSHcZHetSPiD8ar3Op1A6QQ38An/KLR4Lc9LX/YJKvh7SwsciV96xwbANbsbXMdv4XUR/FVy6RySE631ahLM9LtJ/07+LG1c7ZzN7cVBph9Q32/r/APjC769pHst2c9qGADFJjDpaZnjBAnt+C174hIp7zLM6nn2rro4zy658Quf8nSqltPP04PQ/H/6/+l9ivwF+Mt1oW2OachzXgDor5d+1D+EvBjFmYklh0Npq4+790ARfTmttuI/GecGNZXqk9eq7IuC/xC3RlNjJdYn3yuI9rv4bYcnEi0kGihNPhq/bL8VHSGgGp/lbR8c+N75TG5q/5WD4z7D2y5fSTAof0KxoPxAdUAPn/lW5bPisawB+Z/lZviHsl90SP5b/AGppjc1c/H1p3h/EU1Pv/wApQm/ZruV/7el/0I5R5YXb8kyR+c+YH1pdmPZ/uZQKU5tRSlybP3I1Q5iXfcqaPsPSo9yf9NlnU+Q5+5E6XKs7LlWRdjQ0Ee68s1lsvwP3LOZyYHB8kBE2SpUe7p/luFlNvWfuWY3kQIz5IJ+y1P8AxnvGSnbd8+qymX/X7kP/ANLj9DPBS/q/uVL+uj/cv06GIMzXtOq+h2revdeFCKa8GMNPzVDqt+xvyXMUl4MY6IVX5CB9y5ikFC6Na7h9UFkclx9y5hgULpgaVKXpXKSB+5cwz8BDumTpQdl0rTeWlufrUgp5Qr5rma9qR7lzXwBPmpW0UDFnKa66GgVX3vnzmg4esltEKrjTbjrQKm77zaTI8g1+AsplFVUaYN76qm75yN58iXbWfSoqtY185MQ4La8TuKmgWvnM+ROFF58kz2C1PuVwpxGDsjP9F1j7LZNsn/L7raEU6UXXp8Wp7ptV/kfVdzv8KdkZZqNH5YxoLv8A2ExTdgw4USjob2br2OuHAi4K0w5NCDqhe3RBXd78IOSPi0qbfLWkNt3sRLTbHzMCE10OK3faQK0roo+PX+rQIpVTsLfHifKXGm0hy5E2w9nEtH96Iks0k5O3LhXXZOUVaYBa9X/x7mEih4mnUK5e2s9kkL4jocu0i+TakK3LNzSpoFyvTj/xEqDDXvwf6rnrH/Zc1hfSWFq5sorMtvLy8D6lcln56XgZesixf2dNYX/9vr+iydoXJ/ID6lY1u5oXAfWs7xHYIN3vg9flTNF5FnGHJ0hcuLsfUkud2K3an3XZbsR2hfifVM8XlPlj6krzWx+7vfC8kXo3zONo/Q5LkD6kvTGygBp7rwF0SpXnP3IzR5Dn7lSx9lwK/Dp3VRCnd99opSv2eygP+mf/AMz5rJ/V/dZf67/8l93TFaF9B1e9ne14ieFEY50QWRfCPVcvAlQuinU/dAZN+x9y5BigdGA69c0ty+RYB+pStp/gId8Y80oT+TeIP1KVtPKEfMUyNSkS58qOD9SmFMBAxI5OvnYKt7ryio/IYVO2mekFEi9exV/cbw9+XPdlZDaYCBiRc+ngEh3O76O1lMpqtjRc7qrr3dT4u2s2lTTHszImLHbFc27nZ0yWvXNLtljmgq/fhPx01pjJNRuyQusNiYPu/daEUWmfOq3zqjt/ldu/wQhiJRp4H4XVWyc2YYh3I+y13vtDzLiuyX4e3E0RTwfwt8w6NCxCT/lotCHDgJFd0qr5lJ8av86n6LdHh19Py2AuWW7V7LDei/D1OQsE1Wa7kAbWwNkvRAbtYBj2y4BifDqKkZKybdd9DDlaNsvJwNrFse2Lgxt/4IBv/hpX190+W++1GY+pWPauS1qGPq0sSx7YNoL6QbXpaqfbdyJ2vqVn2jlxIH1LIcY2IDd/4VP8tk7weQl2MlWPbeVZx9SzfEtjab3wq5n5U1RL6HYw5O8HkxIH1JEn9kqV+FQ9iYo969CU2xORZ6clCd2Vz+H22qjVC759UyRr/wC6WJrZkAn4fZayLUbr7o9HvufVVB2ZufhnPsWZ+qn8oiL9rtfUsxQP3X0ASbxjO14voaT0FC6KTbP1yS/KvePuUgZ+VA6LzPcleZftfuUraf4Qz49Ms0oT7+d/UpAwBCPjE5nuGaR7jyBxyA5ShhPaGfE59wCTJt0qVM+RUzaf4Qr4n7DQJWmXDvJU7W+gQr4nXtPJKM+4nB2p2M9B2gokT9vykS5zyM7WUxiHhQzMRmtvStyqwvlwwxxyjtogumy208aWtbNSYYYdByoVr3yucXh2St0fhdZRSdT+ldFbLs3BDWsnKX/MqE+67J/hbQFGiz+y6A2ejbm5fKmqpi7Uw4nAW7XDJXgGbW3YFO0DL9RdVzco+c6W0/EroWNbtO85LQ8TlN6gMRreKgzCWqNR0Svj0Ww9huvk1u1ju0GAir6Mz6WTtbbkRjJVp2y6HA2sdxjAab53L15Zp4hXDONp+t9zOAcrMsUwFrt8GHUUy3U1w7iRg5TjCuZGC0rMcY2VZEDt2GK8qJthXhzcZKdrdyCpT09yyzF9kgN/4XlVN0K9HRyn+28jJxhyzfE9lQC6sIf6U1RLycDBTtB5BnALkhz+y93UZ4iyZI13BA2m6HfTgYck2d2cpvfDNB0R2hc8+qZYt8zjJVEdnbn4Zz5fsiIueu0XF7/+S7AdEAvX8Lvul3nvBXjyhhPaHfGz6+sksTLyd7UgaAhnxSczQeaU5t672uYaSh3PJysEpS7m+pnalazHSgL+Xil6RM91MGY7Q7n5geKX5U33UgaSh3vrUA9p5pZmTe9qdrfQIR7/AA06pQnzTvayGt9Ag4jvE5/hI1ymdrJY3JwFe4NKEva5wuTU1yVV3+cSCMq2eE2cuqte4bK2TAJfd3PE2oqJ5JJLvLC3Z+HtuFMswPwttwAbohilLKguQO8nkre34fU/Cm1bNgkSm7Uqrri3LVtbxet4hpWuYPMkBmed0i3CiCSFsTxqaW+IytQwqcs29QbGuqTJsfOfyr74/ciA05XrGMNZMQzFYBR1bDRQwpTqTvBxVuWu4ZAOdLJMZwcDf4agkitMk5wZx1tPtvnnW1l+K4OL1b30TdDm5A2nOFPOBkrP8Qwi54RnQUHromSLNx6ppiz+slI+I4Kx+9vMy1GaYYs8txgpliXF7MFpWe4ps2071GVHZdMkS6fkpvgXwjAcVneJbN03iIfgEzRbpkDJTnBvecYckaf2eHF8PttdMUa6HW02RL11kpdOz4qeDXoPsioupx2jYvAx2nl0Qmt6dV3xy7t7ryRACelA6Jy8UsS7m5/RUgYB2oXOpmalAK8snsqVrSVC5/M0HJB68r3UoAHSgc6vQIJJlrm1udqBz65WH1S9Kl97UwHoEM99egHmlmZL7U7W40EK9+vcAlCdK0VO1uAvMCGYsUWNAanqUjXSXhpyUatMMyZAbjS0DB5am5bNVRe5efI5WyPDLZ4lmlq+CwqbpAvl2Kmb9WLg5be8HhhhZgLXcFbTc7Kql727Lytx+EsDKbVquEvoWU18qqvZ7dOWx3HKmAFpmFRqbv5SbOp5V6WCTgNK0XDJizbpSmUt5V12GaQG7T3KRmxofu30IIoa3S1Iplj/ADardtE/Q2l3GMLB3zu2zFNURgy+lYlvmnSzDFMLoXcFtLJshy8Y2nGFNx6rPMSwwcXD5Jniy+tpqiTcY2keewyleG1a5I/Hl+6ZI0wjGClCdwwcXDz0qjdCX7o9HmA9FJ8/gzHhw3ADzojkec5vqmCLcn0yNpGxHABV1WDPkmCNcvwU1Qrz1kpYOAXPAc/0hFf1Eo8Lu3HaQC4nM/hd89eW53ZXlPgZ0FEX8vFC60n3UoYB2onOAzuUJryVzULnVuTkg0iTrtSNZ6lQOdW2Q+qCSZKkA9AoHurYZfVLsuSpmtwh3urbQeaWZknvanY31Qr3VNuwJTnSO1PTaXFXeGyx3m2qa3SBd5eiMqyuL23bSRsrRsKgULTS1u9VbeZGiFsvxKAGlgwtMwmHTc7R2lVPe6uQQtpuHxvEtK1DCBTd6CiqW7nLltVxJnjTAWj4YSN2iSJgySr6sL8YWh4bEoWHK+ZSlLZkEK5LHXwAn7D49C2/Q1SxKp5BVu2WXjCeJCYpu3yNEuSaWQQrYtE3Q2mN7GTUGhu4C2tUHBdRqZVkW2ZloBKScVw6pdw+SPQ5XunOFL0ASs8xLDfm4UyxJXQymqJK6BKR8Qw6lTu5dEwxZWUyxpWANpMncOu6jdfFHKEn3R+PL/BSrNyAvwoxQkn8o3Hl+hSzN4cDUboPSiL0ZX4KM0JRGwVRnCGVPBryCICa4ayiInnHa5YLiezku/6rIXl4AAdKJz6WGfPkhlaR7r9URNLkoRXkKVrMbKhc6vYg0iQufegoXOrYd55oHJkFTNbhDvdoO9L0qR3lSsbnZQ73aDvS1Lr9qYDJwvUvD95EBzDcko3CTgFGrVFNeuNaCcsNgAUJVfXSRnO1eHGYABbpP+GQabuncq2u1fJO1sTxaHgtOFoeGMpuZ1+qrC8VM5WyXFKHj4rR8LtloB9FWN1OXLZXjDcMan7D3WYK2oCUnygMlXTZHY8U9Ye/5ezPQJYlN2VbNmqkEJ4kItm36cktymbKtO0SMEJzkY1m+B1S/JpYJVoWmV1tN8lMZCvRApNL1VjW2X0QUTOyzY0PfaNLgLGoVTTd4lPUKVkAhIeIyA4rV7rpiiyMYTVEkkpHn5H5gWpgjyPUFMkWV6JMnpClRu+SOx5OUfjSkpzkhXet2FGaMhHY8nKWJqRzq0orRke6MUJOFUGRHIf6VnfzLvyiIlLhdz62GX1X0D1a68xUAk4CjJAFShdauVK1uFCSSUIr11y70FG52gz1KC166ma3Cgc6g66IHJr+65tGSoHOoK6pflV/dT9aCHNTYZuS3Lr4BU1JhJ16q6kYNN0JNuMjR2rD4/AwGkhO0hC+UX5m4SDca/e1efHYXiG6Tzh0K7fuq8uVXOdq/ONRsBoT7hzaObqbCqri6v8AInK2E4zSx44T9h2Q7FXVzOXLYTjgw1qd5B1A3mRRKsofUVbtndjxTpIPFG8vqlyW36irPtVTGE5yEU0Arl3JflM9VZdrr6CbpKLSl7HwQKTTyFY9rkaCa5SNYXyQOsxWLbJWgmeWih7aG4NiEGrU/F2k82+VjAVdiEmDUgAg3BWRGr40U3xZHRCSJ+Sz4f2R+PXTJFkZ3lJs7JZgt7DTJHKFdH40n0KUp2R+bh/CN0JGUdoSNaStNyQvY/hFqNdGaEhU5kbng1Wd8/3/AMoh8/3/AMr5ykgBfQVWrLzOgAOlCSTmhVauV+qNzqWGepQivWUzW4ChJoKoNIrLl3oKEmtygcispwAAh3Oqa6IBJrLm0ZKlloe+/ep2JZm1+0btkU1qocU1SEHI068vNJNwr5yrdsUMZbpOMhDqQadlQki5VtFXVYIuPHSdcPh5WqPokG41NFXnx6PjxTthzRUWpfNV9cjnKvbjtLHineRy7/ukK4ZLsK9rFpjf7J0kTQN6BLMkfUValqdjGU3SLsunr7oBKb6qyLY86TdJRKFvL6IFJbkFWJbKuAE1ykTL0UErNVg2ytjCaJSL8pqgleng4T9bpHW0yykahCE16eQnqBI6V4N2ND3TyshZyx2QnKDJyAlyfk7utz0RSNXTLGr4wk6dkxe2aN0KyYI9bPqlKblPmBH3RmjWRuPISvNyYFeFGKFfOkaoVyPVUxlLng15LPFb/wDsogK6+WZJJqV9BlasvNXUbnUsM/ohVaspWtxsqI8yhNesuahcanpog1espWtxtQvOnigcir2uaiu4hg1zQGVWwCsmlTLiGjtXMrCyCVZ1fRT5ZYeANJsk4VALUJt1SZOrZyresUTrSbZGHQDL7FJNxqZyrjsMbrScZBlKaU8Cki41NFXTYaOCE44e00aCL6JEuDgCSFdlgp48QnGSH1H2STO2/Kuqyj6AU3yZ+Xtp9Utye1Z1sOQCmuSdces0ElN+nSsG2uwAmmUf8vqiCVm5T9bKvSaZWJ8p5oJXbgp7t9XBATLKRdOaESGaynu31+kxy0XK6EVWJ2t8jpMUrGsBXsQqvTxtOMKRjCLjwmxodaXpfqsam803YTXFr5ASpOymdkZoVkfjV8eqU52UqTb90YoVkdoVkrzUrnZFqNZGY8hUxlLng15IgJBRIVgvkQ51B1X0H1qq83NrcbKhQutWXNRPdWwy16oRXqqRjfUqNxoOuiD16qkUBNKkoLIqrmwZ2p5aGXHeKXpdbtG7ZHNSp5Jjk4Vxa/0SlOrZyFaFniYwMJplId2imXqyUZtXtWxZo2MaTXKM+UWzrTmkydUySrdskfGE2yTLDyKTLg/SuCxUsYTdItpunUZpJnHOcK5LEzBGE2yfyt9cknTTlyuK0jDQmqUNB3pek7P9lYdt9E0SjqEdMkGkNyCn+3HACZpV1KfZBKw0ni3VOslMso+wCESG4OQnmDU6THLRPlv539flCqrU6wK3QymKWifKa9qEVWYJBTnBr4wr6Xi0pfsQ2qz8pxh11fwIgIHWxQqqzBwmqHIxhDzkuHAlorW650KuDgplj1sgbSpOSw4reWSM0KqNx6+e0rzktWvDfVFqNVGaNX1CpjLXNteSzvnFZ4rL4vZ3K+hOtVXnILw91LDPXohdaquTW5KiQmvVUyhcanpog9eqv0DJwvAG84N01QWTVwCsqlT83BgVxLQqUCWplZPFpiYwUyykLI0SnMq9qzrRFORpMsnDuO2pSrNq6KtO0R9gYTRKMuPVEnzKmcq17NR6TVKtoAOZSfPeMq2rJSx4prkm5V5eYSbNd3hW5ZGYwmmUsGjkfuEoy/34Vs2r9oTRKZDt+4QKR/0rBt5wAmOVdl2evqhNYJ4t7sYKZJVwt2evogtYb2nSA/GAmOUfQjO9kLrt0nWDU0Ewyz9PXr8ITVanGDV6V/KxNELrt9U4wq3SvZeJle+SGVGpuhV+ley0XLSqHVqeek1RK/RVu0h7d0696HuHifIJmiV+lUTktnRtvqsyhW9Cj1Gr7pXm5Y3t2IvRqozHrKnMs2p4df0rOFUoh80L4duNBVfQtWqFedIN6UCFVnntTgADAUbzp3lCq7yv1RE0BKEV6h2pWDWURLMqanOt0ClVDtGbbRDnglX8qwEhLEyockKx7XQAATHLMFGjmb9yWJbztWXaaAGEySjRbtSrOedqzLRSGQmWUb8vXuSpMcVadopgYTPKtruDndKE55ycq1bMwHBTRKWoO9KUw9q1bM0DGEzSmQ7fuEqS/wB5Vp2zQATLKuq2nT90Er+hT3AOwExSxy6evshNUaTrAd6pilTUN6WQiuPqKcoLiFfSzsvXrJDKrc5TjBf0mKXcbH1zQmsNlNsJ50Fey7yCPXRDqrQdflN8KocAq8gPy6oVUCbIVQ6V1AiGoWDVamqHVOldy8QkUvY0Q2swA/1TJFqlFxGCIypF1jNJa7CY41UkApdm4Dan1RFKFQlGaNQ6KqPcdfNZvzPZZ/z1/9k="></image></defs>',4)];function nVe(e,t,r,n,o,s){return Ne(),He("svg",tVe,rVe)}const iVe=Xo(eVe,[["render",nVe]]),oVe={class:"z-10 py-1 shadow-sm flex justify-between items-center",style:{"background-color":"rgba(0,0,0,0.1)"}},sVe={class:"flex flex-row ml-2 items-center gap-3"},aVe=be("h1",{class:"py-2 text-2xl text-black dark:text-white font-bold font-title"}," SPEX ",-1),lVe={class:"flex flex-row items-center gap-3"},uVe={key:0},fVe={key:1},cVe={key:0,class:"flex flex-row items-center mr-2"},dVe=be("div",{style:{height:"15px","border-left":"1px solid","margin-left":"6px","margin-right":"8px",width:"1px"}},null,-1),hVe={key:1},pVe=Tt({...{name:"SpexHeader"},props:{isSettingsEditorShown:{type:Boolean},sparqlEndpointUrl:{}},emits:["toggle-settings-editor","toggle-prefix-help"],setup(e,{emit:t}){const r=e;function n(){t("toggle-settings-editor",!r.isSettingsEditorShown)}function o(){t("toggle-prefix-help")}return(s,a)=>(Ne(),He("div",oVe,[be("div",sVe,[Pe(iVe,{style:{width:"30px",height:"30px"}}),aVe]),be("div",lVe,[be("button",{class:"button is-white dark:is-dark flex items-center gap-1",title:"Options",onClick:n},[be("h2",null,[s.sparqlEndpointUrl?(Ne(),He("span",uVe,Wt(s.sparqlEndpointUrl),1)):(Ne(),He("span",fVe,"No endpoint configured yet"))]),Pe(Ze(xye),{class:"icon"})]),be("button",{class:"button is-white dark:is-dark",title:"Prefix Zazuko",onClick:o},[Pe(Ze(S4e),{class:"icon"})])]),s.isSettingsEditorShown?Ut("",!0):(Ne(),He("div",cVe,[Pe(Z4e),dVe,Pe(K4e)])),s.isSettingsEditorShown?(Ne(),He("div",hVe)):Ut("",!0)]))}});var bVe="Expected a function",hre=NaN,gVe="[object Symbol]",_Ve=/^\s+|\s+$/g,yVe=/^[-+]0x[0-9a-f]+$/i,wVe=/^0b[01]+$/i,mVe=/^0o[0-7]+$/i,vVe=parseInt,SVe=typeof window=="object"&&window&&window.Object===Object&&window,EVe=typeof self=="object"&&self&&self.Object===Object&&self,RVe=SVe||EVe||Function("return this")(),xVe=Object.prototype,AVe=xVe.toString,$Ve=Math.max,TVe=Math.min,SM=function(){return RVe.Date.now()};function IVe(e,t,r){var n,o,s,a,l,f,u=0,d=!1,g=!1,h=!0;if(typeof e!="function")throw new TypeError(bVe);t=pre(t)||0,EM(r)&&(d=!!r.leading,g="maxWait"in r,s=g?$Ve(pre(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h);function p(D){var K=n,q=o;return n=o=void 0,u=D,a=e.apply(q,K),a}function w(D){return u=D,l=setTimeout(E,t),d?p(D):a}function y(D){var K=D-f,q=D-u,k=t-K;return g?TVe(k,s-q):k}function v(D){var K=D-f,q=D-u;return f===void 0||K>=t||K<0||g&&q>=s}function E(){var D=SM();if(v(D))return x(D);l=setTimeout(E,y(D))}function x(D){return l=void 0,h&&n?p(D):(n=o=void 0,a)}function S(){l!==void 0&&clearTimeout(l),u=0,n=f=o=l=void 0}function N(){return l===void 0?a:x(SM())}function $(){var D=SM(),K=v(D);if(n=arguments,o=this,f=D,K){if(l===void 0)return w(f);if(g)return l=setTimeout(E,t),p(f)}return l===void 0&&(l=setTimeout(E,t)),a}return $.cancel=S,$.flush=N,$}function EM(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function NVe(e){return!!e&&typeof e=="object"}function kVe(e){return typeof e=="symbol"||NVe(e)&&AVe.call(e)==gVe}function pre(e){if(typeof e=="number")return e;if(kVe(e))return hre;if(EM(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=EM(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(_Ve,"");var r=wVe.test(e);return r||mVe.test(e)?vVe(e.slice(2),r?2:8):yVe.test(e)?hre:+e}var CVe=IVe;const OVe=zr(CVe);class LVe{constructor(t){qd(this,"_type");qd(this,"_comment");qd(this,"_serverResponseItem");var n,o,s;this._serverResponseItem=t,this._type=((n=t.parts.filter(a=>a.predicate==="rdf:type")[0])==null?void 0:n.object)??"";const r=t.parts.filter(a=>a.predicate==="rdfs:comment");if(r.length<2)this._comment=tS(((o=r[0])==null?void 0:o.object)??"no comment");else{const a=r.filter(l=>l.object.language==="en");a.length===1?this._comment=tS(((s=a[0])==null?void 0:s.object)??"no comment"):this._comment="no comment"}}get type(){return this._type}get avatar(){const t=this.type.split(":");return t.length<2?"NT":(t[0].charAt(0)+t[1].charAt(0)).toUpperCase()}get itemText(){return this._serverResponseItem.itemText}get ontologyTitle(){return this._serverResponseItem.ontologyTitle}get label(){return this._serverResponseItem.label}get splitA(){return this._serverResponseItem.prefixedSplitA}get splitB(){return this._serverResponseItem.prefixedSplitB}get comment(){return this._comment}get parts(){return this._serverResponseItem.parts}}function tS(e){return typeof e=="string"?e:e.datatype&&e.datatype.value==="http://www.w3.org/2001/XMLSchema#string"||e.datatype&&e.datatype.value==="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?e.value:""}const DVe={class:"avatar"},MVe={class:"card-text"},PVe={class:"card-title"},FVe={class:"card-comment"},jVe=Tt({...{name:"PrefixZazukoListItem"},props:{item:{}},emits:["item-selected"],setup(e,{emit:t}){const r=e;return(n,o)=>(Ne(),He("div",{class:"card",onClick:o[0]||(o[0]=s=>n.$emit("item-selected",r.item))},[Pe(ni,{label:r.item.type},{default:pt(()=>[be("div",DVe,Wt(r.item.avatar),1)]),_:1},8,["label"]),be("div",MVe,[be("div",PVe,Wt(r.item.itemText),1),be("div",FVe,Wt(r.item.comment),1)])]))}}),WVe=Xo(jVe,[["__scopeId","data-v-9c005fb0"]]),BVe=Tt({...{name:"PrefixZazukoList"},props:{items:{}},emits:["item-selected"],setup(e,{emit:t}){const r=e;function n(o){t("item-selected",o)}return(o,s)=>(Ne(!0),He(Dt,null,dn(r.items,a=>(Ne(),er(WVe,{key:a.itemText,item:a,onItemSelected:n},null,8,["item"]))),128))}}),UVe=["item"],qVe=Tt({...{name:"PrefixZazukoDetail"},props:{item:{}},emits:["item-selected"],setup(e,{emit:t}){const r=e;return(n,o)=>(Ne(),He("table",null,[(Ne(!0),He(Dt,null,dn(r.item.parts,s=>(Ne(),He("tr",{key:s.predicate,item:s},[be("th",null,Wt(Ze(tS)(s.predicate)),1),be("td",null,Wt(Ze(tS)(s.object)),1)],8,UVe))),128))]))}}),HVe=Xo(qVe,[["__scopeId","data-v-2dcbeccb"]]),VVe={class:"card is-shadowless h-full overflow-y-auto"},GVe={class:"card-header has-background-light"},zVe=be("h3",{class:"card-header-title"},"Resolve RDF Terms",-1),KVe={class:"card-header-icon py-0 px-1"},JVe={key:0,style:{padding:"21px"}},YVe={class:"field"},XVe=be("div",{class:"flex flex-row"},[be("label",{class:"label",for:"prefix"},"Prefix"),_i("   ("),be("a",{target:"_blank",href:"https://prefix.zazuko.com/"},"prefix.zazuko.com"),_i(") ")],-1),QVe={key:1,style:{padding:"21px"}},ZVe={class:"flex flex-row items-center mb-4"},eGe={style:{display:"flex","flex-direction":"column"},class:"pl-4"},tGe={class:"title mb-0"},rGe=Tt({...{name:"PrefixHelp"},props:{searchString:{}},emits:["close"],setup(e,{emit:t}){const n=qe(e.searchString),o=qe([]),s=qe(null);cn(n,OVe(d=>{a(d)},300));async function a(d){const g="https://prefix.zazuko.com/api/v1/search",h=`q=${encodeURIComponent(d)}`,y=(await(await fetch(g+"?"+h)).json()).map(v=>new LVe(v));o.value=y}function l(){t("close")}function f(d){s.value=d}function u(){s.value=null}return(d,g)=>(Ne(),He("div",VVe,[be("div",GVe,[zVe,be("p",KVe,[be("button",{type:"button",class:"button is-light",onClick:l,title:"Close"},[Pe(Ze(Jl),{class:"icon"})])])]),s.value===null?(Ne(),He("div",JVe,[be("div",YVe,[XVe,Kn(be("input",{type:"text","onUpdate:modelValue":g[0]||(g[0]=h=>n.value=h),placeholder:"Start typing to search... eg. sh:name",class:"input",required:""},null,512),[[Kl,n.value]])]),Pe(BVe,{items:o.value,onItemSelected:f},null,8,["items"])])):Ut("",!0),s.value!==null?(Ne(),He("div",QVe,[be("div",ZVe,[be("button",{class:"flex flex-grow-0",onClick:u},[Pe(Ze(_ye),{class:"icon"})]),be("div",eGe,[be("h1",tGe,Wt(s.value.splitA)+":"+Wt(s.value.splitB),1),be("div",null,Wt(s.value.type),1)])]),Pe(HVe,{item:s.value},null,8,["item"])])):Ut("",!0)]))}}),nGe={class:"z-10 absolute m-3"},iGe=be("span",null,"Classes",-1),oGe={class:"z-10 absolute bottom-2 left-2 text-sm bg-gray-50 dark:bg-gray-700 flex items-center gap-2"},sGe={class:"bg-light dark:bg-dark flex-grow flex items-center"},aGe={key:0,class:"m-auto"},lGe={key:1,class:"section"},uGe={class:"message is-danger"},fGe={class:"message-body"},bre=Tt({...{name:"SpexMain"},props:{settings:{}},emits:["settingsChanged"],setup(e,{emit:t}){const r=e,n=qe(""),o=qe(!1),s=Oa.getInstance(r.settings),a=Je(()=>p.value.length>0);cn(()=>r.settings,W=>{var ue;(((ue=W.sparqlEndpoint)==null?void 0:ue.length)??0)>0?(l.value=!1,se(W)):l.value=!0}),Sr(async()=>{r.settings.sparqlEndpoint?await se(r.settings):l.value=!0});const l=qe(!1),f=qe(!1),u=qe(!1),d=qe(!1),g=qe(!1),h=qe(null),p=qe([]),w=qe(null),y=qe(!1),v=qe(null);function E(){o.value=!o.value}function x(){o.value=!1}function S(W){if(typeof W>"u"){l.value=!l.value;return}l.value=W}function N(W){$(W),p.value.push(W)}function $(W){p.value=p.value.filter(ue=>ue.id!==W.id)}function D(){p.value=[]}function K(W){W.isShown=!W.isShown}function q(W){var xe,he;const ue=W?W.tables:new Set((xe=w.value)==null?void 0:xe.tables.map(({id:le})=>le));(he=w.value)==null||he.tables.forEach(le=>{ue.has(le.id)?le.isShown=!0:le.isShown=!1})}function k(){u.value=!0}function V(){u.value=!1}function j(){f.value=!1}function B(){h.value=null,f.value=!1}function A(){d.value=!0}function U(){g.value=!0}function G(W){w.value=W}function H(){d.value=!1}function Q(){g.value=!1}async function ne(){B(),v.value=null,y.value=!0,w.value=null;try{w.value=await s.fetchDataModel()}catch(W){v.value=W,S(!0),console.error(W)}finally{y.value=!1}}async function se(W){s.applySettings(W),await ne()}function ae(W){f.value=!0,h.value=W}async function Z(W){const ue=s.dataModelToSHACL(w.value).namedNode(W.id).in(mr.targetClass),xe=ue.value,he=ue.out(mr.targetClass).value;let le=`_:${xe} a <http://www.w3.org/ns/shacl#NodeShape> ;`;le+=`
	<${mr.targetClass.value}> <${he}> ;`;const _e=ue.out(mr.property);_e.values.length>0&&(le+=`
	<${mr.property.value}> `,_e.toArray().forEach((Ae,We)=>{le+=`
		[`;const ie=Ae.out(Bo.type).value,te=Ae.out(mr.path).value,_=Ae.out(mr.class).value,m=Ae.out(mr.datatype).value,R=Ae.out(mr.or);let O=`			<${Bo.type}> <${ie}> ;
			<http://www.w3.org/ns/shacl#path> <${te}> ;
`;if(O+=_?`			<http://www.w3.org/ns/shacl#class> <${_}> ;
`:"",O+=m?`			<http://www.w3.org/ns/shacl#datatype> <${m}> ;
`:"",R.values.length>0){let C=`			<http://www.w3.org/ns/shacl#shOr> (
`;const X=R.list();(X===null?[]:[...X]).forEach(J=>{const ye=[];J.dataset.match(J.term,null,null,null).filter(F=>!(F.predicate.equals(Bo.last)||F.predicate.equals(Bo.last)||F.predicate.equals(Bo.nil))).forEach(F=>ye.push(`					<${F.predicate.value}> <${F.object.value}> ;`)),C+=`				[
${ye.join(` 
`)}`,C+=` 
				]
`}),O+=`${C}`,O+=`			) 
`}le+=`
${O}		] ${We===_e.values.length-1?".":","}`})),await navigator.clipboard.writeText(le)}function ge(W){t("settingsChanged",W)}return(W,ue)=>(Ne(),er(Ze(dw),{class:"default-theme flex-grow overflow-hidden"},{default:pt(()=>[Pe(Ze(va),null,{default:pt(()=>[Pe(Ze(dw),{horizontal:"",class:"h-full"},{default:pt(()=>[Pe(Ze(va),{class:"flex flex-col bg-light dark:bg-dark"},{default:pt(()=>[Pe(pVe,{isSettingsEditorShown:l.value,sparqlEndpointUrl:Ze(s).sparqlEndpoint,onToggleSettingsEditor:S,onTogglePrefixHelp:E},null,8,["isSettingsEditorShown","sparqlEndpointUrl"]),w.value?(Ne(),er(Ze(dw),{key:0,vertical:"",class:"overflow-hidden"},{default:pt(()=>[u.value?(Ne(),er(Ze(va),{key:0,size:"30"},{default:pt(()=>[Pe(q4e,{datamodel:w.value,onToggleTable:K,onSelectViewport:q,onClose:V},null,8,["datamodel"])]),_:1})):Ut("",!0),Pe(Ze(va),{class:"relative h-full"},{default:pt(()=>[be("div",nGe,[Kn(be("button",{class:"button",onClick:k},[Pe(Ze(vye),{class:"icon"}),iGe],512),[[Sf,!u.value]])]),Pe(e6e,{datamodel:w.value,onExplore:ae,onExport:Z,onToggleShape:K},{default:pt(()=>[Kn(be("p",oGe,[Ze(s)&&!v.value?(Ne(),He("button",{key:0,class:"button is-white is-small",onClick:A}," SHACL ")):Ut("",!0)],512),[[Sf,!(f.value||a.value)]])]),_:1},8,["datamodel"])]),_:1}),o.value?(Ne(),er(Ze(va),{key:1,size:"30"},{default:pt(()=>[Pe(rGe,{onClose:x,"search-string":n.value},null,8,["search-string"])]),_:1})):Ut("",!0)]),_:1})):Ut("",!0),be("div",sGe,[y.value?(Ne(),He("div",aGe,[Pe(mM)])):Ut("",!0)]),v.value?(Ne(),He("div",lGe,[be("div",uGe,[be("div",fGe," Error loading data: "+Wt(v.value),1)])])):Ut("",!0)]),_:1}),f.value||a.value?(Ne(),er(Ze(va),{key:0},{default:pt(()=>[Pe(Ze(dw),{vertical:""},{default:pt(()=>[f.value?(Ne(),er(Ze(va),{key:0},{default:pt(()=>[Pe(v4e,{table:h.value,onClose:j,onExploreResource:N},null,8,["table"])]),_:1})):Ut("",!0),a.value?(Ne(),er(Ze(va),{key:1},{default:pt(()=>[Pe(w6e,{resources:p.value,onClose:D,onExploreResource:N,onUnexploreResource:$},null,8,["resources"])]),_:1})):Ut("",!0)]),_:1})]),_:1})):Ut("",!0)]),_:1})]),_:1}),l.value?(Ne(),er(Ze(va),{key:0,size:"30"},{default:pt(()=>[Pe(t4e,{settings:W.settings,onSettingsChanged:ge,onClose:S},null,8,["settings"])]),_:1})):Ut("",!0),d.value&&w.value!==null?(Ne(),er(CFe,{key:1,open:d.value,onClose:H,endpoint:Ze(s),datamodel:w.value,onOpenLoadShacl:U},null,8,["open","endpoint","datamodel"])):Ut("",!0),g.value?(Ne(),er(qFe,{key:2,open:g.value,onClose:Q,endpoint:Ze(s),load:G},null,8,["open","endpoint"])):Ut("",!0)]),_:1}))}});function cGe(e,t){dye(bre,{settings:t}).mount(e)}var gre={},y_={},ii={},rS={};(function(){(function(e){(function(t){var r={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};function n(k){return k&&DataView.prototype.isPrototypeOf(k)}if(r.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(k){return k&&o.indexOf(Object.prototype.toString.call(k))>-1};function a(k){if(typeof k!="string"&&(k=String(k)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(k))throw new TypeError("Invalid character in header field name");return k.toLowerCase()}function l(k){return typeof k!="string"&&(k=String(k)),k}function f(k){var V={next:function(){var j=k.shift();return{done:j===void 0,value:j}}};return r.iterable&&(V[Symbol.iterator]=function(){return V}),V}function u(k){this.map={},k instanceof u?k.forEach(function(V,j){this.append(j,V)},this):Array.isArray(k)?k.forEach(function(V){this.append(V[0],V[1])},this):k&&Object.getOwnPropertyNames(k).forEach(function(V){this.append(V,k[V])},this)}u.prototype.append=function(k,V){k=a(k),V=l(V);var j=this.map[k];this.map[k]=j?j+", "+V:V},u.prototype.delete=function(k){delete this.map[a(k)]},u.prototype.get=function(k){return k=a(k),this.has(k)?this.map[k]:null},u.prototype.has=function(k){return this.map.hasOwnProperty(a(k))},u.prototype.set=function(k,V){this.map[a(k)]=l(V)},u.prototype.forEach=function(k,V){for(var j in this.map)this.map.hasOwnProperty(j)&&k.call(V,this.map[j],j,this)},u.prototype.keys=function(){var k=[];return this.forEach(function(V,j){k.push(j)}),f(k)},u.prototype.values=function(){var k=[];return this.forEach(function(V){k.push(V)}),f(k)},u.prototype.entries=function(){var k=[];return this.forEach(function(V,j){k.push([j,V])}),f(k)},r.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);function d(k){if(k.bodyUsed)return Promise.reject(new TypeError("Already read"));k.bodyUsed=!0}function g(k){return new Promise(function(V,j){k.onload=function(){V(k.result)},k.onerror=function(){j(k.error)}})}function h(k){var V=new FileReader,j=g(V);return V.readAsArrayBuffer(k),j}function p(k){var V=new FileReader,j=g(V);return V.readAsText(k),j}function w(k){for(var V=new Uint8Array(k),j=new Array(V.length),B=0;B<V.length;B++)j[B]=String.fromCharCode(V[B]);return j.join("")}function y(k){if(k.slice)return k.slice(0);var V=new Uint8Array(k.byteLength);return V.set(new Uint8Array(k)),V.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(k){this._bodyInit=k,k?typeof k=="string"?this._bodyText=k:r.blob&&Blob.prototype.isPrototypeOf(k)?this._bodyBlob=k:r.formData&&FormData.prototype.isPrototypeOf(k)?this._bodyFormData=k:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(k)?this._bodyText=k.toString():r.arrayBuffer&&r.blob&&n(k)?(this._bodyArrayBuffer=y(k.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(k)||s(k))?this._bodyArrayBuffer=y(k):this._bodyText=k=Object.prototype.toString.call(k):this._bodyText="",this.headers.get("content-type")||(typeof k=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(k)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var k=d(this);if(k)return k;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var k=d(this);if(k)return k;if(this._bodyBlob)return p(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(w(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(N)}),this.json=function(){return this.text().then(JSON.parse)},this}var E=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function x(k){var V=k.toUpperCase();return E.indexOf(V)>-1?V:k}function S(k,V){V=V||{};var j=V.body;if(k instanceof S){if(k.bodyUsed)throw new TypeError("Already read");this.url=k.url,this.credentials=k.credentials,V.headers||(this.headers=new u(k.headers)),this.method=k.method,this.mode=k.mode,this.signal=k.signal,!j&&k._bodyInit!=null&&(j=k._bodyInit,k.bodyUsed=!0)}else this.url=String(k);if(this.credentials=V.credentials||this.credentials||"same-origin",(V.headers||!this.headers)&&(this.headers=new u(V.headers)),this.method=x(V.method||this.method||"GET"),this.mode=V.mode||this.mode||null,this.signal=V.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&j)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(j)}S.prototype.clone=function(){return new S(this,{body:this._bodyInit})};function N(k){var V=new FormData;return k.trim().split("&").forEach(function(j){if(j){var B=j.split("="),A=B.shift().replace(/\+/g," "),U=B.join("=").replace(/\+/g," ");V.append(decodeURIComponent(A),decodeURIComponent(U))}}),V}function $(k){var V=new u,j=k.replace(/\r?\n[\t ]+/g," ");return j.split(/\r?\n/).forEach(function(B){var A=B.split(":"),U=A.shift().trim();if(U){var G=A.join(":").trim();V.append(U,G)}}),V}v.call(S.prototype);function D(k,V){V||(V={}),this.type="default",this.status=V.status===void 0?200:V.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in V?V.statusText:"OK",this.headers=new u(V.headers),this.url=V.url||"",this._initBody(k)}v.call(D.prototype),D.prototype.clone=function(){return new D(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},D.error=function(){var k=new D(null,{status:0,statusText:""});return k.type="error",k};var K=[301,302,303,307,308];D.redirect=function(k,V){if(K.indexOf(V)===-1)throw new RangeError("Invalid status code");return new D(null,{status:V,headers:{location:k}})},t.DOMException=e.DOMException;try{new t.DOMException}catch{t.DOMException=function(V,j){this.message=V,this.name=j;var B=Error(V);this.stack=B.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function q(k,V){return new Promise(function(j,B){var A=new S(k,V);if(A.signal&&A.signal.aborted)return B(new t.DOMException("Aborted","AbortError"));var U=new XMLHttpRequest;function G(){U.abort()}U.onload=function(){var H={status:U.status,statusText:U.statusText,headers:$(U.getAllResponseHeaders()||"")};H.url="responseURL"in U?U.responseURL:H.headers.get("X-Request-URL");var Q="response"in U?U.response:U.responseText;j(new D(Q,H))},U.onerror=function(){B(new TypeError("Network request failed"))},U.ontimeout=function(){B(new TypeError("Network request failed"))},U.onabort=function(){B(new t.DOMException("Aborted","AbortError"))},U.open(A.method,A.url,!0),A.credentials==="include"?U.withCredentials=!0:A.credentials==="omit"&&(U.withCredentials=!1),"responseType"in U&&r.blob&&(U.responseType="blob"),A.headers.forEach(function(H,Q){U.setRequestHeader(Q,H)}),A.signal&&(A.signal.addEventListener("abort",G),U.onreadystatechange=function(){U.readyState===4&&A.signal.removeEventListener("abort",G)}),U.send(typeof A._bodyInit>"u"?null:A._bodyInit)})}return q.polyfill=!0,e.fetch||(e.fetch=q,e.Headers=u,e.Request=S,e.Response=D),t.Headers=u,t.Request=S,t.Response=D,t.fetch=q,Object.defineProperty(t,"__esModule",{value:!0}),t})({})})(typeof self<"u"?self:nr)})();var w_={},Cu={};Object.defineProperty(Cu,"__esModule",{value:!0}),Cu.removeDotSegmentsOfPath=Cu.removeDotSegments=Cu.resolve=void 0;function dGe(e,t){t=t||"";const r=t.indexOf("#");if(r>0&&(t=t.substr(0,r)),!e.length){if(t.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${t}' for value '${e}'`);return t}if(e.startsWith("?")){const u=t.indexOf("?");return u>0&&(t=t.substr(0,u)),t+e}if(e.startsWith("#"))return t+e;if(!t.length){const u=e.indexOf(":");if(u<0)throw new Error(`Found invalid relative IRI '${e}' for a missing baseIRI`);return Wc(e,u)}const n=e.indexOf(":");if(n>=0)return Wc(e,n);const o=t.indexOf(":");if(o<0)throw new Error(`Found invalid baseIRI '${t}' for value '${e}'`);const s=t.substr(0,o+1);if(e.indexOf("//")===0)return s+Wc(e,n);let a;if(t.indexOf("//",o)===o+1){if(a=t.indexOf("/",o+3),a<0)return t.length>o+3?t+"/"+Wc(e,n):s+Wc(e,n)}else if(a=t.indexOf("/",o+1),a<0)return s+Wc(e,n);if(e.indexOf("/")===0)return t.substr(0,a)+nS(e);let l=t.substr(a);const f=l.lastIndexOf("/");return f>=0&&f<l.length-1&&(l=l.substr(0,f+1),e[0]==="."&&e[1]!=="."&&e[1]!=="/"&&e[2]&&(e=e.substr(1))),e=l+e,e=nS(e),t.substr(0,a)+e}Cu.resolve=dGe;function nS(e){const t=[];let r=0;for(;r<e.length;)switch(e[r]){case"/":if(e[r+1]===".")if(e[r+2]==="."){if(!_re(e[r+3])){t.push([]),r++;break}t.pop(),e[r+3]||t.push([]),r+=3}else{if(!_re(e[r+2])){t.push([]),r++;break}e[r+2]||t.push([]),r+=2}else t.push([]),r++;break;case"#":case"?":t.length||t.push([]),t[t.length-1].push(e.substr(r)),r=e.length;break;default:t.length||t.push([]),t[t.length-1].push(e[r]),r++;break}return"/"+t.map(n=>n.join("")).join("/")}Cu.removeDotSegments=nS;function Wc(e,t){let r=t+1;t>=0?e[t+1]==="/"&&e[t+2]==="/"&&(r=t+3):e[0]==="/"&&e[1]==="/"&&(r=2);const n=e.indexOf("/",r);if(n<0)return e;const o=e.substr(0,n),s=e.substr(n);return o+nS(s)}Cu.removeDotSegmentsOfPath=Wc;function _re(e){return!e||e==="#"||e==="?"||e==="/"}(function(e){var t=nr&&nr.__createBinding||(Object.create?function(n,o,s,a){a===void 0&&(a=s),Object.defineProperty(n,a,{enumerable:!0,get:function(){return o[s]}})}:function(n,o,s,a){a===void 0&&(a=s),n[a]=o[s]}),r=nr&&nr.__exportStar||function(n,o){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&t(o,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(Cu,e)})(w_);var up={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ERROR_CODES=e.ErrorCoded=void 0;class t extends Error{constructor(n,o){super(n),this.code=o}}e.ErrorCoded=t,function(r){r.COLLIDING_KEYWORDS="colliding keywords",r.CONFLICTING_INDEXES="conflicting indexes",r.CYCLIC_IRI_MAPPING="cyclic IRI mapping",r.INVALID_ID_VALUE="invalid @id value",r.INVALID_INDEX_VALUE="invalid @index value",r.INVALID_NEST_VALUE="invalid @nest value",r.INVALID_PREFIX_VALUE="invalid @prefix value",r.INVALID_PROPAGATE_VALUE="invalid @propagate value",r.INVALID_REVERSE_VALUE="invalid @reverse value",r.INVALID_IMPORT_VALUE="invalid @import value",r.INVALID_VERSION_VALUE="invalid @version value",r.INVALID_BASE_IRI="invalid base IRI",r.INVALID_CONTAINER_MAPPING="invalid container mapping",r.INVALID_CONTEXT_ENTRY="invalid context entry",r.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",r.INVALID_DEFAULT_LANGUAGE="invalid default language",r.INVALID_INCLUDED_VALUE="invalid @included value",r.INVALID_IRI_MAPPING="invalid IRI mapping",r.INVALID_JSON_LITERAL="invalid JSON literal",r.INVALID_KEYWORD_ALIAS="invalid keyword alias",r.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",r.INVALID_LANGUAGE_MAPPING="invalid language mapping",r.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",r.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",r.INVALID_LOCAL_CONTEXT="invalid local context",r.INVALID_REMOTE_CONTEXT="invalid remote context",r.INVALID_REVERSE_PROPERTY="invalid reverse property",r.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",r.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",r.INVALID_SCOPED_CONTEXT="invalid scoped context",r.INVALID_SCRIPT_ELEMENT="invalid script element",r.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",r.INVALID_TERM_DEFINITION="invalid term definition",r.INVALID_TYPE_MAPPING="invalid type mapping",r.INVALID_TYPE_VALUE="invalid type value",r.INVALID_TYPED_VALUE="invalid typed value",r.INVALID_VALUE_OBJECT="invalid value object",r.INVALID_VALUE_OBJECT_VALUE="invalid value object value",r.INVALID_VOCAB_MAPPING="invalid vocab mapping",r.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",r.KEYWORD_REDEFINITION="keyword redefinition",r.LOADING_DOCUMENT_FAILED="loading document failed",r.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",r.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",r.PROCESSING_MODE_CONFLICT="processing mode conflict",r.PROTECTED_TERM_REDEFINITION="protected term redefinition",r.CONTEXT_OVERFLOW="context overflow",r.INVALID_BASE_DIRECTION="invalid base direction",r.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",r.INVALID_STREAMING_KEY_ORDER="invalid streaming key order",r.INVALID_EMBEDDED_NODE="invalid embedded node",r.INVALID_ANNOTATION="invalid annotation"}(e.ERROR_CODES||(e.ERROR_CODES={}))})(up);var m_={},hGe=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,pGe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,bGe=/\s|\uFEFF|\xA0/,gGe=/\r?\n[\x20\x09]+/g,_Ge=/[;,"]/,yGe=/[;,"]|\s/,wGe=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,rl={IDLE:1,URI:2,ATTR:4};function yre(e){return e.replace(pGe,"")}function iS(e){return bGe.test(e)}function mGe(e,t){for(;iS(e[t]);)t++;return t}function wre(e){return yGe.test(e)||!wGe.test(e)}function vGe(e,t){return Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(r=>r in t&&e[r]===t[r])}class cr{constructor(t){this.refs=[],t&&this.parse(t)}rel(t){for(var r=[],n=t.toLowerCase(),o=0;o<this.refs.length;o++)this.refs[o].rel.toLowerCase()===n&&r.push(this.refs[o]);return r}get(t,r){t=t.toLowerCase();for(var n=[],o=0;o<this.refs.length;o++)this.refs[o][t]===r&&n.push(this.refs[o]);return n}set(t){return this.refs.push(t),this}setUnique(t){return this.refs.some(r=>vGe(r,t))||this.refs.push(t),this}has(t,r){t=t.toLowerCase();for(var n=0;n<this.refs.length;n++)if(this.refs[n][t]===r)return!0;return!1}parse(t,s){s=s||0,t=s?t.slice(s):t,t=yre(t).replace(gGe,"");for(var n=rl.IDLE,o=t.length,s=0,a=null;s<o;)if(n===rl.IDLE){if(iS(t[s])){s++;continue}else if(t[s]==="<"){a!=null&&(a.rel!=null?this.refs.push(...cr.expandRelations(a)):this.refs.push(a));var l=t.indexOf(">",s);if(l===-1)throw new Error("Expected end of URI delimiter at offset "+s);a={uri:t.slice(s+1,l)},s=l,n=rl.URI}else throw new Error('Unexpected character "'+t[s]+'" at offset '+s);s++}else if(n===rl.URI)if(iS(t[s])){s++;continue}else if(t[s]===";")n=rl.ATTR,s++;else if(t[s]===",")n=rl.IDLE,s++;else throw new Error('Unexpected character "'+t[s]+'" at offset '+s);else if(n===rl.ATTR){if(t[s]===";"||iS(t[s])){s++;continue}var l=t.indexOf("=",s);l===-1&&(l=t.indexOf(";",s)),l===-1&&(l=t.length);var f=yre(t.slice(s,l)).toLowerCase(),u="";if(s=l+1,s=mGe(t,s),t[s]==='"')for(s++;s<o;){if(t[s]==='"'){s++;break}t[s]==="\\"&&s++,u+=t[s],s++}else{for(var l=s+1;!_Ge.test(t[l])&&l<o;)l++;u=t.slice(s,l),s=l}switch(a[f]&&cr.isSingleOccurenceAttr(f)||(f[f.length-1]==="*"?a[f]=cr.parseExtendedValue(u):(u=f==="type"?u.toLowerCase():u,a[f]!=null?Array.isArray(a[f])?a[f].push(u):a[f]=[a[f],u]:a[f]=u)),t[s]){case",":n=rl.IDLE;break;case";":n=rl.ATTR;break}s++}else throw new Error('Unknown parser state "'+n+'"');return a!=null&&(a.rel!=null?this.refs.push(...cr.expandRelations(a)):this.refs.push(a)),a=null,this}toString(){for(var t=[],r="",n=null,o=0;o<this.refs.length;o++)n=this.refs[o],r=Object.keys(this.refs[o]).reduce(function(s,a){return a==="uri"?s:s+"; "+cr.formatAttribute(a,n[a])},"<"+n.uri+">"),t.push(r);return t.join(", ")}}cr.isCompatibleEncoding=function(e){return hGe.test(e)},cr.parse=function(e,t){return new cr().parse(e,t)},cr.isSingleOccurenceAttr=function(e){return e==="rel"||e==="type"||e==="media"||e==="title"||e==="title*"},cr.isTokenAttr=function(e){return e==="rel"||e==="type"||e==="anchor"},cr.escapeQuotes=function(e){return e.replace(/"/g,'\\"')},cr.expandRelations=function(e){var t=e.rel.split(" ");return t.map(function(r){var n=Object.assign({},e);return n.rel=r,n})},cr.parseExtendedValue=function(e){var t=/([^']+)?(?:'([^']*)')?(.+)/.exec(e);return{language:t[2].toLowerCase(),encoding:cr.isCompatibleEncoding(t[1])?null:t[1].toLowerCase(),value:cr.isCompatibleEncoding(t[1])?decodeURIComponent(t[3]):t[3]}},cr.formatExtendedAttribute=function(e,t){var r=(t.encoding||"utf-8").toUpperCase(),n=t.language||"en",o="";return Ge.Buffer.isBuffer(t.value)&&cr.isCompatibleEncoding(r)?o=t.value.toString(r):Ge.Buffer.isBuffer(t.value)?o=t.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):o=encodeURIComponent(t.value),e+"="+r+"'"+n+"'"+o},cr.formatAttribute=function(e,t){return Array.isArray(t)?t.map(r=>cr.formatAttribute(e,r)).join("; "):e[e.length-1]==="*"||typeof t!="string"?cr.formatExtendedAttribute(e,t):(cr.isTokenAttr(e)?t=wre(t)?'"'+cr.escapeQuotes(t)+'"':cr.escapeQuotes(t):wre(t)&&(t=encodeURIComponent(t),t=t.replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"),t='"'+t+'"'),e+"="+t)};var mre=cr;Object.defineProperty(m_,"__esModule",{value:!0}),m_.FetchDocumentLoader=void 0;const vre=up,SGe=mre,EGe=w_;class RGe{constructor(t){this.fetcher=t}async load(t){const r=await(this.fetcher||fetch)(t,{headers:new Headers({accept:"application/ld+json"})});if(r.ok&&r.headers){let n=r.headers.get("Content-Type");if(n){const o=n.indexOf(";");o>0&&(n=n.substr(0,o))}if(n==="application/ld+json")return await r.json();if(r.headers.has("Link")){let o;if(r.headers.forEach((s,a)=>{if(a==="link"){const l=(0,SGe.parse)(s);for(const f of l.get("type","application/ld+json"))if(f.rel==="alternate"){if(o)throw new Error("Multiple JSON-LD alternate links were found on "+t);o=(0,EGe.resolve)(f.uri,t)}}}),o)return this.load(o)}throw new vre.ErrorCoded(`Unsupported JSON-LD media type ${n}`,vre.ERROR_CODES.LOADING_DOCUMENT_FAILED)}else throw new Error(r.statusText||`Status code: ${r.status}`)}}m_.FetchDocumentLoader=RGe;var RM={},fp={};Object.defineProperty(fp,"__esModule",{value:!0}),fp.Util=void 0;let zi=class Dl{static isCompactIri(t){return t.indexOf(":")>0&&!(t&&t[0]==="#")}static getPrefix(t,r){if(t&&t[0]==="#")return null;const n=t.indexOf(":");if(n>=0){if(t.length>n+1&&t.charAt(n+1)==="/"&&t.charAt(n+2)==="/")return null;const o=t.substr(0,n);if(o==="_")return null;if(r[o])return o}return null}static getContextValueId(t){if(t===null||typeof t=="string")return t;const r=t["@id"];return r||null}static isSimpleTermDefinitionPrefix(t,r){return!Dl.isPotentialKeyword(t)&&(r.allowPrefixNonGenDelims||typeof t=="string"&&(t[0]==="_"||Dl.isPrefixIriEndingWithGenDelim(t)))}static isPotentialKeyword(t){return typeof t=="string"&&Dl.KEYWORD_REGEX.test(t)}static isPrefixIriEndingWithGenDelim(t){return Dl.ENDS_WITH_GEN_DELIM.test(t)}static isPrefixValue(t){return t&&(typeof t=="string"||t&&typeof t=="object")}static isValidIri(t){return!!(t&&Dl.IRI_REGEX.test(t))}static isValidIriWeak(t){return!!t&&t[0]!==":"&&Dl.IRI_REGEX_WEAK.test(t)}static isValidKeyword(t){return Dl.VALID_KEYWORDS[t]}static isTermProtected(t,r){const n=t[r];return typeof n!="string"&&n&&n["@protected"]}static hasProtectedTerms(t){for(const r of Object.keys(t))if(Dl.isTermProtected(t,r))return!0;return!1}static isReservedInternalKeyword(t){return t.startsWith("@__")}static deepEqual(t,r){const n=Object.keys(t),o=Object.keys(r);return n.length!==o.length?!1:n.every(s=>{const a=t[s],l=r[s];return a===l||a!==null&&l!==null&&typeof a=="object"&&typeof l=="object"&&this.deepEqual(a,l)})}};zi.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,zi.IRI_REGEX_WEAK=/(?::[^:])|\//,zi.KEYWORD_REGEX=/^@[a-z]+$/i,zi.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,zi.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,zi.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,zi.VALID_KEYWORDS={"@annotation":!0,"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},zi.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],zi.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],zi.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],zi.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],zi.CONTAINERS_1_0=["@list","@set","@index"],fp.Util=zi,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.defaultExpandOptions=e.JsonLdContextNormalized=void 0;const t=w_,r=up,n=fp;class o{constructor(a){this.contextRaw=a}getContextRaw(){return this.contextRaw}expandTerm(a,l,f=e.defaultExpandOptions){const u=this.contextRaw[a];if(u===null||u&&u["@id"]===null)return null;let d=!0;if(u&&l){const v=n.Util.getContextValueId(u);if(v&&v!==a)if(typeof v!="string"||!n.Util.isValidIri(v)&&!n.Util.isValidKeyword(v))n.Util.isPotentialKeyword(v)||(d=!1);else return v}const g=n.Util.getPrefix(a,this.contextRaw),h=this.contextRaw["@vocab"],p=(!!h||h==="")&&h.indexOf(":")<0,w=this.contextRaw["@base"],y=n.Util.isPotentialKeyword(a);if(g){const v=this.contextRaw[g],E=n.Util.getContextValueId(v);if(E){if(typeof v=="string"||!f.allowPrefixForcing){if(!n.Util.isSimpleTermDefinitionPrefix(E,f))return a}else if(E[0]!=="_"&&!y&&!v["@prefix"]&&!(a in this.contextRaw))return a;return E+a.substr(g.length+1)}}else if(l&&(h||h===""||f.allowVocabRelativeToBase&&w&&p)&&!y&&!n.Util.isCompactIri(a))if(p){if(f.allowVocabRelativeToBase)return(h||w?(0,t.resolve)(h,w):"")+a;throw new r.ErrorCoded(`Relative vocab expansion for term '${a}' with vocab '${h}' is not allowed.`,r.ERROR_CODES.INVALID_VOCAB_MAPPING)}else return h+a;else if(!l&&w&&!y&&!n.Util.isCompactIri(a))return(0,t.resolve)(a,w);if(d)return a;throw new r.ErrorCoded(`Invalid IRI mapping found for context entry '${a}': '${JSON.stringify(u)}'`,r.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(a,l){if(l&&this.contextRaw["@vocab"]&&a.startsWith(this.contextRaw["@vocab"]))return a.substr(this.contextRaw["@vocab"].length);if(!l&&this.contextRaw["@base"]&&a.startsWith(this.contextRaw["@base"]))return a.substr(this.contextRaw["@base"].length);const f={prefix:"",suffix:a};for(const u in this.contextRaw){const d=this.contextRaw[u];if(d&&!n.Util.isPotentialKeyword(u)){const g=n.Util.getContextValueId(d);if(a.startsWith(g)){const h=a.substr(g.length);if(h)h.length<f.suffix.length&&(f.prefix=u,f.suffix=h);else if(l)return u}}}return f.prefix?f.prefix+":"+f.suffix:a}}e.JsonLdContextNormalized=o,e.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}}(RM),Object.defineProperty(rS,"__esModule",{value:!0}),rS.ContextParser=void 0;const Sre=w_,je=up,xGe=m_,rs=RM,yt=fp;class nl{constructor(t){t=t||{},this.documentLoader=t.documentLoader||new xGe.FetchDocumentLoader,this.documentCache={},this.validateContext=!t.skipValidation,this.expandContentTypeToBase=!!t.expandContentTypeToBase,this.remoteContextsDepthLimit=t.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps="redirectSchemaOrgHttps"in t?!!t.redirectSchemaOrgHttps:!0}static validateLanguage(t,r,n){if(typeof t!="string")throw new je.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(t)}'`,n);if(!yt.Util.REGEX_LANGUAGE_TAG.test(t)){if(r)throw new je.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(t)}'`,n);return!1}return!0}static validateDirection(t,r){if(typeof t!="string")throw new je.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(t)}'`,je.ERROR_CODES.INVALID_BASE_DIRECTION);if(!yt.Util.REGEX_DIRECTION_TAG.test(t)){if(r)throw new je.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(t)}'`,je.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(t){for(const r of Object.keys(t)){let n=t[r];if(n&&typeof n=="object"&&n["@reverse"]&&!n["@id"]){if(typeof n["@reverse"]!="string"||yt.Util.isValidKeyword(n["@reverse"]))throw new je.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${n["@reverse"]}'`,je.ERROR_CODES.INVALID_IRI_MAPPING);n=t[r]=Object.assign(Object.assign({},n),{"@id":n["@reverse"]}),n["@id"]=n["@reverse"],yt.Util.isPotentialKeyword(n["@reverse"])?delete n["@reverse"]:n["@reverse"]=!0}}return t}expandPrefixedTerms(t,r,n){const o=t.getContextRaw();for(const s of n||Object.keys(o))if(yt.Util.EXPAND_KEYS_BLACKLIST.indexOf(s)<0&&!yt.Util.isReservedInternalKeyword(s)){const a=o[s];if(yt.Util.isPotentialKeyword(s)&&yt.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(s)>=0&&(s!=="@type"||typeof o[s]=="object"&&!(o[s]["@protected"]||o[s]["@container"]==="@set")))throw new je.ErrorCoded(`Keywords can not be aliased to something else.
Tried mapping ${s} to ${JSON.stringify(a)}`,je.ERROR_CODES.KEYWORD_REDEFINITION);if(yt.Util.ALIAS_RANGE_BLACKLIST.indexOf(yt.Util.getContextValueId(a))>=0)throw new je.ErrorCoded(`Aliasing to certain keywords is not allowed.
Tried mapping ${s} to ${JSON.stringify(a)}`,je.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(a&&yt.Util.isPotentialKeyword(yt.Util.getContextValueId(a))&&a["@prefix"]===!0)throw new je.ErrorCoded(`Tried to use keyword aliases as prefix: '${s}': '${JSON.stringify(a)}'`,je.ERROR_CODES.INVALID_TERM_DEFINITION);for(;yt.Util.isPrefixValue(o[s]);){const l=o[s];let f=!1;if(typeof l=="string")o[s]=t.expandTerm(l,!0),f=f||l!==o[s];else{const u=l["@id"],d=l["@type"],g=!("@prefix"in l)||yt.Util.isValidIri(s);if("@id"in l)u!=null&&typeof u=="string"&&(o[s]=Object.assign(Object.assign({},o[s]),{"@id":t.expandTerm(u,!0)}),f=f||u!==o[s]["@id"]);else if(!yt.Util.isPotentialKeyword(s)&&g){const h=t.expandTerm(s,!0);h!==s&&(o[s]=Object.assign(Object.assign({},o[s]),{"@id":h}),f=!0)}if(d&&typeof d=="string"&&d!=="@vocab"&&(!l["@container"]||!l["@container"]["@type"])&&g){let h=t.expandTerm(d,!0);r&&d===h&&(h=t.expandTerm(d,!1)),h!==d&&(f=!0,o[s]=Object.assign(Object.assign({},o[s]),{"@type":h}))}}if(!f)break}}}normalize(t,{processingMode:r,normalizeLanguageTags:n}){if(n||r===1)for(const o of Object.keys(t))if(o==="@language"&&typeof t[o]=="string")t[o]=t[o].toLowerCase();else{const s=t[o];if(s&&typeof s=="object"&&typeof s["@language"]=="string"){const a=s["@language"].toLowerCase();a!==s["@language"]&&(t[o]=Object.assign(Object.assign({},s),{"@language":a}))}}}containersToHash(t){for(const r of Object.keys(t)){const n=t[r];if(n&&typeof n=="object"){if(typeof n["@container"]=="string")t[r]=Object.assign(Object.assign({},n),{"@container":{[n["@container"]]:!0}});else if(Array.isArray(n["@container"])){const o={};for(const s of n["@container"])o[s]=!0;t[r]=Object.assign(Object.assign({},n),{"@container":o})}}}}applyScopedProtected(t,{processingMode:r},n){if(r&&r>=1.1&&t["@protected"]){for(const o of Object.keys(t))if(!yt.Util.isReservedInternalKeyword(o)&&!yt.Util.isPotentialKeyword(o)&&!yt.Util.isTermProtected(t,o)){const s=t[o];s&&typeof s=="object"?"@protected"in t[o]||(t[o]=Object.assign(Object.assign({},t[o]),{"@protected":!0})):(t[o]={"@id":s,"@protected":!0},yt.Util.isSimpleTermDefinitionPrefix(s,n)&&(t[o]=Object.assign(Object.assign({},t[o]),{"@prefix":!0})))}delete t["@protected"]}}validateKeywordRedefinitions(t,r,n,o){for(const s of o??Object.keys(r))if(yt.Util.isTermProtected(t,s)&&(typeof r[s]=="string"?r[s]={"@id":r[s],"@protected":!0}:r[s]=Object.assign(Object.assign({},r[s]),{"@protected":!0}),!yt.Util.deepEqual(t[s],r[s])))throw new je.ErrorCoded(`Attempted to override the protected keyword ${s} from ${JSON.stringify(yt.Util.getContextValueId(t[s]))} to ${JSON.stringify(yt.Util.getContextValueId(r[s]))}`,je.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}validate(t,{processingMode:r}){for(const n of Object.keys(t)){if(yt.Util.isReservedInternalKeyword(n))continue;if(n==="")throw new je.ErrorCoded(`The empty term is not allowed, got: '${n}': '${JSON.stringify(t[n])}'`,je.ERROR_CODES.INVALID_TERM_DEFINITION);const o=t[n],s=typeof o;if(yt.Util.isPotentialKeyword(n)){switch(n.substr(1)){case"vocab":if(o!==null&&s!=="string")throw new je.ErrorCoded(`Found an invalid @vocab IRI: ${o}`,je.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(o!==null&&s!=="string")throw new je.ErrorCoded(`Found an invalid @base IRI: ${t[n]}`,je.ERROR_CODES.INVALID_BASE_IRI);break;case"language":o!==null&&nl.validateLanguage(o,!0,je.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(o!==null&&s!=="number")throw new je.ErrorCoded(`Found an invalid @version number: ${o}`,je.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":o!==null&&nl.validateDirection(o,!0);break;case"propagate":if(r===1)throw new je.ErrorCoded(`Found an illegal @propagate keyword: ${o}`,je.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(o!==null&&s!=="boolean")throw new je.ErrorCoded(`Found an invalid @propagate value: ${o}`,je.ERROR_CODES.INVALID_PROPAGATE_VALUE);break}if(yt.Util.isValidKeyword(n)&&yt.Util.isValidKeyword(yt.Util.getContextValueId(o)))throw new je.ErrorCoded(`Illegal keyword alias in term value, found: '${n}': '${yt.Util.getContextValueId(o)}'`,je.ERROR_CODES.KEYWORD_REDEFINITION);continue}if(o!==null)switch(s){case"string":if(yt.Util.getPrefix(o,t)===n)throw new je.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${n}': '${JSON.stringify(o)}'`,je.ERROR_CODES.CYCLIC_IRI_MAPPING);if(yt.Util.isValidIriWeak(n)){if(o==="@type")throw new je.ErrorCoded(`IRIs can not be mapped to @type, found: '${n}': '${o}'`,je.ERROR_CODES.INVALID_IRI_MAPPING);if(yt.Util.isValidIri(o)&&o!==new rs.JsonLdContextNormalized(t).expandTerm(n))throw new je.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${n}': '${o}'`,je.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!yt.Util.isCompactIri(n)&&!("@id"in o)&&(o["@type"]==="@id"?!t["@base"]:!t["@vocab"]))throw new je.ErrorCoded(`Missing @id in context entry: '${n}': '${JSON.stringify(o)}'`,je.ERROR_CODES.INVALID_IRI_MAPPING);for(const a of Object.keys(o)){const l=o[a];if(l)switch(a){case"@id":if(yt.Util.isValidKeyword(l)&&l!=="@type"&&l!=="@id"&&l!=="@graph"&&l!=="@nest")throw new je.ErrorCoded(`Illegal keyword alias in term value, found: '${n}': '${JSON.stringify(o)}'`,je.ERROR_CODES.INVALID_IRI_MAPPING);if(yt.Util.isValidIriWeak(n)){if(l==="@type")throw new je.ErrorCoded(`IRIs can not be mapped to @type, found: '${n}': '${JSON.stringify(o)}'`,je.ERROR_CODES.INVALID_IRI_MAPPING);if(yt.Util.isValidIri(l)&&l!==new rs.JsonLdContextNormalized(t).expandTerm(n))throw new je.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${n}': '${JSON.stringify(o)}'`,je.ERROR_CODES.INVALID_IRI_MAPPING)}if(typeof l!="string")throw new je.ErrorCoded(`Detected non-string @id in context entry: '${n}': '${JSON.stringify(o)}'`,je.ERROR_CODES.INVALID_IRI_MAPPING);if(yt.Util.getPrefix(l,t)===n)throw new je.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${n}': '${JSON.stringify(o)}'`,je.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if(o["@container"]==="@type"&&l!=="@id"&&l!=="@vocab")throw new je.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${n}': '${l}'`,je.ERROR_CODES.INVALID_TYPE_MAPPING);if(typeof l!="string")throw new je.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(s)}'`,je.ERROR_CODES.INVALID_TYPE_MAPPING);if(l!=="@id"&&l!=="@vocab"&&(r===1||l!=="@json")&&(r===1||l!=="@none")&&(l[0]==="_"||!yt.Util.isValidIri(l)))throw new je.ErrorCoded(`A context @type must be an absolute IRI, found: '${n}': '${l}'`,je.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if(typeof l=="string"&&o["@id"]&&o["@id"]!==l)throw new je.ErrorCoded(`Found non-matching @id and @reverse term values in '${n}':'${l}' and '${o["@id"]}'`,je.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in o)throw new je.ErrorCoded(`@nest is not allowed in the reverse property '${n}'`,je.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(r===1&&(Object.keys(l).length>1||yt.Util.CONTAINERS_1_0.indexOf(Object.keys(l)[0])<0))throw new je.ErrorCoded(`Invalid term @container for '${n}' ('${Object.keys(l)}') in 1.0, must be only one of ${yt.Util.CONTAINERS_1_0.join(", ")}`,je.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const f of Object.keys(l)){if(f==="@list"&&o["@reverse"])throw new je.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${n}'`,je.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(yt.Util.CONTAINERS.indexOf(f)<0)throw new je.ErrorCoded(`Invalid term @container for '${n}' ('${f}'), must be one of ${yt.Util.CONTAINERS.join(", ")}`,je.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":nl.validateLanguage(l,!0,je.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":nl.validateDirection(l,!0);break;case"@prefix":if(l!==null&&typeof l!="boolean")throw new je.ErrorCoded(`Found an invalid term @prefix boolean in: '${n}': '${JSON.stringify(o)}'`,je.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in o)&&!yt.Util.isValidIri(n))throw new je.ErrorCoded(`Invalid @prefix definition for '${n}' ('${JSON.stringify(o)}'`,je.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(r===1||!o["@container"]||!o["@container"]["@index"])throw new je.ErrorCoded(`Attempt to add illegal key to value object: '${n}': '${JSON.stringify(o)}'`,je.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(yt.Util.isPotentialKeyword(l)&&l!=="@nest")throw new je.ErrorCoded(`Found an invalid term @nest value in: '${n}': '${JSON.stringify(o)}'`,je.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new je.ErrorCoded(`Found an invalid term value: '${n}': '${o}'`,je.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(t,r,n){return typeof t=="string"||(n&&!("@base"in t)&&r.parentContext&&typeof r.parentContext=="object"&&"@base"in r.parentContext&&(t["@base"]=r.parentContext["@base"],r.parentContext["@__baseDocument"]&&(t["@__baseDocument"]=!0)),r.baseIRI&&!r.external&&("@base"in t?t["@base"]!==null&&typeof t["@base"]=="string"&&!yt.Util.isValidIri(t["@base"])&&(t["@base"]=(0,Sre.resolve)(t["@base"],r.parentContext&&r.parentContext["@base"]||r.baseIRI)):(t["@base"]=r.baseIRI,t["@__baseDocument"]=!0))),t}normalizeContextIri(t,r){if(!yt.Util.isValidIri(t))try{t=(0,Sre.resolve)(t,r)}catch{throw new Error(`Invalid context IRI: ${t}`)}return this.redirectSchemaOrgHttps&&t.startsWith("http://schema.org")&&(t="https://schema.org/"),t}async parseInnerContexts(t,r,n){for(const o of n??Object.keys(t)){const s=t[o];if(s&&typeof s=="object"&&"@context"in s&&s["@context"]!==null&&!r.ignoreScopedContexts){if(this.validateContext)try{const a=Object.assign(Object.assign({},t),{[o]:Object.assign({},t[o])});delete a[o]["@context"],await this.parse(s["@context"],Object.assign(Object.assign({},r),{external:!1,parentContext:a,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(a){throw new je.ErrorCoded(a.message,je.ERROR_CODES.INVALID_SCOPED_CONTEXT)}t[o]=Object.assign(Object.assign({},s),{"@context":(await this.parse(s["@context"],Object.assign(Object.assign({},r),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:t}))).getContextRaw()})}}return t}async parse(t,r={},n={}){const{baseIRI:o,parentContext:s,external:a,processingMode:l=nl.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:f,ignoreProtection:u,minimalProcessing:d}=r,g=r.remoteContexts||{};if(Object.keys(g).length>=this.remoteContextsDepthLimit)throw new je.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(g),je.ERROR_CODES.CONTEXT_OVERFLOW);if(t==null){if(!u&&s&&yt.Util.hasProtectedTerms(s))throw new je.ErrorCoded("Illegal context nullification when terms are protected",je.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new rs.JsonLdContextNormalized(this.applyBaseEntry({},r,!1))}else if(typeof t=="string"){const h=this.normalizeContextIri(t,o),p=this.getOverriddenLoad(h,r);if(p)return new rs.JsonLdContextNormalized(p);const w=await this.parse(await this.load(h),Object.assign(Object.assign({},r),{baseIRI:h,external:!0,remoteContexts:Object.assign(Object.assign({},g),{[h]:!0})}));return this.applyBaseEntry(w.getContextRaw(),r,!0),w}else if(Array.isArray(t)){const h=[],p=await Promise.all(t.map((y,v)=>{if(typeof y=="string"){const E=this.normalizeContextIri(y,o);h[v]=E;const x=this.getOverriddenLoad(E,r);return x||this.load(E)}else return y}));if(d)return new rs.JsonLdContextNormalized(p);const w=await p.reduce((y,v,E)=>y.then(x=>this.parse(v,Object.assign(Object.assign({},r),{baseIRI:h[E]||r.baseIRI,external:!!h[E]||r.external,parentContext:x.getContextRaw(),remoteContexts:h[E]?Object.assign(Object.assign({},g),{[h[E]]:!0}):g}),{skipValidation:E<p.length-1})),Promise.resolve(new rs.JsonLdContextNormalized(s||{})));return this.applyBaseEntry(w.getContextRaw(),r,!0),w}else if(typeof t=="object"){if("@context"in t)return await this.parse(t["@context"],r);if(t=Object.assign({},t),a&&delete t["@base"],this.applyBaseEntry(t,r,!0),this.containersToHash(t),d)return new rs.JsonLdContextNormalized(t);let h={};if("@import"in t)if(l>=1.1){if(typeof t["@import"]!="string")throw new je.ErrorCoded("An @import value must be a string, but got "+typeof t["@import"],je.ERROR_CODES.INVALID_IMPORT_VALUE);h=await this.loadImportContext(this.normalizeContextIri(t["@import"],o)),delete t["@import"]}else throw new je.ErrorCoded("Context importing is not supported in JSON-LD 1.0",je.ERROR_CODES.INVALID_CONTEXT_ENTRY);this.applyScopedProtected(h,{processingMode:l},rs.defaultExpandOptions);const p=Object.assign(h,t);this.idifyReverseTerms(p),this.normalize(p,{processingMode:l,normalizeLanguageTags:f}),this.applyScopedProtected(p,{processingMode:l},rs.defaultExpandOptions);const w=Object.keys(p),y=[];if(typeof s=="object")for(const E in s)E in p?y.push(E):p[E]=s[E];await this.parseInnerContexts(p,r,w);const v=new rs.JsonLdContextNormalized(p);return(p&&p["@version"]||nl.DEFAULT_PROCESSING_MODE)>=1.1&&(t["@vocab"]&&typeof t["@vocab"]=="string"||t["@vocab"]==="")&&(s&&"@vocab"in s&&t["@vocab"].indexOf(":")<0?p["@vocab"]=s["@vocab"]+t["@vocab"]:(yt.Util.isCompactIri(t["@vocab"])||t["@vocab"]in p)&&(p["@vocab"]=v.expandTerm(t["@vocab"],!0))),this.expandPrefixedTerms(v,this.expandContentTypeToBase,w),!u&&s&&l>=1.1&&this.validateKeywordRedefinitions(s,p,rs.defaultExpandOptions,y),this.validateContext&&!n.skipValidation&&this.validate(p,{processingMode:l}),v}else throw new je.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${t}`,je.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(t){const r=this.documentCache[t];if(r)return r;let n;try{n=await this.documentLoader.load(t)}catch(o){throw new je.ErrorCoded(`Failed to load remote context ${t}: ${o.message}`,je.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in n))throw new je.ErrorCoded(`Missing @context in remote context at ${t}`,je.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[t]=n["@context"]}getOverriddenLoad(t,r){if(t in(r.remoteContexts||{})){if(r.ignoreRemoteScopedContexts)return t;throw new je.ErrorCoded("Detected a cyclic context inclusion of "+t,je.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(t){let r=await this.load(t);if(typeof r!="object"||Array.isArray(r))throw new je.ErrorCoded("An imported context must be a single object: "+t,je.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in r)throw new je.ErrorCoded("An imported context can not import another context: "+t,je.ERROR_CODES.INVALID_CONTEXT_ENTRY);return r=Object.assign({},r),this.containersToHash(r),r}}nl.DEFAULT_PROCESSING_MODE=1.1,rS.ContextParser=nl;var Ere={};Object.defineProperty(Ere,"__esModule",{value:!0});var Rre={};Object.defineProperty(Rre,"__esModule",{value:!0}),function(e){var t=nr&&nr.__createBinding||(Object.create?function(n,o,s,a){a===void 0&&(a=s);var l=Object.getOwnPropertyDescriptor(o,s);(!l||("get"in l?!o.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(n,a,l)}:function(n,o,s,a){a===void 0&&(a=s),n[a]=o[s]}),r=nr&&nr.__exportStar||function(n,o){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&t(o,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(rS,e),r(up,e),r(m_,e),r(Ere,e),r(Rre,e),r(RM,e),r(fp,e)}(ii);var xre={exports:{}},xM={exports:{}},$r={ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,t){return e.includes(t)},ArrayPrototypeIndexOf(e,t){return e.indexOf(t)},ArrayPrototypeJoin(e,t){return e.join(t)},ArrayPrototypeMap(e,t){return e.map(t)},ArrayPrototypePop(e,t){return e.pop(t)},ArrayPrototypePush(e,t){return e.push(t)},ArrayPrototypeSlice(e,t,r){return e.slice(t,r)},Error,FunctionPrototypeCall(e,t,...r){return e.call(t,...r)},FunctionPrototypeSymbolHasInstance(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,t){return Object.defineProperties(e,t)},ObjectDefineProperty(e,t,r){return Object.defineProperty(e,t,r)},ObjectGetOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,t){return Object.setPrototypeOf(e,t)},Promise,PromisePrototypeCatch(e,t){return e.catch(t)},PromisePrototypeThen(e,t,r){return e.then(t,r)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,t){return e.test(t)},SafeSet:Set,String,StringPrototypeSlice(e,t,r){return e.slice(t,r)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,t,r){return e.set(t,r)},Boolean,Uint8Array},Are={exports:{}};(function(e){const t=Ge,{kResistStopPropagation:r,SymbolDispose:n}=$r,o=globalThis.AbortSignal||bt().AbortSignal,s=globalThis.AbortController||bt().AbortController,a=Object.getPrototypeOf(async function(){}).constructor,l=globalThis.Blob||t.Blob,f=typeof l<"u"?function(p){return p instanceof l}:function(p){return!1},u=(h,p)=>{if(h!==void 0&&(h===null||typeof h!="object"||!("aborted"in h)))throw new ERR_INVALID_ARG_TYPE(p,"AbortSignal",h)},d=(h,p)=>{if(typeof h!="function")throw new ERR_INVALID_ARG_TYPE(p,"Function",h)};class g extends Error{constructor(p){if(!Array.isArray(p))throw new TypeError(`Expected input to be an Array, got ${typeof p}`);let w="";for(let y=0;y<p.length;y++)w+=`    ${p[y].stack}
`;super(w),this.name="AggregateError",this.errors=p}}e.exports={AggregateError:g,kEmptyObject:Object.freeze({}),once(h){let p=!1;return function(...w){p||(p=!0,h.apply(this,w))}},createDeferredPromise:function(){let h,p;return{promise:new Promise((y,v)=>{h=y,p=v}),resolve:h,reject:p}},promisify(h){return new Promise((p,w)=>{h((y,...v)=>y?w(y):p(...v))})},debuglog(){return function(){}},format(h,...p){return h.replace(/%([sdifj])/g,function(...[w,y]){const v=p.shift();return y==="f"?v.toFixed(6):y==="j"?JSON.stringify(v):y==="s"&&typeof v=="object"?`${v.constructor!==Object?v.constructor.name:""} {}`.trim():v.toString()})},inspect(h){switch(typeof h){case"string":if(h.includes("'"))if(h.includes('"')){if(!h.includes("`")&&!h.includes("${"))return`\`${h}\``}else return`"${h}"`;return`'${h}'`;case"number":return isNaN(h)?"NaN":Object.is(h,-0)?String(h):h;case"bigint":return`${String(h)}n`;case"boolean":case"undefined":return String(h);case"object":return"{}"}},types:{isAsyncFunction(h){return h instanceof a},isArrayBufferView(h){return ArrayBuffer.isView(h)}},isBlob:f,deprecate(h,p){return h},addAbortListener:$t.addAbortListener||function(p,w){if(p===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",p);u(p,"signal"),d(w,"listener");let y;return p.aborted?queueMicrotask(()=>w()):(p.addEventListener("abort",w,{__proto__:null,once:!0,[r]:!0}),y=()=>{p.removeEventListener("abort",w)}),{__proto__:null,[n](){var v;(v=y)===null||v===void 0||v()}}},AbortSignalAny:o.any||function(p){if(p.length===1)return p[0];const w=new s,y=()=>w.abort();return p.forEach(v=>{u(v,"signals"),v.addEventListener("abort",y,{once:!0})}),w.signal.addEventListener("abort",()=>{p.forEach(v=>v.removeEventListener("abort",y))},{once:!0}),w.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(Are);var oi=Are.exports,AM={};const{format:AGe,inspect:oS,AggregateError:$Ge}=oi,TGe=globalThis.AggregateError||$Ge,IGe=Symbol("kIsNodeError"),NGe=["string","function","number","object","Function","Object","boolean","bigint","symbol"],kGe=/^([A-Z][a-z0-9]*)+$/,CGe="__node_internal_",sS={};function Bc(e,t){if(!e)throw new sS.ERR_INTERNAL_ASSERTION(t)}function $re(e){let t="",r=e.length;const n=e[0]==="-"?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function OGe(e,t,r){if(typeof t=="function")return Bc(t.length<=r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${t.length}).`),t(...r);const n=(t.match(/%[dfijoOs]/g)||[]).length;return Bc(n===r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?t:AGe(t,...r)}function mn(e,t,r){r||(r=Error);class n extends r{constructor(...s){super(OGe(e,t,s))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=e,n.prototype[IGe]=!0,sS[e]=n}function Tre(e){const t=CGe+e.name;return Object.defineProperty(e,"name",{value:t}),e}function LGe(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;const r=new TGe([t,e],t.message);return r.code=t.code,r}return e||t}let DGe=class extends Error{constructor(t="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new sS.ERR_INVALID_ARG_TYPE("options","Object",r);super(t,r),this.code="ABORT_ERR",this.name="AbortError"}};mn("ERR_ASSERTION","%s",Error),mn("ERR_INVALID_ARG_TYPE",(e,t,r)=>{Bc(typeof e=="string","'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+=`${e} `:n+=`"${e}" ${e.includes(".")?"property":"argument"} `,n+="must be ";const o=[],s=[],a=[];for(const f of t)Bc(typeof f=="string","All expected entries have to be of type string"),NGe.includes(f)?o.push(f.toLowerCase()):kGe.test(f)?s.push(f):(Bc(f!=="object",'The value "object" should be written as "Object"'),a.push(f));if(s.length>0){const f=o.indexOf("object");f!==-1&&(o.splice(o,f,1),s.push("Object"))}if(o.length>0){switch(o.length){case 1:n+=`of type ${o[0]}`;break;case 2:n+=`one of type ${o[0]} or ${o[1]}`;break;default:{const f=o.pop();n+=`one of type ${o.join(", ")}, or ${f}`}}(s.length>0||a.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{const f=s.pop();n+=`an instance of ${s.join(", ")}, or ${f}`}}a.length>0&&(n+=" or ")}switch(a.length){case 0:break;case 1:a[0].toLowerCase()!==a[0]&&(n+="an "),n+=`${a[0]}`;break;case 2:n+=`one of ${a[0]} or ${a[1]}`;break;default:{const f=a.pop();n+=`one of ${a.join(", ")}, or ${f}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var l;if((l=r.constructor)!==null&&l!==void 0&&l.name)n+=`. Received an instance of ${r.constructor.name}`;else{const f=oS(r,{depth:-1});n+=`. Received ${f}`}}else{let f=oS(r,{colors:!1});f.length>25&&(f=`${f.slice(0,25)}...`),n+=`. Received type ${typeof r} (${f})`}return n},TypeError),mn("ERR_INVALID_ARG_VALUE",(e,t,r="is invalid")=>{let n=oS(t);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${e.includes(".")?"property":"argument"} '${e}' ${r}. Received ${n}`},TypeError),mn("ERR_INVALID_RETURN_VALUE",(e,t,r)=>{var n;const o=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${e} to be returned from the "${t}" function but got ${o}.`},TypeError),mn("ERR_MISSING_ARGS",(...e)=>{Bc(e.length>0,"At least one arg needs to be specified");let t;const r=e.length;switch(e=(Array.isArray(e)?e:[e]).map(n=>`"${n}"`).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{const n=e.pop();t+=`The ${e.join(", ")}, and ${n} arguments`}break}return`${t} must be specified`},TypeError),mn("ERR_OUT_OF_RANGE",(e,t,r)=>{Bc(t,'Missing "range" argument');let n;return Number.isInteger(r)&&Math.abs(r)>2**32?n=$re(String(r)):typeof r=="bigint"?(n=String(r),(r>2n**32n||r<-(2n**32n))&&(n=$re(n)),n+="n"):n=oS(r),`The value of "${e}" is out of range. It must be ${t}. Received ${n}`},RangeError),mn("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),mn("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),mn("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),mn("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),mn("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),mn("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),mn("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),mn("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),mn("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),mn("ERR_STREAM_WRITE_AFTER_END","write after end",Error),mn("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);var Ti={AbortError:DGe,aggregateTwoErrors:Tre(LGe),hideStackFrames:Tre,codes:sS};const{ArrayIsArray:$M,ArrayPrototypeIncludes:Ire,ArrayPrototypeJoin:Nre,ArrayPrototypeMap:MGe,NumberIsInteger:TM,NumberIsNaN:PGe,NumberMAX_SAFE_INTEGER:FGe,NumberMIN_SAFE_INTEGER:jGe,NumberParseInt:WGe,ObjectPrototypeHasOwnProperty:BGe,RegExpPrototypeExec:kre,String:UGe,StringPrototypeToUpperCase:qGe,StringPrototypeTrim:HGe}=$r,{hideStackFrames:yo,codes:{ERR_SOCKET_BAD_PORT:VGe,ERR_INVALID_ARG_TYPE:Mn,ERR_INVALID_ARG_VALUE:cp,ERR_OUT_OF_RANGE:Uc,ERR_UNKNOWN_SIGNAL:Cre}}=Ti,{normalizeEncoding:GGe}=oi,{isAsyncFunction:zGe,isArrayBufferView:KGe}=oi.types,Ore={};function JGe(e){return e===(e|0)}function YGe(e){return e===e>>>0}const XGe=/^[0-7]+$/,QGe="must be a 32-bit unsigned integer or an octal string";function ZGe(e,t,r){if(typeof e>"u"&&(e=r),typeof e=="string"){if(kre(XGe,e)===null)throw new cp(t,e,QGe);e=WGe(e,8)}return Lre(e,t),e}const e9e=yo((e,t,r=jGe,n=FGe)=>{if(typeof e!="number")throw new Mn(t,"number",e);if(!TM(e))throw new Uc(t,"an integer",e);if(e<r||e>n)throw new Uc(t,`>= ${r} && <= ${n}`,e)}),t9e=yo((e,t,r=-2147483648,n=2147483647)=>{if(typeof e!="number")throw new Mn(t,"number",e);if(!TM(e))throw new Uc(t,"an integer",e);if(e<r||e>n)throw new Uc(t,`>= ${r} && <= ${n}`,e)}),Lre=yo((e,t,r=!1)=>{if(typeof e!="number")throw new Mn(t,"number",e);if(!TM(e))throw new Uc(t,"an integer",e);const n=r?1:0,o=4294967295;if(e<n||e>o)throw new Uc(t,`>= ${n} && <= ${o}`,e)});function IM(e,t){if(typeof e!="string")throw new Mn(t,"string",e)}function r9e(e,t,r=void 0,n){if(typeof e!="number")throw new Mn(t,"number",e);if(r!=null&&e<r||n!=null&&e>n||(r!=null||n!=null)&&PGe(e))throw new Uc(t,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,e)}const n9e=yo((e,t,r)=>{if(!Ire(r,e)){const o="must be one of: "+Nre(MGe(r,s=>typeof s=="string"?`'${s}'`:UGe(s)),", ");throw new cp(t,e,o)}});function Dre(e,t){if(typeof e!="boolean")throw new Mn(t,"boolean",e)}function NM(e,t,r){return e==null||!BGe(e,t)?r:e[t]}const i9e=yo((e,t,r=null)=>{const n=NM(r,"allowArray",!1),o=NM(r,"allowFunction",!1);if(!NM(r,"nullable",!1)&&e===null||!n&&$M(e)||typeof e!="object"&&(!o||typeof e!="function"))throw new Mn(t,"Object",e)}),o9e=yo((e,t)=>{if(e!=null&&typeof e!="object"&&typeof e!="function")throw new Mn(t,"a dictionary",e)}),aS=yo((e,t,r=0)=>{if(!$M(e))throw new Mn(t,"Array",e);if(e.length<r){const n=`must be longer than ${r}`;throw new cp(t,e,n)}});function s9e(e,t){aS(e,t);for(let r=0;r<e.length;r++)IM(e[r],`${t}[${r}]`)}function a9e(e,t){aS(e,t);for(let r=0;r<e.length;r++)Dre(e[r],`${t}[${r}]`)}function l9e(e,t){aS(e,t);for(let r=0;r<e.length;r++){const n=e[r],o=`${t}[${r}]`;if(n==null)throw new Mn(o,"AbortSignal",n);Mre(n,o)}}function u9e(e,t="signal"){if(IM(e,t),Ore[e]===void 0)throw Ore[qGe(e)]!==void 0?new Cre(e+" (signals must use all capital letters)"):new Cre(e)}const f9e=yo((e,t="buffer")=>{if(!KGe(e))throw new Mn(t,["Buffer","TypedArray","DataView"],e)});function c9e(e,t){const r=GGe(t),n=e.length;if(r==="hex"&&n%2!==0)throw new cp("encoding",t,`is invalid for data of length ${n}`)}function d9e(e,t="Port",r=!0){if(typeof e!="number"&&typeof e!="string"||typeof e=="string"&&HGe(e).length===0||+e!==+e>>>0||e>65535||e===0&&!r)throw new VGe(t,e,r);return e|0}const Mre=yo((e,t)=>{if(e!==void 0&&(e===null||typeof e!="object"||!("aborted"in e)))throw new Mn(t,"AbortSignal",e)}),h9e=yo((e,t)=>{if(typeof e!="function")throw new Mn(t,"Function",e)}),p9e=yo((e,t)=>{if(typeof e!="function"||zGe(e))throw new Mn(t,"Function",e)}),b9e=yo((e,t)=>{if(e!==void 0)throw new Mn(t,"undefined",e)});function g9e(e,t,r){if(!Ire(r,e))throw new Mn(t,`('${Nre(r,"|")}')`,e)}const _9e=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function Pre(e,t){if(typeof e>"u"||!kre(_9e,e))throw new cp(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function y9e(e){if(typeof e=="string")return Pre(e,"hints"),e;if($M(e)){const t=e.length;let r="";if(t===0)return r;for(let n=0;n<t;n++){const o=e[n];Pre(o,"hints"),r+=o,n!==t-1&&(r+=", ")}return r}throw new cp("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}var v_={isInt32:JGe,isUint32:YGe,parseFileMode:ZGe,validateArray:aS,validateStringArray:s9e,validateBooleanArray:a9e,validateAbortSignalArray:l9e,validateBoolean:Dre,validateBuffer:f9e,validateDictionary:o9e,validateEncoding:c9e,validateFunction:h9e,validateInt32:t9e,validateInteger:e9e,validateNumber:r9e,validateObject:i9e,validateOneOf:n9e,validatePlainFunction:p9e,validatePort:d9e,validateSignalName:u9e,validateString:IM,validateUint32:Lre,validateUndefined:b9e,validateUnion:g9e,validateAbortSignal:Mre,validateLinkHeaderValue:y9e},kM={exports:{}};const{SymbolAsyncIterator:Fre,SymbolIterator:jre,SymbolFor:qc}=$r,Wre=qc("nodejs.stream.destroyed"),Bre=qc("nodejs.stream.errored"),CM=qc("nodejs.stream.readable"),OM=qc("nodejs.stream.writable"),Ure=qc("nodejs.stream.disturbed"),w9e=qc("nodejs.webstream.isClosedPromise"),m9e=qc("nodejs.webstream.controllerErrorFunction");function lS(e,t=!1){var r;return!!(e&&typeof e.pipe=="function"&&typeof e.on=="function"&&(!t||typeof e.pause=="function"&&typeof e.resume=="function")&&(!e._writableState||((r=e._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!e._writableState||e._readableState))}function uS(e){var t;return!!(e&&typeof e.write=="function"&&typeof e.on=="function"&&(!e._readableState||((t=e._writableState)===null||t===void 0?void 0:t.writable)!==!1))}function v9e(e){return!!(e&&typeof e.pipe=="function"&&e._readableState&&typeof e.on=="function"&&typeof e.write=="function")}function Vs(e){return e&&(e._readableState||e._writableState||typeof e.write=="function"&&typeof e.on=="function"||typeof e.pipe=="function"&&typeof e.on=="function")}function qre(e){return!!(e&&!Vs(e)&&typeof e.pipeThrough=="function"&&typeof e.getReader=="function"&&typeof e.cancel=="function")}function Hre(e){return!!(e&&!Vs(e)&&typeof e.getWriter=="function"&&typeof e.abort=="function")}function Vre(e){return!!(e&&!Vs(e)&&typeof e.readable=="object"&&typeof e.writable=="object")}function S9e(e){return qre(e)||Hre(e)||Vre(e)}function E9e(e,t){return e==null?!1:t===!0?typeof e[Fre]=="function":t===!1?typeof e[jre]=="function":typeof e[Fre]=="function"||typeof e[jre]=="function"}function fS(e){if(!Vs(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[Wre]||n!=null&&n.destroyed)}function Gre(e){if(!uS(e))return null;if(e.writableEnded===!0)return!0;const t=e._writableState;return t!=null&&t.errored?!1:typeof(t==null?void 0:t.ended)!="boolean"?null:t.ended}function R9e(e,t){if(!uS(e))return null;if(e.writableFinished===!0)return!0;const r=e._writableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.finished)!="boolean"?null:!!(r.finished||t===!1&&r.ended===!0&&r.length===0)}function x9e(e){if(!lS(e))return null;if(e.readableEnded===!0)return!0;const t=e._readableState;return!t||t.errored?!1:typeof(t==null?void 0:t.ended)!="boolean"?null:t.ended}function zre(e,t){if(!lS(e))return null;const r=e._readableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.endEmitted)!="boolean"?null:!!(r.endEmitted||t===!1&&r.ended===!0&&r.length===0)}function Kre(e){return e&&e[CM]!=null?e[CM]:typeof(e==null?void 0:e.readable)!="boolean"?null:fS(e)?!1:lS(e)&&e.readable&&!zre(e)}function Jre(e){return e&&e[OM]!=null?e[OM]:typeof(e==null?void 0:e.writable)!="boolean"?null:fS(e)?!1:uS(e)&&e.writable&&!Gre(e)}function A9e(e,t){return Vs(e)?fS(e)?!0:!((t==null?void 0:t.readable)!==!1&&Kre(e)||(t==null?void 0:t.writable)!==!1&&Jre(e)):null}function $9e(e){var t,r;return Vs(e)?e.writableErrored?e.writableErrored:(t=(r=e._writableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}function T9e(e){var t,r;return Vs(e)?e.readableErrored?e.readableErrored:(t=(r=e._readableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}function I9e(e){if(!Vs(e))return null;if(typeof e.closed=="boolean")return e.closed;const t=e._writableState,r=e._readableState;return typeof(t==null?void 0:t.closed)=="boolean"||typeof(r==null?void 0:r.closed)=="boolean"?(t==null?void 0:t.closed)||(r==null?void 0:r.closed):typeof e._closed=="boolean"&&Yre(e)?e._closed:null}function Yre(e){return typeof e._closed=="boolean"&&typeof e._defaultKeepAlive=="boolean"&&typeof e._removedConnection=="boolean"&&typeof e._removedContLen=="boolean"}function Xre(e){return typeof e._sent100=="boolean"&&Yre(e)}function N9e(e){var t;return typeof e._consuming=="boolean"&&typeof e._dumped=="boolean"&&((t=e.req)===null||t===void 0?void 0:t.upgradeOrConnect)===void 0}function k9e(e){if(!Vs(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!n&&Xre(e)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function C9e(e){var t;return!!(e&&((t=e[Ure])!==null&&t!==void 0?t:e.readableDidRead||e.readableAborted))}function O9e(e){var t,r,n,o,s,a,l,f,u,d;return!!(e&&((t=(r=(n=(o=(s=(a=e[Bre])!==null&&a!==void 0?a:e.readableErrored)!==null&&s!==void 0?s:e.writableErrored)!==null&&o!==void 0?o:(l=e._readableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&n!==void 0?n:(f=e._writableState)===null||f===void 0?void 0:f.errorEmitted)!==null&&r!==void 0?r:(u=e._readableState)===null||u===void 0?void 0:u.errored)!==null&&t!==void 0?t:!((d=e._writableState)===null||d===void 0)&&d.errored))}var il={isDestroyed:fS,kIsDestroyed:Wre,isDisturbed:C9e,kIsDisturbed:Ure,isErrored:O9e,kIsErrored:Bre,isReadable:Kre,kIsReadable:CM,kIsClosedPromise:w9e,kControllerErrorFunction:m9e,kIsWritable:OM,isClosed:I9e,isDuplexNodeStream:v9e,isFinished:A9e,isIterable:E9e,isReadableNodeStream:lS,isReadableStream:qre,isReadableEnded:x9e,isReadableFinished:zre,isReadableErrored:T9e,isNodeStream:Vs,isWebStream:S9e,isWritable:Jre,isWritableNodeStream:uS,isWritableStream:Hre,isWritableEnded:Gre,isWritableFinished:R9e,isWritableErrored:$9e,isServerRequest:N9e,isServerResponse:Xre,willEmitClose:k9e,isTransformStream:Vre};const Ou=Qe,{AbortError:Qre,codes:L9e}=Ti,{ERR_INVALID_ARG_TYPE:D9e,ERR_STREAM_PREMATURE_CLOSE:Zre}=L9e,{kEmptyObject:LM,once:DM}=oi,{validateAbortSignal:M9e,validateFunction:P9e,validateObject:F9e,validateBoolean:j9e}=v_,{Promise:W9e,PromisePrototypeThen:B9e,SymbolDispose:ene}=$r,{isClosed:U9e,isReadable:tne,isReadableNodeStream:MM,isReadableStream:q9e,isReadableFinished:rne,isReadableErrored:nne,isWritable:ine,isWritableNodeStream:one,isWritableStream:H9e,isWritableFinished:sne,isWritableErrored:ane,isNodeStream:V9e,willEmitClose:G9e,kIsClosedPromise:z9e}=il;let dp;function K9e(e){return e.setHeader&&typeof e.abort=="function"}const PM=()=>{};function lne(e,t,r){var n,o;if(arguments.length===2?(r=t,t=LM):t==null?t=LM:F9e(t,"options"),P9e(r,"callback"),M9e(t.signal,"options.signal"),r=DM(r),q9e(e)||H9e(e))return J9e(e,t,r);if(!V9e(e))throw new D9e("stream",["ReadableStream","WritableStream","Stream"],e);const s=(n=t.readable)!==null&&n!==void 0?n:MM(e),a=(o=t.writable)!==null&&o!==void 0?o:one(e),l=e._writableState,f=e._readableState,u=()=>{e.writable||h()};let d=G9e(e)&&MM(e)===s&&one(e)===a,g=sne(e,!1);const h=()=>{g=!0,e.destroyed&&(d=!1),!(d&&(!e.readable||s))&&(!s||p)&&r.call(e)};let p=rne(e,!1);const w=()=>{p=!0,e.destroyed&&(d=!1),!(d&&(!e.writable||a))&&(!a||g)&&r.call(e)},y=$=>{r.call(e,$)};let v=U9e(e);const E=()=>{v=!0;const $=ane(e)||nne(e);if($&&typeof $!="boolean")return r.call(e,$);if(s&&!p&&MM(e,!0)&&!rne(e,!1))return r.call(e,new Zre);if(a&&!g&&!sne(e,!1))return r.call(e,new Zre);r.call(e)},x=()=>{v=!0;const $=ane(e)||nne(e);if($&&typeof $!="boolean")return r.call(e,$);r.call(e)},S=()=>{e.req.on("finish",h)};K9e(e)?(e.on("complete",h),d||e.on("abort",E),e.req?S():e.on("request",S)):a&&!l&&(e.on("end",u),e.on("close",u)),!d&&typeof e.aborted=="boolean"&&e.on("aborted",E),e.on("end",w),e.on("finish",h),t.error!==!1&&e.on("error",y),e.on("close",E),v?Ou.nextTick(E):l!=null&&l.errorEmitted||f!=null&&f.errorEmitted?d||Ou.nextTick(x):(!s&&(!d||tne(e))&&(g||ine(e)===!1)||!a&&(!d||ine(e))&&(p||tne(e)===!1)||f&&e.req&&e.aborted)&&Ou.nextTick(x);const N=()=>{r=PM,e.removeListener("aborted",E),e.removeListener("complete",h),e.removeListener("abort",E),e.removeListener("request",S),e.req&&e.req.removeListener("finish",h),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",h),e.removeListener("end",w),e.removeListener("error",y),e.removeListener("close",E)};if(t.signal&&!v){const $=()=>{const D=r;N(),D.call(e,new Qre(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)Ou.nextTick($);else{dp=dp||oi.addAbortListener;const D=dp(t.signal,$),K=r;r=DM((...q)=>{D[ene](),K.apply(e,q)})}}return N}function J9e(e,t,r){let n=!1,o=PM;if(t.signal)if(o=()=>{n=!0,r.call(e,new Qre(void 0,{cause:t.signal.reason}))},t.signal.aborted)Ou.nextTick(o);else{dp=dp||oi.addAbortListener;const a=dp(t.signal,o),l=r;r=DM((...f)=>{a[ene](),l.apply(e,f)})}const s=(...a)=>{n||Ou.nextTick(()=>r.apply(e,a))};return B9e(e[z9e].promise,s,s),PM}function Y9e(e,t){var r;let n=!1;return t===null&&(t=LM),(r=t)!==null&&r!==void 0&&r.cleanup&&(j9e(t.cleanup,"cleanup"),n=t.cleanup),new W9e((o,s)=>{const a=lne(e,t,l=>{n&&a(),l?s(l):o()})})}kM.exports=lne,kM.exports.finished=Y9e;var Lu=kM.exports;const Gs=Qe,{aggregateTwoErrors:X9e,codes:{ERR_MULTIPLE_CALLBACK:Q9e},AbortError:Z9e}=Ti,{Symbol:une}=$r,{kIsDestroyed:eze,isDestroyed:tze,isFinished:rze,isServerRequest:nze}=il,fne=une("kDestroy"),FM=une("kConstruct");function cne(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function ize(e,t){const r=this._readableState,n=this._writableState,o=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof t=="function"&&t(),this):(cne(e,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),o.constructed?dne(this,e,t):this.once(fne,function(s){dne(this,X9e(s,e),t)}),this)}function dne(e,t,r){let n=!1;function o(s){if(n)return;n=!0;const a=e._readableState,l=e._writableState;cne(s,l,a),l&&(l.closed=!0),a&&(a.closed=!0),typeof r=="function"&&r(s),s?Gs.nextTick(oze,e,s):Gs.nextTick(hne,e)}try{e._destroy(t||null,o)}catch(s){o(s)}}function oze(e,t){jM(e,t),hne(e)}function hne(e){const t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(r!=null&&r.emitClose||t!=null&&t.emitClose)&&e.emit("close")}function jM(e,t){const r=e._readableState,n=e._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function sze(){const e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=e.readable===!1,e.endEmitted=e.readable===!1),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=t.writable===!1,t.ending=t.writable===!1,t.finished=t.writable===!1)}function WM(e,t,r){const n=e._readableState,o=e._writableState;if(o!=null&&o.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||o!=null&&o.autoDestroy?e.destroy(t):t&&(t.stack,o&&!o.errored&&(o.errored=t),n&&!n.errored&&(n.errored=t),r?Gs.nextTick(jM,e,t):jM(e,t))}function aze(e,t){if(typeof e._construct!="function")return;const r=e._readableState,n=e._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),e.once(FM,t),!(e.listenerCount(FM)>1)&&Gs.nextTick(lze,e)}function lze(e){let t=!1;function r(n){if(t){WM(e,n??new Q9e);return}t=!0;const o=e._readableState,s=e._writableState,a=s||o;o&&(o.constructed=!0),s&&(s.constructed=!0),a.destroyed?e.emit(fne,n):n?WM(e,n,!0):Gs.nextTick(uze,e)}try{e._construct(n=>{Gs.nextTick(r,n)})}catch(n){Gs.nextTick(r,n)}}function uze(e){e.emit(FM)}function pne(e){return(e==null?void 0:e.setHeader)&&typeof e.abort=="function"}function bne(e){e.emit("close")}function fze(e,t){e.emit("error",t),Gs.nextTick(bne,e)}function cze(e,t){!e||tze(e)||(!t&&!rze(e)&&(t=new Z9e),nze(e)?(e.socket=null,e.destroy(t)):pne(e)?e.abort():pne(e.req)?e.req.abort():typeof e.destroy=="function"?e.destroy(t):typeof e.close=="function"?e.close():t?Gs.nextTick(fze,e,t):Gs.nextTick(bne,e),e.destroyed||(e[eze]=!0))}var hp={construct:aze,destroyer:cze,destroy:ize,undestroy:sze,errorOrDestroy:WM};const{ArrayIsArray:dze,ObjectSetPrototypeOf:gne}=$r,{EventEmitter:cS}=$t;function dS(e){cS.call(this,e)}gne(dS.prototype,cS.prototype),gne(dS,cS),dS.prototype.pipe=function(e,t){const r=this;function n(d){e.writable&&e.write(d)===!1&&r.pause&&r.pause()}r.on("data",n);function o(){r.readable&&r.resume&&r.resume()}e.on("drain",o),!e._isStdio&&(!t||t.end!==!1)&&(r.on("end",a),r.on("close",l));let s=!1;function a(){s||(s=!0,e.end())}function l(){s||(s=!0,typeof e.destroy=="function"&&e.destroy())}function f(d){u(),cS.listenerCount(this,"error")===0&&this.emit("error",d)}BM(r,"error",f),BM(e,"error",f);function u(){r.removeListener("data",n),e.removeListener("drain",o),r.removeListener("end",a),r.removeListener("close",l),r.removeListener("error",f),e.removeListener("error",f),r.removeListener("end",u),r.removeListener("close",u),e.removeListener("close",u)}return r.on("end",u),r.on("close",u),e.on("close",u),e.emit("pipe",r),e};function BM(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):dze(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}var UM={Stream:dS,prependListener:BM},_ne={exports:{}};(function(e){const{SymbolDispose:t}=$r,{AbortError:r,codes:n}=Ti,{isNodeStream:o,isWebStream:s,kControllerErrorFunction:a}=il,l=Lu,{ERR_INVALID_ARG_TYPE:f}=n;let u;const d=(g,h)=>{if(typeof g!="object"||!("aborted"in g))throw new f(h,"AbortSignal",g)};e.exports.addAbortSignal=function(h,p){if(d(h,"signal"),!o(p)&&!s(p))throw new f("stream",["ReadableStream","WritableStream","Stream"],p);return e.exports.addAbortSignalNoValidate(h,p)},e.exports.addAbortSignalNoValidate=function(g,h){if(typeof g!="object"||!("aborted"in g))return h;const p=o(h)?()=>{h.destroy(new r(void 0,{cause:g.reason}))}:()=>{h[a](new r(void 0,{cause:g.reason}))};if(g.aborted)p();else{u=u||oi.addAbortListener;const w=u(g,p);l(h,w[t])}return h}})(_ne);var hS=_ne.exports;const{StringPrototypeSlice:yne,SymbolIterator:hze,TypedArrayPrototypeSet:pS,Uint8Array:pze}=$r,{Buffer:qM}=Ge,{inspect:bze}=oi;var gze=class{constructor(){this.head=null,this.tail=null,this.length=0}push(t){const r={data:t,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(t){const r={data:t,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;const t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=t+r.data;return n}concat(t){if(this.length===0)return qM.alloc(0);const r=qM.allocUnsafe(t>>>0);let n=this.head,o=0;for(;n;)pS(r,n.data,o),o+=n.data.length,n=n.next;return r}consume(t,r){const n=this.head.data;if(t<n.length){const o=n.slice(0,t);return this.head.data=n.slice(t),o}return t===n.length?this.shift():r?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[hze](){for(let t=this.head;t;t=t.next)yield t.data}_getString(t){let r="",n=this.head,o=0;do{const s=n.data;if(t>s.length)r+=s,t-=s.length;else{t===s.length?(r+=s,++o,n.next?this.head=n.next:this.head=this.tail=null):(r+=yne(s,0,t),this.head=n,n.data=yne(s,t));break}++o}while((n=n.next)!==null);return this.length-=o,r}_getBuffer(t){const r=qM.allocUnsafe(t),n=t;let o=this.head,s=0;do{const a=o.data;if(t>a.length)pS(r,a,n-t),t-=a.length;else{t===a.length?(pS(r,a,n-t),++s,o.next?this.head=o.next:this.head=this.tail=null):(pS(r,new pze(a.buffer,a.byteOffset,t),n-t),this.head=o,o.data=a.slice(t));break}++s}while((o=o.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](t,r){return bze(this,{...r,depth:0,customInspect:!1})}};const{MathFloor:_ze,NumberIsInteger:yze}=$r,{validateInteger:wze}=v_,{ERR_INVALID_ARG_VALUE:mze}=Ti.codes;let wne=16*1024,mne=16;function vze(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function vne(e){return e?mne:wne}function Sze(e,t){wze(t,"value",0),e?mne=t:wne=t}function Eze(e,t,r,n){const o=vze(t,n,r);if(o!=null){if(!yze(o)||o<0){const s=n?`options.${r}`:"options.highWaterMark";throw new mze(s,o)}return _ze(o)}return vne(e.objectMode)}var bS={getHighWaterMark:Eze,getDefaultHighWaterMark:vne,setDefaultHighWaterMark:Sze};const Sne=Qe,{PromisePrototypeThen:Rze,SymbolAsyncIterator:Ene,SymbolIterator:Rne}=$r,{Buffer:xze}=Ge,{ERR_INVALID_ARG_TYPE:Aze,ERR_STREAM_NULL_VALUES:$ze}=Ti.codes;function Tze(e,t,r){let n;if(typeof t=="string"||t instanceof xze)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});let o;if(t&&t[Ene])o=!0,n=t[Ene]();else if(t&&t[Rne])o=!1,n=t[Rne]();else throw new Aze("iterable",["Iterable"],t);const s=new e({objectMode:!0,highWaterMark:1,...r});let a=!1;s._read=function(){a||(a=!0,f())},s._destroy=function(u,d){Rze(l(u),()=>Sne.nextTick(d,u),g=>Sne.nextTick(d,g||u))};async function l(u){const d=u!=null,g=typeof n.throw=="function";if(d&&g){const{value:h,done:p}=await n.throw(u);if(await h,p)return}if(typeof n.return=="function"){const{value:h}=await n.return();await h}}async function f(){for(;;){try{const{value:u,done:d}=o?await n.next():n.next();if(d)s.push(null);else{const g=u&&typeof u.then=="function"?await u:u;if(g===null)throw a=!1,new $ze;if(s.push(g))continue;a=!1}}catch(u){s.destroy(u)}break}}return s}var xne=Tze,HM,Ane;function gS(){if(Ane)return HM;Ane=1;const e=Qe,{ArrayPrototypeIndexOf:t,NumberIsInteger:r,NumberIsNaN:n,NumberParseInt:o,ObjectDefineProperties:s,ObjectKeys:a,ObjectSetPrototypeOf:l,Promise:f,SafeSet:u,SymbolAsyncDispose:d,SymbolAsyncIterator:g,Symbol:h}=$r;HM=F,F.ReadableState=ye;const{EventEmitter:p}=$t,{Stream:w,prependListener:y}=UM,{Buffer:v}=Ge,{addAbortSignal:E}=hS,x=Lu;let S=oi.debuglog("stream",c=>{S=c});const N=gze,$=hp,{getHighWaterMark:D,getDefaultHighWaterMark:K}=bS,{aggregateTwoErrors:q,codes:{ERR_INVALID_ARG_TYPE:k,ERR_METHOD_NOT_IMPLEMENTED:V,ERR_OUT_OF_RANGE:j,ERR_STREAM_PUSH_AFTER_EOF:B,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:A},AbortError:U}=Ti,{validateObject:G}=v_,H=h("kPaused"),{StringDecoder:Q}=Fi(),ne=xne;l(F.prototype,w.prototype),l(F,w);const se=()=>{},{errorOrDestroy:ae}=$,Z=1,ge=2,W=4,ue=8,xe=16,he=32,le=64,_e=128,Ae=256,We=512,ie=1024,te=2048,_=4096,m=8192,R=16384,O=32768,C=65536,X=1<<17,re=1<<18;function J(c){return{enumerable:!1,get(){return(this.state&c)!==0},set(b){b?this.state|=c:this.state&=~c}}}s(ye.prototype,{objectMode:J(Z),ended:J(ge),endEmitted:J(W),reading:J(ue),constructed:J(xe),sync:J(he),needReadable:J(le),emittedReadable:J(_e),readableListening:J(Ae),resumeScheduled:J(We),errorEmitted:J(ie),emitClose:J(te),autoDestroy:J(_),destroyed:J(m),closed:J(R),closeEmitted:J(O),multiAwaitDrain:J(C),readingMore:J(X),dataEmitted:J(re)});function ye(c,b,I){typeof I!="boolean"&&(I=b instanceof ol()),this.state=te|_|xe|he,c&&c.objectMode&&(this.state|=Z),I&&c&&c.readableObjectMode&&(this.state|=Z),this.highWaterMark=c?D(this,c,"readableHighWaterMark",I):K(!1),this.buffer=new N,this.length=0,this.pipes=[],this.flowing=null,this[H]=null,c&&c.emitClose===!1&&(this.state&=~te),c&&c.autoDestroy===!1&&(this.state&=~_),this.errored=null,this.defaultEncoding=c&&c.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,c&&c.encoding&&(this.decoder=new Q(c.encoding),this.encoding=c.encoding)}function F(c){if(!(this instanceof F))return new F(c);const b=this instanceof ol();this._readableState=new ye(c,this,b),c&&(typeof c.read=="function"&&(this._read=c.read),typeof c.destroy=="function"&&(this._destroy=c.destroy),typeof c.construct=="function"&&(this._construct=c.construct),c.signal&&!b&&E(c.signal,this)),w.call(this,c),$.construct(this,()=>{this._readableState.needReadable&&ce(this,this._readableState)})}F.prototype.destroy=$.destroy,F.prototype._undestroy=$.undestroy,F.prototype._destroy=function(c,b){b(c)},F.prototype[p.captureRejectionSymbol]=function(c){this.destroy(c)},F.prototype[d]=function(){let c;return this.destroyed||(c=this.readableEnded?null:new U,this.destroy(c)),new f((b,I)=>x(this,T=>T&&T!==c?I(T):b(null)))},F.prototype.push=function(c,b){return we(this,c,b,!1)},F.prototype.unshift=function(c,b){return we(this,c,b,!0)};function we(c,b,I,T){S("readableAddChunk",b);const P=c._readableState;let Ee;if(P.state&Z||(typeof b=="string"?(I=I||P.defaultEncoding,P.encoding!==I&&(T&&P.encoding?b=v.from(b,I).toString(P.encoding):(b=v.from(b,I),I=""))):b instanceof v?I="":w._isUint8Array(b)?(b=w._uint8ArrayToBuffer(b),I=""):b!=null&&(Ee=new k("chunk",["string","Buffer","Uint8Array"],b))),Ee)ae(c,Ee);else if(b===null)P.state&=~ue,L(c,P);else if(P.state&Z||b&&b.length>0)if(T)if(P.state&W)ae(c,new A);else{if(P.destroyed||P.errored)return!1;Ce(c,P,b,!0)}else if(P.ended)ae(c,new B);else{if(P.destroyed||P.errored)return!1;P.state&=~ue,P.decoder&&!I?(b=P.decoder.write(b),P.objectMode||b.length!==0?Ce(c,P,b,!1):ce(c,P)):Ce(c,P,b,!1)}else T||(P.state&=~ue,ce(c,P));return!P.ended&&(P.length<P.highWaterMark||P.length===0)}function Ce(c,b,I,T){b.flowing&&b.length===0&&!b.sync&&c.listenerCount("data")>0?(b.state&C?b.awaitDrainWriters.clear():b.awaitDrainWriters=null,b.dataEmitted=!0,c.emit("data",I)):(b.length+=b.objectMode?1:I.length,T?b.buffer.unshift(I):b.buffer.push(I),b.state&le&&M(c)),ce(c,b)}F.prototype.isPaused=function(){const c=this._readableState;return c[H]===!0||c.flowing===!1},F.prototype.setEncoding=function(c){const b=new Q(c);this._readableState.decoder=b,this._readableState.encoding=this._readableState.decoder.encoding;const I=this._readableState.buffer;let T="";for(const P of I)T+=b.write(P);return I.clear(),T!==""&&I.push(T),this._readableState.length=T.length,this};const Me=1073741824;function Ue(c){if(c>Me)throw new j("size","<= 1GiB",c);return c--,c|=c>>>1,c|=c>>>2,c|=c>>>4,c|=c>>>8,c|=c>>>16,c++,c}function z(c,b){return c<=0||b.length===0&&b.ended?0:b.state&Z?1:n(c)?b.flowing&&b.length?b.buffer.first().length:b.length:c<=b.length?c:b.ended?b.length:0}F.prototype.read=function(c){S("read",c),c===void 0?c=NaN:r(c)||(c=o(c,10));const b=this._readableState,I=c;if(c>b.highWaterMark&&(b.highWaterMark=Ue(c)),c!==0&&(b.state&=~_e),c===0&&b.needReadable&&((b.highWaterMark!==0?b.length>=b.highWaterMark:b.length>0)||b.ended))return S("read: emitReadable",b.length,b.ended),b.length===0&&b.ended?ht(this):M(this),null;if(c=z(c,b),c===0&&b.ended)return b.length===0&&ht(this),null;let T=(b.state&le)!==0;if(S("need readable",T),(b.length===0||b.length-c<b.highWaterMark)&&(T=!0,S("length less than watermark",T)),b.ended||b.reading||b.destroyed||b.errored||!b.constructed)T=!1,S("reading, ended or constructing",T);else if(T){S("do read"),b.state|=ue|he,b.length===0&&(b.state|=le);try{this._read(b.highWaterMark)}catch(Ee){ae(this,Ee)}b.state&=~he,b.reading||(c=z(I,b))}let P;return c>0?P=Mt(c,b):P=null,P===null?(b.needReadable=b.length<=b.highWaterMark,c=0):(b.length-=c,b.multiAwaitDrain?b.awaitDrainWriters.clear():b.awaitDrainWriters=null),b.length===0&&(b.ended||(b.needReadable=!0),I!==c&&b.ended&&ht(this)),P!==null&&!b.errorEmitted&&!b.closeEmitted&&(b.dataEmitted=!0,this.emit("data",P)),P};function L(c,b){if(S("onEofChunk"),!b.ended){if(b.decoder){const I=b.decoder.end();I&&I.length&&(b.buffer.push(I),b.length+=b.objectMode?1:I.length)}b.ended=!0,b.sync?M(c):(b.needReadable=!1,b.emittedReadable=!0,oe(c))}}function M(c){const b=c._readableState;S("emitReadable",b.needReadable,b.emittedReadable),b.needReadable=!1,b.emittedReadable||(S("emitReadable",b.flowing),b.emittedReadable=!0,e.nextTick(oe,c))}function oe(c){const b=c._readableState;S("emitReadable_",b.destroyed,b.length,b.ended),!b.destroyed&&!b.errored&&(b.length||b.ended)&&(c.emit("readable"),b.emittedReadable=!1),b.needReadable=!b.flowing&&!b.ended&&b.length<=b.highWaterMark,rt(c)}function ce(c,b){!b.readingMore&&b.constructed&&(b.readingMore=!0,e.nextTick(Se,c,b))}function Se(c,b){for(;!b.reading&&!b.ended&&(b.length<b.highWaterMark||b.flowing&&b.length===0);){const I=b.length;if(S("maybeReadMore read 0"),c.read(0),I===b.length)break}b.readingMore=!1}F.prototype._read=function(c){throw new V("_read()")},F.prototype.pipe=function(c,b){const I=this,T=this._readableState;T.pipes.length===1&&(T.multiAwaitDrain||(T.multiAwaitDrain=!0,T.awaitDrainWriters=new u(T.awaitDrainWriters?[T.awaitDrainWriters]:[]))),T.pipes.push(c),S("pipe count=%d opts=%j",T.pipes.length,b);const Ee=(!b||b.end!==!1)&&c!==e.stdout&&c!==e.stderr?de:Ke;T.endEmitted?e.nextTick(Ee):I.once("end",Ee),c.on("unpipe",$e);function $e(ke,Te){S("onunpipe"),ke===I&&Te&&Te.hasUnpiped===!1&&(Te.hasUnpiped=!0,Re())}function de(){S("onend"),c.end()}let ee,pe=!1;function Re(){S("cleanup"),c.removeListener("close",Ye),c.removeListener("finish",tt),ee&&c.removeListener("drain",ee),c.removeListener("error",Be),c.removeListener("unpipe",$e),I.removeListener("end",de),I.removeListener("end",Ke),I.removeListener("data",Ve),pe=!0,ee&&T.awaitDrainWriters&&(!c._writableState||c._writableState.needDrain)&&ee()}function me(){pe||(T.pipes.length===1&&T.pipes[0]===c?(S("false write response, pause",0),T.awaitDrainWriters=c,T.multiAwaitDrain=!1):T.pipes.length>1&&T.pipes.includes(c)&&(S("false write response, pause",T.awaitDrainWriters.size),T.awaitDrainWriters.add(c)),I.pause()),ee||(ee=ve(I,c),c.on("drain",ee))}I.on("data",Ve);function Ve(ke){S("ondata");const Te=c.write(ke);S("dest.write",Te),Te===!1&&me()}function Be(ke){if(S("onerror",ke),Ke(),c.removeListener("error",Be),c.listenerCount("error")===0){const Te=c._writableState||c._readableState;Te&&!Te.errorEmitted?ae(c,ke):c.emit("error",ke)}}y(c,"error",Be);function Ye(){c.removeListener("finish",tt),Ke()}c.once("close",Ye);function tt(){S("onfinish"),c.removeListener("close",Ye),Ke()}c.once("finish",tt);function Ke(){S("unpipe"),I.unpipe(c)}return c.emit("pipe",I),c.writableNeedDrain===!0?me():T.flowing||(S("pipe resume"),I.resume()),c};function ve(c,b){return function(){const T=c._readableState;T.awaitDrainWriters===b?(S("pipeOnDrain",1),T.awaitDrainWriters=null):T.multiAwaitDrain&&(S("pipeOnDrain",T.awaitDrainWriters.size),T.awaitDrainWriters.delete(b)),(!T.awaitDrainWriters||T.awaitDrainWriters.size===0)&&c.listenerCount("data")&&c.resume()}}F.prototype.unpipe=function(c){const b=this._readableState,I={hasUnpiped:!1};if(b.pipes.length===0)return this;if(!c){const P=b.pipes;b.pipes=[],this.pause();for(let Ee=0;Ee<P.length;Ee++)P[Ee].emit("unpipe",this,{hasUnpiped:!1});return this}const T=t(b.pipes,c);return T===-1?this:(b.pipes.splice(T,1),b.pipes.length===0&&this.pause(),c.emit("unpipe",this,I),this)},F.prototype.on=function(c,b){const I=w.prototype.on.call(this,c,b),T=this._readableState;return c==="data"?(T.readableListening=this.listenerCount("readable")>0,T.flowing!==!1&&this.resume()):c==="readable"&&!T.endEmitted&&!T.readableListening&&(T.readableListening=T.needReadable=!0,T.flowing=!1,T.emittedReadable=!1,S("on readable",T.length,T.reading),T.length?M(this):T.reading||e.nextTick(dt,this)),I},F.prototype.addListener=F.prototype.on,F.prototype.removeListener=function(c,b){const I=w.prototype.removeListener.call(this,c,b);return c==="readable"&&e.nextTick(ze,this),I},F.prototype.off=F.prototype.removeListener,F.prototype.removeAllListeners=function(c){const b=w.prototype.removeAllListeners.apply(this,arguments);return(c==="readable"||c===void 0)&&e.nextTick(ze,this),b};function ze(c){const b=c._readableState;b.readableListening=c.listenerCount("readable")>0,b.resumeScheduled&&b[H]===!1?b.flowing=!0:c.listenerCount("data")>0?c.resume():b.readableListening||(b.flowing=null)}function dt(c){S("readable nexttick read 0"),c.read(0)}F.prototype.resume=function(){const c=this._readableState;return c.flowing||(S("resume"),c.flowing=!c.readableListening,et(this,c)),c[H]=!1,this};function et(c,b){b.resumeScheduled||(b.resumeScheduled=!0,e.nextTick(Xe,c,b))}function Xe(c,b){S("resume",b.reading),b.reading||c.read(0),b.resumeScheduled=!1,c.emit("resume"),rt(c),b.flowing&&!b.reading&&c.read(0)}F.prototype.pause=function(){return S("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(S("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[H]=!0,this};function rt(c){const b=c._readableState;for(S("flow",b.flowing);b.flowing&&c.read()!==null;);}F.prototype.wrap=function(c){let b=!1;c.on("data",T=>{!this.push(T)&&c.pause&&(b=!0,c.pause())}),c.on("end",()=>{this.push(null)}),c.on("error",T=>{ae(this,T)}),c.on("close",()=>{this.destroy()}),c.on("destroy",()=>{this.destroy()}),this._read=()=>{b&&c.resume&&(b=!1,c.resume())};const I=a(c);for(let T=1;T<I.length;T++){const P=I[T];this[P]===void 0&&typeof c[P]=="function"&&(this[P]=c[P].bind(c))}return this},F.prototype[g]=function(){return Lt(this)},F.prototype.iterator=function(c){return c!==void 0&&G(c,"options"),Lt(this,c)};function Lt(c,b){typeof c.read!="function"&&(c=F.wrap(c,{objectMode:!0}));const I=vr(c,b);return I.stream=c,I}async function*vr(c,b){let I=se;function T($e){this===c?(I(),I=se):I=$e}c.on("readable",T);let P;const Ee=x(c,{writable:!1},$e=>{P=$e?q(P,$e):null,I(),I=se});try{for(;;){const $e=c.destroyed?null:c.read();if($e!==null)yield $e;else{if(P)throw P;if(P===null)return;await new f(T)}}}catch($e){throw P=q(P,$e),P}finally{(P||(b==null?void 0:b.destroyOnReturn)!==!1)&&(P===void 0||c._readableState.autoDestroy)?$.destroyer(c,null):(c.off("readable",T),Ee())}}s(F.prototype,{readable:{__proto__:null,get(){const c=this._readableState;return!!c&&c.readable!==!1&&!c.destroyed&&!c.errorEmitted&&!c.endEmitted},set(c){this._readableState&&(this._readableState.readable=!!c)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(c){this._readableState&&(this._readableState.flowing=c)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(c){this._readableState&&(this._readableState.destroyed=c)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),s(ye.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[H]!==!1},set(c){this[H]=!!c}}}),F._fromList=Mt;function Mt(c,b){if(b.length===0)return null;let I;return b.objectMode?I=b.buffer.shift():!c||c>=b.length?(b.decoder?I=b.buffer.join(""):b.buffer.length===1?I=b.buffer.first():I=b.buffer.concat(b.length),b.buffer.clear()):I=b.buffer.consume(c,b.decoder),I}function ht(c){const b=c._readableState;S("endReadable",b.endEmitted),b.endEmitted||(b.ended=!0,e.nextTick(wr,b,c))}function wr(c,b){if(S("endReadableNT",c.endEmitted,c.length),!c.errored&&!c.closeEmitted&&!c.endEmitted&&c.length===0){if(c.endEmitted=!0,b.emit("end"),b.writable&&b.allowHalfOpen===!1)e.nextTick(rr,b);else if(c.autoDestroy){const I=b._writableState;(!I||I.autoDestroy&&(I.finished||I.writable===!1))&&b.destroy()}}}function rr(c){c.writable&&!c.writableEnded&&!c.destroyed&&c.end()}F.from=function(c,b){return ne(F,c,b)};let _t;function jt(){return _t===void 0&&(_t={}),_t}return F.fromWeb=function(c,b){return jt().newStreamReadableFromReadableStream(c,b)},F.toWeb=function(c,b){return jt().newReadableStreamFromStreamReadable(c,b)},F.wrap=function(c,b){var I,T;return new F({objectMode:(I=(T=c.readableObjectMode)!==null&&T!==void 0?T:c.objectMode)!==null&&I!==void 0?I:!0,...b,destroy(P,Ee){$.destroyer(c,P),Ee(P)}}).wrap(c)},HM}var VM,$ne;function GM(){if($ne)return VM;$ne=1;const e=Qe,{ArrayPrototypeSlice:t,Error:r,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:o,ObjectDefineProperties:s,ObjectSetPrototypeOf:a,StringPrototypeToLowerCase:l,Symbol:f,SymbolHasInstance:u}=$r;VM=G,G.WritableState=A;const{EventEmitter:d}=$t,g=UM.Stream,{Buffer:h}=Ge,p=hp,{addAbortSignal:w}=hS,{getHighWaterMark:y,getDefaultHighWaterMark:v}=bS,{ERR_INVALID_ARG_TYPE:E,ERR_METHOD_NOT_IMPLEMENTED:x,ERR_MULTIPLE_CALLBACK:S,ERR_STREAM_CANNOT_PIPE:N,ERR_STREAM_DESTROYED:$,ERR_STREAM_ALREADY_FINISHED:D,ERR_STREAM_NULL_VALUES:K,ERR_STREAM_WRITE_AFTER_END:q,ERR_UNKNOWN_ENCODING:k}=Ti.codes,{errorOrDestroy:V}=p;a(G.prototype,g.prototype),a(G,g);function j(){}const B=f("kOnFinished");function A(_,m,R){typeof R!="boolean"&&(R=m instanceof ol()),this.objectMode=!!(_&&_.objectMode),R&&(this.objectMode=this.objectMode||!!(_&&_.writableObjectMode)),this.highWaterMark=_?y(this,_,"writableHighWaterMark",R):v(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const O=!!(_&&_.decodeStrings===!1);this.decodeStrings=!O,this.defaultEncoding=_&&_.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=ae.bind(void 0,m),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,U(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!_||_.emitClose!==!1,this.autoDestroy=!_||_.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[B]=[]}function U(_){_.buffered=[],_.bufferedIndex=0,_.allBuffers=!0,_.allNoop=!0}A.prototype.getBuffer=function(){return t(this.buffered,this.bufferedIndex)},o(A.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function G(_){const m=this instanceof ol();if(!m&&!n(G,this))return new G(_);this._writableState=new A(_,this,m),_&&(typeof _.write=="function"&&(this._write=_.write),typeof _.writev=="function"&&(this._writev=_.writev),typeof _.destroy=="function"&&(this._destroy=_.destroy),typeof _.final=="function"&&(this._final=_.final),typeof _.construct=="function"&&(this._construct=_.construct),_.signal&&w(_.signal,this)),g.call(this,_),p.construct(this,()=>{const R=this._writableState;R.writing||ue(this,R),_e(this,R)})}o(G,u,{__proto__:null,value:function(_){return n(this,_)?!0:this!==G?!1:_&&_._writableState instanceof A}}),G.prototype.pipe=function(){V(this,new N)};function H(_,m,R,O){const C=_._writableState;if(typeof R=="function")O=R,R=C.defaultEncoding;else{if(!R)R=C.defaultEncoding;else if(R!=="buffer"&&!h.isEncoding(R))throw new k(R);typeof O!="function"&&(O=j)}if(m===null)throw new K;if(!C.objectMode)if(typeof m=="string")C.decodeStrings!==!1&&(m=h.from(m,R),R="buffer");else if(m instanceof h)R="buffer";else if(g._isUint8Array(m))m=g._uint8ArrayToBuffer(m),R="buffer";else throw new E("chunk",["string","Buffer","Uint8Array"],m);let X;return C.ending?X=new q:C.destroyed&&(X=new $("write")),X?(e.nextTick(O,X),V(_,X,!0),X):(C.pendingcb++,Q(_,C,m,R,O))}G.prototype.write=function(_,m,R){return H(this,_,m,R)===!0},G.prototype.cork=function(){this._writableState.corked++},G.prototype.uncork=function(){const _=this._writableState;_.corked&&(_.corked--,_.writing||ue(this,_))},G.prototype.setDefaultEncoding=function(m){if(typeof m=="string"&&(m=l(m)),!h.isEncoding(m))throw new k(m);return this._writableState.defaultEncoding=m,this};function Q(_,m,R,O,C){const X=m.objectMode?1:R.length;m.length+=X;const re=m.length<m.highWaterMark;return re||(m.needDrain=!0),m.writing||m.corked||m.errored||!m.constructed?(m.buffered.push({chunk:R,encoding:O,callback:C}),m.allBuffers&&O!=="buffer"&&(m.allBuffers=!1),m.allNoop&&C!==j&&(m.allNoop=!1)):(m.writelen=X,m.writecb=C,m.writing=!0,m.sync=!0,_._write(R,O,m.onwrite),m.sync=!1),re&&!m.errored&&!m.destroyed}function ne(_,m,R,O,C,X,re){m.writelen=O,m.writecb=re,m.writing=!0,m.sync=!0,m.destroyed?m.onwrite(new $("write")):R?_._writev(C,m.onwrite):_._write(C,X,m.onwrite),m.sync=!1}function se(_,m,R,O){--m.pendingcb,O(R),W(m),V(_,R)}function ae(_,m){const R=_._writableState,O=R.sync,C=R.writecb;if(typeof C!="function"){V(_,new S);return}R.writing=!1,R.writecb=null,R.length-=R.writelen,R.writelen=0,m?(m.stack,R.errored||(R.errored=m),_._readableState&&!_._readableState.errored&&(_._readableState.errored=m),O?e.nextTick(se,_,R,m,C):se(_,R,m,C)):(R.buffered.length>R.bufferedIndex&&ue(_,R),O?R.afterWriteTickInfo!==null&&R.afterWriteTickInfo.cb===C?R.afterWriteTickInfo.count++:(R.afterWriteTickInfo={count:1,cb:C,stream:_,state:R},e.nextTick(Z,R.afterWriteTickInfo)):ge(_,R,1,C))}function Z({stream:_,state:m,count:R,cb:O}){return m.afterWriteTickInfo=null,ge(_,m,R,O)}function ge(_,m,R,O){for(!m.ending&&!_.destroyed&&m.length===0&&m.needDrain&&(m.needDrain=!1,_.emit("drain"));R-- >0;)m.pendingcb--,O();m.destroyed&&W(m),_e(_,m)}function W(_){if(_.writing)return;for(let C=_.bufferedIndex;C<_.buffered.length;++C){var m;const{chunk:X,callback:re}=_.buffered[C],J=_.objectMode?1:X.length;_.length-=J,re((m=_.errored)!==null&&m!==void 0?m:new $("write"))}const R=_[B].splice(0);for(let C=0;C<R.length;C++){var O;R[C]((O=_.errored)!==null&&O!==void 0?O:new $("end"))}U(_)}function ue(_,m){if(m.corked||m.bufferProcessing||m.destroyed||!m.constructed)return;const{buffered:R,bufferedIndex:O,objectMode:C}=m,X=R.length-O;if(!X)return;let re=O;if(m.bufferProcessing=!0,X>1&&_._writev){m.pendingcb-=X-1;const J=m.allNoop?j:F=>{for(let we=re;we<R.length;++we)R[we].callback(F)},ye=m.allNoop&&re===0?R:t(R,re);ye.allBuffers=m.allBuffers,ne(_,m,!0,m.length,ye,"",J),U(m)}else{do{const{chunk:J,encoding:ye,callback:F}=R[re];R[re++]=null;const we=C?1:J.length;ne(_,m,!1,we,J,ye,F)}while(re<R.length&&!m.writing);re===R.length?U(m):re>256?(R.splice(0,re),m.bufferedIndex=0):m.bufferedIndex=re}m.bufferProcessing=!1}G.prototype._write=function(_,m,R){if(this._writev)this._writev([{chunk:_,encoding:m}],R);else throw new x("_write()")},G.prototype._writev=null,G.prototype.end=function(_,m,R){const O=this._writableState;typeof _=="function"?(R=_,_=null,m=null):typeof m=="function"&&(R=m,m=null);let C;if(_!=null){const X=H(this,_,m);X instanceof r&&(C=X)}return O.corked&&(O.corked=1,this.uncork()),C||(!O.errored&&!O.ending?(O.ending=!0,_e(this,O,!0),O.ended=!0):O.finished?C=new D("end"):O.destroyed&&(C=new $("end"))),typeof R=="function"&&(C||O.finished?e.nextTick(R,C):O[B].push(R)),this};function xe(_){return _.ending&&!_.destroyed&&_.constructed&&_.length===0&&!_.errored&&_.buffered.length===0&&!_.finished&&!_.writing&&!_.errorEmitted&&!_.closeEmitted}function he(_,m){let R=!1;function O(C){if(R){V(_,C??S());return}if(R=!0,m.pendingcb--,C){const X=m[B].splice(0);for(let re=0;re<X.length;re++)X[re](C);V(_,C,m.sync)}else xe(m)&&(m.prefinished=!0,_.emit("prefinish"),m.pendingcb++,e.nextTick(Ae,_,m))}m.sync=!0,m.pendingcb++;try{_._final(O)}catch(C){O(C)}m.sync=!1}function le(_,m){!m.prefinished&&!m.finalCalled&&(typeof _._final=="function"&&!m.destroyed?(m.finalCalled=!0,he(_,m)):(m.prefinished=!0,_.emit("prefinish")))}function _e(_,m,R){xe(m)&&(le(_,m),m.pendingcb===0&&(R?(m.pendingcb++,e.nextTick((O,C)=>{xe(C)?Ae(O,C):C.pendingcb--},_,m)):xe(m)&&(m.pendingcb++,Ae(_,m))))}function Ae(_,m){m.pendingcb--,m.finished=!0;const R=m[B].splice(0);for(let O=0;O<R.length;O++)R[O]();if(_.emit("finish"),m.autoDestroy){const O=_._readableState;(!O||O.autoDestroy&&(O.endEmitted||O.readable===!1))&&_.destroy()}}s(G.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(_){this._writableState&&(this._writableState.destroyed=_)}},writable:{__proto__:null,get(){const _=this._writableState;return!!_&&_.writable!==!1&&!_.destroyed&&!_.errored&&!_.ending&&!_.ended},set(_){this._writableState&&(this._writableState.writable=!!_)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const _=this._writableState;return _?!_.destroyed&&!_.ending&&_.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const We=p.destroy;G.prototype.destroy=function(_,m){const R=this._writableState;return!R.destroyed&&(R.bufferedIndex<R.buffered.length||R[B].length)&&e.nextTick(W,R),We.call(this,_,m),this},G.prototype._undestroy=p.undestroy,G.prototype._destroy=function(_,m){m(_)},G.prototype[d.captureRejectionSymbol]=function(_){this.destroy(_)};let ie;function te(){return ie===void 0&&(ie={}),ie}return G.fromWeb=function(_,m){return te().newStreamWritableFromWritableStream(_,m)},G.toWeb=function(_){return te().newWritableStreamFromStreamWritable(_)},VM}var zM,Tne;function Ize(){if(Tne)return zM;Tne=1;const e=Qe,t=Ge,{isReadable:r,isWritable:n,isIterable:o,isNodeStream:s,isReadableNodeStream:a,isWritableNodeStream:l,isDuplexNodeStream:f,isReadableStream:u,isWritableStream:d}=il,g=Lu,{AbortError:h,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:w}}=Ti,{destroyer:y}=hp,v=ol(),E=gS(),x=GM(),{createDeferredPromise:S}=oi,N=xne,$=globalThis.Blob||t.Blob,D=typeof $<"u"?function(A){return A instanceof $}:function(A){return!1},K=globalThis.AbortController||bt().AbortController,{FunctionPrototypeCall:q}=$r;class k extends v{constructor(A){super(A),(A==null?void 0:A.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(A==null?void 0:A.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}zM=function B(A,U){if(f(A))return A;if(a(A))return j({readable:A});if(l(A))return j({writable:A});if(s(A))return j({writable:!1,readable:!1});if(u(A))return j({readable:E.fromWeb(A)});if(d(A))return j({writable:x.fromWeb(A)});if(typeof A=="function"){const{value:H,write:Q,final:ne,destroy:se}=V(A);if(o(H))return N(k,H,{objectMode:!0,write:Q,final:ne,destroy:se});const ae=H==null?void 0:H.then;if(typeof ae=="function"){let Z;const ge=q(ae,H,W=>{if(W!=null)throw new w("nully","body",W)},W=>{y(Z,W)});return Z=new k({objectMode:!0,readable:!1,write:Q,final(W){ne(async()=>{try{await ge,e.nextTick(W,null)}catch(ue){e.nextTick(W,ue)}})},destroy:se})}throw new w("Iterable, AsyncIterable or AsyncFunction",U,H)}if(D(A))return B(A.arrayBuffer());if(o(A))return N(k,A,{objectMode:!0,writable:!1});if(u(A==null?void 0:A.readable)&&d(A==null?void 0:A.writable))return k.fromWeb(A);if(typeof(A==null?void 0:A.writable)=="object"||typeof(A==null?void 0:A.readable)=="object"){const H=A!=null&&A.readable?a(A==null?void 0:A.readable)?A==null?void 0:A.readable:B(A.readable):void 0,Q=A!=null&&A.writable?l(A==null?void 0:A.writable)?A==null?void 0:A.writable:B(A.writable):void 0;return j({readable:H,writable:Q})}const G=A==null?void 0:A.then;if(typeof G=="function"){let H;return q(G,A,Q=>{Q!=null&&H.push(Q),H.push(null)},Q=>{y(H,Q)}),H=new k({objectMode:!0,writable:!1,read(){}})}throw new p(U,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],A)};function V(B){let{promise:A,resolve:U}=S();const G=new K,H=G.signal;return{value:B(async function*(){for(;;){const ne=A;A=null;const{chunk:se,done:ae,cb:Z}=await ne;if(e.nextTick(Z),ae)return;if(H.aborted)throw new h(void 0,{cause:H.reason});({promise:A,resolve:U}=S()),yield se}}(),{signal:H}),write(ne,se,ae){const Z=U;U=null,Z({chunk:ne,done:!1,cb:ae})},final(ne){const se=U;U=null,se({done:!0,cb:ne})},destroy(ne,se){G.abort(),se(ne)}}}function j(B){const A=B.readable&&typeof B.readable.read!="function"?E.wrap(B.readable):B.readable,U=B.writable;let G=!!r(A),H=!!n(U),Q,ne,se,ae,Z;function ge(W){const ue=ae;ae=null,ue?ue(W):W&&Z.destroy(W)}return Z=new k({readableObjectMode:!!(A!=null&&A.readableObjectMode),writableObjectMode:!!(U!=null&&U.writableObjectMode),readable:G,writable:H}),H&&(g(U,W=>{H=!1,W&&y(A,W),ge(W)}),Z._write=function(W,ue,xe){U.write(W,ue)?xe():Q=xe},Z._final=function(W){U.end(),ne=W},U.on("drain",function(){if(Q){const W=Q;Q=null,W()}}),U.on("finish",function(){if(ne){const W=ne;ne=null,W()}})),G&&(g(A,W=>{G=!1,W&&y(A,W),ge(W)}),A.on("readable",function(){if(se){const W=se;se=null,W()}}),A.on("end",function(){Z.push(null)}),Z._read=function(){for(;;){const W=A.read();if(W===null){se=Z._read;return}if(!Z.push(W))return}}),Z._destroy=function(W,ue){!W&&ae!==null&&(W=new h),se=null,Q=null,ne=null,ae===null?ue(W):(ae=ue,y(U,W),y(A,W))},Z}return zM}var KM,Ine;function ol(){if(Ine)return KM;Ine=1;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:r,ObjectSetPrototypeOf:n}=$r;KM=a;const o=gS(),s=GM();n(a.prototype,o.prototype),n(a,o);{const d=r(s.prototype);for(let g=0;g<d.length;g++){const h=d[g];a.prototype[h]||(a.prototype[h]=s.prototype[h])}}function a(d){if(!(this instanceof a))return new a(d);o.call(this,d),s.call(this,d),d?(this.allowHalfOpen=d.allowHalfOpen!==!1,d.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),d.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(a.prototype,{writable:{__proto__:null,...t(s.prototype,"writable")},writableHighWaterMark:{__proto__:null,...t(s.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...t(s.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...t(s.prototype,"writableBuffer")},writableLength:{__proto__:null,...t(s.prototype,"writableLength")},writableFinished:{__proto__:null,...t(s.prototype,"writableFinished")},writableCorked:{__proto__:null,...t(s.prototype,"writableCorked")},writableEnded:{__proto__:null,...t(s.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...t(s.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(d){this._readableState&&this._writableState&&(this._readableState.destroyed=d,this._writableState.destroyed=d)}}});let l;function f(){return l===void 0&&(l={}),l}a.fromWeb=function(d,g){return f().newStreamDuplexFromReadableWritablePair(d,g)},a.toWeb=function(d){return f().newReadableWritablePairFromDuplex(d)};let u;return a.from=function(d){return u||(u=Ize()),u(d,"body")},KM}const{ObjectSetPrototypeOf:Nne,Symbol:Nze}=$r;var kne=sl;const{ERR_METHOD_NOT_IMPLEMENTED:kze}=Ti.codes,JM=ol(),{getHighWaterMark:Cze}=bS;Nne(sl.prototype,JM.prototype),Nne(sl,JM);const S_=Nze("kCallback");function sl(e){if(!(this instanceof sl))return new sl(e);const t=e?Cze(this,e,"readableHighWaterMark",!0):null;t===0&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),JM.call(this,e),this._readableState.sync=!1,this[S_]=null,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",Oze)}function YM(e){typeof this._flush=="function"&&!this.destroyed?this._flush((t,r)=>{if(t){e?e(t):this.destroy(t);return}r!=null&&this.push(r),this.push(null),e&&e()}):(this.push(null),e&&e())}function Oze(){this._final!==YM&&YM.call(this)}sl.prototype._final=YM,sl.prototype._transform=function(e,t,r){throw new kze("_transform()")},sl.prototype._write=function(e,t,r){const n=this._readableState,o=this._writableState,s=n.length;this._transform(e,t,(a,l)=>{if(a){r(a);return}l!=null&&this.push(l),o.ended||s===n.length||n.length<n.highWaterMark?r():this[S_]=r})},sl.prototype._read=function(){if(this[S_]){const e=this[S_];this[S_]=null,e()}};const{ObjectSetPrototypeOf:Cne}=$r;var One=pp;const XM=kne;Cne(pp.prototype,XM.prototype),Cne(pp,XM);function pp(e){if(!(this instanceof pp))return new pp(e);XM.call(this,e)}pp.prototype._transform=function(e,t,r){r(null,e)};const E_=Qe,{ArrayIsArray:Lze,Promise:Dze,SymbolAsyncIterator:Mze,SymbolDispose:Pze}=$r,_S=Lu,{once:Fze}=oi,jze=hp,Lne=ol(),{aggregateTwoErrors:Wze,codes:{ERR_INVALID_ARG_TYPE:QM,ERR_INVALID_RETURN_VALUE:ZM,ERR_MISSING_ARGS:Bze,ERR_STREAM_DESTROYED:Uze,ERR_STREAM_PREMATURE_CLOSE:qze},AbortError:Hze}=Ti,{validateFunction:Vze,validateAbortSignal:Gze}=v_,{isIterable:Hc,isReadable:eP,isReadableNodeStream:yS,isNodeStream:Dne,isTransformStream:bp,isWebStream:zze,isReadableStream:tP,isReadableFinished:Kze}=il,Jze=globalThis.AbortController||bt().AbortController;let rP,nP,iP;function Mne(e,t,r){let n=!1;e.on("close",()=>{n=!0});const o=_S(e,{readable:t,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,jze.destroyer(e,s||new Uze("pipe")))},cleanup:o}}function Yze(e){return Vze(e[e.length-1],"streams[stream.length - 1]"),e.pop()}function oP(e){if(Hc(e))return e;if(yS(e))return Xze(e);throw new QM("val",["Readable","Iterable","AsyncIterable"],e)}async function*Xze(e){nP||(nP=gS()),yield*nP.prototype[Mze].call(e)}async function wS(e,t,r,{end:n}){let o,s=null;const a=u=>{if(u&&(o=u),s){const d=s;s=null,d()}},l=()=>new Dze((u,d)=>{o?d(o):s=()=>{o?d(o):u()}});t.on("drain",a);const f=_S(t,{readable:!1},a);try{t.writableNeedDrain&&await l();for await(const u of e)t.write(u)||await l();n&&(t.end(),await l()),r()}catch(u){r(o!==u?Wze(o,u):u)}finally{f(),t.off("drain",a)}}async function sP(e,t,r,{end:n}){bp(t)&&(t=t.writable);const o=t.getWriter();try{for await(const s of e)await o.ready,o.write(s).catch(()=>{});await o.ready,n&&await o.close(),r()}catch(s){try{await o.abort(s),r(s)}catch(a){r(a)}}}function Qze(...e){return Pne(e,Fze(Yze(e)))}function Pne(e,t,r){if(e.length===1&&Lze(e[0])&&(e=e[0]),e.length<2)throw new Bze("streams");const n=new Jze,o=n.signal,s=r==null?void 0:r.signal,a=[];Gze(s,"options.signal");function l(){w(new Hze)}iP=iP||oi.addAbortListener;let f;s&&(f=iP(s,l));let u,d;const g=[];let h=0;function p(x){w(x,--h===0)}function w(x,S){var N;if(x&&(!u||u.code==="ERR_STREAM_PREMATURE_CLOSE")&&(u=x),!(!u&&!S)){for(;g.length;)g.shift()(u);(N=f)===null||N===void 0||N[Pze](),n.abort(),S&&(u||a.forEach($=>$()),E_.nextTick(t,u,d))}}let y;for(let x=0;x<e.length;x++){const S=e[x],N=x<e.length-1,$=x>0,D=N||(r==null?void 0:r.end)!==!1,K=x===e.length-1;if(Dne(S)){let q=function(k){k&&k.name!=="AbortError"&&k.code!=="ERR_STREAM_PREMATURE_CLOSE"&&p(k)};if(D){const{destroy:k,cleanup:V}=Mne(S,N,$);g.push(k),eP(S)&&K&&a.push(V)}S.on("error",q),eP(S)&&K&&a.push(()=>{S.removeListener("error",q)})}if(x===0)if(typeof S=="function"){if(y=S({signal:o}),!Hc(y))throw new ZM("Iterable, AsyncIterable or Stream","source",y)}else Hc(S)||yS(S)||bp(S)?y=S:y=Lne.from(S);else if(typeof S=="function"){if(bp(y)){var v;y=oP((v=y)===null||v===void 0?void 0:v.readable)}else y=oP(y);if(y=S(y,{signal:o}),N){if(!Hc(y,!0))throw new ZM("AsyncIterable",`transform[${x-1}]`,y)}else{var E;rP||(rP=One);const q=new rP({objectMode:!0}),k=(E=y)===null||E===void 0?void 0:E.then;if(typeof k=="function")h++,k.call(y,B=>{d=B,B!=null&&q.write(B),D&&q.end(),E_.nextTick(p)},B=>{q.destroy(B),E_.nextTick(p,B)});else if(Hc(y,!0))h++,wS(y,q,p,{end:D});else if(tP(y)||bp(y)){const B=y.readable||y;h++,wS(B,q,p,{end:D})}else throw new ZM("AsyncIterable or Promise","destination",y);y=q;const{destroy:V,cleanup:j}=Mne(y,!1,!0);g.push(V),K&&a.push(j)}}else if(Dne(S)){if(yS(y)){h+=2;const q=Zze(y,S,p,{end:D});eP(S)&&K&&a.push(q)}else if(bp(y)||tP(y)){const q=y.readable||y;h++,wS(q,S,p,{end:D})}else if(Hc(y))h++,wS(y,S,p,{end:D});else throw new QM("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],y);y=S}else if(zze(S)){if(yS(y))h++,sP(oP(y),S,p,{end:D});else if(tP(y)||Hc(y))h++,sP(y,S,p,{end:D});else if(bp(y))h++,sP(y.readable,S,p,{end:D});else throw new QM("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],y);y=S}else y=Lne.from(S)}return(o!=null&&o.aborted||s!=null&&s.aborted)&&E_.nextTick(l),y}function Zze(e,t,r,{end:n}){let o=!1;if(t.on("close",()=>{o||r(new qze)}),e.pipe(t,{end:!1}),n){let s=function(){o=!0,t.end()};Kze(e)?E_.nextTick(s):e.once("end",s)}else r();return _S(e,{readable:!0,writable:!1},s=>{const a=e._readableState;s&&s.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?e.once("end",r).once("error",r):r(s)}),_S(t,{readable:!1,writable:!0},r)}var aP={pipelineImpl:Pne,pipeline:Qze};const{pipeline:eKe}=aP,mS=ol(),{destroyer:tKe}=hp,{isNodeStream:vS,isReadable:Fne,isWritable:jne,isWebStream:lP,isTransformStream:Vc,isWritableStream:Wne,isReadableStream:Bne}=il,{AbortError:rKe,codes:{ERR_INVALID_ARG_VALUE:Une,ERR_MISSING_ARGS:nKe}}=Ti,iKe=Lu;var qne=function(...t){if(t.length===0)throw new nKe("streams");if(t.length===1)return mS.from(t[0]);const r=[...t];if(typeof t[0]=="function"&&(t[0]=mS.from(t[0])),typeof t[t.length-1]=="function"){const p=t.length-1;t[p]=mS.from(t[p])}for(let p=0;p<t.length;++p)if(!(!vS(t[p])&&!lP(t[p]))){if(p<t.length-1&&!(Fne(t[p])||Bne(t[p])||Vc(t[p])))throw new Une(`streams[${p}]`,r[p],"must be readable");if(p>0&&!(jne(t[p])||Wne(t[p])||Vc(t[p])))throw new Une(`streams[${p}]`,r[p],"must be writable")}let n,o,s,a,l;function f(p){const w=a;a=null,w?w(p):p?l.destroy(p):!h&&!g&&l.destroy()}const u=t[0],d=eKe(t,f),g=!!(jne(u)||Wne(u)||Vc(u)),h=!!(Fne(d)||Bne(d)||Vc(d));if(l=new mS({writableObjectMode:!!(u!=null&&u.writableObjectMode),readableObjectMode:!!(d!=null&&d.readableObjectMode),writable:g,readable:h}),g){if(vS(u))l._write=function(w,y,v){u.write(w,y)?v():n=v},l._final=function(w){u.end(),o=w},u.on("drain",function(){if(n){const w=n;n=null,w()}});else if(lP(u)){const y=(Vc(u)?u.writable:u).getWriter();l._write=async function(v,E,x){try{await y.ready,y.write(v).catch(()=>{}),x()}catch(S){x(S)}},l._final=async function(v){try{await y.ready,y.close().catch(()=>{}),o=v}catch(E){v(E)}}}const p=Vc(d)?d.readable:d;iKe(p,()=>{if(o){const w=o;o=null,w()}})}if(h){if(vS(d))d.on("readable",function(){if(s){const p=s;s=null,p()}}),d.on("end",function(){l.push(null)}),l._read=function(){for(;;){const p=d.read();if(p===null){s=l._read;return}if(!l.push(p))return}};else if(lP(d)){const w=(Vc(d)?d.readable:d).getReader();l._read=async function(){for(;;)try{const{value:y,done:v}=await w.read();if(!l.push(y))return;if(v){l.push(null);return}}catch{return}}}}return l._destroy=function(p,w){!p&&a!==null&&(p=new rKe),s=null,n=null,o=null,a===null?w(p):(a=w,vS(d)&&tKe(d,p))},l};const oKe=globalThis.AbortController||bt().AbortController,{codes:{ERR_INVALID_ARG_VALUE:sKe,ERR_INVALID_ARG_TYPE:R_,ERR_MISSING_ARGS:aKe,ERR_OUT_OF_RANGE:lKe},AbortError:zs}=Ti,{validateAbortSignal:Gc,validateInteger:Hne,validateObject:zc}=v_,uKe=$r.Symbol("kWeak"),fKe=$r.Symbol("kResistStopPropagation"),{finished:cKe}=Lu,dKe=qne,{addAbortSignalNoValidate:hKe}=hS,{isWritable:pKe,isNodeStream:bKe}=il,{deprecate:gKe}=oi,{ArrayPrototypePush:_Ke,Boolean:yKe,MathFloor:Vne,Number:wKe,NumberIsNaN:mKe,Promise:Gne,PromiseReject:zne,PromiseResolve:vKe,PromisePrototypeThen:Kne,Symbol:Jne}=$r,SS=Jne("kEmpty"),Yne=Jne("kEof");function SKe(e,t){if(t!=null&&zc(t,"options"),(t==null?void 0:t.signal)!=null&&Gc(t.signal,"options.signal"),bKe(e)&&!pKe(e))throw new sKe("stream",e,"must be writable");const r=dKe(this,e);return t!=null&&t.signal&&hKe(t.signal,r),r}function ES(e,t){if(typeof e!="function")throw new R_("fn",["Function","AsyncFunction"],e);t!=null&&zc(t,"options"),(t==null?void 0:t.signal)!=null&&Gc(t.signal,"options.signal");let r=1;(t==null?void 0:t.concurrency)!=null&&(r=Vne(t.concurrency));let n=r-1;return(t==null?void 0:t.highWaterMark)!=null&&(n=Vne(t.highWaterMark)),Hne(r,"options.concurrency",1),Hne(n,"options.highWaterMark",0),n+=r,(async function*(){const s=oi.AbortSignalAny([t==null?void 0:t.signal].filter(yKe)),a=this,l=[],f={signal:s};let u,d,g=!1,h=0;function p(){g=!0,w()}function w(){h-=1,y()}function y(){d&&!g&&h<r&&l.length<n&&(d(),d=null)}async function v(){try{for await(let E of a){if(g)return;if(s.aborted)throw new zs;try{if(E=e(E,f),E===SS)continue;E=vKe(E)}catch(x){E=zne(x)}h+=1,Kne(E,w,p),l.push(E),u&&(u(),u=null),!g&&(l.length>=n||h>=r)&&await new Gne(x=>{d=x})}l.push(Yne)}catch(E){const x=zne(E);Kne(x,w,p),l.push(x)}finally{g=!0,u&&(u(),u=null)}}v();try{for(;;){for(;l.length>0;){const E=await l[0];if(E===Yne)return;if(s.aborted)throw new zs;E!==SS&&(yield E),l.shift(),y()}await new Gne(E=>{u=E})}}finally{g=!0,d&&(d(),d=null)}}).call(this)}function EKe(e=void 0){return e!=null&&zc(e,"options"),(e==null?void 0:e.signal)!=null&&Gc(e.signal,"options.signal"),(async function*(){let r=0;for await(const o of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new zs({cause:e.signal.reason});yield[r++,o]}}).call(this)}async function Xne(e,t=void 0){for await(const r of uP.call(this,e,t))return!0;return!1}async function RKe(e,t=void 0){if(typeof e!="function")throw new R_("fn",["Function","AsyncFunction"],e);return!await Xne.call(this,async(...r)=>!await e(...r),t)}async function xKe(e,t){for await(const r of uP.call(this,e,t))return r}async function AKe(e,t){if(typeof e!="function")throw new R_("fn",["Function","AsyncFunction"],e);async function r(n,o){return await e(n,o),SS}for await(const n of ES.call(this,r,t));}function uP(e,t){if(typeof e!="function")throw new R_("fn",["Function","AsyncFunction"],e);async function r(n,o){return await e(n,o)?n:SS}return ES.call(this,r,t)}let $Ke=class extends aKe{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function TKe(e,t,r){var n;if(typeof e!="function")throw new R_("reducer",["Function","AsyncFunction"],e);r!=null&&zc(r,"options"),(r==null?void 0:r.signal)!=null&&Gc(r.signal,"options.signal");let o=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){const u=new zs(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await cKe(this.destroy(u)),u}const s=new oKe,a=s.signal;if(r!=null&&r.signal){const u={once:!0,[uKe]:this,[fKe]:!0};r.signal.addEventListener("abort",()=>s.abort(),u)}let l=!1;try{for await(const u of this){var f;if(l=!0,r!=null&&(f=r.signal)!==null&&f!==void 0&&f.aborted)throw new zs;o?t=await e(t,u,{signal:a}):(t=u,o=!0)}if(!l&&!o)throw new $Ke}finally{s.abort()}return t}async function IKe(e){e!=null&&zc(e,"options"),(e==null?void 0:e.signal)!=null&&Gc(e.signal,"options.signal");const t=[];for await(const n of this){var r;if(e!=null&&(r=e.signal)!==null&&r!==void 0&&r.aborted)throw new zs(void 0,{cause:e.signal.reason});_Ke(t,n)}return t}function NKe(e,t){const r=ES.call(this,e,t);return(async function*(){for await(const o of r)yield*o}).call(this)}function Qne(e){if(e=wKe(e),mKe(e))return 0;if(e<0)throw new lKe("number",">= 0",e);return e}function kKe(e,t=void 0){return t!=null&&zc(t,"options"),(t==null?void 0:t.signal)!=null&&Gc(t.signal,"options.signal"),e=Qne(e),(async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new zs;for await(const s of this){var o;if(t!=null&&(o=t.signal)!==null&&o!==void 0&&o.aborted)throw new zs;e--<=0&&(yield s)}}).call(this)}function CKe(e,t=void 0){return t!=null&&zc(t,"options"),(t==null?void 0:t.signal)!=null&&Gc(t.signal,"options.signal"),e=Qne(e),(async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new zs;for await(const s of this){var o;if(t!=null&&(o=t.signal)!==null&&o!==void 0&&o.aborted)throw new zs;if(e-- >0&&(yield s),e<=0)return}}).call(this)}AM.streamReturningOperators={asIndexedPairs:gKe(EKe,"readable.asIndexedPairs will be removed in a future version."),drop:kKe,filter:uP,flatMap:NKe,map:ES,take:CKe,compose:SKe},AM.promiseReturningOperators={every:RKe,forEach:AKe,reduce:TKe,toArray:IKe,some:Xne,find:xKe};var fP,Zne;function eie(){if(Zne)return fP;Zne=1;const{ArrayPrototypePop:e,Promise:t}=$r,{isIterable:r,isNodeStream:n,isWebStream:o}=il,{pipelineImpl:s}=aP,{finished:a}=Lu;rie();function l(...f){return new t((u,d)=>{let g,h;const p=f[f.length-1];if(p&&typeof p=="object"&&!n(p)&&!r(p)&&!o(p)){const w=e(f);g=w.signal,h=w.end}s(f,(w,y)=>{w?d(w):u(y)},{signal:g,end:h})})}return fP={finished:a,pipeline:l},fP}var tie;function rie(){if(tie)return xM.exports;tie=1;const{Buffer:e}=Ge,{ObjectDefineProperty:t,ObjectKeys:r,ReflectApply:n}=$r,{promisify:{custom:o}}=oi,{streamReturningOperators:s,promiseReturningOperators:a}=AM,{codes:{ERR_ILLEGAL_CONSTRUCTOR:l}}=Ti,f=qne,{setDefaultHighWaterMark:u,getDefaultHighWaterMark:d}=bS,{pipeline:g}=aP,{destroyer:h}=hp,p=Lu,w=eie(),y=il,v=xM.exports=UM.Stream;v.isDestroyed=y.isDestroyed,v.isDisturbed=y.isDisturbed,v.isErrored=y.isErrored,v.isReadable=y.isReadable,v.isWritable=y.isWritable,v.Readable=gS();for(const x of r(s)){let N=function(...$){if(new.target)throw l();return v.Readable.from(n(S,this,$))};const S=s[x];t(N,"name",{__proto__:null,value:S.name}),t(N,"length",{__proto__:null,value:S.length}),t(v.Readable.prototype,x,{__proto__:null,value:N,enumerable:!1,configurable:!0,writable:!0})}for(const x of r(a)){let N=function(...$){if(new.target)throw l();return n(S,this,$)};const S=a[x];t(N,"name",{__proto__:null,value:S.name}),t(N,"length",{__proto__:null,value:S.length}),t(v.Readable.prototype,x,{__proto__:null,value:N,enumerable:!1,configurable:!0,writable:!0})}v.Writable=GM(),v.Duplex=ol(),v.Transform=kne,v.PassThrough=One,v.pipeline=g;const{addAbortSignal:E}=hS;return v.addAbortSignal=E,v.finished=p,v.destroy=h,v.compose=f,v.setDefaultHighWaterMark=u,v.getDefaultHighWaterMark=d,t(v,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return w}}),t(g,o,{__proto__:null,enumerable:!0,get(){return w.pipeline}}),t(p,o,{__proto__:null,enumerable:!0,get(){return w.finished}}),v.Stream=v,v._isUint8Array=function(S){return S instanceof Uint8Array},v._uint8ArrayToBuffer=function(S){return e.from(S.buffer,S.byteOffset,S.byteLength)},xM.exports}(function(e){const t=rie(),r=eie(),n=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=n,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return r}}),e.exports.Stream=t.Stream,e.exports.default=e.exports})(xre);var OKe=xre.exports,RS={},x_={},cP={},A_={};Object.defineProperty(A_,"__esModule",{value:!0}),A_.BlankNode=void 0;class LKe{constructor(t){this.termType="BlankNode",this.value=t}equals(t){return!!t&&t.termType==="BlankNode"&&t.value===this.value}}A_.BlankNode=LKe;var xS={},$_={};Object.defineProperty($_,"__esModule",{value:!0}),$_.DefaultGraph=void 0;class dP{constructor(){this.termType="DefaultGraph",this.value=""}equals(t){return!!t&&t.termType==="DefaultGraph"}}$_.DefaultGraph=dP,dP.INSTANCE=new dP;var T_={},gp={};Object.defineProperty(gp,"__esModule",{value:!0}),gp.NamedNode=void 0;class DKe{constructor(t){this.termType="NamedNode",this.value=t}equals(t){return!!t&&t.termType==="NamedNode"&&t.value===this.value}}gp.NamedNode=DKe,Object.defineProperty(T_,"__esModule",{value:!0}),T_.Literal=void 0;const nie=gp;class _p{constructor(t,r){this.termType="Literal",this.value=t,typeof r=="string"?(this.language=r,this.datatype=_p.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=_p.XSD_STRING)}equals(t){return!!t&&t.termType==="Literal"&&t.value===this.value&&t.language===this.language&&t.datatype.equals(this.datatype)}}T_.Literal=_p,_p.RDF_LANGUAGE_STRING=new nie.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),_p.XSD_STRING=new nie.NamedNode("http://www.w3.org/2001/XMLSchema#string");var I_={};Object.defineProperty(I_,"__esModule",{value:!0}),I_.Quad=void 0;class MKe{constructor(t,r,n,o){this.termType="Quad",this.value="",this.subject=t,this.predicate=r,this.object=n,this.graph=o}equals(t){return!!t&&(t.termType==="Quad"||!t.termType)&&this.subject.equals(t.subject)&&this.predicate.equals(t.predicate)&&this.object.equals(t.object)&&this.graph.equals(t.graph)}}I_.Quad=MKe;var N_={};Object.defineProperty(N_,"__esModule",{value:!0}),N_.Variable=void 0;class PKe{constructor(t){this.termType="Variable",this.value=t}equals(t){return!!t&&t.termType==="Variable"&&t.value===this.value}}N_.Variable=PKe,Object.defineProperty(xS,"__esModule",{value:!0}),xS.DataFactory=void 0;const FKe=A_,jKe=$_,iie=T_,WKe=gp,BKe=I_,UKe=N_;let qKe=0;class HKe{constructor(t){this.blankNodeCounter=0,t=t||{},this.blankNodePrefix=t.blankNodePrefix||`df_${qKe++}_`}namedNode(t){return new WKe.NamedNode(t)}blankNode(t){return new FKe.BlankNode(t||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(t,r){return new iie.Literal(t,r)}variable(t){return new UKe.Variable(t)}defaultGraph(){return jKe.DefaultGraph.INSTANCE}quad(t,r,n,o){return new BKe.Quad(t,r,n,o||this.defaultGraph())}fromTerm(t){switch(t.termType){case"NamedNode":return this.namedNode(t.value);case"BlankNode":return this.blankNode(t.value);case"Literal":return t.language?this.literal(t.value,t.language):t.datatype.equals(iie.Literal.XSD_STRING)?this.literal(t.value):this.literal(t.value,this.fromTerm(t.datatype));case"Variable":return this.variable(t.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(t.subject),this.fromTerm(t.predicate),this.fromTerm(t.object),this.fromTerm(t.graph))}}fromQuad(t){return this.fromTerm(t)}resetBlankNodeCounter(){this.blankNodeCounter=0}}xS.DataFactory=HKe,function(e){var t=nr&&nr.__createBinding||(Object.create?function(n,o,s,a){a===void 0&&(a=s),Object.defineProperty(n,a,{enumerable:!0,get:function(){return o[s]}})}:function(n,o,s,a){a===void 0&&(a=s),n[a]=o[s]}),r=nr&&nr.__exportStar||function(n,o){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&t(o,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(A_,e),r(xS,e),r($_,e),r(T_,e),r(gp,e),r(I_,e),r(N_,e)}(cP);var k_={},AS={};Object.defineProperty(AS,"__esModule",{value:!0}),AS.ContainerHandlerIdentifier=void 0;class VKe{canCombineWithGraph(){return!0}async handle(t,r,n,o,s,a){let l;if(r.emittedStack[a+1]&&r.idStack[a+1])l=r.idStack[a+1][0];else{const d=await n.getContainerKey(o[a],o,a)!==null?await n.resourceToTerm(await r.getContext(o),o[a]):n.dataFactory.blankNode();if(!d){r.emittedStack[a]=!1;return}l=d,r.idStack[a+1]=[l]}let f=r.idStack[a];f||(f=r.idStack[a]=[]),f.some(u=>u.equals(l))||f.push(l),await r.handlePendingContainerFlushBuffers()||(r.emittedStack[a]=!1)}}AS.ContainerHandlerIdentifier=VKe;var C_={},O_={},oie;function $S(){if(oie)return O_;oie=1,Object.defineProperty(O_,"__esModule",{value:!0}),O_.EntryHandlerPredicate=void 0;const e=ii,t=Kc();let r=class zpe{static async handlePredicateObject(o,s,a,l,f,u,d,g,h){const p=await s.getPropertiesDepth(a,l),w=await s.getDepthOffsetGraph(l,a),y=l-w,v=o.idStack[p];if(v&&!h)for(const E of v)if(w>=0){const S=o.idStack[y-1];if(S)for(const N of S)s.emitQuadChecked(l,E,f,u,N,d,g);else d?(s.validateReverseSubject(u),o.getUnidentifiedGraphBufferSafe(y-1).push({subject:u,predicate:f,object:E,isEmbedded:g})):o.getUnidentifiedGraphBufferSafe(y-1).push({subject:E,predicate:f,object:u,isEmbedded:g})}else{const S=await s.getGraphContainerValue(a,p);s.emitQuadChecked(l,E,f,u,S,d,g)}else if(d&&s.validateReverseSubject(u),h){if(o.rdfstar){o.idStack[l]&&o.emitError(new e.ErrorCoded(`Found an illegal @id inside an annotation: ${o.idStack[l][0].value}`,e.ERROR_CODES.INVALID_ANNOTATION));for(let S=0;S<l;S++)await s.unaliasKeyword(a[S],a,S)==="@id"&&o.emitError(new e.ErrorCoded("Found an illegal annotation inside an embedded node",e.ERROR_CODES.INVALID_ANNOTATION));const E=o.getAnnotationsBufferSafe(p),x={predicate:f,object:u,reverse:d,nestedAnnotations:[],depth:p};E.push(x);for(let S=E.length-2;S>=0;S--){const N=E[S];N.depth>p&&(x.nestedAnnotations.push(N),E.splice(S,1))}}}else o.getUnidentifiedValueBufferSafe(p).push({predicate:f,object:u,reverse:d,isEmbedded:g})}isPropertyHandler(){return!0}isStackProcessor(){return!0}async validate(o,s,a,l,f){const u=a[l];if(u){const d=await o.getContext(a);if(!o.jsonLiteralStack[l]&&await s.predicateToTerm(d,a[l]))return t.Util.getContextValueType(d,u)==="@json"&&(o.jsonLiteralStack[l+1]=!0),!0}return!1}async test(o,s,a,l,f){return l[f]}async handle(o,s,a,l,f,u,d){const g=l[u],h=await o.getContext(l),p=await s.predicateToTerm(h,a);if(p){const w=await s.valueToTerm(h,a,f,u,l);if(w.length)for(let y of w){let v=await s.unaliasKeywordParent(l,u);const E=t.Util.isPropertyReverse(h,g,v);let x=0;for(;v==="@reverse"||typeof v=="number";)typeof v=="number"?x++:u--,v=await s.unaliasKeywordParent(l,u-x);const S=t.Util.isPropertyInEmbeddedNode(v);s.validateReverseInEmbeddedNode(a,E,S);const N=t.Util.isPropertyInAnnotationObject(v);if(f){const $="@list"in t.Util.getContextValueContainer(h,a);if($||f["@list"]){if(($&&!Array.isArray(f)&&!f["@list"]||f["@list"]&&!Array.isArray(f["@list"]))&&y!==s.rdfNil){const D=s.dataFactory.blankNode();o.emitQuad(u,s.dataFactory.quad(D,s.rdfRest,s.rdfNil,s.getDefaultGraph())),o.emitQuad(u,s.dataFactory.quad(D,s.rdfFirst,y,s.getDefaultGraph())),y=D}if(E&&!o.allowSubjectList)throw new e.ErrorCoded(`Found illegal list value in subject position at ${a}`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}}await zpe.handlePredicateObject(o,s,l,u,p,y,E,S,N)}}}};return O_.EntryHandlerPredicate=r,O_}var sie;function GKe(){if(sie)return C_;sie=1,Object.defineProperty(C_,"__esModule",{value:!0}),C_.ContainerHandlerIndex=void 0;const e=ii,t=$S(),r=Kc();let n=class{canCombineWithGraph(){return!0}async handle(s,a,l,f,u,d){if(!Array.isArray(u)){const g="@graph"in s,h=await a.getContext(f),p=f[d-1],w=r.Util.getContextValueIndex(h,p);if(w){if(e.Util.isPotentialKeyword(w))throw new e.ErrorCoded(`Keywords can not be used as @index value, got: ${w}`,e.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof w!="string")throw new e.ErrorCoded(`@index values must be strings, got: ${w}`,e.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof u!="object"){if(r.Util.getContextValueType(h,p)!=="@id")throw new e.ErrorCoded(`Property-based index containers require nodes as values or strings with @type: @id, but got: ${u}`,e.ERROR_CODES.INVALID_VALUE_OBJECT);const E=l.resourceToTerm(h,u);E&&(a.idStack[d+1]=[E])}const v=l.createVocabOrBaseTerm(h,w);if(v){const E=await l.valueToTerm(h,w,await l.getContainerKey(f[d],f,d),d,f);if(g){const x=await l.getGraphContainerValue(f,d+1);for(const S of E)a.emitQuad(d,l.dataFactory.quad(x,v,S,l.getDefaultGraph()))}else for(const x of E)await t.EntryHandlerPredicate.handlePredicateObject(a,l,f,d+1,v,x,!1,!1,!1)}}const y=g?2:1;await a.newOnValueJob(f.slice(0,f.length-y),u,d-y,!0),await a.handlePendingContainerFlushBuffers()}a.emittedStack[d]=!1}};return C_.ContainerHandlerIndex=n,C_}var TS={};Object.defineProperty(TS,"__esModule",{value:!0}),TS.ContainerHandlerLanguage=void 0;const aie=ii;class zKe{canCombineWithGraph(){return!1}async handle(t,r,n,o,s,a){const l=await n.getContainerKey(o[a],o,a);if(Array.isArray(s))s=s.map(f=>({"@value":f,"@language":l}));else{if(typeof s!="string")throw new aie.ErrorCoded(`Got invalid language map value, got '${JSON.stringify(s)}', but expected string`,aie.ERROR_CODES.INVALID_LANGUAGE_MAP_VALUE);s={"@value":s,"@language":l}}await r.newOnValueJob(o.slice(0,o.length-1),s,a-1,!0),r.emittedStack[a]=!1}}TS.ContainerHandlerLanguage=zKe;var L_={},lie;function KKe(){if(lie)return L_;lie=1,Object.defineProperty(L_,"__esModule",{value:!0}),L_.ContainerHandlerType=void 0;const e=$S(),t=Kc();let r=class{canCombineWithGraph(){return!1}async handle(o,s,a,l,f,u){if(!Array.isArray(f)){if(typeof f=="string"){const h=await s.getContext(l),w=t.Util.getContextValueType(h,l[u-1])==="@vocab"?await a.createVocabOrBaseTerm(h,f):await a.resourceToTerm(h,f);if(w){const y={"@id":w.termType==="NamedNode"?w.value:f};await s.newOnValueJob(l.slice(0,l.length-1),y,u-1,!0),s.idStack[u+1]=[w]}}else{const h=!!s.idStack[u+1];h||delete s.idStack[u],await s.newOnValueJob(l.slice(0,l.length-1),f,u-1,!0),h||(s.idStack[u+1]=s.idStack[u])}const d=await a.getContainerKey(l[u],l,u),g=d!==null?a.createVocabOrBaseTerm(await s.getContext(l),d):null;g&&await e.EntryHandlerPredicate.handlePredicateObject(s,a,l,u+1,a.rdfType,g,!1,!1,!1),await s.handlePendingContainerFlushBuffers()}s.emittedStack[u]=!1}};return L_.ContainerHandlerType=r,L_}var uie;function fie(){if(uie)return k_;uie=1,Object.defineProperty(k_,"__esModule",{value:!0}),k_.EntryHandlerContainer=void 0;const e=AS,t=GKe(),r=TS,n=KKe(),o=Kc();let s=class tf{static isSimpleGraphContainer(l){return"@graph"in l&&("@set"in l&&Object.keys(l).length===2||Object.keys(l).length===1)}static isComplexGraphContainer(l){return"@graph"in l&&("@set"in l&&Object.keys(l).length>2||!("@set"in l)&&Object.keys(l).length>1)}static getContainerGraphIndex(l,f,u){let d=tf.isSimpleGraphContainer(l),g="";for(let h=f;h<u.length;h++)(!d||typeof u[h]=="number")&&(g+=":"+u[h]),!d&&typeof u[h]!="number"&&(d=!0);return g}static async getContainerHandler(l,f,u){const d={containers:{"@set":!0},depth:u,fallback:!0};let g=!1;const h=await l.getContext(f,2);for(let p=u-1;p>=0;p--)if(typeof f[p]!="number"){const w=o.Util.getContextValue(h,"@container",f[p],!1);if(w&&tf.isSimpleGraphContainer(w))return{containers:w,depth:p+1,fallback:!1};const y=o.Util.getContextValue(h,"@container",f[p-1],!1);if(y){const v="@graph"in y;for(const E in tf.CONTAINER_HANDLERS)if(y[E])return v?tf.CONTAINER_HANDLERS[E].canCombineWithGraph()?{containers:y,depth:p,fallback:!1}:d:g?d:{containers:y,depth:p,fallback:!1};return d}else{if(g)return d;g=!0}}return d}static async isBufferableContainerHandler(l,f,u){const d=await tf.getContainerHandler(l,f,u);return!d.fallback&&!("@graph"in d.containers)}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(l,f,u,d,g){return!!await this.test(l,f,null,u,d)}async test(l,f,u,d,g){const h=o.Util.getContextValueContainer(await l.getContext(d,2),d[g-1]);for(const p in tf.CONTAINER_HANDLERS)if(h[p])return{containers:h,handler:tf.CONTAINER_HANDLERS[p]};return null}async handle(l,f,u,d,g,h,p){return p.handler.handle(p.containers,l,f,d,g,h)}};return s.CONTAINER_HANDLERS={"@id":new e.ContainerHandlerIdentifier,"@index":new t.ContainerHandlerIndex,"@language":new r.ContainerHandlerLanguage,"@type":new n.ContainerHandlerType},k_.EntryHandlerContainer=s,k_}var cie=function e(t){return t===null||typeof t!="object"||t.toJSON!=null?JSON.stringify(t):Array.isArray(t)?"["+t.reduce((r,n,o)=>{const s=o===0?"":",",a=n===void 0||typeof n=="symbol"?null:n;return r+s+e(a)},"")+"]":"{"+Object.keys(t).sort().reduce((r,n,o)=>{if(t[n]===void 0||typeof t[n]=="symbol")return r;const s=r.length===0?"":",";return r+s+e(n)+":"+e(t[n])},"")+"}"},die;function Kc(){if(die)return x_;die=1,Object.defineProperty(x_,"__esModule",{value:!0}),x_.Util=void 0;const e=ii,t=cP,r=fie(),n=cie;let o=class Qt{constructor(a){this.parsingContext=a.parsingContext,this.dataFactory=a.dataFactory||new t.DataFactory,this.rdfFirst=this.dataFactory.namedNode(Qt.RDF+"first"),this.rdfRest=this.dataFactory.namedNode(Qt.RDF+"rest"),this.rdfNil=this.dataFactory.namedNode(Qt.RDF+"nil"),this.rdfType=this.dataFactory.namedNode(Qt.RDF+"type"),this.rdfJson=this.dataFactory.namedNode(Qt.RDF+"JSON")}static getContextValue(a,l,f,u){const d=a.getContextRaw()[f];if(!d)return u;const g=d[l];return g===void 0?u:g}static getContextValueContainer(a,l){return Qt.getContextValue(a,"@container",l,{"@set":!0})}static getContextValueType(a,l){const f=Qt.getContextValue(a,"@type",l,null);return f==="@none"?null:f}static getContextValueLanguage(a,l){return Qt.getContextValue(a,"@language",l,a.getContextRaw()["@language"]||null)}static getContextValueDirection(a,l){return Qt.getContextValue(a,"@direction",l,a.getContextRaw()["@direction"]||null)}static isContextValueReverse(a,l){return!!Qt.getContextValue(a,"@reverse",l,null)}static getContextValueIndex(a,l){return Qt.getContextValue(a,"@index",l,a.getContextRaw()["@index"]||null)}static isPropertyReverse(a,l,f){return f==="@reverse"!==Qt.isContextValueReverse(a,l)}static isPropertyInEmbeddedNode(a){return a==="@id"}static isPropertyInAnnotationObject(a){return a==="@annotation"}static isValidIri(a){return a!==null&&e.Util.isValidIri(a)}static isPrefixArray(a,l){if(a.length>l.length)return!1;for(let f=0;f<a.length;f++)if(a[f]!==l[f])return!1;return!0}async validateValueIndexes(a){if(this.parsingContext.validateValueIndexes){const l={};for(const f of a)if(f&&typeof f=="object"){const u=f["@id"],d=f["@index"];if(u&&d){const g=l[u];if(g&&g!==d)throw new e.ErrorCoded(`Conflicting @index value for ${u}`,e.ERROR_CODES.CONFLICTING_INDEXES);l[u]=d}}}}async valueToTerm(a,l,f,u,d){if(Qt.getContextValueType(a,l)==="@json")return[this.dataFactory.literal(this.valueToJsonString(f),this.rdfJson)];const g=typeof f;switch(g){case"object":if(f==null)return[];if(Array.isArray(f))return"@list"in Qt.getContextValueContainer(a,l)?f.length===0?[this.rdfNil]:this.parsingContext.idStack[u+1]||[]:(await this.validateValueIndexes(f),[]);if(a=await this.getContextSelfOrPropertyScoped(a,l),"@context"in f&&(a=await this.parsingContext.parseContext(f["@context"],(await this.parsingContext.getContext(d,0)).getContextRaw())),f=await this.unaliasKeywords(f,d,u,a),"@value"in f){let h,p,w,y,v;for(l in f){const E=f[l];switch(l){case"@value":h=E;break;case"@language":p=E;break;case"@direction":w=E;break;case"@type":y=E;break;case"@index":v=E;break;case"@annotation":break;default:throw new e.ErrorCoded(`Unknown value entry '${l}' in @value: ${JSON.stringify(f)}`,e.ERROR_CODES.INVALID_VALUE_OBJECT)}}if(await this.unaliasKeyword(y,d,u,!0,a)==="@json")return[this.dataFactory.literal(this.valueToJsonString(h),this.rdfJson)];if(h===null)return[];if(typeof h=="object")throw new e.ErrorCoded(`The value of an '@value' can not be an object, got '${JSON.stringify(h)}'`,e.ERROR_CODES.INVALID_VALUE_OBJECT_VALUE);if(this.parsingContext.validateValueIndexes&&v&&typeof v!="string")throw new e.ErrorCoded(`The value of an '@index' must be a string, got '${JSON.stringify(v)}'`,e.ERROR_CODES.INVALID_INDEX_VALUE);if(p){if(typeof h!="string")throw new e.ErrorCoded(`When an '@language' is set, the value of '@value' must be a string, got '${JSON.stringify(h)}'`,e.ERROR_CODES.INVALID_LANGUAGE_TAGGED_VALUE);if(!e.ContextParser.validateLanguage(p,this.parsingContext.strictValues,e.ERROR_CODES.INVALID_LANGUAGE_TAGGED_STRING))return[];(this.parsingContext.normalizeLanguageTags||this.parsingContext.activeProcessingMode===1)&&(p=p.toLowerCase())}if(w){if(typeof h!="string")throw new Error(`When an '@direction' is set, the value of '@value' must be a string, got '${JSON.stringify(h)}'`);if(!e.ContextParser.validateDirection(w,this.parsingContext.strictValues))return[]}if(p&&w&&this.parsingContext.rdfDirection){if(y)throw new e.ErrorCoded(`Can not have '@language', '@direction' and '@type' in a value: '${JSON.stringify(f)}'`,e.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(u,h,p,w))}else if(p){if(y)throw new e.ErrorCoded(`Can not have both '@language' and '@type' in a value: '${JSON.stringify(f)}'`,e.ERROR_CODES.INVALID_VALUE_OBJECT);return[this.dataFactory.literal(h,p)]}else if(w&&this.parsingContext.rdfDirection){if(y)throw new e.ErrorCoded(`Can not have both '@direction' and '@type' in a value: '${JSON.stringify(f)}'`,e.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(u,h,p,w))}else if(y){if(typeof y!="string")throw new e.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(y)}'`,e.ERROR_CODES.INVALID_TYPED_VALUE);const E=this.createVocabOrBaseTerm(a,y);if(!E)throw new e.ErrorCoded(`Invalid '@type' value, got '${JSON.stringify(y)}'`,e.ERROR_CODES.INVALID_TYPED_VALUE);if(E.termType!=="NamedNode")throw new e.ErrorCoded(`Illegal value type (${E.termType}): ${y}`,e.ERROR_CODES.INVALID_TYPED_VALUE);return[this.dataFactory.literal(h,E)]}return await this.valueToTerm(new e.JsonLdContextNormalized({}),l,h,u,d)}else if("@set"in f){if(Object.keys(f).length>1)throw new e.ErrorCoded(`Found illegal neighbouring entries next to @set for key: '${l}'`,e.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);return[]}else if("@list"in f){if(Object.keys(f).length>1)throw new e.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${l}'`,e.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);const h=f["@list"];return Array.isArray(h)?h.length===0?[this.rdfNil]:this.parsingContext.idStack[u+1]||[]:await this.valueToTerm(await this.parsingContext.getContext(d),l,h,u-1,d.slice(0,-1))}else{if("@reverse"in f&&typeof f["@reverse"]=="boolean")return[];if("@graph"in Qt.getContextValueContainer(await this.parsingContext.getContext(d),l)){const h=this.parsingContext.graphContainerTermStack[u+1];return h?Object.values(h):[this.dataFactory.blankNode()]}else if("@id"in f){if(Object.keys(f).length>1&&(a=await this.parsingContext.getContext(d,0)),"@context"in f&&(a=await this.parsingContext.parseContext(f["@context"],a.getContextRaw())),f["@type"]==="@vocab")return this.nullableTermToArray(this.createVocabOrBaseTerm(a,f["@id"]));{const h=f["@id"];let p;if(typeof h=="object")if(this.parsingContext.rdfstar)p=this.parsingContext.idStack[u+1][0];else throw new e.ErrorCoded(`Found illegal @id '${f}'`,e.ERROR_CODES.INVALID_ID_VALUE);else p=this.resourceToTerm(a,h);return this.nullableTermToArray(p)}}else return this.parsingContext.emittedStack[u+1]||f&&typeof f=="object"&&Object.keys(f).length===0?this.parsingContext.idStack[u+1]||(this.parsingContext.idStack[u+1]=[this.dataFactory.blankNode()]):[]}case"string":return this.nullableTermToArray(this.stringValueToTerm(u,await this.getContextSelfOrPropertyScoped(a,l),l,f,null));case"boolean":return this.nullableTermToArray(this.stringValueToTerm(u,await this.getContextSelfOrPropertyScoped(a,l),l,(!!f).toString(),this.dataFactory.namedNode(Qt.XSD_BOOLEAN)));case"number":return this.nullableTermToArray(this.stringValueToTerm(u,await this.getContextSelfOrPropertyScoped(a,l),l,f,this.dataFactory.namedNode(f%1===0&&f<1e21?Qt.XSD_INTEGER:Qt.XSD_DOUBLE)));default:return this.parsingContext.emitError(new Error(`Could not determine the RDF type of a ${g}`)),[]}}async getContextSelfOrPropertyScoped(a,l){const f=a.getContextRaw()[l];return f&&typeof f=="object"&&"@context"in f&&(a=await this.parsingContext.parseContext(f,a.getContextRaw(),!0)),a}nullableTermToArray(a){return a?[a]:[]}predicateToTerm(a,l){const f=a.expandTerm(l,!0,this.parsingContext.getExpandOptions());if(!f)return null;if(f[0]==="_"&&f[1]===":")return this.parsingContext.produceGeneralizedRdf?this.dataFactory.blankNode(f.substr(2)):null;if(Qt.isValidIri(f))return this.dataFactory.namedNode(f);if(f&&this.parsingContext.strictValues)this.parsingContext.emitError(new e.ErrorCoded(`Invalid predicate IRI: ${f}`,e.ERROR_CODES.INVALID_IRI_MAPPING));else return null;return null}resourceToTerm(a,l){if(l.startsWith("_:"))return this.dataFactory.blankNode(l.substr(2));const f=a.expandTerm(l,!1,this.parsingContext.getExpandOptions());if(!Qt.isValidIri(f))if(f&&this.parsingContext.strictValues)this.parsingContext.emitError(new Error(`Invalid resource IRI: ${f}`));else return null;return this.dataFactory.namedNode(f)}createVocabOrBaseTerm(a,l){if(l.startsWith("_:"))return this.dataFactory.blankNode(l.substr(2));const f=this.parsingContext.getExpandOptions();let u=a.expandTerm(l,!0,f);if(u===l&&(u=a.expandTerm(l,!1,f)),!Qt.isValidIri(u))if(u&&this.parsingContext.strictValues&&!u.startsWith("@"))this.parsingContext.emitError(new Error(`Invalid term IRI: ${u}`));else return null;return this.dataFactory.namedNode(u)}intToString(a,l){return typeof a=="number"?Number.isFinite(a)?a%1===0&&(!l||l.value!==Qt.XSD_DOUBLE)?Number(a).toString():a.toExponential(15).replace(/(\d)0*e\+?/,"$1E"):a>0?"INF":"-INF":a}stringValueToTerm(a,l,f,u,d){const g=Qt.getContextValueType(l,f);if(g)if(g==="@id"){if(!d)return this.resourceToTerm(l,this.intToString(u,d))}else if(g==="@vocab"){if(!d)return this.createVocabOrBaseTerm(l,this.intToString(u,d))}else d=this.dataFactory.namedNode(g);if(!d){const h=Qt.getContextValueLanguage(l,f),p=Qt.getContextValueDirection(l,f);return p&&this.parsingContext.rdfDirection?this.createLanguageDirectionLiteral(a,this.intToString(u,d),h,p):this.dataFactory.literal(this.intToString(u,d),h)}return this.dataFactory.literal(this.intToString(u,d),d)}createLanguageDirectionLiteral(a,l,f,u){if(this.parsingContext.rdfDirection==="i18n-datatype")return f||(f=""),this.dataFactory.literal(l,this.dataFactory.namedNode(`https://www.w3.org/ns/i18n#${f}_${u}`));{const d=this.dataFactory.blankNode(),g=this.getDefaultGraph();return this.parsingContext.emitQuad(a,this.dataFactory.quad(d,this.dataFactory.namedNode(Qt.RDF+"value"),this.dataFactory.literal(l),g)),f&&this.parsingContext.emitQuad(a,this.dataFactory.quad(d,this.dataFactory.namedNode(Qt.RDF+"language"),this.dataFactory.literal(f),g)),this.parsingContext.emitQuad(a,this.dataFactory.quad(d,this.dataFactory.namedNode(Qt.RDF+"direction"),this.dataFactory.literal(u),g)),d}}valueToJsonString(a){return n(a)}async unaliasKeyword(a,l,f,u,d){if(Number.isInteger(a))return a;if(!u){const g=this.parsingContext.unaliasedKeywordCacheStack[f];if(g)return g}if(!e.Util.isPotentialKeyword(a)){d=d||await this.parsingContext.getContext(l);let g=d.getContextRaw()[a];g&&typeof g=="object"&&(g=g["@id"]),e.Util.isValidKeyword(g)&&(a=g)}return u?a:this.parsingContext.unaliasedKeywordCacheStack[f]=a}async unaliasKeywordParent(a,l){return await this.unaliasKeyword(l>0&&a[l-1],a,l-1)}async unaliasKeywords(a,l,f,u){const d={};for(const g in a)d[await this.unaliasKeyword(g,l,f+1,!0,u)]=a[g];return d}async isLiteral(a,l){for(let f=l;f>=0;f--){if(await this.unaliasKeyword(a[f],a,f)==="@annotation")return!1;if(this.parsingContext.literalStack[f]||this.parsingContext.jsonLiteralStack[f])return!0}return!1}async getDepthOffsetGraph(a,l){for(let f=a-1;f>0;f--)if(await this.unaliasKeyword(l[f],l,f)==="@graph"){const u=(await r.EntryHandlerContainer.getContainerHandler(this.parsingContext,l,f)).containers;return r.EntryHandlerContainer.isComplexGraphContainer(u)?-1:a-f-1}return-1}validateReverseSubject(a){if(a.termType==="Literal")throw new e.ErrorCoded(`Found illegal literal in subject position: ${a.value}`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}getDefaultGraph(){return this.parsingContext.defaultGraph||this.dataFactory.defaultGraph()}async getGraphContainerValue(a,l){let f=this.getDefaultGraph();const{containers:u,depth:d}=await r.EntryHandlerContainer.getContainerHandler(this.parsingContext,a,l);if("@graph"in u){const g=r.EntryHandlerContainer.getContainerGraphIndex(u,d,a),h=this.parsingContext.graphContainerTermStack[d];if(f=h?h[g]:null,!f){let p=null;if("@id"in u){const w=await this.getContainerKey(a[d],a,d);w!==null&&(p=await this.resourceToTerm(await this.parsingContext.getContext(a),w))}p||(p=this.dataFactory.blankNode()),this.parsingContext.graphContainerTermStack[d]||(this.parsingContext.graphContainerTermStack[d]={}),f=this.parsingContext.graphContainerTermStack[d][g]=p}}return f}async getPropertiesDepth(a,l){let f=l;for(let u=l-1;u>0;u--)if(typeof a[u]!="number"){const d=await this.unaliasKeyword(a[u],a,u);if(d==="@reverse")return u;if(d==="@nest")f=u;else return f}return f}async getContainerKey(a,l,f){const u=await this.unaliasKeyword(a,l,f);return u==="@none"?null:u}validateReverseInEmbeddedNode(a,l,f){if(f&&l&&!this.parsingContext.rdfstarReverseInEmbedded)throw new e.ErrorCoded(`Illegal reverse property in embedded node in ${a}`,e.ERROR_CODES.INVALID_EMBEDDED_NODE)}emitQuadChecked(a,l,f,u,d,g,h){let p;if(g?(this.validateReverseSubject(u),p=this.dataFactory.quad(u,f,l,d)):p=this.dataFactory.quad(l,f,u,d),h){if(p.graph.termType!=="DefaultGraph"&&(p=this.dataFactory.quad(p.subject,p.predicate,p.object)),this.parsingContext.idStack[a-1])throw new e.ErrorCoded("Illegal multiple properties in an embedded node",e.ERROR_CODES.INVALID_EMBEDDED_NODE);this.parsingContext.idStack[a-1]=[p]}else this.parsingContext.emitQuad(a,p);const w=this.parsingContext.annotationsBuffer[a];if(w){for(const y of w)this.emitAnnotation(a,p,y);delete this.parsingContext.annotationsBuffer[a]}}emitAnnotation(a,l,f){let u;f.reverse?(this.validateReverseSubject(f.object),u=this.dataFactory.quad(f.object,f.predicate,l)):u=this.dataFactory.quad(l,f.predicate,f.object),this.parsingContext.emitQuad(a,u);for(const d of f.nestedAnnotations)this.emitAnnotation(a,u,d)}};return o.XSD="http://www.w3.org/2001/XMLSchema#",o.XSD_BOOLEAN=o.XSD+"boolean",o.XSD_INTEGER=o.XSD+"integer",o.XSD_DOUBLE=o.XSD+"double",o.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",x_.Util=o,x_}Object.defineProperty(RS,"__esModule",{value:!0}),RS.EntryHandlerArrayValue=void 0;const JKe=Kc(),hie=ii;class YKe{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(t,r,n,o,s){return this.test(t,r,null,n,o)}async test(t,r,n,o,s){return typeof o[s]=="number"}async handle(t,r,n,o,s,a){let l=await r.unaliasKeywordParent(o,a);if(l==="@list"){let f=null,u=0;for(let d=a-2;d>0;d--){const g=o[d];if(typeof g=="string"||typeof g=="number"){u=d,f=g;break}}if(f!==null){const d=await r.valueToTerm(await t.getContext(o),f,s,a,o);for(const g of d)await this.handleListElement(t,r,g,s,a,o.slice(0,u),u);d.length===0&&await this.handleListElement(t,r,null,s,a,o.slice(0,u),u)}}else if(l==="@set")await t.newOnValueJob(o.slice(0,-2),s,a-2,!1);else if(l!==void 0&&l!=="@type"){for(let u=a-1;u>0;u--)if(typeof o[u]!="number"){l=await r.unaliasKeyword(o[u],o,u);break}const f=await t.getContext(o.slice(0,-1));if("@list"in JKe.Util.getContextValueContainer(f,l)){t.emittedStack[a+1]=!0;const u=await r.valueToTerm(await t.getContext(o),l,s,a,o);for(const d of u)await this.handleListElement(t,r,d,s,a,o.slice(0,-1),a-1);u.length===0&&await this.handleListElement(t,r,null,s,a,o.slice(0,-1),a-1)}else t.shiftStack(a,1),await t.newOnValueJob(o.slice(0,-1),s,a-1,!1),t.contextTree.removeContext(o.slice(0,-1))}}async handleListElement(t,r,n,o,s,a,l){let f=t.listPointerStack[s];if(o!==null&&(await r.unaliasKeywords(o,a,s))["@value"]!==null){if(!f||!f.value){const u=r.dataFactory.blankNode();f={value:u,listRootDepth:l,listId:u}}else{const u=r.dataFactory.blankNode();t.emitQuad(s,r.dataFactory.quad(f.value,r.rdfRest,u,r.getDefaultGraph())),f.value=u}n&&t.emitQuad(s,r.dataFactory.quad(f.value,r.rdfFirst,n,r.getDefaultGraph()))}else f||(f={listRootDepth:l,listId:r.rdfNil});t.listPointerStack[s]=f,t.rdfstar&&t.annotationsBuffer[s]&&t.emitError(new hie.ErrorCoded("Found an illegal annotation inside a list",hie.ERROR_CODES.INVALID_ANNOTATION))}}RS.EntryHandlerArrayValue=YKe;var IS={};Object.defineProperty(IS,"__esModule",{value:!0}),IS.EntryHandlerInvalidFallback=void 0;class XKe{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(t,r,n,o,s){return!1}async test(t,r,n,o,s){return!0}async handle(t,r,n,o,s,a){t.emittedStack[a]=!1}}IS.EntryHandlerInvalidFallback=XKe;var NS={},ns={};Object.defineProperty(ns,"__esModule",{value:!0}),ns.EntryHandlerKeyword=void 0;class QKe{constructor(t){this.keyword=t}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(t,r,n,o,s){return!1}async test(t,r,n,o,s){return n===this.keyword}}ns.EntryHandlerKeyword=QKe,Object.defineProperty(NS,"__esModule",{value:!0}),NS.EntryHandlerKeywordContext=void 0;const pie=ii,ZKe=ns;class eJe extends ZKe.EntryHandlerKeyword{constructor(){super("@context")}isStackProcessor(){return!1}async handle(t,r,n,o,s,a){t.streamingProfile&&(t.processingStack[a]||t.processingType[a]||t.idStack[a]!==void 0)&&t.emitError(new pie.ErrorCoded("Found an out-of-order context, while streaming is enabled.(disable `streamingProfile`)",pie.ERROR_CODES.INVALID_STREAMING_KEY_ORDER));const l=t.getContext(o),f=t.parseContext(s,(await l).getContextRaw());t.contextTree.setContext(o.slice(0,-1),f),t.emitContext(s),await t.validateContext(await f)}}NS.EntryHandlerKeywordContext=eJe;var kS={};Object.defineProperty(kS,"__esModule",{value:!0}),kS.EntryHandlerKeywordGraph=void 0;const tJe=ns;class rJe extends tJe.EntryHandlerKeyword{constructor(){super("@graph")}async handle(t,r,n,o,s,a){t.graphStack[a+1]=!0}}kS.EntryHandlerKeywordGraph=rJe;var CS={};Object.defineProperty(CS,"__esModule",{value:!0}),CS.EntryHandlerKeywordId=void 0;const Ks=ii,nJe=ns;class iJe extends nJe.EntryHandlerKeyword{constructor(){super("@id")}isStackProcessor(){return!1}async handle(t,r,n,o,s,a){if(typeof s!="string"){if(t.rdfstar&&typeof s=="object"){const f=Object.keys(s);f.length===1&&f[0]==="@id"&&t.emitError(new Ks.ErrorCoded(`Invalid embedded node without property with @id ${s["@id"]}`,Ks.ERROR_CODES.INVALID_EMBEDDED_NODE))}else t.emitError(new Ks.ErrorCoded(`Found illegal @id '${s}'`,Ks.ERROR_CODES.INVALID_ID_VALUE));return}const l=await r.getPropertiesDepth(o,a);if(t.idStack[l]!==void 0&&(t.idStack[l][0].listHead?t.emitError(new Ks.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${o[a-1]}'`,Ks.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT)):t.emitError(new Ks.ErrorCoded(`Found duplicate @ids '${t.idStack[l][0].value}' and '${s}'`,Ks.ERROR_CODES.COLLIDING_KEYWORDS))),t.rdfstar&&t.annotationsBuffer[a])for(const f of t.annotationsBuffer[a])f.depth===a&&t.emitError(new Ks.ErrorCoded(`Found an illegal @id inside an annotation: ${s}`,Ks.ERROR_CODES.INVALID_ANNOTATION));t.idStack[l]=r.nullableTermToArray(await r.resourceToTerm(await t.getContext(o),s))}}CS.EntryHandlerKeywordId=iJe;var OS={};Object.defineProperty(OS,"__esModule",{value:!0}),OS.EntryHandlerKeywordIncluded=void 0;const yp=ii,oJe=ns;class sJe extends oJe.EntryHandlerKeyword{constructor(){super("@included")}async handle(t,r,n,o,s,a){typeof s!="object"&&t.emitError(new yp.ErrorCoded(`Found illegal @included '${s}'`,yp.ERROR_CODES.INVALID_INCLUDED_VALUE));const l=await r.unaliasKeywords(s,o,a,await t.getContext(o));"@value"in l&&t.emitError(new yp.ErrorCoded(`Found an illegal @included @value node '${JSON.stringify(s)}'`,yp.ERROR_CODES.INVALID_INCLUDED_VALUE)),"@list"in l&&t.emitError(new yp.ErrorCoded(`Found an illegal @included @list node '${JSON.stringify(s)}'`,yp.ERROR_CODES.INVALID_INCLUDED_VALUE)),t.emittedStack[a]=!1}}OS.EntryHandlerKeywordIncluded=sJe;var LS={};Object.defineProperty(LS,"__esModule",{value:!0}),LS.EntryHandlerKeywordNest=void 0;const DS=ii,aJe=ns;class lJe extends aJe.EntryHandlerKeyword{constructor(){super("@nest")}async handle(t,r,n,o,s,a){typeof s!="object"&&t.emitError(new DS.ErrorCoded(`Found invalid @nest entry for '${n}': '${s}'`,DS.ERROR_CODES.INVALID_NEST_VALUE)),"@value"in await r.unaliasKeywords(s,o,a,await t.getContext(o))&&t.emitError(new DS.ErrorCoded(`Found an invalid @value node for '${n}'`,DS.ERROR_CODES.INVALID_NEST_VALUE)),t.emittedStack[a]=!1}}LS.EntryHandlerKeywordNest=lJe;var MS={};Object.defineProperty(MS,"__esModule",{value:!0}),MS.EntryHandlerKeywordType=void 0;const D_=ii,PS=Kc(),uJe=$S(),fJe=ns;class cJe extends fJe.EntryHandlerKeyword{constructor(){super("@type")}isStackProcessor(){return!1}async handle(t,r,n,o,s,a){const l=o[a],f=await t.getContext(o),u=r.rdfType,d=await r.unaliasKeywordParent(o,a),g=PS.Util.isPropertyReverse(f,l,d),h=PS.Util.isPropertyInEmbeddedNode(d);r.validateReverseInEmbeddedNode(n,g,h);const p=PS.Util.isPropertyInAnnotationObject(d),w=Array.isArray(s)?s:[s];for(const E of w){typeof E!="string"&&t.emitError(new D_.ErrorCoded(`Found illegal @type '${E}'`,D_.ERROR_CODES.INVALID_TYPE_VALUE));const x=r.createVocabOrBaseTerm(f,E);x&&await uJe.EntryHandlerPredicate.handlePredicateObject(t,r,o,a,u,x,g,h,p)}let y=Promise.resolve(f),v=!1;for(const E of w.sort()){const x=PS.Util.getContextValue(f,"@context",E,null);x&&(v=!0,y=y.then(S=>t.parseContext(x,S.getContextRaw())))}t.streamingProfile&&(v||!t.streamingProfileAllowOutOfOrderPlainType)&&(t.processingStack[a]||t.idStack[a])&&t.emitError(new D_.ErrorCoded("Found an out-of-order type-scoped context, while streaming is enabled.(disable `streamingProfile`)",D_.ERROR_CODES.INVALID_STREAMING_KEY_ORDER)),v&&(y=y.then(E=>E.getContextRaw()["@propagate"]!==!0?new D_.JsonLdContextNormalized(Object.assign(Object.assign({},E.getContextRaw()),{"@propagate":!1,"@__propagateFallback":f.getContextRaw()})):E),t.contextTree.setContext(o.slice(0,o.length-1),y)),t.processingType[a]=!0}}MS.EntryHandlerKeywordType=cJe;var FS={};Object.defineProperty(FS,"__esModule",{value:!0}),FS.EntryHandlerKeywordUnknownFallback=void 0;const M_=ii;class jS{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(t,r,n,o,s){const a=await r.unaliasKeyword(n[o],n,o);return M_.Util.isPotentialKeyword(a)?!(!s&&a==="@list"):!1}async test(t,r,n,o,s){return M_.Util.isPotentialKeyword(n)}async handle(t,r,n,o,s,a){const l=jS.VALID_KEYWORDS_TYPES[n];l!==void 0?l&&typeof s!==l.type&&t.emitError(new M_.ErrorCoded(`Invalid value type for '${n}' with value '${s}'`,l.errorCode)):t.strictValues&&t.emitError(new Error(`Unknown keyword '${n}' with value '${s}'`)),t.emittedStack[a]=!1}}jS.VALID_KEYWORDS_TYPES={"@index":{type:"string",errorCode:M_.ERROR_CODES.INVALID_INDEX_VALUE},"@list":null,"@reverse":{type:"object",errorCode:M_.ERROR_CODES.INVALID_REVERSE_VALUE},"@set":null,"@value":null},FS.EntryHandlerKeywordUnknownFallback=jS;var WS={};Object.defineProperty(WS,"__esModule",{value:!0}),WS.EntryHandlerKeywordValue=void 0;const dJe=ns;class hJe extends dJe.EntryHandlerKeyword{constructor(){super("@value")}async validate(t,r,n,o,s){const a=n[o];return a&&!t.literalStack[o]&&await this.test(t,r,a,n,o)&&(t.literalStack[o]=!0),super.validate(t,r,n,o,s)}async test(t,r,n,o,s){return await r.unaliasKeyword(o[s],o.slice(0,o.length-1),s-1,!0)==="@value"}async handle(t,r,n,o,s,a){t.literalStack[a]=!0,delete t.unidentifiedValuesBuffer[a],delete t.unidentifiedGraphsBuffer[a],t.emittedStack[a]=!1}}WS.EntryHandlerKeywordValue=hJe;var P_={},BS={};Object.defineProperty(BS,"__esModule",{value:!0}),BS.ContextTree=void 0;class hP{constructor(){this.subTrees={}}getContext(t){if(t.length>0){const[r,...n]=t,o=this.subTrees[r];if(o){const s=o.getContext(n);if(s)return s.then(({context:a,depth:l})=>({context:a,depth:l+1}))}}return this.context?this.context.then(r=>({context:r,depth:0})):null}setContext(t,r){if(t.length===0)this.context=r;else{const[n,...o]=t;let s=this.subTrees[n];s||(s=this.subTrees[n]=new hP),s.setContext(o,r)}}removeContext(t){this.setContext(t,null)}}BS.ContextTree=hP;var bie;function pJe(){if(bie)return P_;bie=1,Object.defineProperty(P_,"__esModule",{value:!0}),P_.ParsingContext=void 0;const e=ii,t=up,r=BS,n=yie();let o=class Kpe{constructor(a){this.contextParser=new e.ContextParser({documentLoader:a.documentLoader,skipValidation:a.skipContextValidation}),this.streamingProfile=!!a.streamingProfile,this.baseIRI=a.baseIRI,this.produceGeneralizedRdf=!!a.produceGeneralizedRdf,this.allowSubjectList=!!a.allowSubjectList,this.processingMode=a.processingMode||n.JsonLdParser.DEFAULT_PROCESSING_MODE,this.strictValues=!!a.strictValues,this.validateValueIndexes=!!a.validateValueIndexes,this.defaultGraph=a.defaultGraph,this.rdfDirection=a.rdfDirection,this.normalizeLanguageTags=a.normalizeLanguageTags,this.streamingProfileAllowOutOfOrderPlainType=a.streamingProfileAllowOutOfOrderPlainType,this.rdfstar=a.rdfstar!==!1,this.rdfstarReverseInEmbedded=a.rdfstarReverseInEmbedded,this.topLevelProperties=!1,this.activeProcessingMode=parseFloat(this.processingMode),this.processingStack=[],this.processingType=[],this.emittedStack=[],this.idStack=[],this.graphStack=[],this.graphContainerTermStack=[],this.listPointerStack=[],this.contextTree=new r.ContextTree,this.literalStack=[],this.validationStack=[],this.unaliasedKeywordCacheStack=[],this.jsonLiteralStack=[],this.unidentifiedValuesBuffer=[],this.unidentifiedGraphsBuffer=[],this.annotationsBuffer=[],this.pendingContainerFlushBuffers=[],this.parser=a.parser,a.context?(this.rootContext=this.parseContext(a.context),this.rootContext.then(l=>this.validateContext(l))):this.rootContext=Promise.resolve(new e.JsonLdContextNormalized(this.baseIRI?{"@base":this.baseIRI,"@__baseDocument":!0}:{}))}async parseContext(a,l,f){return this.contextParser.parse(a,{baseIRI:this.baseIRI,ignoreProtection:f,normalizeLanguageTags:this.normalizeLanguageTags,parentContext:l,processingMode:this.activeProcessingMode})}validateContext(a){const l=a.getContextRaw()["@version"];if(l){if(this.activeProcessingMode&&l>this.activeProcessingMode)throw new t.ErrorCoded(`Unsupported JSON-LD version '${l}' under active processing mode ${this.activeProcessingMode}.`,t.ERROR_CODES.PROCESSING_MODE_CONFLICT);if(this.activeProcessingMode&&l<this.activeProcessingMode)throw new t.ErrorCoded(`Invalid JSON-LD version ${l} under active processing mode ${this.activeProcessingMode}.`,t.ERROR_CODES.INVALID_VERSION_VALUE);this.activeProcessingMode=l}}async getContext(a,l=1){const f=a;for(;typeof a[a.length-1]=="number";)a=a.slice(0,a.length-1);l&&(a=a.slice(0,-l));const u=await this.getContextPropagationAware(a);let g=u.context.getContextRaw();for(let h=u.depth;h<f.length-l;h++){const p=f[h],w=g[p];if(w&&typeof w=="object"&&"@context"in w){const y=(await this.parseContext(w,g,!0)).getContextRaw(),v=!(p in y)||y[p]["@context"]["@propagate"];(v!==!1||h===f.length-1-l)&&(g=Object.assign({},y),delete g["@propagate"],g[p]=Object.assign({},g[p]),"@id"in w&&(g[p]["@id"]=w["@id"]),delete g[p]["@context"],v!==!1&&this.contextTree.setContext(f.slice(0,h+l),Promise.resolve(new e.JsonLdContextNormalized(g))))}}return new e.JsonLdContextNormalized(g)}async getContextPropagationAware(a){const l=a.length;let f=null,u;do{u=!1,f&&"@__propagateFallback"in f.context.getContextRaw()?f.context=new e.JsonLdContextNormalized(f.context.getContextRaw()["@__propagateFallback"]):(f&&(a=a.slice(0,f.depth-1)),f=await this.contextTree.getContext(a)||{context:await this.rootContext,depth:0});const d=a[a.length-1];if(d in f.context.getContextRaw()){const g=f.context.getContextRaw()[d];g&&typeof g=="object"&&"@context"in g&&(u=!0)}}while(f.depth>0&&f.context.getContextRaw()["@propagate"]===!1&&f.depth!==l&&!u);return f.depth===0&&f.context.getContextRaw()["@propagate"]===!1&&f.depth!==l&&(f.context=new e.JsonLdContextNormalized({})),f}async newOnValueJob(a,l,f,u){await this.parser.newOnValueJob(a,l,f,u)}async handlePendingContainerFlushBuffers(){if(this.pendingContainerFlushBuffers.length>0){for(const a of this.pendingContainerFlushBuffers)await this.parser.flushBuffer(a.depth,a.keys),this.parser.flushStacks(a.depth);return this.pendingContainerFlushBuffers.splice(0,this.pendingContainerFlushBuffers.length),!0}else return!1}emitQuad(a,l){a===1&&(this.topLevelProperties=!0),this.parser.push(l)}emitError(a){this.parser.emit("error",a)}emitContext(a){this.parser.emit("context",a)}getUnidentifiedValueBufferSafe(a){let l=this.unidentifiedValuesBuffer[a];return l||(l=[],this.unidentifiedValuesBuffer[a]=l),l}getUnidentifiedGraphBufferSafe(a){let l=this.unidentifiedGraphsBuffer[a];return l||(l=[],this.unidentifiedGraphsBuffer[a]=l),l}getAnnotationsBufferSafe(a){let l=this.annotationsBuffer[a];return l||(l=[],this.annotationsBuffer[a]=l),l}getExpandOptions(){return Kpe.EXPAND_OPTIONS[this.activeProcessingMode]}shiftStack(a,l){const f=this.idStack[a+l];if(f&&(this.idStack[a]=f,this.emittedStack[a]=!0,delete this.idStack[a+l]),this.pendingContainerFlushBuffers.length)for(const u of this.pendingContainerFlushBuffers)u.depth>=a+l&&(u.depth-=l,u.keys.splice(a,l));this.unidentifiedValuesBuffer[a+l]&&(this.unidentifiedValuesBuffer[a]=this.unidentifiedValuesBuffer[a+l],delete this.unidentifiedValuesBuffer[a+l]),this.annotationsBuffer[a+l-1]&&(this.annotationsBuffer[a-1]||(this.annotationsBuffer[a-1]=[]),this.annotationsBuffer[a-1]=[...this.annotationsBuffer[a-1],...this.annotationsBuffer[a+l-1]],delete this.annotationsBuffer[a+l-1])}};return o.EXPAND_OPTIONS={1:{allowPrefixForcing:!1,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!1},1.1:{allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}},P_.ParsingContext=o,P_}var US={};Object.defineProperty(US,"__esModule",{value:!0}),US.EntryHandlerKeywordAnnotation=void 0;const bJe=ns,gie=ii;class gJe extends bJe.EntryHandlerKeyword{constructor(){super("@annotation")}async handle(t,r,n,o,s,a){(typeof s=="string"||typeof s=="object"&&s["@value"])&&t.emitError(new gie.ErrorCoded(`Found illegal annotation value: ${JSON.stringify(s)}`,gie.ERROR_CODES.INVALID_ANNOTATION))}}US.EntryHandlerKeywordAnnotation=gJe;var _ie;function yie(){if(_ie)return y_;_ie=1,Object.defineProperty(y_,"__esModule",{value:!0}),y_.JsonLdParser=void 0;const e=dH,t=ii,r=OKe,n=RS,o=fie(),s=IS,a=$S(),l=NS,f=kS,u=CS,d=OS,g=LS,h=MS,p=FS,w=WS,y=pJe(),v=Kc(),E=mre,x=US;let S=class ab extends r.Transform{constructor($){super({readableObjectMode:!0}),$=$||{},this.options=$,this.parsingContext=new y.ParsingContext(Object.assign({parser:this},$)),this.util=new v.Util({dataFactory:$.dataFactory,parsingContext:this.parsingContext}),this.jsonParser=new e,this.contextJobs=[],this.typeJobs=[],this.contextAwaitingJobs=[],this.lastDepth=0,this.lastKeys=[],this.lastOnValueJob=Promise.resolve(),this.attachJsonParserListeners(),this.on("end",()=>{typeof this.jsonParser.mode<"u"&&this.emit("error",new Error("Unclosed document"))})}static fromHttpResponse($,D,K,q){let k,V=["application/activity+json"];if(q&&q.wellKnownMediaTypes&&(V=q.wellKnownMediaTypes),D!=="application/ld+json"&&!V.includes(D)){if(D!=="application/json"&&!D.endsWith("+json"))throw new t.ErrorCoded(`Unsupported JSON-LD media type ${D}`,t.ERROR_CODES.LOADING_DOCUMENT_FAILED);if(K&&K.has("Link")&&K.forEach((B,A)=>{if(A==="link"){const U=(0,E.parse)(B);for(const G of U.get("rel","http://www.w3.org/ns/json-ld#context")){if(k)throw new t.ErrorCoded("Multiple JSON-LD context link headers were found on "+$,t.ERROR_CODES.MULTIPLE_CONTEXT_LINK_HEADERS);k=G.uri}}}),!k&&!(q!=null&&q.ignoreMissingContextLinkHeader))throw new t.ErrorCoded(`Missing context link header for media type ${D} on ${$}`,t.ERROR_CODES.LOADING_DOCUMENT_FAILED)}let j;if(K&&K.has("Content-Type")){const B=K.get("Content-Type"),A=/; *profile=([^"]*)/.exec(B);A&&A[1]==="http://www.w3.org/ns/json-ld#streaming"&&(j=!0)}return new ab(Object.assign({baseIRI:$,context:k,streamingProfile:j},q||{}))}import($){if("pipe"in $){$.on("error",K=>D.emit("error",K));const D=$.pipe(new ab(this.options));return D}else{const D=new r.PassThrough({readableObjectMode:!0});$.on("error",q=>K.emit("error",q)),$.on("data",q=>D.push(q)),$.on("end",()=>D.push(null));const K=D.pipe(new ab(this.options));return K}}_transform($,D,K){this.jsonParser.write($),this.lastOnValueJob.then(()=>K(),q=>K(q))}async newOnValueJob($,D,K,q){let k=!0;if(q&&K<this.lastDepth){const U=this.parsingContext.listPointerStack[this.lastDepth];U&&(U.value&&this.push(this.util.dataFactory.quad(U.value,this.util.rdfRest,this.util.rdfNil,this.util.getDefaultGraph())),U.listId.listHead=!0,this.parsingContext.idStack[U.listRootDepth+1]=[U.listId],this.parsingContext.listPointerStack.splice(this.lastDepth,1)),await o.EntryHandlerContainer.isBufferableContainerHandler(this.parsingContext,this.lastKeys,this.lastDepth)?(this.parsingContext.pendingContainerFlushBuffers.push({depth:this.lastDepth,keys:this.lastKeys.slice(0,this.lastKeys.length)}),k=!1):await this.flushBuffer(this.lastDepth,this.lastKeys)}const V=await this.util.unaliasKeyword($[K],$,K),j=await this.util.unaliasKeywordParent($,K);this.parsingContext.emittedStack[K]=!0;let B=!0;t.Util.isValidKeyword(V)&&j==="@reverse"&&V!=="@context"&&this.emit("error",new t.ErrorCoded(`Found the @id '${D}' inside an @reverse property`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY_MAP));let A=!1;this.parsingContext.validationStack.length>1&&(A=this.parsingContext.validationStack[this.parsingContext.validationStack.length-1].property);for(let U=Math.max(1,this.parsingContext.validationStack.length-1);U<$.length-1;U++){const G=this.parsingContext.validationStack[U]||(this.parsingContext.validationStack[U]=await this.validateKey($.slice(0,U+1),U,A));if(G.valid)!A&&G.property&&(A=!0);else{this.parsingContext.emittedStack[K]=!1,B=!1;break}}if(await this.util.isLiteral($,K)&&(B=!1),B)for(const U of ab.ENTRY_HANDLERS){const G=await U.test(this.parsingContext,this.util,V,$,K);if(G){await U.handle(this.parsingContext,this.util,V,$,D,K,G),U.isStackProcessor()&&(this.parsingContext.processingStack[K]=!0);break}}K===0&&Array.isArray(D)&&await this.util.validateValueIndexes(D),k&&K<this.lastDepth&&this.flushStacks(this.lastDepth),this.lastDepth=K,this.lastKeys=$,this.parsingContext.unaliasedKeywordCacheStack.splice(K-1)}flushStacks($){this.parsingContext.processingStack.splice($,1),this.parsingContext.processingType.splice($,1),this.parsingContext.emittedStack.splice($,1),this.parsingContext.idStack.splice($,1),this.parsingContext.graphStack.splice($+1,1),this.parsingContext.graphContainerTermStack.splice($,1),this.parsingContext.jsonLiteralStack.splice($,1),this.parsingContext.validationStack.splice($-1,2),this.parsingContext.literalStack.splice($,this.parsingContext.literalStack.length-$),this.parsingContext.annotationsBuffer.splice($,1)}async flushBuffer($,D){let K=this.parsingContext.idStack[$];!!K||(K=this.parsingContext.idStack[$]=[this.util.dataFactory.blankNode()]);const k=this.parsingContext.unidentifiedValuesBuffer[$];if(k){for(const B of K){const A=await this.util.getDepthOffsetGraph($,D),U=this.parsingContext.graphStack[$]||A>=0?this.parsingContext.idStack[$-A-1]:[await this.util.getGraphContainerValue(D,$)];if(U)for(const G of U){this.parsingContext.emittedStack[$]=!0;for(const H of k)this.util.emitQuadChecked($,B,H.predicate,H.object,G,H.reverse,H.isEmbedded)}else{const G=this.parsingContext.getUnidentifiedGraphBufferSafe($-await this.util.getDepthOffsetGraph($,D)-1);for(const H of k)H.reverse?G.push({object:B,predicate:H.predicate,subject:H.object,isEmbedded:H.isEmbedded}):G.push({object:H.object,predicate:H.predicate,subject:B,isEmbedded:H.isEmbedded})}}this.parsingContext.unidentifiedValuesBuffer.splice($,1),this.parsingContext.literalStack.splice($,1),this.parsingContext.jsonLiteralStack.splice($,1)}const V=this.parsingContext.unidentifiedGraphsBuffer[$];if(V){for(const B of K){const A=$===1&&B.termType==="BlankNode"&&!this.parsingContext.topLevelProperties?this.util.getDefaultGraph():B;this.parsingContext.emittedStack[$]=!0;for(const U of V)this.parsingContext.emitQuad($,this.util.dataFactory.quad(U.subject,U.predicate,U.object,A))}this.parsingContext.unidentifiedGraphsBuffer.splice($,1)}const j=this.parsingContext.annotationsBuffer[$];if(j){j.length>0&&$===1&&this.parsingContext.emitError(new t.ErrorCoded("Annotations can not be made on top-level nodes",t.ERROR_CODES.INVALID_ANNOTATION));const B=this.parsingContext.getAnnotationsBufferSafe($-1);for(const A of j)B.push(A);delete this.parsingContext.annotationsBuffer[$]}}async validateKey($,D,K){for(const q of ab.ENTRY_HANDLERS)if(await q.validate(this.parsingContext,this.util,$,D,K))return{valid:!0,property:K||q.isPropertyHandler()};return{valid:!1,property:!1}}attachJsonParserListeners(){this.jsonParser.onValue=$=>{const D=this.jsonParser.stack.length,K=new Array(D+1).fill(0).map((q,k)=>k===D?this.jsonParser.key:this.jsonParser.stack[k].key);if(!this.isParsingContextInner(D)){const q=()=>this.newOnValueJob(K,$,D,!0);if(!this.parsingContext.streamingProfile&&!this.parsingContext.contextTree.getContext(K.slice(0,-1)))if(K[D]==="@context"){let k=this.contextJobs[D];k||(k=this.contextJobs[D]=[]),k.push(q)}else this.contextAwaitingJobs.push({job:q,keys:K,depth:D});else this.lastOnValueJob=this.lastOnValueJob.then(q);!this.parsingContext.streamingProfile&&D===0&&(this.lastOnValueJob=this.lastOnValueJob.then(()=>this.executeBufferedJobs()))}},this.jsonParser.onError=$=>{this.emit("error",$)}}isParsingContextInner($){for(let D=$;D>0;D--)if(this.jsonParser.stack[D-1].key==="@context")return!0;return!1}async executeBufferedJobs(){for(const D of this.contextJobs)if(D)for(const K of D)await K();this.parsingContext.unaliasedKeywordCacheStack.splice(0);const $=[];for(const D of this.contextAwaitingJobs)await this.util.unaliasKeyword(D.keys[D.depth],D.keys,D.depth,!0)==="@type"||typeof D.keys[D.depth]=="number"&&await this.util.unaliasKeyword(D.keys[D.depth-1],D.keys,D.depth-1,!0)==="@type"?this.typeJobs.push({job:D.job,keys:D.keys.slice(0,D.keys.length-1)}):$.push(D);for(const D of $){if(this.typeJobs.length>0){const K=[],q=[];for(let j=0;j<this.typeJobs.length;j++){const B=this.typeJobs[j];v.Util.isPrefixArray(B.keys,D.keys)&&(K.push(B),q.push(j))}const k=K.sort((j,B)=>j.keys.length-B.keys.length);for(const j of k)await j.job();const V=q.sort().reverse();for(const j of V)this.typeJobs.splice(j,1)}await D.job()}}};return S.DEFAULT_PROCESSING_MODE="1.1",S.ENTRY_HANDLERS=[new n.EntryHandlerArrayValue,new l.EntryHandlerKeywordContext,new u.EntryHandlerKeywordId,new d.EntryHandlerKeywordIncluded,new f.EntryHandlerKeywordGraph,new g.EntryHandlerKeywordNest,new h.EntryHandlerKeywordType,new w.EntryHandlerKeywordValue,new x.EntryHandlerKeywordAnnotation,new o.EntryHandlerContainer,new p.EntryHandlerKeywordUnknownFallback,new a.EntryHandlerPredicate,new s.EntryHandlerInvalidFallback],y_.JsonLdParser=S,y_}(function(e){var t=nr&&nr.__createBinding||(Object.create?function(n,o,s,a){a===void 0&&(a=s);var l=Object.getOwnPropertyDescriptor(o,s);(!l||("get"in l?!o.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(n,a,l)}:function(n,o,s,a){a===void 0&&(a=s),n[a]=o[s]}),r=nr&&nr.__exportStar||function(n,o){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&t(o,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(yie(),e)})(gre);var wie={exports:{}},pP={exports:{}},Tr={ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,t){return e.includes(t)},ArrayPrototypeIndexOf(e,t){return e.indexOf(t)},ArrayPrototypeJoin(e,t){return e.join(t)},ArrayPrototypeMap(e,t){return e.map(t)},ArrayPrototypePop(e,t){return e.pop(t)},ArrayPrototypePush(e,t){return e.push(t)},ArrayPrototypeSlice(e,t,r){return e.slice(t,r)},Error,FunctionPrototypeCall(e,t,...r){return e.call(t,...r)},FunctionPrototypeSymbolHasInstance(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,t){return Object.defineProperties(e,t)},ObjectDefineProperty(e,t,r){return Object.defineProperty(e,t,r)},ObjectGetOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,t){return Object.setPrototypeOf(e,t)},Promise,PromisePrototypeCatch(e,t){return e.catch(t)},PromisePrototypeThen(e,t,r){return e.then(t,r)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,t){return e.test(t)},SafeSet:Set,String,StringPrototypeSlice(e,t,r){return e.slice(t,r)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,t,r){return e.set(t,r)},Boolean,Uint8Array},mie={exports:{}};(function(e){const t=Ge,{kResistStopPropagation:r,SymbolDispose:n}=Tr,o=globalThis.AbortSignal||bt().AbortSignal,s=globalThis.AbortController||bt().AbortController,a=Object.getPrototypeOf(async function(){}).constructor,l=globalThis.Blob||t.Blob,f=typeof l<"u"?function(p){return p instanceof l}:function(p){return!1},u=(h,p)=>{if(h!==void 0&&(h===null||typeof h!="object"||!("aborted"in h)))throw new ERR_INVALID_ARG_TYPE(p,"AbortSignal",h)},d=(h,p)=>{if(typeof h!="function")throw new ERR_INVALID_ARG_TYPE(p,"Function",h)};class g extends Error{constructor(p){if(!Array.isArray(p))throw new TypeError(`Expected input to be an Array, got ${typeof p}`);let w="";for(let y=0;y<p.length;y++)w+=`    ${p[y].stack}
`;super(w),this.name="AggregateError",this.errors=p}}e.exports={AggregateError:g,kEmptyObject:Object.freeze({}),once(h){let p=!1;return function(...w){p||(p=!0,h.apply(this,w))}},createDeferredPromise:function(){let h,p;return{promise:new Promise((y,v)=>{h=y,p=v}),resolve:h,reject:p}},promisify(h){return new Promise((p,w)=>{h((y,...v)=>y?w(y):p(...v))})},debuglog(){return function(){}},format(h,...p){return h.replace(/%([sdifj])/g,function(...[w,y]){const v=p.shift();return y==="f"?v.toFixed(6):y==="j"?JSON.stringify(v):y==="s"&&typeof v=="object"?`${v.constructor!==Object?v.constructor.name:""} {}`.trim():v.toString()})},inspect(h){switch(typeof h){case"string":if(h.includes("'"))if(h.includes('"')){if(!h.includes("`")&&!h.includes("${"))return`\`${h}\``}else return`"${h}"`;return`'${h}'`;case"number":return isNaN(h)?"NaN":Object.is(h,-0)?String(h):h;case"bigint":return`${String(h)}n`;case"boolean":case"undefined":return String(h);case"object":return"{}"}},types:{isAsyncFunction(h){return h instanceof a},isArrayBufferView(h){return ArrayBuffer.isView(h)}},isBlob:f,deprecate(h,p){return h},addAbortListener:$t.addAbortListener||function(p,w){if(p===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",p);u(p,"signal"),d(w,"listener");let y;return p.aborted?queueMicrotask(()=>w()):(p.addEventListener("abort",w,{__proto__:null,once:!0,[r]:!0}),y=()=>{p.removeEventListener("abort",w)}),{__proto__:null,[n](){var v;(v=y)===null||v===void 0||v()}}},AbortSignalAny:o.any||function(p){if(p.length===1)return p[0];const w=new s,y=()=>w.abort();return p.forEach(v=>{u(v,"signals"),v.addEventListener("abort",y,{once:!0})}),w.signal.addEventListener("abort",()=>{p.forEach(v=>v.removeEventListener("abort",y))},{once:!0}),w.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(mie);var si=mie.exports,bP={};const{format:_Je,inspect:qS,AggregateError:yJe}=si,wJe=globalThis.AggregateError||yJe,mJe=Symbol("kIsNodeError"),vJe=["string","function","number","object","Function","Object","boolean","bigint","symbol"],SJe=/^([A-Z][a-z0-9]*)+$/,EJe="__node_internal_",HS={};function Jc(e,t){if(!e)throw new HS.ERR_INTERNAL_ASSERTION(t)}function vie(e){let t="",r=e.length;const n=e[0]==="-"?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function RJe(e,t,r){if(typeof t=="function")return Jc(t.length<=r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${t.length}).`),t(...r);const n=(t.match(/%[dfijoOs]/g)||[]).length;return Jc(n===r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?t:_Je(t,...r)}function vn(e,t,r){r||(r=Error);class n extends r{constructor(...s){super(RJe(e,t,s))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=e,n.prototype[mJe]=!0,HS[e]=n}function Sie(e){const t=EJe+e.name;return Object.defineProperty(e,"name",{value:t}),e}function xJe(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;const r=new wJe([t,e],t.message);return r.code=t.code,r}return e||t}let AJe=class extends Error{constructor(t="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new HS.ERR_INVALID_ARG_TYPE("options","Object",r);super(t,r),this.code="ABORT_ERR",this.name="AbortError"}};vn("ERR_ASSERTION","%s",Error),vn("ERR_INVALID_ARG_TYPE",(e,t,r)=>{Jc(typeof e=="string","'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+=`${e} `:n+=`"${e}" ${e.includes(".")?"property":"argument"} `,n+="must be ";const o=[],s=[],a=[];for(const f of t)Jc(typeof f=="string","All expected entries have to be of type string"),vJe.includes(f)?o.push(f.toLowerCase()):SJe.test(f)?s.push(f):(Jc(f!=="object",'The value "object" should be written as "Object"'),a.push(f));if(s.length>0){const f=o.indexOf("object");f!==-1&&(o.splice(o,f,1),s.push("Object"))}if(o.length>0){switch(o.length){case 1:n+=`of type ${o[0]}`;break;case 2:n+=`one of type ${o[0]} or ${o[1]}`;break;default:{const f=o.pop();n+=`one of type ${o.join(", ")}, or ${f}`}}(s.length>0||a.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{const f=s.pop();n+=`an instance of ${s.join(", ")}, or ${f}`}}a.length>0&&(n+=" or ")}switch(a.length){case 0:break;case 1:a[0].toLowerCase()!==a[0]&&(n+="an "),n+=`${a[0]}`;break;case 2:n+=`one of ${a[0]} or ${a[1]}`;break;default:{const f=a.pop();n+=`one of ${a.join(", ")}, or ${f}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var l;if((l=r.constructor)!==null&&l!==void 0&&l.name)n+=`. Received an instance of ${r.constructor.name}`;else{const f=qS(r,{depth:-1});n+=`. Received ${f}`}}else{let f=qS(r,{colors:!1});f.length>25&&(f=`${f.slice(0,25)}...`),n+=`. Received type ${typeof r} (${f})`}return n},TypeError),vn("ERR_INVALID_ARG_VALUE",(e,t,r="is invalid")=>{let n=qS(t);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${e.includes(".")?"property":"argument"} '${e}' ${r}. Received ${n}`},TypeError),vn("ERR_INVALID_RETURN_VALUE",(e,t,r)=>{var n;const o=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${e} to be returned from the "${t}" function but got ${o}.`},TypeError),vn("ERR_MISSING_ARGS",(...e)=>{Jc(e.length>0,"At least one arg needs to be specified");let t;const r=e.length;switch(e=(Array.isArray(e)?e:[e]).map(n=>`"${n}"`).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{const n=e.pop();t+=`The ${e.join(", ")}, and ${n} arguments`}break}return`${t} must be specified`},TypeError),vn("ERR_OUT_OF_RANGE",(e,t,r)=>{Jc(t,'Missing "range" argument');let n;return Number.isInteger(r)&&Math.abs(r)>2**32?n=vie(String(r)):typeof r=="bigint"?(n=String(r),(r>2n**32n||r<-(2n**32n))&&(n=vie(n)),n+="n"):n=qS(r),`The value of "${e}" is out of range. It must be ${t}. Received ${n}`},RangeError),vn("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),vn("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),vn("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),vn("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),vn("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),vn("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),vn("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),vn("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),vn("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),vn("ERR_STREAM_WRITE_AFTER_END","write after end",Error),vn("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);var Ii={AbortError:AJe,aggregateTwoErrors:Sie(xJe),hideStackFrames:Sie,codes:HS};const{ArrayIsArray:gP,ArrayPrototypeIncludes:Eie,ArrayPrototypeJoin:Rie,ArrayPrototypeMap:$Je,NumberIsInteger:_P,NumberIsNaN:TJe,NumberMAX_SAFE_INTEGER:IJe,NumberMIN_SAFE_INTEGER:NJe,NumberParseInt:kJe,ObjectPrototypeHasOwnProperty:CJe,RegExpPrototypeExec:xie,String:OJe,StringPrototypeToUpperCase:LJe,StringPrototypeTrim:DJe}=Tr,{hideStackFrames:wo,codes:{ERR_SOCKET_BAD_PORT:MJe,ERR_INVALID_ARG_TYPE:Pn,ERR_INVALID_ARG_VALUE:wp,ERR_OUT_OF_RANGE:Yc,ERR_UNKNOWN_SIGNAL:Aie}}=Ii,{normalizeEncoding:PJe}=si,{isAsyncFunction:FJe,isArrayBufferView:jJe}=si.types,$ie={};function WJe(e){return e===(e|0)}function BJe(e){return e===e>>>0}const UJe=/^[0-7]+$/,qJe="must be a 32-bit unsigned integer or an octal string";function HJe(e,t,r){if(typeof e>"u"&&(e=r),typeof e=="string"){if(xie(UJe,e)===null)throw new wp(t,e,qJe);e=kJe(e,8)}return Tie(e,t),e}const VJe=wo((e,t,r=NJe,n=IJe)=>{if(typeof e!="number")throw new Pn(t,"number",e);if(!_P(e))throw new Yc(t,"an integer",e);if(e<r||e>n)throw new Yc(t,`>= ${r} && <= ${n}`,e)}),GJe=wo((e,t,r=-2147483648,n=2147483647)=>{if(typeof e!="number")throw new Pn(t,"number",e);if(!_P(e))throw new Yc(t,"an integer",e);if(e<r||e>n)throw new Yc(t,`>= ${r} && <= ${n}`,e)}),Tie=wo((e,t,r=!1)=>{if(typeof e!="number")throw new Pn(t,"number",e);if(!_P(e))throw new Yc(t,"an integer",e);const n=r?1:0,o=4294967295;if(e<n||e>o)throw new Yc(t,`>= ${n} && <= ${o}`,e)});function yP(e,t){if(typeof e!="string")throw new Pn(t,"string",e)}function zJe(e,t,r=void 0,n){if(typeof e!="number")throw new Pn(t,"number",e);if(r!=null&&e<r||n!=null&&e>n||(r!=null||n!=null)&&TJe(e))throw new Yc(t,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,e)}const KJe=wo((e,t,r)=>{if(!Eie(r,e)){const o="must be one of: "+Rie($Je(r,s=>typeof s=="string"?`'${s}'`:OJe(s)),", ");throw new wp(t,e,o)}});function Iie(e,t){if(typeof e!="boolean")throw new Pn(t,"boolean",e)}function wP(e,t,r){return e==null||!CJe(e,t)?r:e[t]}const JJe=wo((e,t,r=null)=>{const n=wP(r,"allowArray",!1),o=wP(r,"allowFunction",!1);if(!wP(r,"nullable",!1)&&e===null||!n&&gP(e)||typeof e!="object"&&(!o||typeof e!="function"))throw new Pn(t,"Object",e)}),YJe=wo((e,t)=>{if(e!=null&&typeof e!="object"&&typeof e!="function")throw new Pn(t,"a dictionary",e)}),VS=wo((e,t,r=0)=>{if(!gP(e))throw new Pn(t,"Array",e);if(e.length<r){const n=`must be longer than ${r}`;throw new wp(t,e,n)}});function XJe(e,t){VS(e,t);for(let r=0;r<e.length;r++)yP(e[r],`${t}[${r}]`)}function QJe(e,t){VS(e,t);for(let r=0;r<e.length;r++)Iie(e[r],`${t}[${r}]`)}function ZJe(e,t){VS(e,t);for(let r=0;r<e.length;r++){const n=e[r],o=`${t}[${r}]`;if(n==null)throw new Pn(o,"AbortSignal",n);Nie(n,o)}}function eYe(e,t="signal"){if(yP(e,t),$ie[e]===void 0)throw $ie[LJe(e)]!==void 0?new Aie(e+" (signals must use all capital letters)"):new Aie(e)}const tYe=wo((e,t="buffer")=>{if(!jJe(e))throw new Pn(t,["Buffer","TypedArray","DataView"],e)});function rYe(e,t){const r=PJe(t),n=e.length;if(r==="hex"&&n%2!==0)throw new wp("encoding",t,`is invalid for data of length ${n}`)}function nYe(e,t="Port",r=!0){if(typeof e!="number"&&typeof e!="string"||typeof e=="string"&&DJe(e).length===0||+e!==+e>>>0||e>65535||e===0&&!r)throw new MJe(t,e,r);return e|0}const Nie=wo((e,t)=>{if(e!==void 0&&(e===null||typeof e!="object"||!("aborted"in e)))throw new Pn(t,"AbortSignal",e)}),iYe=wo((e,t)=>{if(typeof e!="function")throw new Pn(t,"Function",e)}),oYe=wo((e,t)=>{if(typeof e!="function"||FJe(e))throw new Pn(t,"Function",e)}),sYe=wo((e,t)=>{if(e!==void 0)throw new Pn(t,"undefined",e)});function aYe(e,t,r){if(!Eie(r,e))throw new Pn(t,`('${Rie(r,"|")}')`,e)}const lYe=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function kie(e,t){if(typeof e>"u"||!xie(lYe,e))throw new wp(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function uYe(e){if(typeof e=="string")return kie(e,"hints"),e;if(gP(e)){const t=e.length;let r="";if(t===0)return r;for(let n=0;n<t;n++){const o=e[n];kie(o,"hints"),r+=o,n!==t-1&&(r+=", ")}return r}throw new wp("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}var F_={isInt32:WJe,isUint32:BJe,parseFileMode:HJe,validateArray:VS,validateStringArray:XJe,validateBooleanArray:QJe,validateAbortSignalArray:ZJe,validateBoolean:Iie,validateBuffer:tYe,validateDictionary:YJe,validateEncoding:rYe,validateFunction:iYe,validateInt32:GJe,validateInteger:VJe,validateNumber:zJe,validateObject:JJe,validateOneOf:KJe,validatePlainFunction:oYe,validatePort:nYe,validateSignalName:eYe,validateString:yP,validateUint32:Tie,validateUndefined:sYe,validateUnion:aYe,validateAbortSignal:Nie,validateLinkHeaderValue:uYe},mP={exports:{}};const{SymbolAsyncIterator:Cie,SymbolIterator:Oie,SymbolFor:Xc}=Tr,Lie=Xc("nodejs.stream.destroyed"),Die=Xc("nodejs.stream.errored"),vP=Xc("nodejs.stream.readable"),SP=Xc("nodejs.stream.writable"),Mie=Xc("nodejs.stream.disturbed"),fYe=Xc("nodejs.webstream.isClosedPromise"),cYe=Xc("nodejs.webstream.controllerErrorFunction");function GS(e,t=!1){var r;return!!(e&&typeof e.pipe=="function"&&typeof e.on=="function"&&(!t||typeof e.pause=="function"&&typeof e.resume=="function")&&(!e._writableState||((r=e._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!e._writableState||e._readableState))}function zS(e){var t;return!!(e&&typeof e.write=="function"&&typeof e.on=="function"&&(!e._readableState||((t=e._writableState)===null||t===void 0?void 0:t.writable)!==!1))}function dYe(e){return!!(e&&typeof e.pipe=="function"&&e._readableState&&typeof e.on=="function"&&typeof e.write=="function")}function Js(e){return e&&(e._readableState||e._writableState||typeof e.write=="function"&&typeof e.on=="function"||typeof e.pipe=="function"&&typeof e.on=="function")}function Pie(e){return!!(e&&!Js(e)&&typeof e.pipeThrough=="function"&&typeof e.getReader=="function"&&typeof e.cancel=="function")}function Fie(e){return!!(e&&!Js(e)&&typeof e.getWriter=="function"&&typeof e.abort=="function")}function jie(e){return!!(e&&!Js(e)&&typeof e.readable=="object"&&typeof e.writable=="object")}function hYe(e){return Pie(e)||Fie(e)||jie(e)}function pYe(e,t){return e==null?!1:t===!0?typeof e[Cie]=="function":t===!1?typeof e[Oie]=="function":typeof e[Cie]=="function"||typeof e[Oie]=="function"}function KS(e){if(!Js(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[Lie]||n!=null&&n.destroyed)}function Wie(e){if(!zS(e))return null;if(e.writableEnded===!0)return!0;const t=e._writableState;return t!=null&&t.errored?!1:typeof(t==null?void 0:t.ended)!="boolean"?null:t.ended}function bYe(e,t){if(!zS(e))return null;if(e.writableFinished===!0)return!0;const r=e._writableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.finished)!="boolean"?null:!!(r.finished||t===!1&&r.ended===!0&&r.length===0)}function gYe(e){if(!GS(e))return null;if(e.readableEnded===!0)return!0;const t=e._readableState;return!t||t.errored?!1:typeof(t==null?void 0:t.ended)!="boolean"?null:t.ended}function Bie(e,t){if(!GS(e))return null;const r=e._readableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.endEmitted)!="boolean"?null:!!(r.endEmitted||t===!1&&r.ended===!0&&r.length===0)}function Uie(e){return e&&e[vP]!=null?e[vP]:typeof(e==null?void 0:e.readable)!="boolean"?null:KS(e)?!1:GS(e)&&e.readable&&!Bie(e)}function qie(e){return e&&e[SP]!=null?e[SP]:typeof(e==null?void 0:e.writable)!="boolean"?null:KS(e)?!1:zS(e)&&e.writable&&!Wie(e)}function _Ye(e,t){return Js(e)?KS(e)?!0:!((t==null?void 0:t.readable)!==!1&&Uie(e)||(t==null?void 0:t.writable)!==!1&&qie(e)):null}function yYe(e){var t,r;return Js(e)?e.writableErrored?e.writableErrored:(t=(r=e._writableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}function wYe(e){var t,r;return Js(e)?e.readableErrored?e.readableErrored:(t=(r=e._readableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}function mYe(e){if(!Js(e))return null;if(typeof e.closed=="boolean")return e.closed;const t=e._writableState,r=e._readableState;return typeof(t==null?void 0:t.closed)=="boolean"||typeof(r==null?void 0:r.closed)=="boolean"?(t==null?void 0:t.closed)||(r==null?void 0:r.closed):typeof e._closed=="boolean"&&Hie(e)?e._closed:null}function Hie(e){return typeof e._closed=="boolean"&&typeof e._defaultKeepAlive=="boolean"&&typeof e._removedConnection=="boolean"&&typeof e._removedContLen=="boolean"}function Vie(e){return typeof e._sent100=="boolean"&&Hie(e)}function vYe(e){var t;return typeof e._consuming=="boolean"&&typeof e._dumped=="boolean"&&((t=e.req)===null||t===void 0?void 0:t.upgradeOrConnect)===void 0}function SYe(e){if(!Js(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!n&&Vie(e)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function EYe(e){var t;return!!(e&&((t=e[Mie])!==null&&t!==void 0?t:e.readableDidRead||e.readableAborted))}function RYe(e){var t,r,n,o,s,a,l,f,u,d;return!!(e&&((t=(r=(n=(o=(s=(a=e[Die])!==null&&a!==void 0?a:e.readableErrored)!==null&&s!==void 0?s:e.writableErrored)!==null&&o!==void 0?o:(l=e._readableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&n!==void 0?n:(f=e._writableState)===null||f===void 0?void 0:f.errorEmitted)!==null&&r!==void 0?r:(u=e._readableState)===null||u===void 0?void 0:u.errored)!==null&&t!==void 0?t:!((d=e._writableState)===null||d===void 0)&&d.errored))}var al={isDestroyed:KS,kIsDestroyed:Lie,isDisturbed:EYe,kIsDisturbed:Mie,isErrored:RYe,kIsErrored:Die,isReadable:Uie,kIsReadable:vP,kIsClosedPromise:fYe,kControllerErrorFunction:cYe,kIsWritable:SP,isClosed:mYe,isDuplexNodeStream:dYe,isFinished:_Ye,isIterable:pYe,isReadableNodeStream:GS,isReadableStream:Pie,isReadableEnded:gYe,isReadableFinished:Bie,isReadableErrored:wYe,isNodeStream:Js,isWebStream:hYe,isWritable:qie,isWritableNodeStream:zS,isWritableStream:Fie,isWritableEnded:Wie,isWritableFinished:bYe,isWritableErrored:yYe,isServerRequest:vYe,isServerResponse:Vie,willEmitClose:SYe,isTransformStream:jie};const Du=Qe,{AbortError:Gie,codes:xYe}=Ii,{ERR_INVALID_ARG_TYPE:AYe,ERR_STREAM_PREMATURE_CLOSE:zie}=xYe,{kEmptyObject:EP,once:RP}=si,{validateAbortSignal:$Ye,validateFunction:TYe,validateObject:IYe,validateBoolean:NYe}=F_,{Promise:kYe,PromisePrototypeThen:CYe,SymbolDispose:Kie}=Tr,{isClosed:OYe,isReadable:Jie,isReadableNodeStream:xP,isReadableStream:LYe,isReadableFinished:Yie,isReadableErrored:Xie,isWritable:Qie,isWritableNodeStream:Zie,isWritableStream:DYe,isWritableFinished:eoe,isWritableErrored:toe,isNodeStream:MYe,willEmitClose:PYe,kIsClosedPromise:FYe}=al;let mp;function jYe(e){return e.setHeader&&typeof e.abort=="function"}const AP=()=>{};function roe(e,t,r){var n,o;if(arguments.length===2?(r=t,t=EP):t==null?t=EP:IYe(t,"options"),TYe(r,"callback"),$Ye(t.signal,"options.signal"),r=RP(r),LYe(e)||DYe(e))return WYe(e,t,r);if(!MYe(e))throw new AYe("stream",["ReadableStream","WritableStream","Stream"],e);const s=(n=t.readable)!==null&&n!==void 0?n:xP(e),a=(o=t.writable)!==null&&o!==void 0?o:Zie(e),l=e._writableState,f=e._readableState,u=()=>{e.writable||h()};let d=PYe(e)&&xP(e)===s&&Zie(e)===a,g=eoe(e,!1);const h=()=>{g=!0,e.destroyed&&(d=!1),!(d&&(!e.readable||s))&&(!s||p)&&r.call(e)};let p=Yie(e,!1);const w=()=>{p=!0,e.destroyed&&(d=!1),!(d&&(!e.writable||a))&&(!a||g)&&r.call(e)},y=$=>{r.call(e,$)};let v=OYe(e);const E=()=>{v=!0;const $=toe(e)||Xie(e);if($&&typeof $!="boolean")return r.call(e,$);if(s&&!p&&xP(e,!0)&&!Yie(e,!1))return r.call(e,new zie);if(a&&!g&&!eoe(e,!1))return r.call(e,new zie);r.call(e)},x=()=>{v=!0;const $=toe(e)||Xie(e);if($&&typeof $!="boolean")return r.call(e,$);r.call(e)},S=()=>{e.req.on("finish",h)};jYe(e)?(e.on("complete",h),d||e.on("abort",E),e.req?S():e.on("request",S)):a&&!l&&(e.on("end",u),e.on("close",u)),!d&&typeof e.aborted=="boolean"&&e.on("aborted",E),e.on("end",w),e.on("finish",h),t.error!==!1&&e.on("error",y),e.on("close",E),v?Du.nextTick(E):l!=null&&l.errorEmitted||f!=null&&f.errorEmitted?d||Du.nextTick(x):(!s&&(!d||Jie(e))&&(g||Qie(e)===!1)||!a&&(!d||Qie(e))&&(p||Jie(e)===!1)||f&&e.req&&e.aborted)&&Du.nextTick(x);const N=()=>{r=AP,e.removeListener("aborted",E),e.removeListener("complete",h),e.removeListener("abort",E),e.removeListener("request",S),e.req&&e.req.removeListener("finish",h),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",h),e.removeListener("end",w),e.removeListener("error",y),e.removeListener("close",E)};if(t.signal&&!v){const $=()=>{const D=r;N(),D.call(e,new Gie(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)Du.nextTick($);else{mp=mp||si.addAbortListener;const D=mp(t.signal,$),K=r;r=RP((...q)=>{D[Kie](),K.apply(e,q)})}}return N}function WYe(e,t,r){let n=!1,o=AP;if(t.signal)if(o=()=>{n=!0,r.call(e,new Gie(void 0,{cause:t.signal.reason}))},t.signal.aborted)Du.nextTick(o);else{mp=mp||si.addAbortListener;const a=mp(t.signal,o),l=r;r=RP((...f)=>{a[Kie](),l.apply(e,f)})}const s=(...a)=>{n||Du.nextTick(()=>r.apply(e,a))};return CYe(e[FYe].promise,s,s),AP}function BYe(e,t){var r;let n=!1;return t===null&&(t=EP),(r=t)!==null&&r!==void 0&&r.cleanup&&(NYe(t.cleanup,"cleanup"),n=t.cleanup),new kYe((o,s)=>{const a=roe(e,t,l=>{n&&a(),l?s(l):o()})})}mP.exports=roe,mP.exports.finished=BYe;var Mu=mP.exports;const Ys=Qe,{aggregateTwoErrors:UYe,codes:{ERR_MULTIPLE_CALLBACK:qYe},AbortError:HYe}=Ii,{Symbol:noe}=Tr,{kIsDestroyed:VYe,isDestroyed:GYe,isFinished:zYe,isServerRequest:KYe}=al,ioe=noe("kDestroy"),$P=noe("kConstruct");function ooe(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function JYe(e,t){const r=this._readableState,n=this._writableState,o=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof t=="function"&&t(),this):(ooe(e,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),o.constructed?soe(this,e,t):this.once(ioe,function(s){soe(this,UYe(s,e),t)}),this)}function soe(e,t,r){let n=!1;function o(s){if(n)return;n=!0;const a=e._readableState,l=e._writableState;ooe(s,l,a),l&&(l.closed=!0),a&&(a.closed=!0),typeof r=="function"&&r(s),s?Ys.nextTick(YYe,e,s):Ys.nextTick(aoe,e)}try{e._destroy(t||null,o)}catch(s){o(s)}}function YYe(e,t){TP(e,t),aoe(e)}function aoe(e){const t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(r!=null&&r.emitClose||t!=null&&t.emitClose)&&e.emit("close")}function TP(e,t){const r=e._readableState,n=e._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function XYe(){const e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=e.readable===!1,e.endEmitted=e.readable===!1),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=t.writable===!1,t.ending=t.writable===!1,t.finished=t.writable===!1)}function IP(e,t,r){const n=e._readableState,o=e._writableState;if(o!=null&&o.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||o!=null&&o.autoDestroy?e.destroy(t):t&&(t.stack,o&&!o.errored&&(o.errored=t),n&&!n.errored&&(n.errored=t),r?Ys.nextTick(TP,e,t):TP(e,t))}function QYe(e,t){if(typeof e._construct!="function")return;const r=e._readableState,n=e._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),e.once($P,t),!(e.listenerCount($P)>1)&&Ys.nextTick(ZYe,e)}function ZYe(e){let t=!1;function r(n){if(t){IP(e,n??new qYe);return}t=!0;const o=e._readableState,s=e._writableState,a=s||o;o&&(o.constructed=!0),s&&(s.constructed=!0),a.destroyed?e.emit(ioe,n):n?IP(e,n,!0):Ys.nextTick(eXe,e)}try{e._construct(n=>{Ys.nextTick(r,n)})}catch(n){Ys.nextTick(r,n)}}function eXe(e){e.emit($P)}function loe(e){return(e==null?void 0:e.setHeader)&&typeof e.abort=="function"}function uoe(e){e.emit("close")}function tXe(e,t){e.emit("error",t),Ys.nextTick(uoe,e)}function rXe(e,t){!e||GYe(e)||(!t&&!zYe(e)&&(t=new HYe),KYe(e)?(e.socket=null,e.destroy(t)):loe(e)?e.abort():loe(e.req)?e.req.abort():typeof e.destroy=="function"?e.destroy(t):typeof e.close=="function"?e.close():t?Ys.nextTick(tXe,e,t):Ys.nextTick(uoe,e),e.destroyed||(e[VYe]=!0))}var vp={construct:QYe,destroyer:rXe,destroy:JYe,undestroy:XYe,errorOrDestroy:IP};const{ArrayIsArray:nXe,ObjectSetPrototypeOf:foe}=Tr,{EventEmitter:JS}=$t;function YS(e){JS.call(this,e)}foe(YS.prototype,JS.prototype),foe(YS,JS),YS.prototype.pipe=function(e,t){const r=this;function n(d){e.writable&&e.write(d)===!1&&r.pause&&r.pause()}r.on("data",n);function o(){r.readable&&r.resume&&r.resume()}e.on("drain",o),!e._isStdio&&(!t||t.end!==!1)&&(r.on("end",a),r.on("close",l));let s=!1;function a(){s||(s=!0,e.end())}function l(){s||(s=!0,typeof e.destroy=="function"&&e.destroy())}function f(d){u(),JS.listenerCount(this,"error")===0&&this.emit("error",d)}NP(r,"error",f),NP(e,"error",f);function u(){r.removeListener("data",n),e.removeListener("drain",o),r.removeListener("end",a),r.removeListener("close",l),r.removeListener("error",f),e.removeListener("error",f),r.removeListener("end",u),r.removeListener("close",u),e.removeListener("close",u)}return r.on("end",u),r.on("close",u),e.on("close",u),e.emit("pipe",r),e};function NP(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):nXe(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}var kP={Stream:YS,prependListener:NP},coe={exports:{}};(function(e){const{SymbolDispose:t}=Tr,{AbortError:r,codes:n}=Ii,{isNodeStream:o,isWebStream:s,kControllerErrorFunction:a}=al,l=Mu,{ERR_INVALID_ARG_TYPE:f}=n;let u;const d=(g,h)=>{if(typeof g!="object"||!("aborted"in g))throw new f(h,"AbortSignal",g)};e.exports.addAbortSignal=function(h,p){if(d(h,"signal"),!o(p)&&!s(p))throw new f("stream",["ReadableStream","WritableStream","Stream"],p);return e.exports.addAbortSignalNoValidate(h,p)},e.exports.addAbortSignalNoValidate=function(g,h){if(typeof g!="object"||!("aborted"in g))return h;const p=o(h)?()=>{h.destroy(new r(void 0,{cause:g.reason}))}:()=>{h[a](new r(void 0,{cause:g.reason}))};if(g.aborted)p();else{u=u||si.addAbortListener;const w=u(g,p);l(h,w[t])}return h}})(coe);var XS=coe.exports;const{StringPrototypeSlice:doe,SymbolIterator:iXe,TypedArrayPrototypeSet:QS,Uint8Array:oXe}=Tr,{Buffer:CP}=Ge,{inspect:sXe}=si;var aXe=class{constructor(){this.head=null,this.tail=null,this.length=0}push(t){const r={data:t,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(t){const r={data:t,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;const t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=t+r.data;return n}concat(t){if(this.length===0)return CP.alloc(0);const r=CP.allocUnsafe(t>>>0);let n=this.head,o=0;for(;n;)QS(r,n.data,o),o+=n.data.length,n=n.next;return r}consume(t,r){const n=this.head.data;if(t<n.length){const o=n.slice(0,t);return this.head.data=n.slice(t),o}return t===n.length?this.shift():r?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[iXe](){for(let t=this.head;t;t=t.next)yield t.data}_getString(t){let r="",n=this.head,o=0;do{const s=n.data;if(t>s.length)r+=s,t-=s.length;else{t===s.length?(r+=s,++o,n.next?this.head=n.next:this.head=this.tail=null):(r+=doe(s,0,t),this.head=n,n.data=doe(s,t));break}++o}while((n=n.next)!==null);return this.length-=o,r}_getBuffer(t){const r=CP.allocUnsafe(t),n=t;let o=this.head,s=0;do{const a=o.data;if(t>a.length)QS(r,a,n-t),t-=a.length;else{t===a.length?(QS(r,a,n-t),++s,o.next?this.head=o.next:this.head=this.tail=null):(QS(r,new oXe(a.buffer,a.byteOffset,t),n-t),this.head=o,o.data=a.slice(t));break}++s}while((o=o.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](t,r){return sXe(this,{...r,depth:0,customInspect:!1})}};const{MathFloor:lXe,NumberIsInteger:uXe}=Tr,{validateInteger:fXe}=F_,{ERR_INVALID_ARG_VALUE:cXe}=Ii.codes;let hoe=16*1024,poe=16;function dXe(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function boe(e){return e?poe:hoe}function hXe(e,t){fXe(t,"value",0),e?poe=t:hoe=t}function pXe(e,t,r,n){const o=dXe(t,n,r);if(o!=null){if(!uXe(o)||o<0){const s=n?`options.${r}`:"options.highWaterMark";throw new cXe(s,o)}return lXe(o)}return boe(e.objectMode)}var ZS={getHighWaterMark:pXe,getDefaultHighWaterMark:boe,setDefaultHighWaterMark:hXe};const goe=Qe,{PromisePrototypeThen:bXe,SymbolAsyncIterator:_oe,SymbolIterator:yoe}=Tr,{Buffer:gXe}=Ge,{ERR_INVALID_ARG_TYPE:_Xe,ERR_STREAM_NULL_VALUES:yXe}=Ii.codes;function wXe(e,t,r){let n;if(typeof t=="string"||t instanceof gXe)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});let o;if(t&&t[_oe])o=!0,n=t[_oe]();else if(t&&t[yoe])o=!1,n=t[yoe]();else throw new _Xe("iterable",["Iterable"],t);const s=new e({objectMode:!0,highWaterMark:1,...r});let a=!1;s._read=function(){a||(a=!0,f())},s._destroy=function(u,d){bXe(l(u),()=>goe.nextTick(d,u),g=>goe.nextTick(d,g||u))};async function l(u){const d=u!=null,g=typeof n.throw=="function";if(d&&g){const{value:h,done:p}=await n.throw(u);if(await h,p)return}if(typeof n.return=="function"){const{value:h}=await n.return();await h}}async function f(){for(;;){try{const{value:u,done:d}=o?await n.next():n.next();if(d)s.push(null);else{const g=u&&typeof u.then=="function"?await u:u;if(g===null)throw a=!1,new yXe;if(s.push(g))continue;a=!1}}catch(u){s.destroy(u)}break}}return s}var woe=wXe,OP,moe;function eE(){if(moe)return OP;moe=1;const e=Qe,{ArrayPrototypeIndexOf:t,NumberIsInteger:r,NumberIsNaN:n,NumberParseInt:o,ObjectDefineProperties:s,ObjectKeys:a,ObjectSetPrototypeOf:l,Promise:f,SafeSet:u,SymbolAsyncDispose:d,SymbolAsyncIterator:g,Symbol:h}=Tr;OP=F,F.ReadableState=ye;const{EventEmitter:p}=$t,{Stream:w,prependListener:y}=kP,{Buffer:v}=Ge,{addAbortSignal:E}=XS,x=Mu;let S=si.debuglog("stream",c=>{S=c});const N=aXe,$=vp,{getHighWaterMark:D,getDefaultHighWaterMark:K}=ZS,{aggregateTwoErrors:q,codes:{ERR_INVALID_ARG_TYPE:k,ERR_METHOD_NOT_IMPLEMENTED:V,ERR_OUT_OF_RANGE:j,ERR_STREAM_PUSH_AFTER_EOF:B,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:A},AbortError:U}=Ii,{validateObject:G}=F_,H=h("kPaused"),{StringDecoder:Q}=Fi(),ne=woe;l(F.prototype,w.prototype),l(F,w);const se=()=>{},{errorOrDestroy:ae}=$,Z=1,ge=2,W=4,ue=8,xe=16,he=32,le=64,_e=128,Ae=256,We=512,ie=1024,te=2048,_=4096,m=8192,R=16384,O=32768,C=65536,X=1<<17,re=1<<18;function J(c){return{enumerable:!1,get(){return(this.state&c)!==0},set(b){b?this.state|=c:this.state&=~c}}}s(ye.prototype,{objectMode:J(Z),ended:J(ge),endEmitted:J(W),reading:J(ue),constructed:J(xe),sync:J(he),needReadable:J(le),emittedReadable:J(_e),readableListening:J(Ae),resumeScheduled:J(We),errorEmitted:J(ie),emitClose:J(te),autoDestroy:J(_),destroyed:J(m),closed:J(R),closeEmitted:J(O),multiAwaitDrain:J(C),readingMore:J(X),dataEmitted:J(re)});function ye(c,b,I){typeof I!="boolean"&&(I=b instanceof ll()),this.state=te|_|xe|he,c&&c.objectMode&&(this.state|=Z),I&&c&&c.readableObjectMode&&(this.state|=Z),this.highWaterMark=c?D(this,c,"readableHighWaterMark",I):K(!1),this.buffer=new N,this.length=0,this.pipes=[],this.flowing=null,this[H]=null,c&&c.emitClose===!1&&(this.state&=~te),c&&c.autoDestroy===!1&&(this.state&=~_),this.errored=null,this.defaultEncoding=c&&c.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,c&&c.encoding&&(this.decoder=new Q(c.encoding),this.encoding=c.encoding)}function F(c){if(!(this instanceof F))return new F(c);const b=this instanceof ll();this._readableState=new ye(c,this,b),c&&(typeof c.read=="function"&&(this._read=c.read),typeof c.destroy=="function"&&(this._destroy=c.destroy),typeof c.construct=="function"&&(this._construct=c.construct),c.signal&&!b&&E(c.signal,this)),w.call(this,c),$.construct(this,()=>{this._readableState.needReadable&&ce(this,this._readableState)})}F.prototype.destroy=$.destroy,F.prototype._undestroy=$.undestroy,F.prototype._destroy=function(c,b){b(c)},F.prototype[p.captureRejectionSymbol]=function(c){this.destroy(c)},F.prototype[d]=function(){let c;return this.destroyed||(c=this.readableEnded?null:new U,this.destroy(c)),new f((b,I)=>x(this,T=>T&&T!==c?I(T):b(null)))},F.prototype.push=function(c,b){return we(this,c,b,!1)},F.prototype.unshift=function(c,b){return we(this,c,b,!0)};function we(c,b,I,T){S("readableAddChunk",b);const P=c._readableState;let Ee;if(P.state&Z||(typeof b=="string"?(I=I||P.defaultEncoding,P.encoding!==I&&(T&&P.encoding?b=v.from(b,I).toString(P.encoding):(b=v.from(b,I),I=""))):b instanceof v?I="":w._isUint8Array(b)?(b=w._uint8ArrayToBuffer(b),I=""):b!=null&&(Ee=new k("chunk",["string","Buffer","Uint8Array"],b))),Ee)ae(c,Ee);else if(b===null)P.state&=~ue,L(c,P);else if(P.state&Z||b&&b.length>0)if(T)if(P.state&W)ae(c,new A);else{if(P.destroyed||P.errored)return!1;Ce(c,P,b,!0)}else if(P.ended)ae(c,new B);else{if(P.destroyed||P.errored)return!1;P.state&=~ue,P.decoder&&!I?(b=P.decoder.write(b),P.objectMode||b.length!==0?Ce(c,P,b,!1):ce(c,P)):Ce(c,P,b,!1)}else T||(P.state&=~ue,ce(c,P));return!P.ended&&(P.length<P.highWaterMark||P.length===0)}function Ce(c,b,I,T){b.flowing&&b.length===0&&!b.sync&&c.listenerCount("data")>0?(b.state&C?b.awaitDrainWriters.clear():b.awaitDrainWriters=null,b.dataEmitted=!0,c.emit("data",I)):(b.length+=b.objectMode?1:I.length,T?b.buffer.unshift(I):b.buffer.push(I),b.state&le&&M(c)),ce(c,b)}F.prototype.isPaused=function(){const c=this._readableState;return c[H]===!0||c.flowing===!1},F.prototype.setEncoding=function(c){const b=new Q(c);this._readableState.decoder=b,this._readableState.encoding=this._readableState.decoder.encoding;const I=this._readableState.buffer;let T="";for(const P of I)T+=b.write(P);return I.clear(),T!==""&&I.push(T),this._readableState.length=T.length,this};const Me=1073741824;function Ue(c){if(c>Me)throw new j("size","<= 1GiB",c);return c--,c|=c>>>1,c|=c>>>2,c|=c>>>4,c|=c>>>8,c|=c>>>16,c++,c}function z(c,b){return c<=0||b.length===0&&b.ended?0:b.state&Z?1:n(c)?b.flowing&&b.length?b.buffer.first().length:b.length:c<=b.length?c:b.ended?b.length:0}F.prototype.read=function(c){S("read",c),c===void 0?c=NaN:r(c)||(c=o(c,10));const b=this._readableState,I=c;if(c>b.highWaterMark&&(b.highWaterMark=Ue(c)),c!==0&&(b.state&=~_e),c===0&&b.needReadable&&((b.highWaterMark!==0?b.length>=b.highWaterMark:b.length>0)||b.ended))return S("read: emitReadable",b.length,b.ended),b.length===0&&b.ended?ht(this):M(this),null;if(c=z(c,b),c===0&&b.ended)return b.length===0&&ht(this),null;let T=(b.state&le)!==0;if(S("need readable",T),(b.length===0||b.length-c<b.highWaterMark)&&(T=!0,S("length less than watermark",T)),b.ended||b.reading||b.destroyed||b.errored||!b.constructed)T=!1,S("reading, ended or constructing",T);else if(T){S("do read"),b.state|=ue|he,b.length===0&&(b.state|=le);try{this._read(b.highWaterMark)}catch(Ee){ae(this,Ee)}b.state&=~he,b.reading||(c=z(I,b))}let P;return c>0?P=Mt(c,b):P=null,P===null?(b.needReadable=b.length<=b.highWaterMark,c=0):(b.length-=c,b.multiAwaitDrain?b.awaitDrainWriters.clear():b.awaitDrainWriters=null),b.length===0&&(b.ended||(b.needReadable=!0),I!==c&&b.ended&&ht(this)),P!==null&&!b.errorEmitted&&!b.closeEmitted&&(b.dataEmitted=!0,this.emit("data",P)),P};function L(c,b){if(S("onEofChunk"),!b.ended){if(b.decoder){const I=b.decoder.end();I&&I.length&&(b.buffer.push(I),b.length+=b.objectMode?1:I.length)}b.ended=!0,b.sync?M(c):(b.needReadable=!1,b.emittedReadable=!0,oe(c))}}function M(c){const b=c._readableState;S("emitReadable",b.needReadable,b.emittedReadable),b.needReadable=!1,b.emittedReadable||(S("emitReadable",b.flowing),b.emittedReadable=!0,e.nextTick(oe,c))}function oe(c){const b=c._readableState;S("emitReadable_",b.destroyed,b.length,b.ended),!b.destroyed&&!b.errored&&(b.length||b.ended)&&(c.emit("readable"),b.emittedReadable=!1),b.needReadable=!b.flowing&&!b.ended&&b.length<=b.highWaterMark,rt(c)}function ce(c,b){!b.readingMore&&b.constructed&&(b.readingMore=!0,e.nextTick(Se,c,b))}function Se(c,b){for(;!b.reading&&!b.ended&&(b.length<b.highWaterMark||b.flowing&&b.length===0);){const I=b.length;if(S("maybeReadMore read 0"),c.read(0),I===b.length)break}b.readingMore=!1}F.prototype._read=function(c){throw new V("_read()")},F.prototype.pipe=function(c,b){const I=this,T=this._readableState;T.pipes.length===1&&(T.multiAwaitDrain||(T.multiAwaitDrain=!0,T.awaitDrainWriters=new u(T.awaitDrainWriters?[T.awaitDrainWriters]:[]))),T.pipes.push(c),S("pipe count=%d opts=%j",T.pipes.length,b);const Ee=(!b||b.end!==!1)&&c!==e.stdout&&c!==e.stderr?de:Ke;T.endEmitted?e.nextTick(Ee):I.once("end",Ee),c.on("unpipe",$e);function $e(ke,Te){S("onunpipe"),ke===I&&Te&&Te.hasUnpiped===!1&&(Te.hasUnpiped=!0,Re())}function de(){S("onend"),c.end()}let ee,pe=!1;function Re(){S("cleanup"),c.removeListener("close",Ye),c.removeListener("finish",tt),ee&&c.removeListener("drain",ee),c.removeListener("error",Be),c.removeListener("unpipe",$e),I.removeListener("end",de),I.removeListener("end",Ke),I.removeListener("data",Ve),pe=!0,ee&&T.awaitDrainWriters&&(!c._writableState||c._writableState.needDrain)&&ee()}function me(){pe||(T.pipes.length===1&&T.pipes[0]===c?(S("false write response, pause",0),T.awaitDrainWriters=c,T.multiAwaitDrain=!1):T.pipes.length>1&&T.pipes.includes(c)&&(S("false write response, pause",T.awaitDrainWriters.size),T.awaitDrainWriters.add(c)),I.pause()),ee||(ee=ve(I,c),c.on("drain",ee))}I.on("data",Ve);function Ve(ke){S("ondata");const Te=c.write(ke);S("dest.write",Te),Te===!1&&me()}function Be(ke){if(S("onerror",ke),Ke(),c.removeListener("error",Be),c.listenerCount("error")===0){const Te=c._writableState||c._readableState;Te&&!Te.errorEmitted?ae(c,ke):c.emit("error",ke)}}y(c,"error",Be);function Ye(){c.removeListener("finish",tt),Ke()}c.once("close",Ye);function tt(){S("onfinish"),c.removeListener("close",Ye),Ke()}c.once("finish",tt);function Ke(){S("unpipe"),I.unpipe(c)}return c.emit("pipe",I),c.writableNeedDrain===!0?me():T.flowing||(S("pipe resume"),I.resume()),c};function ve(c,b){return function(){const T=c._readableState;T.awaitDrainWriters===b?(S("pipeOnDrain",1),T.awaitDrainWriters=null):T.multiAwaitDrain&&(S("pipeOnDrain",T.awaitDrainWriters.size),T.awaitDrainWriters.delete(b)),(!T.awaitDrainWriters||T.awaitDrainWriters.size===0)&&c.listenerCount("data")&&c.resume()}}F.prototype.unpipe=function(c){const b=this._readableState,I={hasUnpiped:!1};if(b.pipes.length===0)return this;if(!c){const P=b.pipes;b.pipes=[],this.pause();for(let Ee=0;Ee<P.length;Ee++)P[Ee].emit("unpipe",this,{hasUnpiped:!1});return this}const T=t(b.pipes,c);return T===-1?this:(b.pipes.splice(T,1),b.pipes.length===0&&this.pause(),c.emit("unpipe",this,I),this)},F.prototype.on=function(c,b){const I=w.prototype.on.call(this,c,b),T=this._readableState;return c==="data"?(T.readableListening=this.listenerCount("readable")>0,T.flowing!==!1&&this.resume()):c==="readable"&&!T.endEmitted&&!T.readableListening&&(T.readableListening=T.needReadable=!0,T.flowing=!1,T.emittedReadable=!1,S("on readable",T.length,T.reading),T.length?M(this):T.reading||e.nextTick(dt,this)),I},F.prototype.addListener=F.prototype.on,F.prototype.removeListener=function(c,b){const I=w.prototype.removeListener.call(this,c,b);return c==="readable"&&e.nextTick(ze,this),I},F.prototype.off=F.prototype.removeListener,F.prototype.removeAllListeners=function(c){const b=w.prototype.removeAllListeners.apply(this,arguments);return(c==="readable"||c===void 0)&&e.nextTick(ze,this),b};function ze(c){const b=c._readableState;b.readableListening=c.listenerCount("readable")>0,b.resumeScheduled&&b[H]===!1?b.flowing=!0:c.listenerCount("data")>0?c.resume():b.readableListening||(b.flowing=null)}function dt(c){S("readable nexttick read 0"),c.read(0)}F.prototype.resume=function(){const c=this._readableState;return c.flowing||(S("resume"),c.flowing=!c.readableListening,et(this,c)),c[H]=!1,this};function et(c,b){b.resumeScheduled||(b.resumeScheduled=!0,e.nextTick(Xe,c,b))}function Xe(c,b){S("resume",b.reading),b.reading||c.read(0),b.resumeScheduled=!1,c.emit("resume"),rt(c),b.flowing&&!b.reading&&c.read(0)}F.prototype.pause=function(){return S("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(S("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[H]=!0,this};function rt(c){const b=c._readableState;for(S("flow",b.flowing);b.flowing&&c.read()!==null;);}F.prototype.wrap=function(c){let b=!1;c.on("data",T=>{!this.push(T)&&c.pause&&(b=!0,c.pause())}),c.on("end",()=>{this.push(null)}),c.on("error",T=>{ae(this,T)}),c.on("close",()=>{this.destroy()}),c.on("destroy",()=>{this.destroy()}),this._read=()=>{b&&c.resume&&(b=!1,c.resume())};const I=a(c);for(let T=1;T<I.length;T++){const P=I[T];this[P]===void 0&&typeof c[P]=="function"&&(this[P]=c[P].bind(c))}return this},F.prototype[g]=function(){return Lt(this)},F.prototype.iterator=function(c){return c!==void 0&&G(c,"options"),Lt(this,c)};function Lt(c,b){typeof c.read!="function"&&(c=F.wrap(c,{objectMode:!0}));const I=vr(c,b);return I.stream=c,I}async function*vr(c,b){let I=se;function T($e){this===c?(I(),I=se):I=$e}c.on("readable",T);let P;const Ee=x(c,{writable:!1},$e=>{P=$e?q(P,$e):null,I(),I=se});try{for(;;){const $e=c.destroyed?null:c.read();if($e!==null)yield $e;else{if(P)throw P;if(P===null)return;await new f(T)}}}catch($e){throw P=q(P,$e),P}finally{(P||(b==null?void 0:b.destroyOnReturn)!==!1)&&(P===void 0||c._readableState.autoDestroy)?$.destroyer(c,null):(c.off("readable",T),Ee())}}s(F.prototype,{readable:{__proto__:null,get(){const c=this._readableState;return!!c&&c.readable!==!1&&!c.destroyed&&!c.errorEmitted&&!c.endEmitted},set(c){this._readableState&&(this._readableState.readable=!!c)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(c){this._readableState&&(this._readableState.flowing=c)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(c){this._readableState&&(this._readableState.destroyed=c)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),s(ye.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[H]!==!1},set(c){this[H]=!!c}}}),F._fromList=Mt;function Mt(c,b){if(b.length===0)return null;let I;return b.objectMode?I=b.buffer.shift():!c||c>=b.length?(b.decoder?I=b.buffer.join(""):b.buffer.length===1?I=b.buffer.first():I=b.buffer.concat(b.length),b.buffer.clear()):I=b.buffer.consume(c,b.decoder),I}function ht(c){const b=c._readableState;S("endReadable",b.endEmitted),b.endEmitted||(b.ended=!0,e.nextTick(wr,b,c))}function wr(c,b){if(S("endReadableNT",c.endEmitted,c.length),!c.errored&&!c.closeEmitted&&!c.endEmitted&&c.length===0){if(c.endEmitted=!0,b.emit("end"),b.writable&&b.allowHalfOpen===!1)e.nextTick(rr,b);else if(c.autoDestroy){const I=b._writableState;(!I||I.autoDestroy&&(I.finished||I.writable===!1))&&b.destroy()}}}function rr(c){c.writable&&!c.writableEnded&&!c.destroyed&&c.end()}F.from=function(c,b){return ne(F,c,b)};let _t;function jt(){return _t===void 0&&(_t={}),_t}return F.fromWeb=function(c,b){return jt().newStreamReadableFromReadableStream(c,b)},F.toWeb=function(c,b){return jt().newReadableStreamFromStreamReadable(c,b)},F.wrap=function(c,b){var I,T;return new F({objectMode:(I=(T=c.readableObjectMode)!==null&&T!==void 0?T:c.objectMode)!==null&&I!==void 0?I:!0,...b,destroy(P,Ee){$.destroyer(c,P),Ee(P)}}).wrap(c)},OP}var LP,voe;function DP(){if(voe)return LP;voe=1;const e=Qe,{ArrayPrototypeSlice:t,Error:r,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:o,ObjectDefineProperties:s,ObjectSetPrototypeOf:a,StringPrototypeToLowerCase:l,Symbol:f,SymbolHasInstance:u}=Tr;LP=G,G.WritableState=A;const{EventEmitter:d}=$t,g=kP.Stream,{Buffer:h}=Ge,p=vp,{addAbortSignal:w}=XS,{getHighWaterMark:y,getDefaultHighWaterMark:v}=ZS,{ERR_INVALID_ARG_TYPE:E,ERR_METHOD_NOT_IMPLEMENTED:x,ERR_MULTIPLE_CALLBACK:S,ERR_STREAM_CANNOT_PIPE:N,ERR_STREAM_DESTROYED:$,ERR_STREAM_ALREADY_FINISHED:D,ERR_STREAM_NULL_VALUES:K,ERR_STREAM_WRITE_AFTER_END:q,ERR_UNKNOWN_ENCODING:k}=Ii.codes,{errorOrDestroy:V}=p;a(G.prototype,g.prototype),a(G,g);function j(){}const B=f("kOnFinished");function A(_,m,R){typeof R!="boolean"&&(R=m instanceof ll()),this.objectMode=!!(_&&_.objectMode),R&&(this.objectMode=this.objectMode||!!(_&&_.writableObjectMode)),this.highWaterMark=_?y(this,_,"writableHighWaterMark",R):v(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const O=!!(_&&_.decodeStrings===!1);this.decodeStrings=!O,this.defaultEncoding=_&&_.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=ae.bind(void 0,m),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,U(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!_||_.emitClose!==!1,this.autoDestroy=!_||_.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[B]=[]}function U(_){_.buffered=[],_.bufferedIndex=0,_.allBuffers=!0,_.allNoop=!0}A.prototype.getBuffer=function(){return t(this.buffered,this.bufferedIndex)},o(A.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function G(_){const m=this instanceof ll();if(!m&&!n(G,this))return new G(_);this._writableState=new A(_,this,m),_&&(typeof _.write=="function"&&(this._write=_.write),typeof _.writev=="function"&&(this._writev=_.writev),typeof _.destroy=="function"&&(this._destroy=_.destroy),typeof _.final=="function"&&(this._final=_.final),typeof _.construct=="function"&&(this._construct=_.construct),_.signal&&w(_.signal,this)),g.call(this,_),p.construct(this,()=>{const R=this._writableState;R.writing||ue(this,R),_e(this,R)})}o(G,u,{__proto__:null,value:function(_){return n(this,_)?!0:this!==G?!1:_&&_._writableState instanceof A}}),G.prototype.pipe=function(){V(this,new N)};function H(_,m,R,O){const C=_._writableState;if(typeof R=="function")O=R,R=C.defaultEncoding;else{if(!R)R=C.defaultEncoding;else if(R!=="buffer"&&!h.isEncoding(R))throw new k(R);typeof O!="function"&&(O=j)}if(m===null)throw new K;if(!C.objectMode)if(typeof m=="string")C.decodeStrings!==!1&&(m=h.from(m,R),R="buffer");else if(m instanceof h)R="buffer";else if(g._isUint8Array(m))m=g._uint8ArrayToBuffer(m),R="buffer";else throw new E("chunk",["string","Buffer","Uint8Array"],m);let X;return C.ending?X=new q:C.destroyed&&(X=new $("write")),X?(e.nextTick(O,X),V(_,X,!0),X):(C.pendingcb++,Q(_,C,m,R,O))}G.prototype.write=function(_,m,R){return H(this,_,m,R)===!0},G.prototype.cork=function(){this._writableState.corked++},G.prototype.uncork=function(){const _=this._writableState;_.corked&&(_.corked--,_.writing||ue(this,_))},G.prototype.setDefaultEncoding=function(m){if(typeof m=="string"&&(m=l(m)),!h.isEncoding(m))throw new k(m);return this._writableState.defaultEncoding=m,this};function Q(_,m,R,O,C){const X=m.objectMode?1:R.length;m.length+=X;const re=m.length<m.highWaterMark;return re||(m.needDrain=!0),m.writing||m.corked||m.errored||!m.constructed?(m.buffered.push({chunk:R,encoding:O,callback:C}),m.allBuffers&&O!=="buffer"&&(m.allBuffers=!1),m.allNoop&&C!==j&&(m.allNoop=!1)):(m.writelen=X,m.writecb=C,m.writing=!0,m.sync=!0,_._write(R,O,m.onwrite),m.sync=!1),re&&!m.errored&&!m.destroyed}function ne(_,m,R,O,C,X,re){m.writelen=O,m.writecb=re,m.writing=!0,m.sync=!0,m.destroyed?m.onwrite(new $("write")):R?_._writev(C,m.onwrite):_._write(C,X,m.onwrite),m.sync=!1}function se(_,m,R,O){--m.pendingcb,O(R),W(m),V(_,R)}function ae(_,m){const R=_._writableState,O=R.sync,C=R.writecb;if(typeof C!="function"){V(_,new S);return}R.writing=!1,R.writecb=null,R.length-=R.writelen,R.writelen=0,m?(m.stack,R.errored||(R.errored=m),_._readableState&&!_._readableState.errored&&(_._readableState.errored=m),O?e.nextTick(se,_,R,m,C):se(_,R,m,C)):(R.buffered.length>R.bufferedIndex&&ue(_,R),O?R.afterWriteTickInfo!==null&&R.afterWriteTickInfo.cb===C?R.afterWriteTickInfo.count++:(R.afterWriteTickInfo={count:1,cb:C,stream:_,state:R},e.nextTick(Z,R.afterWriteTickInfo)):ge(_,R,1,C))}function Z({stream:_,state:m,count:R,cb:O}){return m.afterWriteTickInfo=null,ge(_,m,R,O)}function ge(_,m,R,O){for(!m.ending&&!_.destroyed&&m.length===0&&m.needDrain&&(m.needDrain=!1,_.emit("drain"));R-- >0;)m.pendingcb--,O();m.destroyed&&W(m),_e(_,m)}function W(_){if(_.writing)return;for(let C=_.bufferedIndex;C<_.buffered.length;++C){var m;const{chunk:X,callback:re}=_.buffered[C],J=_.objectMode?1:X.length;_.length-=J,re((m=_.errored)!==null&&m!==void 0?m:new $("write"))}const R=_[B].splice(0);for(let C=0;C<R.length;C++){var O;R[C]((O=_.errored)!==null&&O!==void 0?O:new $("end"))}U(_)}function ue(_,m){if(m.corked||m.bufferProcessing||m.destroyed||!m.constructed)return;const{buffered:R,bufferedIndex:O,objectMode:C}=m,X=R.length-O;if(!X)return;let re=O;if(m.bufferProcessing=!0,X>1&&_._writev){m.pendingcb-=X-1;const J=m.allNoop?j:F=>{for(let we=re;we<R.length;++we)R[we].callback(F)},ye=m.allNoop&&re===0?R:t(R,re);ye.allBuffers=m.allBuffers,ne(_,m,!0,m.length,ye,"",J),U(m)}else{do{const{chunk:J,encoding:ye,callback:F}=R[re];R[re++]=null;const we=C?1:J.length;ne(_,m,!1,we,J,ye,F)}while(re<R.length&&!m.writing);re===R.length?U(m):re>256?(R.splice(0,re),m.bufferedIndex=0):m.bufferedIndex=re}m.bufferProcessing=!1}G.prototype._write=function(_,m,R){if(this._writev)this._writev([{chunk:_,encoding:m}],R);else throw new x("_write()")},G.prototype._writev=null,G.prototype.end=function(_,m,R){const O=this._writableState;typeof _=="function"?(R=_,_=null,m=null):typeof m=="function"&&(R=m,m=null);let C;if(_!=null){const X=H(this,_,m);X instanceof r&&(C=X)}return O.corked&&(O.corked=1,this.uncork()),C||(!O.errored&&!O.ending?(O.ending=!0,_e(this,O,!0),O.ended=!0):O.finished?C=new D("end"):O.destroyed&&(C=new $("end"))),typeof R=="function"&&(C||O.finished?e.nextTick(R,C):O[B].push(R)),this};function xe(_){return _.ending&&!_.destroyed&&_.constructed&&_.length===0&&!_.errored&&_.buffered.length===0&&!_.finished&&!_.writing&&!_.errorEmitted&&!_.closeEmitted}function he(_,m){let R=!1;function O(C){if(R){V(_,C??S());return}if(R=!0,m.pendingcb--,C){const X=m[B].splice(0);for(let re=0;re<X.length;re++)X[re](C);V(_,C,m.sync)}else xe(m)&&(m.prefinished=!0,_.emit("prefinish"),m.pendingcb++,e.nextTick(Ae,_,m))}m.sync=!0,m.pendingcb++;try{_._final(O)}catch(C){O(C)}m.sync=!1}function le(_,m){!m.prefinished&&!m.finalCalled&&(typeof _._final=="function"&&!m.destroyed?(m.finalCalled=!0,he(_,m)):(m.prefinished=!0,_.emit("prefinish")))}function _e(_,m,R){xe(m)&&(le(_,m),m.pendingcb===0&&(R?(m.pendingcb++,e.nextTick((O,C)=>{xe(C)?Ae(O,C):C.pendingcb--},_,m)):xe(m)&&(m.pendingcb++,Ae(_,m))))}function Ae(_,m){m.pendingcb--,m.finished=!0;const R=m[B].splice(0);for(let O=0;O<R.length;O++)R[O]();if(_.emit("finish"),m.autoDestroy){const O=_._readableState;(!O||O.autoDestroy&&(O.endEmitted||O.readable===!1))&&_.destroy()}}s(G.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(_){this._writableState&&(this._writableState.destroyed=_)}},writable:{__proto__:null,get(){const _=this._writableState;return!!_&&_.writable!==!1&&!_.destroyed&&!_.errored&&!_.ending&&!_.ended},set(_){this._writableState&&(this._writableState.writable=!!_)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const _=this._writableState;return _?!_.destroyed&&!_.ending&&_.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const We=p.destroy;G.prototype.destroy=function(_,m){const R=this._writableState;return!R.destroyed&&(R.bufferedIndex<R.buffered.length||R[B].length)&&e.nextTick(W,R),We.call(this,_,m),this},G.prototype._undestroy=p.undestroy,G.prototype._destroy=function(_,m){m(_)},G.prototype[d.captureRejectionSymbol]=function(_){this.destroy(_)};let ie;function te(){return ie===void 0&&(ie={}),ie}return G.fromWeb=function(_,m){return te().newStreamWritableFromWritableStream(_,m)},G.toWeb=function(_){return te().newWritableStreamFromStreamWritable(_)},LP}var MP,Soe;function mXe(){if(Soe)return MP;Soe=1;const e=Qe,t=Ge,{isReadable:r,isWritable:n,isIterable:o,isNodeStream:s,isReadableNodeStream:a,isWritableNodeStream:l,isDuplexNodeStream:f,isReadableStream:u,isWritableStream:d}=al,g=Mu,{AbortError:h,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:w}}=Ii,{destroyer:y}=vp,v=ll(),E=eE(),x=DP(),{createDeferredPromise:S}=si,N=woe,$=globalThis.Blob||t.Blob,D=typeof $<"u"?function(A){return A instanceof $}:function(A){return!1},K=globalThis.AbortController||bt().AbortController,{FunctionPrototypeCall:q}=Tr;class k extends v{constructor(A){super(A),(A==null?void 0:A.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(A==null?void 0:A.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}MP=function B(A,U){if(f(A))return A;if(a(A))return j({readable:A});if(l(A))return j({writable:A});if(s(A))return j({writable:!1,readable:!1});if(u(A))return j({readable:E.fromWeb(A)});if(d(A))return j({writable:x.fromWeb(A)});if(typeof A=="function"){const{value:H,write:Q,final:ne,destroy:se}=V(A);if(o(H))return N(k,H,{objectMode:!0,write:Q,final:ne,destroy:se});const ae=H==null?void 0:H.then;if(typeof ae=="function"){let Z;const ge=q(ae,H,W=>{if(W!=null)throw new w("nully","body",W)},W=>{y(Z,W)});return Z=new k({objectMode:!0,readable:!1,write:Q,final(W){ne(async()=>{try{await ge,e.nextTick(W,null)}catch(ue){e.nextTick(W,ue)}})},destroy:se})}throw new w("Iterable, AsyncIterable or AsyncFunction",U,H)}if(D(A))return B(A.arrayBuffer());if(o(A))return N(k,A,{objectMode:!0,writable:!1});if(u(A==null?void 0:A.readable)&&d(A==null?void 0:A.writable))return k.fromWeb(A);if(typeof(A==null?void 0:A.writable)=="object"||typeof(A==null?void 0:A.readable)=="object"){const H=A!=null&&A.readable?a(A==null?void 0:A.readable)?A==null?void 0:A.readable:B(A.readable):void 0,Q=A!=null&&A.writable?l(A==null?void 0:A.writable)?A==null?void 0:A.writable:B(A.writable):void 0;return j({readable:H,writable:Q})}const G=A==null?void 0:A.then;if(typeof G=="function"){let H;return q(G,A,Q=>{Q!=null&&H.push(Q),H.push(null)},Q=>{y(H,Q)}),H=new k({objectMode:!0,writable:!1,read(){}})}throw new p(U,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],A)};function V(B){let{promise:A,resolve:U}=S();const G=new K,H=G.signal;return{value:B(async function*(){for(;;){const ne=A;A=null;const{chunk:se,done:ae,cb:Z}=await ne;if(e.nextTick(Z),ae)return;if(H.aborted)throw new h(void 0,{cause:H.reason});({promise:A,resolve:U}=S()),yield se}}(),{signal:H}),write(ne,se,ae){const Z=U;U=null,Z({chunk:ne,done:!1,cb:ae})},final(ne){const se=U;U=null,se({done:!0,cb:ne})},destroy(ne,se){G.abort(),se(ne)}}}function j(B){const A=B.readable&&typeof B.readable.read!="function"?E.wrap(B.readable):B.readable,U=B.writable;let G=!!r(A),H=!!n(U),Q,ne,se,ae,Z;function ge(W){const ue=ae;ae=null,ue?ue(W):W&&Z.destroy(W)}return Z=new k({readableObjectMode:!!(A!=null&&A.readableObjectMode),writableObjectMode:!!(U!=null&&U.writableObjectMode),readable:G,writable:H}),H&&(g(U,W=>{H=!1,W&&y(A,W),ge(W)}),Z._write=function(W,ue,xe){U.write(W,ue)?xe():Q=xe},Z._final=function(W){U.end(),ne=W},U.on("drain",function(){if(Q){const W=Q;Q=null,W()}}),U.on("finish",function(){if(ne){const W=ne;ne=null,W()}})),G&&(g(A,W=>{G=!1,W&&y(A,W),ge(W)}),A.on("readable",function(){if(se){const W=se;se=null,W()}}),A.on("end",function(){Z.push(null)}),Z._read=function(){for(;;){const W=A.read();if(W===null){se=Z._read;return}if(!Z.push(W))return}}),Z._destroy=function(W,ue){!W&&ae!==null&&(W=new h),se=null,Q=null,ne=null,ae===null?ue(W):(ae=ue,y(U,W),y(A,W))},Z}return MP}var PP,Eoe;function ll(){if(Eoe)return PP;Eoe=1;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:r,ObjectSetPrototypeOf:n}=Tr;PP=a;const o=eE(),s=DP();n(a.prototype,o.prototype),n(a,o);{const d=r(s.prototype);for(let g=0;g<d.length;g++){const h=d[g];a.prototype[h]||(a.prototype[h]=s.prototype[h])}}function a(d){if(!(this instanceof a))return new a(d);o.call(this,d),s.call(this,d),d?(this.allowHalfOpen=d.allowHalfOpen!==!1,d.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),d.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(a.prototype,{writable:{__proto__:null,...t(s.prototype,"writable")},writableHighWaterMark:{__proto__:null,...t(s.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...t(s.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...t(s.prototype,"writableBuffer")},writableLength:{__proto__:null,...t(s.prototype,"writableLength")},writableFinished:{__proto__:null,...t(s.prototype,"writableFinished")},writableCorked:{__proto__:null,...t(s.prototype,"writableCorked")},writableEnded:{__proto__:null,...t(s.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...t(s.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(d){this._readableState&&this._writableState&&(this._readableState.destroyed=d,this._writableState.destroyed=d)}}});let l;function f(){return l===void 0&&(l={}),l}a.fromWeb=function(d,g){return f().newStreamDuplexFromReadableWritablePair(d,g)},a.toWeb=function(d){return f().newReadableWritablePairFromDuplex(d)};let u;return a.from=function(d){return u||(u=mXe()),u(d,"body")},PP}const{ObjectSetPrototypeOf:Roe,Symbol:vXe}=Tr;var xoe=ul;const{ERR_METHOD_NOT_IMPLEMENTED:SXe}=Ii.codes,FP=ll(),{getHighWaterMark:EXe}=ZS;Roe(ul.prototype,FP.prototype),Roe(ul,FP);const j_=vXe("kCallback");function ul(e){if(!(this instanceof ul))return new ul(e);const t=e?EXe(this,e,"readableHighWaterMark",!0):null;t===0&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),FP.call(this,e),this._readableState.sync=!1,this[j_]=null,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",RXe)}function jP(e){typeof this._flush=="function"&&!this.destroyed?this._flush((t,r)=>{if(t){e?e(t):this.destroy(t);return}r!=null&&this.push(r),this.push(null),e&&e()}):(this.push(null),e&&e())}function RXe(){this._final!==jP&&jP.call(this)}ul.prototype._final=jP,ul.prototype._transform=function(e,t,r){throw new SXe("_transform()")},ul.prototype._write=function(e,t,r){const n=this._readableState,o=this._writableState,s=n.length;this._transform(e,t,(a,l)=>{if(a){r(a);return}l!=null&&this.push(l),o.ended||s===n.length||n.length<n.highWaterMark?r():this[j_]=r})},ul.prototype._read=function(){if(this[j_]){const e=this[j_];this[j_]=null,e()}};const{ObjectSetPrototypeOf:Aoe}=Tr;var $oe=Sp;const WP=xoe;Aoe(Sp.prototype,WP.prototype),Aoe(Sp,WP);function Sp(e){if(!(this instanceof Sp))return new Sp(e);WP.call(this,e)}Sp.prototype._transform=function(e,t,r){r(null,e)};const W_=Qe,{ArrayIsArray:xXe,Promise:AXe,SymbolAsyncIterator:$Xe,SymbolDispose:TXe}=Tr,tE=Mu,{once:IXe}=si,NXe=vp,Toe=ll(),{aggregateTwoErrors:kXe,codes:{ERR_INVALID_ARG_TYPE:BP,ERR_INVALID_RETURN_VALUE:UP,ERR_MISSING_ARGS:CXe,ERR_STREAM_DESTROYED:OXe,ERR_STREAM_PREMATURE_CLOSE:LXe},AbortError:DXe}=Ii,{validateFunction:MXe,validateAbortSignal:PXe}=F_,{isIterable:Qc,isReadable:qP,isReadableNodeStream:rE,isNodeStream:Ioe,isTransformStream:Ep,isWebStream:FXe,isReadableStream:HP,isReadableFinished:jXe}=al,WXe=globalThis.AbortController||bt().AbortController;let VP,GP,zP;function Noe(e,t,r){let n=!1;e.on("close",()=>{n=!0});const o=tE(e,{readable:t,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,NXe.destroyer(e,s||new OXe("pipe")))},cleanup:o}}function BXe(e){return MXe(e[e.length-1],"streams[stream.length - 1]"),e.pop()}function KP(e){if(Qc(e))return e;if(rE(e))return UXe(e);throw new BP("val",["Readable","Iterable","AsyncIterable"],e)}async function*UXe(e){GP||(GP=eE()),yield*GP.prototype[$Xe].call(e)}async function nE(e,t,r,{end:n}){let o,s=null;const a=u=>{if(u&&(o=u),s){const d=s;s=null,d()}},l=()=>new AXe((u,d)=>{o?d(o):s=()=>{o?d(o):u()}});t.on("drain",a);const f=tE(t,{readable:!1},a);try{t.writableNeedDrain&&await l();for await(const u of e)t.write(u)||await l();n&&(t.end(),await l()),r()}catch(u){r(o!==u?kXe(o,u):u)}finally{f(),t.off("drain",a)}}async function JP(e,t,r,{end:n}){Ep(t)&&(t=t.writable);const o=t.getWriter();try{for await(const s of e)await o.ready,o.write(s).catch(()=>{});await o.ready,n&&await o.close(),r()}catch(s){try{await o.abort(s),r(s)}catch(a){r(a)}}}function qXe(...e){return koe(e,IXe(BXe(e)))}function koe(e,t,r){if(e.length===1&&xXe(e[0])&&(e=e[0]),e.length<2)throw new CXe("streams");const n=new WXe,o=n.signal,s=r==null?void 0:r.signal,a=[];PXe(s,"options.signal");function l(){w(new DXe)}zP=zP||si.addAbortListener;let f;s&&(f=zP(s,l));let u,d;const g=[];let h=0;function p(x){w(x,--h===0)}function w(x,S){var N;if(x&&(!u||u.code==="ERR_STREAM_PREMATURE_CLOSE")&&(u=x),!(!u&&!S)){for(;g.length;)g.shift()(u);(N=f)===null||N===void 0||N[TXe](),n.abort(),S&&(u||a.forEach($=>$()),W_.nextTick(t,u,d))}}let y;for(let x=0;x<e.length;x++){const S=e[x],N=x<e.length-1,$=x>0,D=N||(r==null?void 0:r.end)!==!1,K=x===e.length-1;if(Ioe(S)){let q=function(k){k&&k.name!=="AbortError"&&k.code!=="ERR_STREAM_PREMATURE_CLOSE"&&p(k)};if(D){const{destroy:k,cleanup:V}=Noe(S,N,$);g.push(k),qP(S)&&K&&a.push(V)}S.on("error",q),qP(S)&&K&&a.push(()=>{S.removeListener("error",q)})}if(x===0)if(typeof S=="function"){if(y=S({signal:o}),!Qc(y))throw new UP("Iterable, AsyncIterable or Stream","source",y)}else Qc(S)||rE(S)||Ep(S)?y=S:y=Toe.from(S);else if(typeof S=="function"){if(Ep(y)){var v;y=KP((v=y)===null||v===void 0?void 0:v.readable)}else y=KP(y);if(y=S(y,{signal:o}),N){if(!Qc(y,!0))throw new UP("AsyncIterable",`transform[${x-1}]`,y)}else{var E;VP||(VP=$oe);const q=new VP({objectMode:!0}),k=(E=y)===null||E===void 0?void 0:E.then;if(typeof k=="function")h++,k.call(y,B=>{d=B,B!=null&&q.write(B),D&&q.end(),W_.nextTick(p)},B=>{q.destroy(B),W_.nextTick(p,B)});else if(Qc(y,!0))h++,nE(y,q,p,{end:D});else if(HP(y)||Ep(y)){const B=y.readable||y;h++,nE(B,q,p,{end:D})}else throw new UP("AsyncIterable or Promise","destination",y);y=q;const{destroy:V,cleanup:j}=Noe(y,!1,!0);g.push(V),K&&a.push(j)}}else if(Ioe(S)){if(rE(y)){h+=2;const q=HXe(y,S,p,{end:D});qP(S)&&K&&a.push(q)}else if(Ep(y)||HP(y)){const q=y.readable||y;h++,nE(q,S,p,{end:D})}else if(Qc(y))h++,nE(y,S,p,{end:D});else throw new BP("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],y);y=S}else if(FXe(S)){if(rE(y))h++,JP(KP(y),S,p,{end:D});else if(HP(y)||Qc(y))h++,JP(y,S,p,{end:D});else if(Ep(y))h++,JP(y.readable,S,p,{end:D});else throw new BP("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],y);y=S}else y=Toe.from(S)}return(o!=null&&o.aborted||s!=null&&s.aborted)&&W_.nextTick(l),y}function HXe(e,t,r,{end:n}){let o=!1;if(t.on("close",()=>{o||r(new LXe)}),e.pipe(t,{end:!1}),n){let s=function(){o=!0,t.end()};jXe(e)?W_.nextTick(s):e.once("end",s)}else r();return tE(e,{readable:!0,writable:!1},s=>{const a=e._readableState;s&&s.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?e.once("end",r).once("error",r):r(s)}),tE(t,{readable:!1,writable:!0},r)}var YP={pipelineImpl:koe,pipeline:qXe};const{pipeline:VXe}=YP,iE=ll(),{destroyer:GXe}=vp,{isNodeStream:oE,isReadable:Coe,isWritable:Ooe,isWebStream:XP,isTransformStream:Zc,isWritableStream:Loe,isReadableStream:Doe}=al,{AbortError:zXe,codes:{ERR_INVALID_ARG_VALUE:Moe,ERR_MISSING_ARGS:KXe}}=Ii,JXe=Mu;var Poe=function(...t){if(t.length===0)throw new KXe("streams");if(t.length===1)return iE.from(t[0]);const r=[...t];if(typeof t[0]=="function"&&(t[0]=iE.from(t[0])),typeof t[t.length-1]=="function"){const p=t.length-1;t[p]=iE.from(t[p])}for(let p=0;p<t.length;++p)if(!(!oE(t[p])&&!XP(t[p]))){if(p<t.length-1&&!(Coe(t[p])||Doe(t[p])||Zc(t[p])))throw new Moe(`streams[${p}]`,r[p],"must be readable");if(p>0&&!(Ooe(t[p])||Loe(t[p])||Zc(t[p])))throw new Moe(`streams[${p}]`,r[p],"must be writable")}let n,o,s,a,l;function f(p){const w=a;a=null,w?w(p):p?l.destroy(p):!h&&!g&&l.destroy()}const u=t[0],d=VXe(t,f),g=!!(Ooe(u)||Loe(u)||Zc(u)),h=!!(Coe(d)||Doe(d)||Zc(d));if(l=new iE({writableObjectMode:!!(u!=null&&u.writableObjectMode),readableObjectMode:!!(d!=null&&d.readableObjectMode),writable:g,readable:h}),g){if(oE(u))l._write=function(w,y,v){u.write(w,y)?v():n=v},l._final=function(w){u.end(),o=w},u.on("drain",function(){if(n){const w=n;n=null,w()}});else if(XP(u)){const y=(Zc(u)?u.writable:u).getWriter();l._write=async function(v,E,x){try{await y.ready,y.write(v).catch(()=>{}),x()}catch(S){x(S)}},l._final=async function(v){try{await y.ready,y.close().catch(()=>{}),o=v}catch(E){v(E)}}}const p=Zc(d)?d.readable:d;JXe(p,()=>{if(o){const w=o;o=null,w()}})}if(h){if(oE(d))d.on("readable",function(){if(s){const p=s;s=null,p()}}),d.on("end",function(){l.push(null)}),l._read=function(){for(;;){const p=d.read();if(p===null){s=l._read;return}if(!l.push(p))return}};else if(XP(d)){const w=(Zc(d)?d.readable:d).getReader();l._read=async function(){for(;;)try{const{value:y,done:v}=await w.read();if(!l.push(y))return;if(v){l.push(null);return}}catch{return}}}}return l._destroy=function(p,w){!p&&a!==null&&(p=new zXe),s=null,n=null,o=null,a===null?w(p):(a=w,oE(d)&&GXe(d,p))},l};const YXe=globalThis.AbortController||bt().AbortController,{codes:{ERR_INVALID_ARG_VALUE:XXe,ERR_INVALID_ARG_TYPE:B_,ERR_MISSING_ARGS:QXe,ERR_OUT_OF_RANGE:ZXe},AbortError:Xs}=Ii,{validateAbortSignal:ed,validateInteger:Foe,validateObject:td}=F_,eQe=Tr.Symbol("kWeak"),tQe=Tr.Symbol("kResistStopPropagation"),{finished:rQe}=Mu,nQe=Poe,{addAbortSignalNoValidate:iQe}=XS,{isWritable:oQe,isNodeStream:sQe}=al,{deprecate:aQe}=si,{ArrayPrototypePush:lQe,Boolean:uQe,MathFloor:joe,Number:fQe,NumberIsNaN:cQe,Promise:Woe,PromiseReject:Boe,PromiseResolve:dQe,PromisePrototypeThen:Uoe,Symbol:qoe}=Tr,sE=qoe("kEmpty"),Hoe=qoe("kEof");function hQe(e,t){if(t!=null&&td(t,"options"),(t==null?void 0:t.signal)!=null&&ed(t.signal,"options.signal"),sQe(e)&&!oQe(e))throw new XXe("stream",e,"must be writable");const r=nQe(this,e);return t!=null&&t.signal&&iQe(t.signal,r),r}function aE(e,t){if(typeof e!="function")throw new B_("fn",["Function","AsyncFunction"],e);t!=null&&td(t,"options"),(t==null?void 0:t.signal)!=null&&ed(t.signal,"options.signal");let r=1;(t==null?void 0:t.concurrency)!=null&&(r=joe(t.concurrency));let n=r-1;return(t==null?void 0:t.highWaterMark)!=null&&(n=joe(t.highWaterMark)),Foe(r,"options.concurrency",1),Foe(n,"options.highWaterMark",0),n+=r,(async function*(){const s=si.AbortSignalAny([t==null?void 0:t.signal].filter(uQe)),a=this,l=[],f={signal:s};let u,d,g=!1,h=0;function p(){g=!0,w()}function w(){h-=1,y()}function y(){d&&!g&&h<r&&l.length<n&&(d(),d=null)}async function v(){try{for await(let E of a){if(g)return;if(s.aborted)throw new Xs;try{if(E=e(E,f),E===sE)continue;E=dQe(E)}catch(x){E=Boe(x)}h+=1,Uoe(E,w,p),l.push(E),u&&(u(),u=null),!g&&(l.length>=n||h>=r)&&await new Woe(x=>{d=x})}l.push(Hoe)}catch(E){const x=Boe(E);Uoe(x,w,p),l.push(x)}finally{g=!0,u&&(u(),u=null)}}v();try{for(;;){for(;l.length>0;){const E=await l[0];if(E===Hoe)return;if(s.aborted)throw new Xs;E!==sE&&(yield E),l.shift(),y()}await new Woe(E=>{u=E})}}finally{g=!0,d&&(d(),d=null)}}).call(this)}function pQe(e=void 0){return e!=null&&td(e,"options"),(e==null?void 0:e.signal)!=null&&ed(e.signal,"options.signal"),(async function*(){let r=0;for await(const o of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Xs({cause:e.signal.reason});yield[r++,o]}}).call(this)}async function Voe(e,t=void 0){for await(const r of QP.call(this,e,t))return!0;return!1}async function bQe(e,t=void 0){if(typeof e!="function")throw new B_("fn",["Function","AsyncFunction"],e);return!await Voe.call(this,async(...r)=>!await e(...r),t)}async function gQe(e,t){for await(const r of QP.call(this,e,t))return r}async function _Qe(e,t){if(typeof e!="function")throw new B_("fn",["Function","AsyncFunction"],e);async function r(n,o){return await e(n,o),sE}for await(const n of aE.call(this,r,t));}function QP(e,t){if(typeof e!="function")throw new B_("fn",["Function","AsyncFunction"],e);async function r(n,o){return await e(n,o)?n:sE}return aE.call(this,r,t)}let yQe=class extends QXe{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function wQe(e,t,r){var n;if(typeof e!="function")throw new B_("reducer",["Function","AsyncFunction"],e);r!=null&&td(r,"options"),(r==null?void 0:r.signal)!=null&&ed(r.signal,"options.signal");let o=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){const u=new Xs(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await rQe(this.destroy(u)),u}const s=new YXe,a=s.signal;if(r!=null&&r.signal){const u={once:!0,[eQe]:this,[tQe]:!0};r.signal.addEventListener("abort",()=>s.abort(),u)}let l=!1;try{for await(const u of this){var f;if(l=!0,r!=null&&(f=r.signal)!==null&&f!==void 0&&f.aborted)throw new Xs;o?t=await e(t,u,{signal:a}):(t=u,o=!0)}if(!l&&!o)throw new yQe}finally{s.abort()}return t}async function mQe(e){e!=null&&td(e,"options"),(e==null?void 0:e.signal)!=null&&ed(e.signal,"options.signal");const t=[];for await(const n of this){var r;if(e!=null&&(r=e.signal)!==null&&r!==void 0&&r.aborted)throw new Xs(void 0,{cause:e.signal.reason});lQe(t,n)}return t}function vQe(e,t){const r=aE.call(this,e,t);return(async function*(){for await(const o of r)yield*o}).call(this)}function Goe(e){if(e=fQe(e),cQe(e))return 0;if(e<0)throw new ZXe("number",">= 0",e);return e}function SQe(e,t=void 0){return t!=null&&td(t,"options"),(t==null?void 0:t.signal)!=null&&ed(t.signal,"options.signal"),e=Goe(e),(async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Xs;for await(const s of this){var o;if(t!=null&&(o=t.signal)!==null&&o!==void 0&&o.aborted)throw new Xs;e--<=0&&(yield s)}}).call(this)}function EQe(e,t=void 0){return t!=null&&td(t,"options"),(t==null?void 0:t.signal)!=null&&ed(t.signal,"options.signal"),e=Goe(e),(async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Xs;for await(const s of this){var o;if(t!=null&&(o=t.signal)!==null&&o!==void 0&&o.aborted)throw new Xs;if(e-- >0&&(yield s),e<=0)return}}).call(this)}bP.streamReturningOperators={asIndexedPairs:aQe(pQe,"readable.asIndexedPairs will be removed in a future version."),drop:SQe,filter:QP,flatMap:vQe,map:aE,take:EQe,compose:hQe},bP.promiseReturningOperators={every:bQe,forEach:_Qe,reduce:wQe,toArray:mQe,some:Voe,find:gQe};var ZP,zoe;function Koe(){if(zoe)return ZP;zoe=1;const{ArrayPrototypePop:e,Promise:t}=Tr,{isIterable:r,isNodeStream:n,isWebStream:o}=al,{pipelineImpl:s}=YP,{finished:a}=Mu;Yoe();function l(...f){return new t((u,d)=>{let g,h;const p=f[f.length-1];if(p&&typeof p=="object"&&!n(p)&&!r(p)&&!o(p)){const w=e(f);g=w.signal,h=w.end}s(f,(w,y)=>{w?d(w):u(y)},{signal:g,end:h})})}return ZP={finished:a,pipeline:l},ZP}var Joe;function Yoe(){if(Joe)return pP.exports;Joe=1;const{Buffer:e}=Ge,{ObjectDefineProperty:t,ObjectKeys:r,ReflectApply:n}=Tr,{promisify:{custom:o}}=si,{streamReturningOperators:s,promiseReturningOperators:a}=bP,{codes:{ERR_ILLEGAL_CONSTRUCTOR:l}}=Ii,f=Poe,{setDefaultHighWaterMark:u,getDefaultHighWaterMark:d}=ZS,{pipeline:g}=YP,{destroyer:h}=vp,p=Mu,w=Koe(),y=al,v=pP.exports=kP.Stream;v.isDestroyed=y.isDestroyed,v.isDisturbed=y.isDisturbed,v.isErrored=y.isErrored,v.isReadable=y.isReadable,v.isWritable=y.isWritable,v.Readable=eE();for(const x of r(s)){let N=function(...$){if(new.target)throw l();return v.Readable.from(n(S,this,$))};const S=s[x];t(N,"name",{__proto__:null,value:S.name}),t(N,"length",{__proto__:null,value:S.length}),t(v.Readable.prototype,x,{__proto__:null,value:N,enumerable:!1,configurable:!0,writable:!0})}for(const x of r(a)){let N=function(...$){if(new.target)throw l();return n(S,this,$)};const S=a[x];t(N,"name",{__proto__:null,value:S.name}),t(N,"length",{__proto__:null,value:S.length}),t(v.Readable.prototype,x,{__proto__:null,value:N,enumerable:!1,configurable:!0,writable:!0})}v.Writable=DP(),v.Duplex=ll(),v.Transform=xoe,v.PassThrough=$oe,v.pipeline=g;const{addAbortSignal:E}=XS;return v.addAbortSignal=E,v.finished=p,v.destroy=h,v.compose=f,v.setDefaultHighWaterMark=u,v.getDefaultHighWaterMark=d,t(v,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return w}}),t(g,o,{__proto__:null,enumerable:!0,get(){return w.pipeline}}),t(p,o,{__proto__:null,enumerable:!0,get(){return w.finished}}),v.Stream=v,v._isUint8Array=function(S){return S instanceof Uint8Array},v._uint8ArrayToBuffer=function(S){return e.from(S.buffer,S.byteOffset,S.byteLength)},pP.exports}(function(e){const t=Yoe(),r=Koe(),n=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=n,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return r}}),e.exports.Stream=t.Stream,e.exports.default=e.exports})(wie);var RQe=wie.exports;const e2="null:";function xQe(e){return t=>t.termType!=="NamedNode"||!t.value.startsWith(e2)?null:e.namedNode(t.value.slice(e2.length))}function AQe(e){const t=xQe(e);return r=>{const n=t(r.subject),o=t(r.predicate),s=t(r.object),a=t(r.graph);return n||o||s||a?e.quad(n||r.subject,o||r.predicate,s||r.object,a||r.graph):r}}class $Qe{constructor(t,{baseIRI:r=e2,context:n=null,documentLoader:o,factory:s=d1}={}){const a=new gre.JsonLdParser({baseIRI:r,context:n,dataFactory:s,documentLoader:o,streamingProfile:!1});t.pipe(a);const l=AQe(s),f=new RQe.Transform({objectMode:!0,transform:(u,d,g)=>{g(null,l(u))}});return a.on("context",u=>{Object.entries(u).forEach(([d,g])=>{f.emit("prefix",d,s.namedNode(g))})}),a.on("error",u=>f.destroy(u)),a.pipe(f),_w(f)}}class TQe extends Ob{constructor(t){super($Qe,t)}}const IQe=Object.freeze(Object.defineProperty({__proto__:null,default:TQe},Symbol.toStringTag,{value:"Module"}));var Xoe={},Rp={},xp={},Qoe={};(function(e){/**
 * Character classes and associated utilities for the 5th edition of XML 1.0.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(e,"__esModule",{value:!0}),e.CHAR=`	
\r -퟿-�𐀀-􏿿`,e.S=` 	\r
`,e.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",e.NAME_CHAR="-"+e.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",e.CHAR_RE=new RegExp("^["+e.CHAR+"]$","u"),e.S_RE=new RegExp("^["+e.S+"]+$","u"),e.NAME_START_CHAR_RE=new RegExp("^["+e.NAME_START_CHAR+"]$","u"),e.NAME_CHAR_RE=new RegExp("^["+e.NAME_CHAR+"]$","u"),e.NAME_RE=new RegExp("^["+e.NAME_START_CHAR+"]["+e.NAME_CHAR+"]*$","u"),e.NMTOKEN_RE=new RegExp("^["+e.NAME_CHAR+"]+$","u");var t=9,r=10,n=13,o=32;e.S_LIST=[o,r,n,t];function s(u){return u>=o&&u<=55295||u===r||u===n||u===t||u>=57344&&u<=65533||u>=65536&&u<=1114111}e.isChar=s;function a(u){return u===o||u===r||u===n||u===t}e.isS=a;function l(u){return u>=65&&u<=90||u>=97&&u<=122||u===58||u===95||u===8204||u===8205||u>=192&&u<=214||u>=216&&u<=246||u>=248&&u<=767||u>=880&&u<=893||u>=895&&u<=8191||u>=8304&&u<=8591||u>=11264&&u<=12271||u>=12289&&u<=55295||u>=63744&&u<=64975||u>=65008&&u<=65533||u>=65536&&u<=983039}e.isNameStartChar=l;function f(u){return l(u)||u>=48&&u<=57||u===45||u===46||u===183||u>=768&&u<=879||u>=8255&&u<=8256}e.isNameChar=f})(Qoe);var Zoe={};(function(e){/**
 * Character classes and associated utilities for the 2nd edition of XML 1.1.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(e,"__esModule",{value:!0}),e.CHAR="-퟿-�𐀀-􏿿",e.RESTRICTED_CHAR="-\b\v\f---",e.S=` 	\r
`,e.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",e.NAME_CHAR="-"+e.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",e.CHAR_RE=new RegExp("^["+e.CHAR+"]$","u"),e.RESTRICTED_CHAR_RE=new RegExp("^["+e.RESTRICTED_CHAR+"]$","u"),e.S_RE=new RegExp("^["+e.S+"]+$","u"),e.NAME_START_CHAR_RE=new RegExp("^["+e.NAME_START_CHAR+"]$","u"),e.NAME_CHAR_RE=new RegExp("^["+e.NAME_CHAR+"]$","u"),e.NAME_RE=new RegExp("^["+e.NAME_START_CHAR+"]["+e.NAME_CHAR+"]*$","u"),e.NMTOKEN_RE=new RegExp("^["+e.NAME_CHAR+"]+$","u");var t=9,r=10,n=13,o=32;e.S_LIST=[o,r,n,t];function s(g){return g>=1&&g<=55295||g>=57344&&g<=65533||g>=65536&&g<=1114111}e.isChar=s;function a(g){return g>=1&&g<=8||g===11||g===12||g>=14&&g<=31||g>=127&&g<=132||g>=134&&g<=159}e.isRestrictedChar=a;function l(g){return g===9||g===10||g===13||g>31&&g<127||g===133||g>159&&g<=55295||g>=57344&&g<=65533||g>=65536&&g<=1114111}e.isCharAndNotRestricted=l;function f(g){return g===o||g===r||g===n||g===t}e.isS=f;function u(g){return g>=65&&g<=90||g>=97&&g<=122||g===58||g===95||g===8204||g===8205||g>=192&&g<=214||g>=216&&g<=246||g>=248&&g<=767||g>=880&&g<=893||g>=895&&g<=8191||g>=8304&&g<=8591||g>=11264&&g<=12271||g>=12289&&g<=55295||g>=63744&&g<=64975||g>=65008&&g<=65533||g>=65536&&g<=983039}e.isNameStartChar=u;function d(g){return u(g)||g>=48&&g<=57||g===45||g===46||g===183||g>=768&&g<=879||g>=8255&&g<=8256}e.isNameChar=d})(Zoe);var ese={};(function(e){/**
 * Character class utilities for XML NS 1.0 edition 3.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(e,"__esModule",{value:!0}),e.NC_NAME_START_CHAR="A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",e.NC_NAME_CHAR="-"+e.NC_NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",e.NC_NAME_START_CHAR_RE=new RegExp("^["+e.NC_NAME_START_CHAR+"]$","u"),e.NC_NAME_CHAR_RE=new RegExp("^["+e.NC_NAME_CHAR+"]$","u"),e.NC_NAME_RE=new RegExp("^["+e.NC_NAME_START_CHAR+"]["+e.NC_NAME_CHAR+"]*$","u");function t(n){return n>=65&&n<=90||n===95||n>=97&&n<=122||n>=192&&n<=214||n>=216&&n<=246||n>=248&&n<=767||n>=880&&n<=893||n>=895&&n<=8191||n>=8204&&n<=8205||n>=8304&&n<=8591||n>=11264&&n<=12271||n>=12289&&n<=55295||n>=63744&&n<=64975||n>=65008&&n<=65533||n>=65536&&n<=983039}e.isNCNameStartChar=t;function r(n){return t(n)||n===45||n===46||n>=48&&n<=57||n===183||n>=768&&n<=879||n>=8255&&n<=8256}e.isNCNameChar=r})(ese),Object.defineProperty(xp,"__esModule",{value:!0}),xp.SaxesParser=xp.EVENTS=void 0;const Ap=Qoe,NQe=Zoe,t2=ese;var Ni=Ap.isS,kQe=Ap.isChar,U_=Ap.isNameStartChar,tse=Ap.isNameChar,rse=Ap.S_LIST,CQe=Ap.NAME_RE,OQe=NQe.isChar,LQe=t2.isNCNameStartChar,DQe=t2.isNCNameChar,MQe=t2.NC_NAME_RE;const lE="http://www.w3.org/XML/1998/namespace",$p="http://www.w3.org/2000/xmlns/",PQe={__proto__:null,xml:lE,xmlns:$p},FQe={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},_r=-1,Qs=-2,nse=0,jQe=1,r2=2,WQe=3,Tp=4,BQe=5,UQe=6,qQe=7,n2=8,HQe=9,VQe=10,GQe=11,zQe=12,ai=13,uE=14,i2=15,KQe=16,o2=17,JQe=18,YQe=19,s2=20,XQe=21,QQe=22,ZQe=23,ise=24,a2=25,fE=26,ose=27,eZe=28,tZe=29,sse=30,rZe=31,nZe=32,rd=33,iZe=34,l2=35,q_=36,u2=37,oZe=38,ase=39,lse=40,sZe=41,use=42,aZe=43,lZe=44,f2=9,is=10,c2=13,fse=32,cse=33,dse=34,H_=38,hse=39,cE=45,dE=47,uZe=59,Pu=60,Ip=61,Zr=62,Sn=63,pse=91,Np=93,bse=133,gse=8232,hE=e=>e===dse||e===hse,_se=[dse,hse],fZe=[..._se,pse,Zr],cZe=[..._se,Pu,Np],dZe=[Ip,Sn,...rse],hZe=[...rse,Zr,H_,Pu];function d2(e,t,r){switch(t){case"xml":r!==lE&&e.fail(`xml prefix must be bound to ${lE}.`);break;case"xmlns":r!==$p&&e.fail(`xmlns prefix must be bound to ${$p}.`);break}switch(r){case $p:e.fail(t===""?`the default namespace may not be set to ${r}.`:`may not assign a prefix (even "xmlns") to the URI ${$p}.`);break;case lE:switch(t){case"xml":break;case"":e.fail(`the default namespace may not be set to ${r}.`);break;default:e.fail("may not assign the xml namespace to another prefix.")}break}}function pZe(e,t){for(const r of Object.keys(t))d2(e,r,t[r])}const bZe=e=>MQe.test(e),gZe=e=>CQe.test(e),nd=0,yse=1,h2=2;xp.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const wse={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};class _Ze{get closed(){return this._closed}constructor(t){this.opt=t??{},this.fragmentOpt=!!this.opt.fragment;const r=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,r){this.nameStartCheck=LQe,this.nameCheck=DQe,this.isName=bZe,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},PQe);const n=this.opt.additionalNamespaces;n!=null&&(pZe(this,n),Object.assign(this.ns,n))}else this.nameStartCheck=U_,this.nameCheck=tse,this.isName=gZe,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=nd,this.attribList=[];const{fragmentOpt:r}=this;this.state=r?ai:nse,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=r,this.xmlDeclPossible=!r,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:n}=this.opt;if(n===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");n="1.0"}this.setXMLVersion(n),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(FQe),(t=this.readyHandler)===null||t===void 0||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,r){this[wse[t]]=r}off(t){this[wse[t]]=void 0}makeError(t){var r;let n=(r=this.fileName)!==null&&r!==void 0?r:"";return this.trackPosition&&(n.length>0&&(n+=":"),n+=`${this.line}:${this.column}`),n.length>0&&(n+=": "),new Error(n+t)}fail(t){const r=this.makeError(t),n=this.errorHandler;if(n===void 0)throw r;return n(r),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let r=!1;t===null?(r=!0,t=""):typeof t=="object"&&(t=t.toString()),this.carriedFromPrevious!==void 0&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let n=t.length;const o=t.charCodeAt(n-1);!r&&(o===c2||o>=55296&&o<=56319)&&(this.carriedFromPrevious=t[n-1],n--,t=t.slice(0,n));const{stateTable:s}=this;for(this.chunk=t,this.i=0;this.i<n;)s[this.state].call(this);return this.chunkPosition+=n,r?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:r}=this;if(this.prevI=r,this.i=r+1,r>=t.length)return _r;const n=t.charCodeAt(r);if(this.column++,n<55296){if(n>=fse||n===f2)return n;switch(n){case is:return this.line++,this.column=0,this.positionAtNewLine=this.position,is;case c2:return t.charCodeAt(r+1)===is&&(this.i=r+2),this.line++,this.column=0,this.positionAtNewLine=this.position,Qs;default:return this.fail("disallowed character."),n}}if(n>56319)return n>=57344&&n<=65533||this.fail("disallowed character."),n;const o=65536+(n-55296)*1024+(t.charCodeAt(r+1)-56320);return this.i=r+2,o>1114111&&this.fail("disallowed character."),o}getCode11(){const{chunk:t,i:r}=this;if(this.prevI=r,this.i=r+1,r>=t.length)return _r;const n=t.charCodeAt(r);if(this.column++,n<55296){if(n>31&&n<127||n>159&&n!==gse||n===f2)return n;switch(n){case is:return this.line++,this.column=0,this.positionAtNewLine=this.position,is;case c2:{const s=t.charCodeAt(r+1);(s===is||s===bse)&&(this.i=r+2)}case bse:case gse:return this.line++,this.column=0,this.positionAtNewLine=this.position,Qs;default:return this.fail("disallowed character."),n}}if(n>56319)return n>=57344&&n<=65533||this.fail("disallowed character."),n;const o=65536+(n-55296)*1024+(t.charCodeAt(r+1)-56320);return this.i=r+2,o>1114111&&this.fail("disallowed character."),o}getCodeNorm(){const t=this.getCode();return t===Qs?is:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:r}=this;const{chunk:n}=this;for(;;){const o=this.getCode(),s=o===Qs,a=s?is:o;if(a===_r||t.includes(a))return this.text+=n.slice(r,this.prevI),a;s&&(this.text+=`${n.slice(r,this.prevI)}
`,r=this.i)}}captureToChar(t){let{i:r}=this;const{chunk:n}=this;for(;;){let o=this.getCode();switch(o){case Qs:this.text+=`${n.slice(r,this.prevI)}
`,r=this.i,o=is;break;case _r:return this.text+=n.slice(r),!1}if(o===t)return this.text+=n.slice(r,this.prevI),!0}}captureNameChars(){const{chunk:t,i:r}=this;for(;;){const n=this.getCode();if(n===_r)return this.name+=t.slice(r),_r;if(!tse(n))return this.name+=t.slice(r,this.prevI),n===Qs?is:n}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===_r||!Ni(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,t==="1.0"?(this.isChar=kQe,this.getCode=this.getCode10):(this.isChar=OQe,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=jQe}sBeginWhitespace(){const t=this.i,r=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),r){case Pu:if(this.state=i2,this.text.length!==0)throw new Error("no-empty text at start");break;case _r:break;default:this.unget(),this.state=ai,this.xmlDeclPossible=!1}}sDoctype(){var t;const r=this.captureTo(fZe);switch(r){case Zr:{(t=this.doctypeHandler)===null||t===void 0||t.call(this,this.text),this.text="",this.state=ai,this.doctype=!0;break}case _r:break;default:this.text+=String.fromCodePoint(r),r===pse?this.state=Tp:hE(r)&&(this.state=WQe,this.q=r)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=r2)}sDTD(){const t=this.captureTo(cZe);t!==_r&&(this.text+=String.fromCodePoint(t),t===Np?this.state=r2:t===Pu?this.state=UQe:hE(t)&&(this.state=BQe,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=Tp,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case cse:this.state=qQe,this.openWakaBang="";break;case Sn:this.state=GQe;break;default:this.state=Tp}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),r=this.openWakaBang+=t;this.text+=t,r!=="-"&&(this.state=r==="--"?n2:Tp,this.openWakaBang="")}sDTDComment(){this.captureToChar(cE)&&(this.text+="-",this.state=HQe)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===cE?VQe:n2}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Zr?this.state=Tp:(this.fail("malformed comment."),this.state=n2)}sDTDPI(){this.captureToChar(Sn)&&(this.text+="?",this.state=zQe)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Zr&&(this.state=Tp)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:r}=this;e:for(;;)switch(this.getCode()){case Qs:this.entity+=`${r.slice(t,this.prevI)}
`,t=this.i;break;case uZe:{const{entityReturnState:n}=this,o=this.entity+r.slice(t,this.prevI);this.state=n;let s;o===""?(this.fail("empty entity name."),s="&;"):(s=this.parseEntity(o),this.entity=""),(n!==ai||this.textHandler!==void 0)&&(this.text+=s);break e}case _r:this.entity+=r.slice(t);break e}}sOpenWaka(){const t=this.getCode();if(U_(t))this.state=iZe,this.unget(),this.xmlDeclPossible=!1;else switch(t){case dE:this.state=aZe,this.xmlDeclPossible=!1;break;case cse:this.state=KQe,this.openWakaBang="",this.xmlDeclPossible=!1;break;case Sn:this.state=ZQe;break;default:this.fail("disallowed character in tag name"),this.state=ai,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":!this.sawRoot&&!this.reportedTextBeforeRoot&&(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=s2,this.openWakaBang="";break;case"--":this.state=o2,this.openWakaBang="";break;case"DOCTYPE":this.state=r2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(cE)&&(this.state=JQe)}sCommentEnding(){var t;const r=this.getCodeNorm();r===cE?(this.state=YQe,(t=this.commentHandler)===null||t===void 0||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(r)}`,this.state=o2)}sCommentEnded(){const t=this.getCodeNorm();t!==Zr?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=o2):this.state=ai}sCData(){this.captureToChar(Np)&&(this.state=XQe)}sCDataEnding(){const t=this.getCodeNorm();t===Np?this.state=QQe:(this.text+=`]${String.fromCodePoint(t)}`,this.state=s2)}sCDataEnding2(){var t;const r=this.getCodeNorm();switch(r){case Zr:{(t=this.cdataHandler)===null||t===void 0||t.call(this,this.text),this.text="",this.state=ai;break}case Np:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(r)}`,this.state=s2}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=ise):t===Sn||Ni(t)?(this.fail("processing instruction without a target."),this.state=t===Sn?fE:a2):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=ise)}sPIRest(){const{chunk:t,i:r}=this;for(;;){const n=this.getCodeNorm();if(n===_r){this.piTarget+=t.slice(r);return}if(!this.nameCheck(n)){this.piTarget+=t.slice(r,this.prevI);const o=n===Sn;o||Ni(n)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=o?rd:ose):this.state=o?fE:a2:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(n));break}}}sPIBody(){if(this.text.length===0){const t=this.getCodeNorm();t===Sn?this.state=fE:Ni(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(Sn)&&(this.state=fE)}sPIEnding(){var t;const r=this.getCodeNorm();if(r===Zr){const{piTarget:n}=this;n.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(t=this.piHandler)===null||t===void 0||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=ai}else r===Sn?this.text+="?":(this.text+=`?${String.fromCodePoint(r)}`,this.state=a2);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();if(t===Sn){this.state=rd;return}t!==_r&&(this.state=eZe,this.name=String.fromCodePoint(t))}sXMLDeclName(){const t=this.captureTo(dZe);if(t===Sn){this.state=rd,this.name+=this.text,this.text="",this.fail("XML declaration is incomplete.");return}if(Ni(t)||t===Ip){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===Ip?sse:tZe}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===Sn){this.state=rd,this.fail("XML declaration is incomplete.");return}Ni(t)||(t!==Ip&&this.fail("value required."),this.state=sse)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===Sn){this.state=rd,this.fail("XML declaration is incomplete.");return}Ni(t)||(hE(t)?this.q=t:(this.fail("value must be quoted."),this.q=fse),this.state=rZe)}sXMLDeclValue(){const t=this.captureTo([this.q,Sn]);if(t===Sn){this.state=rd,this.text="",this.fail("XML declaration is incomplete.");return}if(t===_r)return;const r=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const n=r;this.xmlDecl.version=n,/^1\.[0-9]+$/.test(n)?this.opt.forceXMLVersion||this.setXMLVersion(n):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(r)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=r;break;case"standalone":r!=="yes"&&r!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=r;break}this.name="",this.state=nZe}sXMLDeclSeparator(){const t=this.getCodeNorm();if(t===Sn){this.state=rd;return}Ni(t)||(this.fail("whitespace required."),this.unget()),this.state=ose}sXMLDeclEnding(){var t;this.getCodeNorm()===Zr?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(t=this.xmldeclHandler)===null||t===void 0||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=ai):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const r=this.captureNameChars();if(r===_r)return;const n=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=n.ns=Object.create(null)),(t=this.openTagStartHandler)===null||t===void 0||t.call(this,n),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),r){case Zr:this.openTag();break;case dE:this.state=l2;break;default:Ni(r)||this.fail("disallowed character in tag name."),this.state=q_}}sOpenTagSlash(){this.getCode()===Zr?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=q_)}sAttrib(){const t=this.skipSpaces();t!==_r&&(U_(t)?(this.unget(),this.state=u2):t===Zr?this.openTag():t===dE?this.state=l2:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===Ip?this.state=ase:Ni(t)?this.state=oZe:t===Zr?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==_r&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case _r:return;case Ip:this.state=ase;break;default:this.fail("attribute without value."),this.text="",this.name="",t===Zr?this.openTag():U_(t)?(this.unget(),this.state=u2):(this.fail("disallowed character in attribute name."),this.state=q_)}}sAttribValue(){const t=this.getCodeNorm();hE(t)?(this.q=t,this.state=lse):Ni(t)||(this.fail("unquoted attribute value."),this.state=use,this.unget())}sAttribValueQuoted(){const{q:t,chunk:r}=this;let{i:n}=this;for(;;)switch(this.getCode()){case t:this.pushAttrib(this.name,this.text+r.slice(n,this.prevI)),this.name=this.text="",this.q=null,this.state=sZe;return;case H_:this.text+=r.slice(n,this.prevI),this.state=uE,this.entityReturnState=lse;return;case is:case Qs:case f2:this.text+=`${r.slice(n,this.prevI)} `,n=this.i;break;case Pu:this.text+=r.slice(n,this.prevI),this.fail("disallowed character.");return;case _r:this.text+=r.slice(n);return}}sAttribValueClosed(){const t=this.getCodeNorm();Ni(t)?this.state=q_:t===Zr?this.openTag():t===dE?this.state=l2:U_(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=u2):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(hZe);switch(t){case H_:this.state=uE,this.entityReturnState=use;break;case Pu:this.fail("disallowed character.");break;case _r:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===Zr?this.openTag():this.state=q_}}sCloseTag(){const t=this.captureNameChars();t===Zr?this.closeTag():Ni(t)?this.state=lZe:t!==_r&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case Zr:this.closeTag();break;case _r:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:r}=this;const{chunk:n,textHandler:o}=this;e:for(;;)switch(this.getCode()){case Pu:{if(this.state=i2,o!==void 0){const{text:s}=this,a=n.slice(t,this.prevI);s.length!==0?(o(s+a),this.text=""):a.length!==0&&o(a)}r=nd;break e}case H_:this.state=uE,this.entityReturnState=ai,o!==void 0&&(this.text+=n.slice(t,this.prevI)),r=nd;break e;case Np:switch(r){case nd:r=yse;break;case yse:r=h2;break;case h2:break;default:throw new Error("impossible state")}break;case Zr:r===h2&&this.fail('the string "]]>" is disallowed in char data.'),r=nd;break;case Qs:o!==void 0&&(this.text+=`${n.slice(t,this.prevI)}
`),t=this.i,r=nd;break;case _r:o!==void 0&&(this.text+=n.slice(t));break e;default:r=nd}this.forbiddenState=r}handleTextOutsideRoot(){let{i:t}=this;const{chunk:r,textHandler:n}=this;let o=!1;e:for(;;){const s=this.getCode();switch(s){case Pu:{if(this.state=i2,n!==void 0){const{text:a}=this,l=r.slice(t,this.prevI);a.length!==0?(n(a+l),this.text=""):l.length!==0&&n(l)}break e}case H_:this.state=uE,this.entityReturnState=ai,n!==void 0&&(this.text+=r.slice(t,this.prevI)),o=!0;break e;case Qs:n!==void 0&&(this.text+=`${r.slice(t,this.prevI)}
`),t=this.i;break;case _r:n!==void 0&&(this.text+=r.slice(t));break e;default:Ni(s)||(o=!0)}}o&&(!this.sawRoot&&!this.reportedTextBeforeRoot&&(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,r){var n;const{prefix:o,local:s}=this.qname(t),a={name:t,prefix:o,local:s,value:r};if(this.attribList.push(a),(n=this.attributeHandler)===null||n===void 0||n.call(this,a),o==="xmlns"){const l=r.trim();this.currentXMLVersion==="1.0"&&l===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[s]=l,d2(this,s,l)}else if(t==="xmlns"){const l=r.trim();this.topNS[""]=l,d2(this,"",l)}}pushAttribPlain(t,r){var n;const o={name:t,value:r};this.attribList.push(o),(n=this.attributeHandler)===null||n===void 0||n.call(this,o)}end(){var t,r;this.sawRoot||this.fail("document must contain a root element.");const{tags:n}=this;for(;n.length>0;){const s=n.pop();this.fail(`unclosed tag: ${s.name}`)}this.state!==nse&&this.state!==ai&&this.fail("unexpected end.");const{text:o}=this;return o.length!==0&&((t=this.textHandler)===null||t===void 0||t.call(this,o),this.text=""),this._closed=!0,(r=this.endHandler)===null||r===void 0||r.call(this),this._init(),this}resolve(t){var r,n;let o=this.topNS[t];if(o!==void 0)return o;const{tags:s}=this;for(let a=s.length-1;a>=0;a--)if(o=s[a].ns[t],o!==void 0)return o;return o=this.ns[t],o!==void 0?o:(n=(r=this.opt).resolvePrefix)===null||n===void 0?void 0:n.call(r,t)}qname(t){const r=t.indexOf(":");if(r===-1)return{prefix:"",local:t};const n=t.slice(r+1),o=t.slice(0,r);return(o===""||n===""||n.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:o,local:n}}processAttribsNS(){var t;const{attribList:r}=this,n=this.tag;{const{prefix:a,local:l}=this.qname(n.name);n.prefix=a,n.local=l;const f=n.uri=(t=this.resolve(a))!==null&&t!==void 0?t:"";a!==""&&(a==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),f===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(a)}.`),n.uri=a))}if(r.length===0)return;const{attributes:o}=n,s=new Set;for(const a of r){const{name:l,prefix:f,local:u}=a;let d,g;f===""?(d=l==="xmlns"?$p:"",g=l):(d=this.resolve(f),d===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(f)}.`),d=f),g=`{${d}}${u}`),s.has(g)&&this.fail(`duplicate attribute: ${g}.`),s.add(g),a.uri=d,o[l]=a}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,r=this.tag.attributes;for(const{name:n,value:o}of t)r[n]!==void 0&&this.fail(`duplicate attribute: ${n}.`),r[n]=o;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:r}=this,n=this.tag;n.isSelfClosing=!1,(t=this.openTagHandler)===null||t===void 0||t.call(this,n),r.push(n),this.state=ai,this.name=""}openSelfClosingTag(){var t,r,n;this.processAttribs();const{tags:o}=this,s=this.tag;s.isSelfClosing=!0,(t=this.openTagHandler)===null||t===void 0||t.call(this,s),(r=this.closeTagHandler)===null||r===void 0||r.call(this,s),(this.tag=(n=o[o.length-1])!==null&&n!==void 0?n:null)===null&&(this.closedRoot=!0),this.state=ai,this.name=""}closeTag(){const{tags:t,name:r}=this;if(this.state=ai,this.name="",r===""){this.fail("weird empty close tag."),this.text+="</>";return}const n=this.closeTagHandler;let o=t.length;for(;o-- >0;){const s=this.tag=t.pop();if(this.topNS=s.ns,n==null||n(s),s.name===r)break;this.fail("unexpected close tag.")}o===0?this.closedRoot=!0:o<0&&(this.fail(`unmatched closing tag: ${r}.`),this.text+=`</${r}>`)}parseEntity(t){if(t[0]!=="#"){const n=this.ENTITIES[t];return n!==void 0?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let r=NaN;return t[1]==="x"&&/^#x[0-9a-f]+$/i.test(t)?r=parseInt(t.slice(2),16):/^#[0-9]+$/.test(t)&&(r=parseInt(t.slice(1),10)),this.isChar(r)?String.fromCodePoint(r):(this.fail("malformed character entity."),`&${t};`)}}xp.SaxesParser=_Ze;var mse={exports:{}},p2={exports:{}},Ir={ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,t){return e.includes(t)},ArrayPrototypeIndexOf(e,t){return e.indexOf(t)},ArrayPrototypeJoin(e,t){return e.join(t)},ArrayPrototypeMap(e,t){return e.map(t)},ArrayPrototypePop(e,t){return e.pop(t)},ArrayPrototypePush(e,t){return e.push(t)},ArrayPrototypeSlice(e,t,r){return e.slice(t,r)},Error,FunctionPrototypeCall(e,t,...r){return e.call(t,...r)},FunctionPrototypeSymbolHasInstance(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,t){return Object.defineProperties(e,t)},ObjectDefineProperty(e,t,r){return Object.defineProperty(e,t,r)},ObjectGetOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,t){return Object.setPrototypeOf(e,t)},Promise,PromisePrototypeCatch(e,t){return e.catch(t)},PromisePrototypeThen(e,t,r){return e.then(t,r)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,t){return e.test(t)},SafeSet:Set,String,StringPrototypeSlice(e,t,r){return e.slice(t,r)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,t,r){return e.set(t,r)},Boolean,Uint8Array},vse={exports:{}};(function(e){const t=Ge,{kResistStopPropagation:r,SymbolDispose:n}=Ir,o=globalThis.AbortSignal||bt().AbortSignal,s=globalThis.AbortController||bt().AbortController,a=Object.getPrototypeOf(async function(){}).constructor,l=globalThis.Blob||t.Blob,f=typeof l<"u"?function(p){return p instanceof l}:function(p){return!1},u=(h,p)=>{if(h!==void 0&&(h===null||typeof h!="object"||!("aborted"in h)))throw new ERR_INVALID_ARG_TYPE(p,"AbortSignal",h)},d=(h,p)=>{if(typeof h!="function")throw new ERR_INVALID_ARG_TYPE(p,"Function",h)};class g extends Error{constructor(p){if(!Array.isArray(p))throw new TypeError(`Expected input to be an Array, got ${typeof p}`);let w="";for(let y=0;y<p.length;y++)w+=`    ${p[y].stack}
`;super(w),this.name="AggregateError",this.errors=p}}e.exports={AggregateError:g,kEmptyObject:Object.freeze({}),once(h){let p=!1;return function(...w){p||(p=!0,h.apply(this,w))}},createDeferredPromise:function(){let h,p;return{promise:new Promise((y,v)=>{h=y,p=v}),resolve:h,reject:p}},promisify(h){return new Promise((p,w)=>{h((y,...v)=>y?w(y):p(...v))})},debuglog(){return function(){}},format(h,...p){return h.replace(/%([sdifj])/g,function(...[w,y]){const v=p.shift();return y==="f"?v.toFixed(6):y==="j"?JSON.stringify(v):y==="s"&&typeof v=="object"?`${v.constructor!==Object?v.constructor.name:""} {}`.trim():v.toString()})},inspect(h){switch(typeof h){case"string":if(h.includes("'"))if(h.includes('"')){if(!h.includes("`")&&!h.includes("${"))return`\`${h}\``}else return`"${h}"`;return`'${h}'`;case"number":return isNaN(h)?"NaN":Object.is(h,-0)?String(h):h;case"bigint":return`${String(h)}n`;case"boolean":case"undefined":return String(h);case"object":return"{}"}},types:{isAsyncFunction(h){return h instanceof a},isArrayBufferView(h){return ArrayBuffer.isView(h)}},isBlob:f,deprecate(h,p){return h},addAbortListener:$t.addAbortListener||function(p,w){if(p===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",p);u(p,"signal"),d(w,"listener");let y;return p.aborted?queueMicrotask(()=>w()):(p.addEventListener("abort",w,{__proto__:null,once:!0,[r]:!0}),y=()=>{p.removeEventListener("abort",w)}),{__proto__:null,[n](){var v;(v=y)===null||v===void 0||v()}}},AbortSignalAny:o.any||function(p){if(p.length===1)return p[0];const w=new s,y=()=>w.abort();return p.forEach(v=>{u(v,"signals"),v.addEventListener("abort",y,{once:!0})}),w.signal.addEventListener("abort",()=>{p.forEach(v=>v.removeEventListener("abort",y))},{once:!0}),w.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(vse);var li=vse.exports,b2={};const{format:yZe,inspect:pE,AggregateError:wZe}=li,mZe=globalThis.AggregateError||wZe,vZe=Symbol("kIsNodeError"),SZe=["string","function","number","object","Function","Object","boolean","bigint","symbol"],EZe=/^([A-Z][a-z0-9]*)+$/,RZe="__node_internal_",bE={};function id(e,t){if(!e)throw new bE.ERR_INTERNAL_ASSERTION(t)}function Sse(e){let t="",r=e.length;const n=e[0]==="-"?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function xZe(e,t,r){if(typeof t=="function")return id(t.length<=r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${t.length}).`),t(...r);const n=(t.match(/%[dfijoOs]/g)||[]).length;return id(n===r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?t:yZe(t,...r)}function En(e,t,r){r||(r=Error);class n extends r{constructor(...s){super(xZe(e,t,s))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=e,n.prototype[vZe]=!0,bE[e]=n}function Ese(e){const t=RZe+e.name;return Object.defineProperty(e,"name",{value:t}),e}function AZe(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;const r=new mZe([t,e],t.message);return r.code=t.code,r}return e||t}let $Ze=class extends Error{constructor(t="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new bE.ERR_INVALID_ARG_TYPE("options","Object",r);super(t,r),this.code="ABORT_ERR",this.name="AbortError"}};En("ERR_ASSERTION","%s",Error),En("ERR_INVALID_ARG_TYPE",(e,t,r)=>{id(typeof e=="string","'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+=`${e} `:n+=`"${e}" ${e.includes(".")?"property":"argument"} `,n+="must be ";const o=[],s=[],a=[];for(const f of t)id(typeof f=="string","All expected entries have to be of type string"),SZe.includes(f)?o.push(f.toLowerCase()):EZe.test(f)?s.push(f):(id(f!=="object",'The value "object" should be written as "Object"'),a.push(f));if(s.length>0){const f=o.indexOf("object");f!==-1&&(o.splice(o,f,1),s.push("Object"))}if(o.length>0){switch(o.length){case 1:n+=`of type ${o[0]}`;break;case 2:n+=`one of type ${o[0]} or ${o[1]}`;break;default:{const f=o.pop();n+=`one of type ${o.join(", ")}, or ${f}`}}(s.length>0||a.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{const f=s.pop();n+=`an instance of ${s.join(", ")}, or ${f}`}}a.length>0&&(n+=" or ")}switch(a.length){case 0:break;case 1:a[0].toLowerCase()!==a[0]&&(n+="an "),n+=`${a[0]}`;break;case 2:n+=`one of ${a[0]} or ${a[1]}`;break;default:{const f=a.pop();n+=`one of ${a.join(", ")}, or ${f}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var l;if((l=r.constructor)!==null&&l!==void 0&&l.name)n+=`. Received an instance of ${r.constructor.name}`;else{const f=pE(r,{depth:-1});n+=`. Received ${f}`}}else{let f=pE(r,{colors:!1});f.length>25&&(f=`${f.slice(0,25)}...`),n+=`. Received type ${typeof r} (${f})`}return n},TypeError),En("ERR_INVALID_ARG_VALUE",(e,t,r="is invalid")=>{let n=pE(t);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${e.includes(".")?"property":"argument"} '${e}' ${r}. Received ${n}`},TypeError),En("ERR_INVALID_RETURN_VALUE",(e,t,r)=>{var n;const o=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${e} to be returned from the "${t}" function but got ${o}.`},TypeError),En("ERR_MISSING_ARGS",(...e)=>{id(e.length>0,"At least one arg needs to be specified");let t;const r=e.length;switch(e=(Array.isArray(e)?e:[e]).map(n=>`"${n}"`).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{const n=e.pop();t+=`The ${e.join(", ")}, and ${n} arguments`}break}return`${t} must be specified`},TypeError),En("ERR_OUT_OF_RANGE",(e,t,r)=>{id(t,'Missing "range" argument');let n;return Number.isInteger(r)&&Math.abs(r)>2**32?n=Sse(String(r)):typeof r=="bigint"?(n=String(r),(r>2n**32n||r<-(2n**32n))&&(n=Sse(n)),n+="n"):n=pE(r),`The value of "${e}" is out of range. It must be ${t}. Received ${n}`},RangeError),En("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),En("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),En("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),En("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),En("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),En("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),En("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),En("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),En("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),En("ERR_STREAM_WRITE_AFTER_END","write after end",Error),En("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);var ki={AbortError:$Ze,aggregateTwoErrors:Ese(AZe),hideStackFrames:Ese,codes:bE};const{ArrayIsArray:g2,ArrayPrototypeIncludes:Rse,ArrayPrototypeJoin:xse,ArrayPrototypeMap:TZe,NumberIsInteger:_2,NumberIsNaN:IZe,NumberMAX_SAFE_INTEGER:NZe,NumberMIN_SAFE_INTEGER:kZe,NumberParseInt:CZe,ObjectPrototypeHasOwnProperty:OZe,RegExpPrototypeExec:Ase,String:LZe,StringPrototypeToUpperCase:DZe,StringPrototypeTrim:MZe}=Ir,{hideStackFrames:mo,codes:{ERR_SOCKET_BAD_PORT:PZe,ERR_INVALID_ARG_TYPE:Fn,ERR_INVALID_ARG_VALUE:kp,ERR_OUT_OF_RANGE:od,ERR_UNKNOWN_SIGNAL:$se}}=ki,{normalizeEncoding:FZe}=li,{isAsyncFunction:jZe,isArrayBufferView:WZe}=li.types,Tse={};function BZe(e){return e===(e|0)}function UZe(e){return e===e>>>0}const qZe=/^[0-7]+$/,HZe="must be a 32-bit unsigned integer or an octal string";function VZe(e,t,r){if(typeof e>"u"&&(e=r),typeof e=="string"){if(Ase(qZe,e)===null)throw new kp(t,e,HZe);e=CZe(e,8)}return Ise(e,t),e}const GZe=mo((e,t,r=kZe,n=NZe)=>{if(typeof e!="number")throw new Fn(t,"number",e);if(!_2(e))throw new od(t,"an integer",e);if(e<r||e>n)throw new od(t,`>= ${r} && <= ${n}`,e)}),zZe=mo((e,t,r=-2147483648,n=2147483647)=>{if(typeof e!="number")throw new Fn(t,"number",e);if(!_2(e))throw new od(t,"an integer",e);if(e<r||e>n)throw new od(t,`>= ${r} && <= ${n}`,e)}),Ise=mo((e,t,r=!1)=>{if(typeof e!="number")throw new Fn(t,"number",e);if(!_2(e))throw new od(t,"an integer",e);const n=r?1:0,o=4294967295;if(e<n||e>o)throw new od(t,`>= ${n} && <= ${o}`,e)});function y2(e,t){if(typeof e!="string")throw new Fn(t,"string",e)}function KZe(e,t,r=void 0,n){if(typeof e!="number")throw new Fn(t,"number",e);if(r!=null&&e<r||n!=null&&e>n||(r!=null||n!=null)&&IZe(e))throw new od(t,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,e)}const JZe=mo((e,t,r)=>{if(!Rse(r,e)){const o="must be one of: "+xse(TZe(r,s=>typeof s=="string"?`'${s}'`:LZe(s)),", ");throw new kp(t,e,o)}});function Nse(e,t){if(typeof e!="boolean")throw new Fn(t,"boolean",e)}function w2(e,t,r){return e==null||!OZe(e,t)?r:e[t]}const YZe=mo((e,t,r=null)=>{const n=w2(r,"allowArray",!1),o=w2(r,"allowFunction",!1);if(!w2(r,"nullable",!1)&&e===null||!n&&g2(e)||typeof e!="object"&&(!o||typeof e!="function"))throw new Fn(t,"Object",e)}),XZe=mo((e,t)=>{if(e!=null&&typeof e!="object"&&typeof e!="function")throw new Fn(t,"a dictionary",e)}),gE=mo((e,t,r=0)=>{if(!g2(e))throw new Fn(t,"Array",e);if(e.length<r){const n=`must be longer than ${r}`;throw new kp(t,e,n)}});function QZe(e,t){gE(e,t);for(let r=0;r<e.length;r++)y2(e[r],`${t}[${r}]`)}function ZZe(e,t){gE(e,t);for(let r=0;r<e.length;r++)Nse(e[r],`${t}[${r}]`)}function eet(e,t){gE(e,t);for(let r=0;r<e.length;r++){const n=e[r],o=`${t}[${r}]`;if(n==null)throw new Fn(o,"AbortSignal",n);kse(n,o)}}function tet(e,t="signal"){if(y2(e,t),Tse[e]===void 0)throw Tse[DZe(e)]!==void 0?new $se(e+" (signals must use all capital letters)"):new $se(e)}const ret=mo((e,t="buffer")=>{if(!WZe(e))throw new Fn(t,["Buffer","TypedArray","DataView"],e)});function net(e,t){const r=FZe(t),n=e.length;if(r==="hex"&&n%2!==0)throw new kp("encoding",t,`is invalid for data of length ${n}`)}function iet(e,t="Port",r=!0){if(typeof e!="number"&&typeof e!="string"||typeof e=="string"&&MZe(e).length===0||+e!==+e>>>0||e>65535||e===0&&!r)throw new PZe(t,e,r);return e|0}const kse=mo((e,t)=>{if(e!==void 0&&(e===null||typeof e!="object"||!("aborted"in e)))throw new Fn(t,"AbortSignal",e)}),oet=mo((e,t)=>{if(typeof e!="function")throw new Fn(t,"Function",e)}),set=mo((e,t)=>{if(typeof e!="function"||jZe(e))throw new Fn(t,"Function",e)}),aet=mo((e,t)=>{if(e!==void 0)throw new Fn(t,"undefined",e)});function uet(e,t,r){if(!Rse(r,e))throw new Fn(t,`('${xse(r,"|")}')`,e)}const fet=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function Cse(e,t){if(typeof e>"u"||!Ase(fet,e))throw new kp(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function cet(e){if(typeof e=="string")return Cse(e,"hints"),e;if(g2(e)){const t=e.length;let r="";if(t===0)return r;for(let n=0;n<t;n++){const o=e[n];Cse(o,"hints"),r+=o,n!==t-1&&(r+=", ")}return r}throw new kp("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}var V_={isInt32:BZe,isUint32:UZe,parseFileMode:VZe,validateArray:gE,validateStringArray:QZe,validateBooleanArray:ZZe,validateAbortSignalArray:eet,validateBoolean:Nse,validateBuffer:ret,validateDictionary:XZe,validateEncoding:net,validateFunction:oet,validateInt32:zZe,validateInteger:GZe,validateNumber:KZe,validateObject:YZe,validateOneOf:JZe,validatePlainFunction:set,validatePort:iet,validateSignalName:tet,validateString:y2,validateUint32:Ise,validateUndefined:aet,validateUnion:uet,validateAbortSignal:kse,validateLinkHeaderValue:cet},m2={exports:{}};const{SymbolAsyncIterator:Ose,SymbolIterator:Lse,SymbolFor:sd}=Ir,Dse=sd("nodejs.stream.destroyed"),Mse=sd("nodejs.stream.errored"),v2=sd("nodejs.stream.readable"),S2=sd("nodejs.stream.writable"),Pse=sd("nodejs.stream.disturbed"),det=sd("nodejs.webstream.isClosedPromise"),het=sd("nodejs.webstream.controllerErrorFunction");function _E(e,t=!1){var r;return!!(e&&typeof e.pipe=="function"&&typeof e.on=="function"&&(!t||typeof e.pause=="function"&&typeof e.resume=="function")&&(!e._writableState||((r=e._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!e._writableState||e._readableState))}function yE(e){var t;return!!(e&&typeof e.write=="function"&&typeof e.on=="function"&&(!e._readableState||((t=e._writableState)===null||t===void 0?void 0:t.writable)!==!1))}function pet(e){return!!(e&&typeof e.pipe=="function"&&e._readableState&&typeof e.on=="function"&&typeof e.write=="function")}function Zs(e){return e&&(e._readableState||e._writableState||typeof e.write=="function"&&typeof e.on=="function"||typeof e.pipe=="function"&&typeof e.on=="function")}function Fse(e){return!!(e&&!Zs(e)&&typeof e.pipeThrough=="function"&&typeof e.getReader=="function"&&typeof e.cancel=="function")}function jse(e){return!!(e&&!Zs(e)&&typeof e.getWriter=="function"&&typeof e.abort=="function")}function Wse(e){return!!(e&&!Zs(e)&&typeof e.readable=="object"&&typeof e.writable=="object")}function bet(e){return Fse(e)||jse(e)||Wse(e)}function get(e,t){return e==null?!1:t===!0?typeof e[Ose]=="function":t===!1?typeof e[Lse]=="function":typeof e[Ose]=="function"||typeof e[Lse]=="function"}function wE(e){if(!Zs(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[Dse]||n!=null&&n.destroyed)}function Bse(e){if(!yE(e))return null;if(e.writableEnded===!0)return!0;const t=e._writableState;return t!=null&&t.errored?!1:typeof(t==null?void 0:t.ended)!="boolean"?null:t.ended}function _et(e,t){if(!yE(e))return null;if(e.writableFinished===!0)return!0;const r=e._writableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.finished)!="boolean"?null:!!(r.finished||t===!1&&r.ended===!0&&r.length===0)}function yet(e){if(!_E(e))return null;if(e.readableEnded===!0)return!0;const t=e._readableState;return!t||t.errored?!1:typeof(t==null?void 0:t.ended)!="boolean"?null:t.ended}function Use(e,t){if(!_E(e))return null;const r=e._readableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.endEmitted)!="boolean"?null:!!(r.endEmitted||t===!1&&r.ended===!0&&r.length===0)}function qse(e){return e&&e[v2]!=null?e[v2]:typeof(e==null?void 0:e.readable)!="boolean"?null:wE(e)?!1:_E(e)&&e.readable&&!Use(e)}function Hse(e){return e&&e[S2]!=null?e[S2]:typeof(e==null?void 0:e.writable)!="boolean"?null:wE(e)?!1:yE(e)&&e.writable&&!Bse(e)}function wet(e,t){return Zs(e)?wE(e)?!0:!((t==null?void 0:t.readable)!==!1&&qse(e)||(t==null?void 0:t.writable)!==!1&&Hse(e)):null}function met(e){var t,r;return Zs(e)?e.writableErrored?e.writableErrored:(t=(r=e._writableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}function vet(e){var t,r;return Zs(e)?e.readableErrored?e.readableErrored:(t=(r=e._readableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}function Eet(e){if(!Zs(e))return null;if(typeof e.closed=="boolean")return e.closed;const t=e._writableState,r=e._readableState;return typeof(t==null?void 0:t.closed)=="boolean"||typeof(r==null?void 0:r.closed)=="boolean"?(t==null?void 0:t.closed)||(r==null?void 0:r.closed):typeof e._closed=="boolean"&&Vse(e)?e._closed:null}function Vse(e){return typeof e._closed=="boolean"&&typeof e._defaultKeepAlive=="boolean"&&typeof e._removedConnection=="boolean"&&typeof e._removedContLen=="boolean"}function Gse(e){return typeof e._sent100=="boolean"&&Vse(e)}function Ret(e){var t;return typeof e._consuming=="boolean"&&typeof e._dumped=="boolean"&&((t=e.req)===null||t===void 0?void 0:t.upgradeOrConnect)===void 0}function xet(e){if(!Zs(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!n&&Gse(e)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function Aet(e){var t;return!!(e&&((t=e[Pse])!==null&&t!==void 0?t:e.readableDidRead||e.readableAborted))}function $et(e){var t,r,n,o,s,a,l,f,u,d;return!!(e&&((t=(r=(n=(o=(s=(a=e[Mse])!==null&&a!==void 0?a:e.readableErrored)!==null&&s!==void 0?s:e.writableErrored)!==null&&o!==void 0?o:(l=e._readableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&n!==void 0?n:(f=e._writableState)===null||f===void 0?void 0:f.errorEmitted)!==null&&r!==void 0?r:(u=e._readableState)===null||u===void 0?void 0:u.errored)!==null&&t!==void 0?t:!((d=e._writableState)===null||d===void 0)&&d.errored))}var fl={isDestroyed:wE,kIsDestroyed:Dse,isDisturbed:Aet,kIsDisturbed:Pse,isErrored:$et,kIsErrored:Mse,isReadable:qse,kIsReadable:v2,kIsClosedPromise:det,kControllerErrorFunction:het,kIsWritable:S2,isClosed:Eet,isDuplexNodeStream:pet,isFinished:wet,isIterable:get,isReadableNodeStream:_E,isReadableStream:Fse,isReadableEnded:yet,isReadableFinished:Use,isReadableErrored:vet,isNodeStream:Zs,isWebStream:bet,isWritable:Hse,isWritableNodeStream:yE,isWritableStream:jse,isWritableEnded:Bse,isWritableFinished:_et,isWritableErrored:met,isServerRequest:Ret,isServerResponse:Gse,willEmitClose:xet,isTransformStream:Wse};const Fu=Qe,{AbortError:zse,codes:Tet}=ki,{ERR_INVALID_ARG_TYPE:Iet,ERR_STREAM_PREMATURE_CLOSE:Kse}=Tet,{kEmptyObject:E2,once:R2}=li,{validateAbortSignal:Net,validateFunction:ket,validateObject:Cet,validateBoolean:Oet}=V_,{Promise:Let,PromisePrototypeThen:Det,SymbolDispose:Jse}=Ir,{isClosed:Met,isReadable:Yse,isReadableNodeStream:x2,isReadableStream:Pet,isReadableFinished:Xse,isReadableErrored:Qse,isWritable:Zse,isWritableNodeStream:eae,isWritableStream:Fet,isWritableFinished:tae,isWritableErrored:rae,isNodeStream:jet,willEmitClose:Wet,kIsClosedPromise:Bet}=fl;let Cp;function Uet(e){return e.setHeader&&typeof e.abort=="function"}const A2=()=>{};function nae(e,t,r){var n,o;if(arguments.length===2?(r=t,t=E2):t==null?t=E2:Cet(t,"options"),ket(r,"callback"),Net(t.signal,"options.signal"),r=R2(r),Pet(e)||Fet(e))return qet(e,t,r);if(!jet(e))throw new Iet("stream",["ReadableStream","WritableStream","Stream"],e);const s=(n=t.readable)!==null&&n!==void 0?n:x2(e),a=(o=t.writable)!==null&&o!==void 0?o:eae(e),l=e._writableState,f=e._readableState,u=()=>{e.writable||h()};let d=Wet(e)&&x2(e)===s&&eae(e)===a,g=tae(e,!1);const h=()=>{g=!0,e.destroyed&&(d=!1),!(d&&(!e.readable||s))&&(!s||p)&&r.call(e)};let p=Xse(e,!1);const w=()=>{p=!0,e.destroyed&&(d=!1),!(d&&(!e.writable||a))&&(!a||g)&&r.call(e)},y=$=>{r.call(e,$)};let v=Met(e);const E=()=>{v=!0;const $=rae(e)||Qse(e);if($&&typeof $!="boolean")return r.call(e,$);if(s&&!p&&x2(e,!0)&&!Xse(e,!1))return r.call(e,new Kse);if(a&&!g&&!tae(e,!1))return r.call(e,new Kse);r.call(e)},x=()=>{v=!0;const $=rae(e)||Qse(e);if($&&typeof $!="boolean")return r.call(e,$);r.call(e)},S=()=>{e.req.on("finish",h)};Uet(e)?(e.on("complete",h),d||e.on("abort",E),e.req?S():e.on("request",S)):a&&!l&&(e.on("end",u),e.on("close",u)),!d&&typeof e.aborted=="boolean"&&e.on("aborted",E),e.on("end",w),e.on("finish",h),t.error!==!1&&e.on("error",y),e.on("close",E),v?Fu.nextTick(E):l!=null&&l.errorEmitted||f!=null&&f.errorEmitted?d||Fu.nextTick(x):(!s&&(!d||Yse(e))&&(g||Zse(e)===!1)||!a&&(!d||Zse(e))&&(p||Yse(e)===!1)||f&&e.req&&e.aborted)&&Fu.nextTick(x);const N=()=>{r=A2,e.removeListener("aborted",E),e.removeListener("complete",h),e.removeListener("abort",E),e.removeListener("request",S),e.req&&e.req.removeListener("finish",h),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",h),e.removeListener("end",w),e.removeListener("error",y),e.removeListener("close",E)};if(t.signal&&!v){const $=()=>{const D=r;N(),D.call(e,new zse(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)Fu.nextTick($);else{Cp=Cp||li.addAbortListener;const D=Cp(t.signal,$),K=r;r=R2((...q)=>{D[Jse](),K.apply(e,q)})}}return N}function qet(e,t,r){let n=!1,o=A2;if(t.signal)if(o=()=>{n=!0,r.call(e,new zse(void 0,{cause:t.signal.reason}))},t.signal.aborted)Fu.nextTick(o);else{Cp=Cp||li.addAbortListener;const a=Cp(t.signal,o),l=r;r=R2((...f)=>{a[Jse](),l.apply(e,f)})}const s=(...a)=>{n||Fu.nextTick(()=>r.apply(e,a))};return Det(e[Bet].promise,s,s),A2}function Het(e,t){var r;let n=!1;return t===null&&(t=E2),(r=t)!==null&&r!==void 0&&r.cleanup&&(Oet(t.cleanup,"cleanup"),n=t.cleanup),new Let((o,s)=>{const a=nae(e,t,l=>{n&&a(),l?s(l):o()})})}m2.exports=nae,m2.exports.finished=Het;var ju=m2.exports;const ea=Qe,{aggregateTwoErrors:Vet,codes:{ERR_MULTIPLE_CALLBACK:Get},AbortError:zet}=ki,{Symbol:iae}=Ir,{kIsDestroyed:Ket,isDestroyed:Jet,isFinished:Yet,isServerRequest:Xet}=fl,oae=iae("kDestroy"),$2=iae("kConstruct");function sae(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function Qet(e,t){const r=this._readableState,n=this._writableState,o=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof t=="function"&&t(),this):(sae(e,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),o.constructed?aae(this,e,t):this.once(oae,function(s){aae(this,Vet(s,e),t)}),this)}function aae(e,t,r){let n=!1;function o(s){if(n)return;n=!0;const a=e._readableState,l=e._writableState;sae(s,l,a),l&&(l.closed=!0),a&&(a.closed=!0),typeof r=="function"&&r(s),s?ea.nextTick(Zet,e,s):ea.nextTick(lae,e)}try{e._destroy(t||null,o)}catch(s){o(s)}}function Zet(e,t){T2(e,t),lae(e)}function lae(e){const t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(r!=null&&r.emitClose||t!=null&&t.emitClose)&&e.emit("close")}function T2(e,t){const r=e._readableState,n=e._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function ett(){const e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=e.readable===!1,e.endEmitted=e.readable===!1),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=t.writable===!1,t.ending=t.writable===!1,t.finished=t.writable===!1)}function I2(e,t,r){const n=e._readableState,o=e._writableState;if(o!=null&&o.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||o!=null&&o.autoDestroy?e.destroy(t):t&&(t.stack,o&&!o.errored&&(o.errored=t),n&&!n.errored&&(n.errored=t),r?ea.nextTick(T2,e,t):T2(e,t))}function ttt(e,t){if(typeof e._construct!="function")return;const r=e._readableState,n=e._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),e.once($2,t),!(e.listenerCount($2)>1)&&ea.nextTick(rtt,e)}function rtt(e){let t=!1;function r(n){if(t){I2(e,n??new Get);return}t=!0;const o=e._readableState,s=e._writableState,a=s||o;o&&(o.constructed=!0),s&&(s.constructed=!0),a.destroyed?e.emit(oae,n):n?I2(e,n,!0):ea.nextTick(ntt,e)}try{e._construct(n=>{ea.nextTick(r,n)})}catch(n){ea.nextTick(r,n)}}function ntt(e){e.emit($2)}function uae(e){return(e==null?void 0:e.setHeader)&&typeof e.abort=="function"}function fae(e){e.emit("close")}function itt(e,t){e.emit("error",t),ea.nextTick(fae,e)}function ott(e,t){!e||Jet(e)||(!t&&!Yet(e)&&(t=new zet),Xet(e)?(e.socket=null,e.destroy(t)):uae(e)?e.abort():uae(e.req)?e.req.abort():typeof e.destroy=="function"?e.destroy(t):typeof e.close=="function"?e.close():t?ea.nextTick(itt,e,t):ea.nextTick(fae,e),e.destroyed||(e[Ket]=!0))}var Op={construct:ttt,destroyer:ott,destroy:Qet,undestroy:ett,errorOrDestroy:I2};const{ArrayIsArray:stt,ObjectSetPrototypeOf:cae}=Ir,{EventEmitter:mE}=$t;function vE(e){mE.call(this,e)}cae(vE.prototype,mE.prototype),cae(vE,mE),vE.prototype.pipe=function(e,t){const r=this;function n(d){e.writable&&e.write(d)===!1&&r.pause&&r.pause()}r.on("data",n);function o(){r.readable&&r.resume&&r.resume()}e.on("drain",o),!e._isStdio&&(!t||t.end!==!1)&&(r.on("end",a),r.on("close",l));let s=!1;function a(){s||(s=!0,e.end())}function l(){s||(s=!0,typeof e.destroy=="function"&&e.destroy())}function f(d){u(),mE.listenerCount(this,"error")===0&&this.emit("error",d)}N2(r,"error",f),N2(e,"error",f);function u(){r.removeListener("data",n),e.removeListener("drain",o),r.removeListener("end",a),r.removeListener("close",l),r.removeListener("error",f),e.removeListener("error",f),r.removeListener("end",u),r.removeListener("close",u),e.removeListener("close",u)}return r.on("end",u),r.on("close",u),e.on("close",u),e.emit("pipe",r),e};function N2(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):stt(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}var k2={Stream:vE,prependListener:N2},dae={exports:{}};(function(e){const{SymbolDispose:t}=Ir,{AbortError:r,codes:n}=ki,{isNodeStream:o,isWebStream:s,kControllerErrorFunction:a}=fl,l=ju,{ERR_INVALID_ARG_TYPE:f}=n;let u;const d=(g,h)=>{if(typeof g!="object"||!("aborted"in g))throw new f(h,"AbortSignal",g)};e.exports.addAbortSignal=function(h,p){if(d(h,"signal"),!o(p)&&!s(p))throw new f("stream",["ReadableStream","WritableStream","Stream"],p);return e.exports.addAbortSignalNoValidate(h,p)},e.exports.addAbortSignalNoValidate=function(g,h){if(typeof g!="object"||!("aborted"in g))return h;const p=o(h)?()=>{h.destroy(new r(void 0,{cause:g.reason}))}:()=>{h[a](new r(void 0,{cause:g.reason}))};if(g.aborted)p();else{u=u||li.addAbortListener;const w=u(g,p);l(h,w[t])}return h}})(dae);var SE=dae.exports;const{StringPrototypeSlice:hae,SymbolIterator:att,TypedArrayPrototypeSet:EE,Uint8Array:ltt}=Ir,{Buffer:C2}=Ge,{inspect:utt}=li;var ftt=class{constructor(){this.head=null,this.tail=null,this.length=0}push(t){const r={data:t,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(t){const r={data:t,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;const t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=t+r.data;return n}concat(t){if(this.length===0)return C2.alloc(0);const r=C2.allocUnsafe(t>>>0);let n=this.head,o=0;for(;n;)EE(r,n.data,o),o+=n.data.length,n=n.next;return r}consume(t,r){const n=this.head.data;if(t<n.length){const o=n.slice(0,t);return this.head.data=n.slice(t),o}return t===n.length?this.shift():r?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[att](){for(let t=this.head;t;t=t.next)yield t.data}_getString(t){let r="",n=this.head,o=0;do{const s=n.data;if(t>s.length)r+=s,t-=s.length;else{t===s.length?(r+=s,++o,n.next?this.head=n.next:this.head=this.tail=null):(r+=hae(s,0,t),this.head=n,n.data=hae(s,t));break}++o}while((n=n.next)!==null);return this.length-=o,r}_getBuffer(t){const r=C2.allocUnsafe(t),n=t;let o=this.head,s=0;do{const a=o.data;if(t>a.length)EE(r,a,n-t),t-=a.length;else{t===a.length?(EE(r,a,n-t),++s,o.next?this.head=o.next:this.head=this.tail=null):(EE(r,new ltt(a.buffer,a.byteOffset,t),n-t),this.head=o,o.data=a.slice(t));break}++s}while((o=o.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](t,r){return utt(this,{...r,depth:0,customInspect:!1})}};const{MathFloor:ctt,NumberIsInteger:dtt}=Ir,{validateInteger:htt}=V_,{ERR_INVALID_ARG_VALUE:ptt}=ki.codes;let pae=16*1024,bae=16;function btt(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function gae(e){return e?bae:pae}function gtt(e,t){htt(t,"value",0),e?bae=t:pae=t}function _tt(e,t,r,n){const o=btt(t,n,r);if(o!=null){if(!dtt(o)||o<0){const s=n?`options.${r}`:"options.highWaterMark";throw new ptt(s,o)}return ctt(o)}return gae(e.objectMode)}var RE={getHighWaterMark:_tt,getDefaultHighWaterMark:gae,setDefaultHighWaterMark:gtt};const _ae=Qe,{PromisePrototypeThen:ytt,SymbolAsyncIterator:yae,SymbolIterator:wae}=Ir,{Buffer:wtt}=Ge,{ERR_INVALID_ARG_TYPE:mtt,ERR_STREAM_NULL_VALUES:vtt}=ki.codes;function Stt(e,t,r){let n;if(typeof t=="string"||t instanceof wtt)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});let o;if(t&&t[yae])o=!0,n=t[yae]();else if(t&&t[wae])o=!1,n=t[wae]();else throw new mtt("iterable",["Iterable"],t);const s=new e({objectMode:!0,highWaterMark:1,...r});let a=!1;s._read=function(){a||(a=!0,f())},s._destroy=function(u,d){ytt(l(u),()=>_ae.nextTick(d,u),g=>_ae.nextTick(d,g||u))};async function l(u){const d=u!=null,g=typeof n.throw=="function";if(d&&g){const{value:h,done:p}=await n.throw(u);if(await h,p)return}if(typeof n.return=="function"){const{value:h}=await n.return();await h}}async function f(){for(;;){try{const{value:u,done:d}=o?await n.next():n.next();if(d)s.push(null);else{const g=u&&typeof u.then=="function"?await u:u;if(g===null)throw a=!1,new vtt;if(s.push(g))continue;a=!1}}catch(u){s.destroy(u)}break}}return s}var mae=Stt,O2,vae;function xE(){if(vae)return O2;vae=1;const e=Qe,{ArrayPrototypeIndexOf:t,NumberIsInteger:r,NumberIsNaN:n,NumberParseInt:o,ObjectDefineProperties:s,ObjectKeys:a,ObjectSetPrototypeOf:l,Promise:f,SafeSet:u,SymbolAsyncDispose:d,SymbolAsyncIterator:g,Symbol:h}=Ir;O2=F,F.ReadableState=ye;const{EventEmitter:p}=$t,{Stream:w,prependListener:y}=k2,{Buffer:v}=Ge,{addAbortSignal:E}=SE,x=ju;let S=li.debuglog("stream",c=>{S=c});const N=ftt,$=Op,{getHighWaterMark:D,getDefaultHighWaterMark:K}=RE,{aggregateTwoErrors:q,codes:{ERR_INVALID_ARG_TYPE:k,ERR_METHOD_NOT_IMPLEMENTED:V,ERR_OUT_OF_RANGE:j,ERR_STREAM_PUSH_AFTER_EOF:B,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:A},AbortError:U}=ki,{validateObject:G}=V_,H=h("kPaused"),{StringDecoder:Q}=Fi(),ne=mae;l(F.prototype,w.prototype),l(F,w);const se=()=>{},{errorOrDestroy:ae}=$,Z=1,ge=2,W=4,ue=8,xe=16,he=32,le=64,_e=128,Ae=256,We=512,ie=1024,te=2048,_=4096,m=8192,R=16384,O=32768,C=65536,X=1<<17,re=1<<18;function J(c){return{enumerable:!1,get(){return(this.state&c)!==0},set(b){b?this.state|=c:this.state&=~c}}}s(ye.prototype,{objectMode:J(Z),ended:J(ge),endEmitted:J(W),reading:J(ue),constructed:J(xe),sync:J(he),needReadable:J(le),emittedReadable:J(_e),readableListening:J(Ae),resumeScheduled:J(We),errorEmitted:J(ie),emitClose:J(te),autoDestroy:J(_),destroyed:J(m),closed:J(R),closeEmitted:J(O),multiAwaitDrain:J(C),readingMore:J(X),dataEmitted:J(re)});function ye(c,b,I){typeof I!="boolean"&&(I=b instanceof cl()),this.state=te|_|xe|he,c&&c.objectMode&&(this.state|=Z),I&&c&&c.readableObjectMode&&(this.state|=Z),this.highWaterMark=c?D(this,c,"readableHighWaterMark",I):K(!1),this.buffer=new N,this.length=0,this.pipes=[],this.flowing=null,this[H]=null,c&&c.emitClose===!1&&(this.state&=~te),c&&c.autoDestroy===!1&&(this.state&=~_),this.errored=null,this.defaultEncoding=c&&c.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,c&&c.encoding&&(this.decoder=new Q(c.encoding),this.encoding=c.encoding)}function F(c){if(!(this instanceof F))return new F(c);const b=this instanceof cl();this._readableState=new ye(c,this,b),c&&(typeof c.read=="function"&&(this._read=c.read),typeof c.destroy=="function"&&(this._destroy=c.destroy),typeof c.construct=="function"&&(this._construct=c.construct),c.signal&&!b&&E(c.signal,this)),w.call(this,c),$.construct(this,()=>{this._readableState.needReadable&&ce(this,this._readableState)})}F.prototype.destroy=$.destroy,F.prototype._undestroy=$.undestroy,F.prototype._destroy=function(c,b){b(c)},F.prototype[p.captureRejectionSymbol]=function(c){this.destroy(c)},F.prototype[d]=function(){let c;return this.destroyed||(c=this.readableEnded?null:new U,this.destroy(c)),new f((b,I)=>x(this,T=>T&&T!==c?I(T):b(null)))},F.prototype.push=function(c,b){return we(this,c,b,!1)},F.prototype.unshift=function(c,b){return we(this,c,b,!0)};function we(c,b,I,T){S("readableAddChunk",b);const P=c._readableState;let Ee;if(P.state&Z||(typeof b=="string"?(I=I||P.defaultEncoding,P.encoding!==I&&(T&&P.encoding?b=v.from(b,I).toString(P.encoding):(b=v.from(b,I),I=""))):b instanceof v?I="":w._isUint8Array(b)?(b=w._uint8ArrayToBuffer(b),I=""):b!=null&&(Ee=new k("chunk",["string","Buffer","Uint8Array"],b))),Ee)ae(c,Ee);else if(b===null)P.state&=~ue,L(c,P);else if(P.state&Z||b&&b.length>0)if(T)if(P.state&W)ae(c,new A);else{if(P.destroyed||P.errored)return!1;Ce(c,P,b,!0)}else if(P.ended)ae(c,new B);else{if(P.destroyed||P.errored)return!1;P.state&=~ue,P.decoder&&!I?(b=P.decoder.write(b),P.objectMode||b.length!==0?Ce(c,P,b,!1):ce(c,P)):Ce(c,P,b,!1)}else T||(P.state&=~ue,ce(c,P));return!P.ended&&(P.length<P.highWaterMark||P.length===0)}function Ce(c,b,I,T){b.flowing&&b.length===0&&!b.sync&&c.listenerCount("data")>0?(b.state&C?b.awaitDrainWriters.clear():b.awaitDrainWriters=null,b.dataEmitted=!0,c.emit("data",I)):(b.length+=b.objectMode?1:I.length,T?b.buffer.unshift(I):b.buffer.push(I),b.state&le&&M(c)),ce(c,b)}F.prototype.isPaused=function(){const c=this._readableState;return c[H]===!0||c.flowing===!1},F.prototype.setEncoding=function(c){const b=new Q(c);this._readableState.decoder=b,this._readableState.encoding=this._readableState.decoder.encoding;const I=this._readableState.buffer;let T="";for(const P of I)T+=b.write(P);return I.clear(),T!==""&&I.push(T),this._readableState.length=T.length,this};const Me=1073741824;function Ue(c){if(c>Me)throw new j("size","<= 1GiB",c);return c--,c|=c>>>1,c|=c>>>2,c|=c>>>4,c|=c>>>8,c|=c>>>16,c++,c}function z(c,b){return c<=0||b.length===0&&b.ended?0:b.state&Z?1:n(c)?b.flowing&&b.length?b.buffer.first().length:b.length:c<=b.length?c:b.ended?b.length:0}F.prototype.read=function(c){S("read",c),c===void 0?c=NaN:r(c)||(c=o(c,10));const b=this._readableState,I=c;if(c>b.highWaterMark&&(b.highWaterMark=Ue(c)),c!==0&&(b.state&=~_e),c===0&&b.needReadable&&((b.highWaterMark!==0?b.length>=b.highWaterMark:b.length>0)||b.ended))return S("read: emitReadable",b.length,b.ended),b.length===0&&b.ended?ht(this):M(this),null;if(c=z(c,b),c===0&&b.ended)return b.length===0&&ht(this),null;let T=(b.state&le)!==0;if(S("need readable",T),(b.length===0||b.length-c<b.highWaterMark)&&(T=!0,S("length less than watermark",T)),b.ended||b.reading||b.destroyed||b.errored||!b.constructed)T=!1,S("reading, ended or constructing",T);else if(T){S("do read"),b.state|=ue|he,b.length===0&&(b.state|=le);try{this._read(b.highWaterMark)}catch(Ee){ae(this,Ee)}b.state&=~he,b.reading||(c=z(I,b))}let P;return c>0?P=Mt(c,b):P=null,P===null?(b.needReadable=b.length<=b.highWaterMark,c=0):(b.length-=c,b.multiAwaitDrain?b.awaitDrainWriters.clear():b.awaitDrainWriters=null),b.length===0&&(b.ended||(b.needReadable=!0),I!==c&&b.ended&&ht(this)),P!==null&&!b.errorEmitted&&!b.closeEmitted&&(b.dataEmitted=!0,this.emit("data",P)),P};function L(c,b){if(S("onEofChunk"),!b.ended){if(b.decoder){const I=b.decoder.end();I&&I.length&&(b.buffer.push(I),b.length+=b.objectMode?1:I.length)}b.ended=!0,b.sync?M(c):(b.needReadable=!1,b.emittedReadable=!0,oe(c))}}function M(c){const b=c._readableState;S("emitReadable",b.needReadable,b.emittedReadable),b.needReadable=!1,b.emittedReadable||(S("emitReadable",b.flowing),b.emittedReadable=!0,e.nextTick(oe,c))}function oe(c){const b=c._readableState;S("emitReadable_",b.destroyed,b.length,b.ended),!b.destroyed&&!b.errored&&(b.length||b.ended)&&(c.emit("readable"),b.emittedReadable=!1),b.needReadable=!b.flowing&&!b.ended&&b.length<=b.highWaterMark,rt(c)}function ce(c,b){!b.readingMore&&b.constructed&&(b.readingMore=!0,e.nextTick(Se,c,b))}function Se(c,b){for(;!b.reading&&!b.ended&&(b.length<b.highWaterMark||b.flowing&&b.length===0);){const I=b.length;if(S("maybeReadMore read 0"),c.read(0),I===b.length)break}b.readingMore=!1}F.prototype._read=function(c){throw new V("_read()")},F.prototype.pipe=function(c,b){const I=this,T=this._readableState;T.pipes.length===1&&(T.multiAwaitDrain||(T.multiAwaitDrain=!0,T.awaitDrainWriters=new u(T.awaitDrainWriters?[T.awaitDrainWriters]:[]))),T.pipes.push(c),S("pipe count=%d opts=%j",T.pipes.length,b);const Ee=(!b||b.end!==!1)&&c!==e.stdout&&c!==e.stderr?de:Ke;T.endEmitted?e.nextTick(Ee):I.once("end",Ee),c.on("unpipe",$e);function $e(ke,Te){S("onunpipe"),ke===I&&Te&&Te.hasUnpiped===!1&&(Te.hasUnpiped=!0,Re())}function de(){S("onend"),c.end()}let ee,pe=!1;function Re(){S("cleanup"),c.removeListener("close",Ye),c.removeListener("finish",tt),ee&&c.removeListener("drain",ee),c.removeListener("error",Be),c.removeListener("unpipe",$e),I.removeListener("end",de),I.removeListener("end",Ke),I.removeListener("data",Ve),pe=!0,ee&&T.awaitDrainWriters&&(!c._writableState||c._writableState.needDrain)&&ee()}function me(){pe||(T.pipes.length===1&&T.pipes[0]===c?(S("false write response, pause",0),T.awaitDrainWriters=c,T.multiAwaitDrain=!1):T.pipes.length>1&&T.pipes.includes(c)&&(S("false write response, pause",T.awaitDrainWriters.size),T.awaitDrainWriters.add(c)),I.pause()),ee||(ee=ve(I,c),c.on("drain",ee))}I.on("data",Ve);function Ve(ke){S("ondata");const Te=c.write(ke);S("dest.write",Te),Te===!1&&me()}function Be(ke){if(S("onerror",ke),Ke(),c.removeListener("error",Be),c.listenerCount("error")===0){const Te=c._writableState||c._readableState;Te&&!Te.errorEmitted?ae(c,ke):c.emit("error",ke)}}y(c,"error",Be);function Ye(){c.removeListener("finish",tt),Ke()}c.once("close",Ye);function tt(){S("onfinish"),c.removeListener("close",Ye),Ke()}c.once("finish",tt);function Ke(){S("unpipe"),I.unpipe(c)}return c.emit("pipe",I),c.writableNeedDrain===!0?me():T.flowing||(S("pipe resume"),I.resume()),c};function ve(c,b){return function(){const T=c._readableState;T.awaitDrainWriters===b?(S("pipeOnDrain",1),T.awaitDrainWriters=null):T.multiAwaitDrain&&(S("pipeOnDrain",T.awaitDrainWriters.size),T.awaitDrainWriters.delete(b)),(!T.awaitDrainWriters||T.awaitDrainWriters.size===0)&&c.listenerCount("data")&&c.resume()}}F.prototype.unpipe=function(c){const b=this._readableState,I={hasUnpiped:!1};if(b.pipes.length===0)return this;if(!c){const P=b.pipes;b.pipes=[],this.pause();for(let Ee=0;Ee<P.length;Ee++)P[Ee].emit("unpipe",this,{hasUnpiped:!1});return this}const T=t(b.pipes,c);return T===-1?this:(b.pipes.splice(T,1),b.pipes.length===0&&this.pause(),c.emit("unpipe",this,I),this)},F.prototype.on=function(c,b){const I=w.prototype.on.call(this,c,b),T=this._readableState;return c==="data"?(T.readableListening=this.listenerCount("readable")>0,T.flowing!==!1&&this.resume()):c==="readable"&&!T.endEmitted&&!T.readableListening&&(T.readableListening=T.needReadable=!0,T.flowing=!1,T.emittedReadable=!1,S("on readable",T.length,T.reading),T.length?M(this):T.reading||e.nextTick(dt,this)),I},F.prototype.addListener=F.prototype.on,F.prototype.removeListener=function(c,b){const I=w.prototype.removeListener.call(this,c,b);return c==="readable"&&e.nextTick(ze,this),I},F.prototype.off=F.prototype.removeListener,F.prototype.removeAllListeners=function(c){const b=w.prototype.removeAllListeners.apply(this,arguments);return(c==="readable"||c===void 0)&&e.nextTick(ze,this),b};function ze(c){const b=c._readableState;b.readableListening=c.listenerCount("readable")>0,b.resumeScheduled&&b[H]===!1?b.flowing=!0:c.listenerCount("data")>0?c.resume():b.readableListening||(b.flowing=null)}function dt(c){S("readable nexttick read 0"),c.read(0)}F.prototype.resume=function(){const c=this._readableState;return c.flowing||(S("resume"),c.flowing=!c.readableListening,et(this,c)),c[H]=!1,this};function et(c,b){b.resumeScheduled||(b.resumeScheduled=!0,e.nextTick(Xe,c,b))}function Xe(c,b){S("resume",b.reading),b.reading||c.read(0),b.resumeScheduled=!1,c.emit("resume"),rt(c),b.flowing&&!b.reading&&c.read(0)}F.prototype.pause=function(){return S("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(S("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[H]=!0,this};function rt(c){const b=c._readableState;for(S("flow",b.flowing);b.flowing&&c.read()!==null;);}F.prototype.wrap=function(c){let b=!1;c.on("data",T=>{!this.push(T)&&c.pause&&(b=!0,c.pause())}),c.on("end",()=>{this.push(null)}),c.on("error",T=>{ae(this,T)}),c.on("close",()=>{this.destroy()}),c.on("destroy",()=>{this.destroy()}),this._read=()=>{b&&c.resume&&(b=!1,c.resume())};const I=a(c);for(let T=1;T<I.length;T++){const P=I[T];this[P]===void 0&&typeof c[P]=="function"&&(this[P]=c[P].bind(c))}return this},F.prototype[g]=function(){return Lt(this)},F.prototype.iterator=function(c){return c!==void 0&&G(c,"options"),Lt(this,c)};function Lt(c,b){typeof c.read!="function"&&(c=F.wrap(c,{objectMode:!0}));const I=vr(c,b);return I.stream=c,I}async function*vr(c,b){let I=se;function T($e){this===c?(I(),I=se):I=$e}c.on("readable",T);let P;const Ee=x(c,{writable:!1},$e=>{P=$e?q(P,$e):null,I(),I=se});try{for(;;){const $e=c.destroyed?null:c.read();if($e!==null)yield $e;else{if(P)throw P;if(P===null)return;await new f(T)}}}catch($e){throw P=q(P,$e),P}finally{(P||(b==null?void 0:b.destroyOnReturn)!==!1)&&(P===void 0||c._readableState.autoDestroy)?$.destroyer(c,null):(c.off("readable",T),Ee())}}s(F.prototype,{readable:{__proto__:null,get(){const c=this._readableState;return!!c&&c.readable!==!1&&!c.destroyed&&!c.errorEmitted&&!c.endEmitted},set(c){this._readableState&&(this._readableState.readable=!!c)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(c){this._readableState&&(this._readableState.flowing=c)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(c){this._readableState&&(this._readableState.destroyed=c)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),s(ye.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[H]!==!1},set(c){this[H]=!!c}}}),F._fromList=Mt;function Mt(c,b){if(b.length===0)return null;let I;return b.objectMode?I=b.buffer.shift():!c||c>=b.length?(b.decoder?I=b.buffer.join(""):b.buffer.length===1?I=b.buffer.first():I=b.buffer.concat(b.length),b.buffer.clear()):I=b.buffer.consume(c,b.decoder),I}function ht(c){const b=c._readableState;S("endReadable",b.endEmitted),b.endEmitted||(b.ended=!0,e.nextTick(wr,b,c))}function wr(c,b){if(S("endReadableNT",c.endEmitted,c.length),!c.errored&&!c.closeEmitted&&!c.endEmitted&&c.length===0){if(c.endEmitted=!0,b.emit("end"),b.writable&&b.allowHalfOpen===!1)e.nextTick(rr,b);else if(c.autoDestroy){const I=b._writableState;(!I||I.autoDestroy&&(I.finished||I.writable===!1))&&b.destroy()}}}function rr(c){c.writable&&!c.writableEnded&&!c.destroyed&&c.end()}F.from=function(c,b){return ne(F,c,b)};let _t;function jt(){return _t===void 0&&(_t={}),_t}return F.fromWeb=function(c,b){return jt().newStreamReadableFromReadableStream(c,b)},F.toWeb=function(c,b){return jt().newReadableStreamFromStreamReadable(c,b)},F.wrap=function(c,b){var I,T;return new F({objectMode:(I=(T=c.readableObjectMode)!==null&&T!==void 0?T:c.objectMode)!==null&&I!==void 0?I:!0,...b,destroy(P,Ee){$.destroyer(c,P),Ee(P)}}).wrap(c)},O2}var L2,Sae;function D2(){if(Sae)return L2;Sae=1;const e=Qe,{ArrayPrototypeSlice:t,Error:r,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:o,ObjectDefineProperties:s,ObjectSetPrototypeOf:a,StringPrototypeToLowerCase:l,Symbol:f,SymbolHasInstance:u}=Ir;L2=G,G.WritableState=A;const{EventEmitter:d}=$t,g=k2.Stream,{Buffer:h}=Ge,p=Op,{addAbortSignal:w}=SE,{getHighWaterMark:y,getDefaultHighWaterMark:v}=RE,{ERR_INVALID_ARG_TYPE:E,ERR_METHOD_NOT_IMPLEMENTED:x,ERR_MULTIPLE_CALLBACK:S,ERR_STREAM_CANNOT_PIPE:N,ERR_STREAM_DESTROYED:$,ERR_STREAM_ALREADY_FINISHED:D,ERR_STREAM_NULL_VALUES:K,ERR_STREAM_WRITE_AFTER_END:q,ERR_UNKNOWN_ENCODING:k}=ki.codes,{errorOrDestroy:V}=p;a(G.prototype,g.prototype),a(G,g);function j(){}const B=f("kOnFinished");function A(_,m,R){typeof R!="boolean"&&(R=m instanceof cl()),this.objectMode=!!(_&&_.objectMode),R&&(this.objectMode=this.objectMode||!!(_&&_.writableObjectMode)),this.highWaterMark=_?y(this,_,"writableHighWaterMark",R):v(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const O=!!(_&&_.decodeStrings===!1);this.decodeStrings=!O,this.defaultEncoding=_&&_.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=ae.bind(void 0,m),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,U(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!_||_.emitClose!==!1,this.autoDestroy=!_||_.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[B]=[]}function U(_){_.buffered=[],_.bufferedIndex=0,_.allBuffers=!0,_.allNoop=!0}A.prototype.getBuffer=function(){return t(this.buffered,this.bufferedIndex)},o(A.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function G(_){const m=this instanceof cl();if(!m&&!n(G,this))return new G(_);this._writableState=new A(_,this,m),_&&(typeof _.write=="function"&&(this._write=_.write),typeof _.writev=="function"&&(this._writev=_.writev),typeof _.destroy=="function"&&(this._destroy=_.destroy),typeof _.final=="function"&&(this._final=_.final),typeof _.construct=="function"&&(this._construct=_.construct),_.signal&&w(_.signal,this)),g.call(this,_),p.construct(this,()=>{const R=this._writableState;R.writing||ue(this,R),_e(this,R)})}o(G,u,{__proto__:null,value:function(_){return n(this,_)?!0:this!==G?!1:_&&_._writableState instanceof A}}),G.prototype.pipe=function(){V(this,new N)};function H(_,m,R,O){const C=_._writableState;if(typeof R=="function")O=R,R=C.defaultEncoding;else{if(!R)R=C.defaultEncoding;else if(R!=="buffer"&&!h.isEncoding(R))throw new k(R);typeof O!="function"&&(O=j)}if(m===null)throw new K;if(!C.objectMode)if(typeof m=="string")C.decodeStrings!==!1&&(m=h.from(m,R),R="buffer");else if(m instanceof h)R="buffer";else if(g._isUint8Array(m))m=g._uint8ArrayToBuffer(m),R="buffer";else throw new E("chunk",["string","Buffer","Uint8Array"],m);let X;return C.ending?X=new q:C.destroyed&&(X=new $("write")),X?(e.nextTick(O,X),V(_,X,!0),X):(C.pendingcb++,Q(_,C,m,R,O))}G.prototype.write=function(_,m,R){return H(this,_,m,R)===!0},G.prototype.cork=function(){this._writableState.corked++},G.prototype.uncork=function(){const _=this._writableState;_.corked&&(_.corked--,_.writing||ue(this,_))},G.prototype.setDefaultEncoding=function(m){if(typeof m=="string"&&(m=l(m)),!h.isEncoding(m))throw new k(m);return this._writableState.defaultEncoding=m,this};function Q(_,m,R,O,C){const X=m.objectMode?1:R.length;m.length+=X;const re=m.length<m.highWaterMark;return re||(m.needDrain=!0),m.writing||m.corked||m.errored||!m.constructed?(m.buffered.push({chunk:R,encoding:O,callback:C}),m.allBuffers&&O!=="buffer"&&(m.allBuffers=!1),m.allNoop&&C!==j&&(m.allNoop=!1)):(m.writelen=X,m.writecb=C,m.writing=!0,m.sync=!0,_._write(R,O,m.onwrite),m.sync=!1),re&&!m.errored&&!m.destroyed}function ne(_,m,R,O,C,X,re){m.writelen=O,m.writecb=re,m.writing=!0,m.sync=!0,m.destroyed?m.onwrite(new $("write")):R?_._writev(C,m.onwrite):_._write(C,X,m.onwrite),m.sync=!1}function se(_,m,R,O){--m.pendingcb,O(R),W(m),V(_,R)}function ae(_,m){const R=_._writableState,O=R.sync,C=R.writecb;if(typeof C!="function"){V(_,new S);return}R.writing=!1,R.writecb=null,R.length-=R.writelen,R.writelen=0,m?(m.stack,R.errored||(R.errored=m),_._readableState&&!_._readableState.errored&&(_._readableState.errored=m),O?e.nextTick(se,_,R,m,C):se(_,R,m,C)):(R.buffered.length>R.bufferedIndex&&ue(_,R),O?R.afterWriteTickInfo!==null&&R.afterWriteTickInfo.cb===C?R.afterWriteTickInfo.count++:(R.afterWriteTickInfo={count:1,cb:C,stream:_,state:R},e.nextTick(Z,R.afterWriteTickInfo)):ge(_,R,1,C))}function Z({stream:_,state:m,count:R,cb:O}){return m.afterWriteTickInfo=null,ge(_,m,R,O)}function ge(_,m,R,O){for(!m.ending&&!_.destroyed&&m.length===0&&m.needDrain&&(m.needDrain=!1,_.emit("drain"));R-- >0;)m.pendingcb--,O();m.destroyed&&W(m),_e(_,m)}function W(_){if(_.writing)return;for(let C=_.bufferedIndex;C<_.buffered.length;++C){var m;const{chunk:X,callback:re}=_.buffered[C],J=_.objectMode?1:X.length;_.length-=J,re((m=_.errored)!==null&&m!==void 0?m:new $("write"))}const R=_[B].splice(0);for(let C=0;C<R.length;C++){var O;R[C]((O=_.errored)!==null&&O!==void 0?O:new $("end"))}U(_)}function ue(_,m){if(m.corked||m.bufferProcessing||m.destroyed||!m.constructed)return;const{buffered:R,bufferedIndex:O,objectMode:C}=m,X=R.length-O;if(!X)return;let re=O;if(m.bufferProcessing=!0,X>1&&_._writev){m.pendingcb-=X-1;const J=m.allNoop?j:F=>{for(let we=re;we<R.length;++we)R[we].callback(F)},ye=m.allNoop&&re===0?R:t(R,re);ye.allBuffers=m.allBuffers,ne(_,m,!0,m.length,ye,"",J),U(m)}else{do{const{chunk:J,encoding:ye,callback:F}=R[re];R[re++]=null;const we=C?1:J.length;ne(_,m,!1,we,J,ye,F)}while(re<R.length&&!m.writing);re===R.length?U(m):re>256?(R.splice(0,re),m.bufferedIndex=0):m.bufferedIndex=re}m.bufferProcessing=!1}G.prototype._write=function(_,m,R){if(this._writev)this._writev([{chunk:_,encoding:m}],R);else throw new x("_write()")},G.prototype._writev=null,G.prototype.end=function(_,m,R){const O=this._writableState;typeof _=="function"?(R=_,_=null,m=null):typeof m=="function"&&(R=m,m=null);let C;if(_!=null){const X=H(this,_,m);X instanceof r&&(C=X)}return O.corked&&(O.corked=1,this.uncork()),C||(!O.errored&&!O.ending?(O.ending=!0,_e(this,O,!0),O.ended=!0):O.finished?C=new D("end"):O.destroyed&&(C=new $("end"))),typeof R=="function"&&(C||O.finished?e.nextTick(R,C):O[B].push(R)),this};function xe(_){return _.ending&&!_.destroyed&&_.constructed&&_.length===0&&!_.errored&&_.buffered.length===0&&!_.finished&&!_.writing&&!_.errorEmitted&&!_.closeEmitted}function he(_,m){let R=!1;function O(C){if(R){V(_,C??S());return}if(R=!0,m.pendingcb--,C){const X=m[B].splice(0);for(let re=0;re<X.length;re++)X[re](C);V(_,C,m.sync)}else xe(m)&&(m.prefinished=!0,_.emit("prefinish"),m.pendingcb++,e.nextTick(Ae,_,m))}m.sync=!0,m.pendingcb++;try{_._final(O)}catch(C){O(C)}m.sync=!1}function le(_,m){!m.prefinished&&!m.finalCalled&&(typeof _._final=="function"&&!m.destroyed?(m.finalCalled=!0,he(_,m)):(m.prefinished=!0,_.emit("prefinish")))}function _e(_,m,R){xe(m)&&(le(_,m),m.pendingcb===0&&(R?(m.pendingcb++,e.nextTick((O,C)=>{xe(C)?Ae(O,C):C.pendingcb--},_,m)):xe(m)&&(m.pendingcb++,Ae(_,m))))}function Ae(_,m){m.pendingcb--,m.finished=!0;const R=m[B].splice(0);for(let O=0;O<R.length;O++)R[O]();if(_.emit("finish"),m.autoDestroy){const O=_._readableState;(!O||O.autoDestroy&&(O.endEmitted||O.readable===!1))&&_.destroy()}}s(G.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(_){this._writableState&&(this._writableState.destroyed=_)}},writable:{__proto__:null,get(){const _=this._writableState;return!!_&&_.writable!==!1&&!_.destroyed&&!_.errored&&!_.ending&&!_.ended},set(_){this._writableState&&(this._writableState.writable=!!_)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const _=this._writableState;return _?!_.destroyed&&!_.ending&&_.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const We=p.destroy;G.prototype.destroy=function(_,m){const R=this._writableState;return!R.destroyed&&(R.bufferedIndex<R.buffered.length||R[B].length)&&e.nextTick(W,R),We.call(this,_,m),this},G.prototype._undestroy=p.undestroy,G.prototype._destroy=function(_,m){m(_)},G.prototype[d.captureRejectionSymbol]=function(_){this.destroy(_)};let ie;function te(){return ie===void 0&&(ie={}),ie}return G.fromWeb=function(_,m){return te().newStreamWritableFromWritableStream(_,m)},G.toWeb=function(_){return te().newWritableStreamFromStreamWritable(_)},L2}var M2,Eae;function Ett(){if(Eae)return M2;Eae=1;const e=Qe,t=Ge,{isReadable:r,isWritable:n,isIterable:o,isNodeStream:s,isReadableNodeStream:a,isWritableNodeStream:l,isDuplexNodeStream:f,isReadableStream:u,isWritableStream:d}=fl,g=ju,{AbortError:h,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:w}}=ki,{destroyer:y}=Op,v=cl(),E=xE(),x=D2(),{createDeferredPromise:S}=li,N=mae,$=globalThis.Blob||t.Blob,D=typeof $<"u"?function(A){return A instanceof $}:function(A){return!1},K=globalThis.AbortController||bt().AbortController,{FunctionPrototypeCall:q}=Ir;class k extends v{constructor(A){super(A),(A==null?void 0:A.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(A==null?void 0:A.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}M2=function B(A,U){if(f(A))return A;if(a(A))return j({readable:A});if(l(A))return j({writable:A});if(s(A))return j({writable:!1,readable:!1});if(u(A))return j({readable:E.fromWeb(A)});if(d(A))return j({writable:x.fromWeb(A)});if(typeof A=="function"){const{value:H,write:Q,final:ne,destroy:se}=V(A);if(o(H))return N(k,H,{objectMode:!0,write:Q,final:ne,destroy:se});const ae=H==null?void 0:H.then;if(typeof ae=="function"){let Z;const ge=q(ae,H,W=>{if(W!=null)throw new w("nully","body",W)},W=>{y(Z,W)});return Z=new k({objectMode:!0,readable:!1,write:Q,final(W){ne(async()=>{try{await ge,e.nextTick(W,null)}catch(ue){e.nextTick(W,ue)}})},destroy:se})}throw new w("Iterable, AsyncIterable or AsyncFunction",U,H)}if(D(A))return B(A.arrayBuffer());if(o(A))return N(k,A,{objectMode:!0,writable:!1});if(u(A==null?void 0:A.readable)&&d(A==null?void 0:A.writable))return k.fromWeb(A);if(typeof(A==null?void 0:A.writable)=="object"||typeof(A==null?void 0:A.readable)=="object"){const H=A!=null&&A.readable?a(A==null?void 0:A.readable)?A==null?void 0:A.readable:B(A.readable):void 0,Q=A!=null&&A.writable?l(A==null?void 0:A.writable)?A==null?void 0:A.writable:B(A.writable):void 0;return j({readable:H,writable:Q})}const G=A==null?void 0:A.then;if(typeof G=="function"){let H;return q(G,A,Q=>{Q!=null&&H.push(Q),H.push(null)},Q=>{y(H,Q)}),H=new k({objectMode:!0,writable:!1,read(){}})}throw new p(U,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],A)};function V(B){let{promise:A,resolve:U}=S();const G=new K,H=G.signal;return{value:B(async function*(){for(;;){const ne=A;A=null;const{chunk:se,done:ae,cb:Z}=await ne;if(e.nextTick(Z),ae)return;if(H.aborted)throw new h(void 0,{cause:H.reason});({promise:A,resolve:U}=S()),yield se}}(),{signal:H}),write(ne,se,ae){const Z=U;U=null,Z({chunk:ne,done:!1,cb:ae})},final(ne){const se=U;U=null,se({done:!0,cb:ne})},destroy(ne,se){G.abort(),se(ne)}}}function j(B){const A=B.readable&&typeof B.readable.read!="function"?E.wrap(B.readable):B.readable,U=B.writable;let G=!!r(A),H=!!n(U),Q,ne,se,ae,Z;function ge(W){const ue=ae;ae=null,ue?ue(W):W&&Z.destroy(W)}return Z=new k({readableObjectMode:!!(A!=null&&A.readableObjectMode),writableObjectMode:!!(U!=null&&U.writableObjectMode),readable:G,writable:H}),H&&(g(U,W=>{H=!1,W&&y(A,W),ge(W)}),Z._write=function(W,ue,xe){U.write(W,ue)?xe():Q=xe},Z._final=function(W){U.end(),ne=W},U.on("drain",function(){if(Q){const W=Q;Q=null,W()}}),U.on("finish",function(){if(ne){const W=ne;ne=null,W()}})),G&&(g(A,W=>{G=!1,W&&y(A,W),ge(W)}),A.on("readable",function(){if(se){const W=se;se=null,W()}}),A.on("end",function(){Z.push(null)}),Z._read=function(){for(;;){const W=A.read();if(W===null){se=Z._read;return}if(!Z.push(W))return}}),Z._destroy=function(W,ue){!W&&ae!==null&&(W=new h),se=null,Q=null,ne=null,ae===null?ue(W):(ae=ue,y(U,W),y(A,W))},Z}return M2}var P2,Rae;function cl(){if(Rae)return P2;Rae=1;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:r,ObjectSetPrototypeOf:n}=Ir;P2=a;const o=xE(),s=D2();n(a.prototype,o.prototype),n(a,o);{const d=r(s.prototype);for(let g=0;g<d.length;g++){const h=d[g];a.prototype[h]||(a.prototype[h]=s.prototype[h])}}function a(d){if(!(this instanceof a))return new a(d);o.call(this,d),s.call(this,d),d?(this.allowHalfOpen=d.allowHalfOpen!==!1,d.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),d.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(a.prototype,{writable:{__proto__:null,...t(s.prototype,"writable")},writableHighWaterMark:{__proto__:null,...t(s.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...t(s.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...t(s.prototype,"writableBuffer")},writableLength:{__proto__:null,...t(s.prototype,"writableLength")},writableFinished:{__proto__:null,...t(s.prototype,"writableFinished")},writableCorked:{__proto__:null,...t(s.prototype,"writableCorked")},writableEnded:{__proto__:null,...t(s.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...t(s.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(d){this._readableState&&this._writableState&&(this._readableState.destroyed=d,this._writableState.destroyed=d)}}});let l;function f(){return l===void 0&&(l={}),l}a.fromWeb=function(d,g){return f().newStreamDuplexFromReadableWritablePair(d,g)},a.toWeb=function(d){return f().newReadableWritablePairFromDuplex(d)};let u;return a.from=function(d){return u||(u=Ett()),u(d,"body")},P2}const{ObjectSetPrototypeOf:xae,Symbol:Rtt}=Ir;var Aae=dl;const{ERR_METHOD_NOT_IMPLEMENTED:xtt}=ki.codes,F2=cl(),{getHighWaterMark:Att}=RE;xae(dl.prototype,F2.prototype),xae(dl,F2);const G_=Rtt("kCallback");function dl(e){if(!(this instanceof dl))return new dl(e);const t=e?Att(this,e,"readableHighWaterMark",!0):null;t===0&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),F2.call(this,e),this._readableState.sync=!1,this[G_]=null,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",$tt)}function j2(e){typeof this._flush=="function"&&!this.destroyed?this._flush((t,r)=>{if(t){e?e(t):this.destroy(t);return}r!=null&&this.push(r),this.push(null),e&&e()}):(this.push(null),e&&e())}function $tt(){this._final!==j2&&j2.call(this)}dl.prototype._final=j2,dl.prototype._transform=function(e,t,r){throw new xtt("_transform()")},dl.prototype._write=function(e,t,r){const n=this._readableState,o=this._writableState,s=n.length;this._transform(e,t,(a,l)=>{if(a){r(a);return}l!=null&&this.push(l),o.ended||s===n.length||n.length<n.highWaterMark?r():this[G_]=r})},dl.prototype._read=function(){if(this[G_]){const e=this[G_];this[G_]=null,e()}};const{ObjectSetPrototypeOf:$ae}=Ir;var Tae=Lp;const W2=Aae;$ae(Lp.prototype,W2.prototype),$ae(Lp,W2);function Lp(e){if(!(this instanceof Lp))return new Lp(e);W2.call(this,e)}Lp.prototype._transform=function(e,t,r){r(null,e)};const z_=Qe,{ArrayIsArray:Ttt,Promise:Itt,SymbolAsyncIterator:Ntt,SymbolDispose:ktt}=Ir,AE=ju,{once:Ctt}=li,Ott=Op,Iae=cl(),{aggregateTwoErrors:Ltt,codes:{ERR_INVALID_ARG_TYPE:B2,ERR_INVALID_RETURN_VALUE:U2,ERR_MISSING_ARGS:Dtt,ERR_STREAM_DESTROYED:Mtt,ERR_STREAM_PREMATURE_CLOSE:Ptt},AbortError:Ftt}=ki,{validateFunction:jtt,validateAbortSignal:Wtt}=V_,{isIterable:ad,isReadable:q2,isReadableNodeStream:$E,isNodeStream:Nae,isTransformStream:Dp,isWebStream:Btt,isReadableStream:H2,isReadableFinished:Utt}=fl,qtt=globalThis.AbortController||bt().AbortController;let V2,G2,z2;function kae(e,t,r){let n=!1;e.on("close",()=>{n=!0});const o=AE(e,{readable:t,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,Ott.destroyer(e,s||new Mtt("pipe")))},cleanup:o}}function Htt(e){return jtt(e[e.length-1],"streams[stream.length - 1]"),e.pop()}function K2(e){if(ad(e))return e;if($E(e))return Vtt(e);throw new B2("val",["Readable","Iterable","AsyncIterable"],e)}async function*Vtt(e){G2||(G2=xE()),yield*G2.prototype[Ntt].call(e)}async function TE(e,t,r,{end:n}){let o,s=null;const a=u=>{if(u&&(o=u),s){const d=s;s=null,d()}},l=()=>new Itt((u,d)=>{o?d(o):s=()=>{o?d(o):u()}});t.on("drain",a);const f=AE(t,{readable:!1},a);try{t.writableNeedDrain&&await l();for await(const u of e)t.write(u)||await l();n&&(t.end(),await l()),r()}catch(u){r(o!==u?Ltt(o,u):u)}finally{f(),t.off("drain",a)}}async function J2(e,t,r,{end:n}){Dp(t)&&(t=t.writable);const o=t.getWriter();try{for await(const s of e)await o.ready,o.write(s).catch(()=>{});await o.ready,n&&await o.close(),r()}catch(s){try{await o.abort(s),r(s)}catch(a){r(a)}}}function Gtt(...e){return Cae(e,Ctt(Htt(e)))}function Cae(e,t,r){if(e.length===1&&Ttt(e[0])&&(e=e[0]),e.length<2)throw new Dtt("streams");const n=new qtt,o=n.signal,s=r==null?void 0:r.signal,a=[];Wtt(s,"options.signal");function l(){w(new Ftt)}z2=z2||li.addAbortListener;let f;s&&(f=z2(s,l));let u,d;const g=[];let h=0;function p(x){w(x,--h===0)}function w(x,S){var N;if(x&&(!u||u.code==="ERR_STREAM_PREMATURE_CLOSE")&&(u=x),!(!u&&!S)){for(;g.length;)g.shift()(u);(N=f)===null||N===void 0||N[ktt](),n.abort(),S&&(u||a.forEach($=>$()),z_.nextTick(t,u,d))}}let y;for(let x=0;x<e.length;x++){const S=e[x],N=x<e.length-1,$=x>0,D=N||(r==null?void 0:r.end)!==!1,K=x===e.length-1;if(Nae(S)){let q=function(k){k&&k.name!=="AbortError"&&k.code!=="ERR_STREAM_PREMATURE_CLOSE"&&p(k)};if(D){const{destroy:k,cleanup:V}=kae(S,N,$);g.push(k),q2(S)&&K&&a.push(V)}S.on("error",q),q2(S)&&K&&a.push(()=>{S.removeListener("error",q)})}if(x===0)if(typeof S=="function"){if(y=S({signal:o}),!ad(y))throw new U2("Iterable, AsyncIterable or Stream","source",y)}else ad(S)||$E(S)||Dp(S)?y=S:y=Iae.from(S);else if(typeof S=="function"){if(Dp(y)){var v;y=K2((v=y)===null||v===void 0?void 0:v.readable)}else y=K2(y);if(y=S(y,{signal:o}),N){if(!ad(y,!0))throw new U2("AsyncIterable",`transform[${x-1}]`,y)}else{var E;V2||(V2=Tae);const q=new V2({objectMode:!0}),k=(E=y)===null||E===void 0?void 0:E.then;if(typeof k=="function")h++,k.call(y,B=>{d=B,B!=null&&q.write(B),D&&q.end(),z_.nextTick(p)},B=>{q.destroy(B),z_.nextTick(p,B)});else if(ad(y,!0))h++,TE(y,q,p,{end:D});else if(H2(y)||Dp(y)){const B=y.readable||y;h++,TE(B,q,p,{end:D})}else throw new U2("AsyncIterable or Promise","destination",y);y=q;const{destroy:V,cleanup:j}=kae(y,!1,!0);g.push(V),K&&a.push(j)}}else if(Nae(S)){if($E(y)){h+=2;const q=ztt(y,S,p,{end:D});q2(S)&&K&&a.push(q)}else if(Dp(y)||H2(y)){const q=y.readable||y;h++,TE(q,S,p,{end:D})}else if(ad(y))h++,TE(y,S,p,{end:D});else throw new B2("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],y);y=S}else if(Btt(S)){if($E(y))h++,J2(K2(y),S,p,{end:D});else if(H2(y)||ad(y))h++,J2(y,S,p,{end:D});else if(Dp(y))h++,J2(y.readable,S,p,{end:D});else throw new B2("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],y);y=S}else y=Iae.from(S)}return(o!=null&&o.aborted||s!=null&&s.aborted)&&z_.nextTick(l),y}function ztt(e,t,r,{end:n}){let o=!1;if(t.on("close",()=>{o||r(new Ptt)}),e.pipe(t,{end:!1}),n){let s=function(){o=!0,t.end()};Utt(e)?z_.nextTick(s):e.once("end",s)}else r();return AE(e,{readable:!0,writable:!1},s=>{const a=e._readableState;s&&s.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?e.once("end",r).once("error",r):r(s)}),AE(t,{readable:!1,writable:!0},r)}var Y2={pipelineImpl:Cae,pipeline:Gtt};const{pipeline:Ktt}=Y2,IE=cl(),{destroyer:Jtt}=Op,{isNodeStream:NE,isReadable:Oae,isWritable:Lae,isWebStream:X2,isTransformStream:ld,isWritableStream:Dae,isReadableStream:Mae}=fl,{AbortError:Ytt,codes:{ERR_INVALID_ARG_VALUE:Pae,ERR_MISSING_ARGS:Xtt}}=ki,Qtt=ju;var Fae=function(...t){if(t.length===0)throw new Xtt("streams");if(t.length===1)return IE.from(t[0]);const r=[...t];if(typeof t[0]=="function"&&(t[0]=IE.from(t[0])),typeof t[t.length-1]=="function"){const p=t.length-1;t[p]=IE.from(t[p])}for(let p=0;p<t.length;++p)if(!(!NE(t[p])&&!X2(t[p]))){if(p<t.length-1&&!(Oae(t[p])||Mae(t[p])||ld(t[p])))throw new Pae(`streams[${p}]`,r[p],"must be readable");if(p>0&&!(Lae(t[p])||Dae(t[p])||ld(t[p])))throw new Pae(`streams[${p}]`,r[p],"must be writable")}let n,o,s,a,l;function f(p){const w=a;a=null,w?w(p):p?l.destroy(p):!h&&!g&&l.destroy()}const u=t[0],d=Ktt(t,f),g=!!(Lae(u)||Dae(u)||ld(u)),h=!!(Oae(d)||Mae(d)||ld(d));if(l=new IE({writableObjectMode:!!(u!=null&&u.writableObjectMode),readableObjectMode:!!(d!=null&&d.readableObjectMode),writable:g,readable:h}),g){if(NE(u))l._write=function(w,y,v){u.write(w,y)?v():n=v},l._final=function(w){u.end(),o=w},u.on("drain",function(){if(n){const w=n;n=null,w()}});else if(X2(u)){const y=(ld(u)?u.writable:u).getWriter();l._write=async function(v,E,x){try{await y.ready,y.write(v).catch(()=>{}),x()}catch(S){x(S)}},l._final=async function(v){try{await y.ready,y.close().catch(()=>{}),o=v}catch(E){v(E)}}}const p=ld(d)?d.readable:d;Qtt(p,()=>{if(o){const w=o;o=null,w()}})}if(h){if(NE(d))d.on("readable",function(){if(s){const p=s;s=null,p()}}),d.on("end",function(){l.push(null)}),l._read=function(){for(;;){const p=d.read();if(p===null){s=l._read;return}if(!l.push(p))return}};else if(X2(d)){const w=(ld(d)?d.readable:d).getReader();l._read=async function(){for(;;)try{const{value:y,done:v}=await w.read();if(!l.push(y))return;if(v){l.push(null);return}}catch{return}}}}return l._destroy=function(p,w){!p&&a!==null&&(p=new Ytt),s=null,n=null,o=null,a===null?w(p):(a=w,NE(d)&&Jtt(d,p))},l};const Ztt=globalThis.AbortController||bt().AbortController,{codes:{ERR_INVALID_ARG_VALUE:ert,ERR_INVALID_ARG_TYPE:K_,ERR_MISSING_ARGS:trt,ERR_OUT_OF_RANGE:rrt},AbortError:ta}=ki,{validateAbortSignal:ud,validateInteger:jae,validateObject:fd}=V_,nrt=Ir.Symbol("kWeak"),irt=Ir.Symbol("kResistStopPropagation"),{finished:ort}=ju,srt=Fae,{addAbortSignalNoValidate:art}=SE,{isWritable:lrt,isNodeStream:urt}=fl,{deprecate:frt}=li,{ArrayPrototypePush:crt,Boolean:drt,MathFloor:Wae,Number:hrt,NumberIsNaN:prt,Promise:Bae,PromiseReject:Uae,PromiseResolve:brt,PromisePrototypeThen:qae,Symbol:Hae}=Ir,kE=Hae("kEmpty"),Vae=Hae("kEof");function grt(e,t){if(t!=null&&fd(t,"options"),(t==null?void 0:t.signal)!=null&&ud(t.signal,"options.signal"),urt(e)&&!lrt(e))throw new ert("stream",e,"must be writable");const r=srt(this,e);return t!=null&&t.signal&&art(t.signal,r),r}function CE(e,t){if(typeof e!="function")throw new K_("fn",["Function","AsyncFunction"],e);t!=null&&fd(t,"options"),(t==null?void 0:t.signal)!=null&&ud(t.signal,"options.signal");let r=1;(t==null?void 0:t.concurrency)!=null&&(r=Wae(t.concurrency));let n=r-1;return(t==null?void 0:t.highWaterMark)!=null&&(n=Wae(t.highWaterMark)),jae(r,"options.concurrency",1),jae(n,"options.highWaterMark",0),n+=r,(async function*(){const s=li.AbortSignalAny([t==null?void 0:t.signal].filter(drt)),a=this,l=[],f={signal:s};let u,d,g=!1,h=0;function p(){g=!0,w()}function w(){h-=1,y()}function y(){d&&!g&&h<r&&l.length<n&&(d(),d=null)}async function v(){try{for await(let E of a){if(g)return;if(s.aborted)throw new ta;try{if(E=e(E,f),E===kE)continue;E=brt(E)}catch(x){E=Uae(x)}h+=1,qae(E,w,p),l.push(E),u&&(u(),u=null),!g&&(l.length>=n||h>=r)&&await new Bae(x=>{d=x})}l.push(Vae)}catch(E){const x=Uae(E);qae(x,w,p),l.push(x)}finally{g=!0,u&&(u(),u=null)}}v();try{for(;;){for(;l.length>0;){const E=await l[0];if(E===Vae)return;if(s.aborted)throw new ta;E!==kE&&(yield E),l.shift(),y()}await new Bae(E=>{u=E})}}finally{g=!0,d&&(d(),d=null)}}).call(this)}function _rt(e=void 0){return e!=null&&fd(e,"options"),(e==null?void 0:e.signal)!=null&&ud(e.signal,"options.signal"),(async function*(){let r=0;for await(const o of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new ta({cause:e.signal.reason});yield[r++,o]}}).call(this)}async function Gae(e,t=void 0){for await(const r of Q2.call(this,e,t))return!0;return!1}async function yrt(e,t=void 0){if(typeof e!="function")throw new K_("fn",["Function","AsyncFunction"],e);return!await Gae.call(this,async(...r)=>!await e(...r),t)}async function wrt(e,t){for await(const r of Q2.call(this,e,t))return r}async function mrt(e,t){if(typeof e!="function")throw new K_("fn",["Function","AsyncFunction"],e);async function r(n,o){return await e(n,o),kE}for await(const n of CE.call(this,r,t));}function Q2(e,t){if(typeof e!="function")throw new K_("fn",["Function","AsyncFunction"],e);async function r(n,o){return await e(n,o)?n:kE}return CE.call(this,r,t)}let vrt=class extends trt{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function Srt(e,t,r){var n;if(typeof e!="function")throw new K_("reducer",["Function","AsyncFunction"],e);r!=null&&fd(r,"options"),(r==null?void 0:r.signal)!=null&&ud(r.signal,"options.signal");let o=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){const u=new ta(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await ort(this.destroy(u)),u}const s=new Ztt,a=s.signal;if(r!=null&&r.signal){const u={once:!0,[nrt]:this,[irt]:!0};r.signal.addEventListener("abort",()=>s.abort(),u)}let l=!1;try{for await(const u of this){var f;if(l=!0,r!=null&&(f=r.signal)!==null&&f!==void 0&&f.aborted)throw new ta;o?t=await e(t,u,{signal:a}):(t=u,o=!0)}if(!l&&!o)throw new vrt}finally{s.abort()}return t}async function Ert(e){e!=null&&fd(e,"options"),(e==null?void 0:e.signal)!=null&&ud(e.signal,"options.signal");const t=[];for await(const n of this){var r;if(e!=null&&(r=e.signal)!==null&&r!==void 0&&r.aborted)throw new ta(void 0,{cause:e.signal.reason});crt(t,n)}return t}function Rrt(e,t){const r=CE.call(this,e,t);return(async function*(){for await(const o of r)yield*o}).call(this)}function zae(e){if(e=hrt(e),prt(e))return 0;if(e<0)throw new rrt("number",">= 0",e);return e}function xrt(e,t=void 0){return t!=null&&fd(t,"options"),(t==null?void 0:t.signal)!=null&&ud(t.signal,"options.signal"),e=zae(e),(async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new ta;for await(const s of this){var o;if(t!=null&&(o=t.signal)!==null&&o!==void 0&&o.aborted)throw new ta;e--<=0&&(yield s)}}).call(this)}function Art(e,t=void 0){return t!=null&&fd(t,"options"),(t==null?void 0:t.signal)!=null&&ud(t.signal,"options.signal"),e=zae(e),(async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new ta;for await(const s of this){var o;if(t!=null&&(o=t.signal)!==null&&o!==void 0&&o.aborted)throw new ta;if(e-- >0&&(yield s),e<=0)return}}).call(this)}b2.streamReturningOperators={asIndexedPairs:frt(_rt,"readable.asIndexedPairs will be removed in a future version."),drop:xrt,filter:Q2,flatMap:Rrt,map:CE,take:Art,compose:grt},b2.promiseReturningOperators={every:yrt,forEach:mrt,reduce:Srt,toArray:Ert,some:Gae,find:wrt};var Z2,Kae;function Jae(){if(Kae)return Z2;Kae=1;const{ArrayPrototypePop:e,Promise:t}=Ir,{isIterable:r,isNodeStream:n,isWebStream:o}=fl,{pipelineImpl:s}=Y2,{finished:a}=ju;Xae();function l(...f){return new t((u,d)=>{let g,h;const p=f[f.length-1];if(p&&typeof p=="object"&&!n(p)&&!r(p)&&!o(p)){const w=e(f);g=w.signal,h=w.end}s(f,(w,y)=>{w?d(w):u(y)},{signal:g,end:h})})}return Z2={finished:a,pipeline:l},Z2}var Yae;function Xae(){if(Yae)return p2.exports;Yae=1;const{Buffer:e}=Ge,{ObjectDefineProperty:t,ObjectKeys:r,ReflectApply:n}=Ir,{promisify:{custom:o}}=li,{streamReturningOperators:s,promiseReturningOperators:a}=b2,{codes:{ERR_ILLEGAL_CONSTRUCTOR:l}}=ki,f=Fae,{setDefaultHighWaterMark:u,getDefaultHighWaterMark:d}=RE,{pipeline:g}=Y2,{destroyer:h}=Op,p=ju,w=Jae(),y=fl,v=p2.exports=k2.Stream;v.isDestroyed=y.isDestroyed,v.isDisturbed=y.isDisturbed,v.isErrored=y.isErrored,v.isReadable=y.isReadable,v.isWritable=y.isWritable,v.Readable=xE();for(const x of r(s)){let N=function(...$){if(new.target)throw l();return v.Readable.from(n(S,this,$))};const S=s[x];t(N,"name",{__proto__:null,value:S.name}),t(N,"length",{__proto__:null,value:S.length}),t(v.Readable.prototype,x,{__proto__:null,value:N,enumerable:!1,configurable:!0,writable:!0})}for(const x of r(a)){let N=function(...$){if(new.target)throw l();return n(S,this,$)};const S=a[x];t(N,"name",{__proto__:null,value:S.name}),t(N,"length",{__proto__:null,value:S.length}),t(v.Readable.prototype,x,{__proto__:null,value:N,enumerable:!1,configurable:!0,writable:!0})}v.Writable=D2(),v.Duplex=cl(),v.Transform=Aae,v.PassThrough=Tae,v.pipeline=g;const{addAbortSignal:E}=SE;return v.addAbortSignal=E,v.finished=p,v.destroy=h,v.compose=f,v.setDefaultHighWaterMark=u,v.getDefaultHighWaterMark=d,t(v,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return w}}),t(g,o,{__proto__:null,enumerable:!0,get(){return w.pipeline}}),t(p,o,{__proto__:null,enumerable:!0,get(){return w.finished}}),v.Stream=v,v._isUint8Array=function(S){return S instanceof Uint8Array},v._uint8ArrayToBuffer=function(S){return e.from(S.buffer,S.byteOffset,S.byteLength)},p2.exports}(function(e){const t=Xae(),r=Jae(),n=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=n,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return r}}),e.exports.Stream=t.Stream,e.exports.default=e.exports})(mse);var $rt=mse.exports,OE={};Object.defineProperty(OE,"__esModule",{value:!0}),OE.ParseError=void 0;class Trt extends Error{constructor(t,r){const n=t.saxParser;super(t.trackPosition?`Line ${n.line} column ${n.column+1}: ${r}`:r)}}OE.ParseError=Trt;var Qae={},Zae={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateIri=e.IriValidationStrategy=void 0;function t(){const l="[!$&'()*+,;=]",f="%[a-fA-F0-9]{2}",u="([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",d=`${u}\\.${u}\\.${u}\\.${u}`,g="[a-fA-F0-9]{1,4}",h=`(${g}:${g}|${d})`,p=`((${g}:){6}${h}|::(${g}:){5}${h}|(${g})?::(${g}:){4}${h}|((${g}:){0,1}${g})?::(${g}:){3}${h}|((${g}:){0,2}${g})?::(${g}:){2}${h}|((${g}:){0,3}${g})?::${g}:${h}|((${g}:){0,4}${g})?::${h}|((${g}:){0,5}${g})?::${g}|((${g}:){0,6}${g})?::)`,w=`v[a-fA-F0-9]+\\.(${l}|${l}|":)+`,y=`\\[(${p}|${w})\\]`,v="[0-9]*",E="[a-zA-Z][a-zA-Z0-9+\\-.]*",S="[-󰀀-󿿽􀀀-􏿽]",D="[a-zA-Z0-9\\-._~ -퟿豈-﷏ﷰ-￯𐀀-🿽𠀀-𯿽𰀀-𿿽񀀀-񏿽񐀀-񟿽񠀀-񯿽񰀀-񿿽򀀀-򏿽򐀀-򟿽򠀀-򯿽򰀀-򿿽󀀀-󏿽󐀀-󟿽󡀀-󯿽]",K=`(${D}|${f}|${l}|[:@])*`,q=`(${K}|[\\/?])*`,k=`(${K}|${S}|[\\/?])*`,V=`(${K})+`,j=`(${K})*`,B="",A=`${V}(\\/${j})*`,U=`\\/(${V}(\\/${j})*)?`,G=`(\\/${j})*`,H=`(${D}|${f}|${l})*`,Q=`(${y}|${d}|${H})`,ae=`(\\/\\/${`(${`(${D}|${f}|${l}|:)*`}@)?${Q}(:${v})?`}${G}|${U}|${A}|${B})`,Z=`^${E}:${ae}(\\?${k})?(#${q})?$`;return new RegExp(Z,"u")}const r=t(),n=/^[A-Za-z][\d+-.A-Za-z]*:[^\u0000-\u0020"<>\\^`{|}]*$/u;var o;(function(a){a.Strict="strict",a.Pragmatic="pragmatic",a.None="none"})(o=e.IriValidationStrategy||(e.IriValidationStrategy={}));function s(a,l=o.Strict){switch(l){case o.Strict:return r.test(a)?void 0:new Error(`Invalid IRI according to RFC 3987: '${a}'`);case o.Pragmatic:return n.test(a)?void 0:new Error(`Invalid IRI according to RDF Turtle: '${a}'`);case o.None:return;default:return new Error(`Not supported validation strategy "${l}"`)}}e.validateIri=s})(Zae),function(e){var t=nr&&nr.__createBinding||(Object.create?function(n,o,s,a){a===void 0&&(a=s);var l=Object.getOwnPropertyDescriptor(o,s);(!l||("get"in l?!o.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(n,a,l)}:function(n,o,s,a){a===void 0&&(a=s),n[a]=o[s]}),r=nr&&nr.__exportStar||function(n,o){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&t(o,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(Zae,e)}(Qae),Object.defineProperty(Rp,"__esModule",{value:!0}),Rp.ParseType=Rp.RdfXmlParser=void 0;const ele=w_,Irt=xp,tle=$rt,Nrt=OE,krt=cP,eF=Qae;class Kt extends tle.Transform{constructor(t){super({readableObjectMode:!0}),this.activeTagStack=[],this.nodeIds={},t&&(Object.assign(this,t),this.options=t),this.dataFactory||(this.dataFactory=new krt.DataFactory),this.baseIRI||(this.baseIRI=""),this.defaultGraph||(this.defaultGraph=this.dataFactory.defaultGraph()),this.validateUri!==!1&&(this.validateUri=!0),this.iriValidationStrategy||(this.iriValidationStrategy=this.validateUri?eF.IriValidationStrategy.Pragmatic:eF.IriValidationStrategy.None),this.saxParser=new Irt.SaxesParser({xmlns:!0,position:this.trackPosition}),this.attachSaxListeners()}import(t){const r=new tle.PassThrough({readableObjectMode:!0});t.on("error",o=>n.emit("error",o)),t.on("data",o=>r.push(o)),t.on("end",()=>r.push(null));const n=r.pipe(new Kt(this.options));return n}_transform(t,r,n){try{this.saxParser.write(t)}catch(o){return n(o)}n()}newParseError(t){return new Nrt.ParseError(this,t)}valueToUri(t,r){return this.uriToNamedNode((0,ele.resolve)(t,r.baseIRI))}uriToNamedNode(t){const r=(0,eF.validateIri)(t,this.iriValidationStrategy);if(r instanceof Error)throw this.newParseError(r.message);return this.dataFactory.namedNode(t)}validateNcname(t){if(!Kt.NCNAME_MATCHER.test(t))throw this.newParseError(`Not a valid NCName: ${t}`)}attachSaxListeners(){this.saxParser.on("error",t=>this.emit("error",t)),this.saxParser.on("opentag",this.onTag.bind(this)),this.saxParser.on("text",this.onText.bind(this)),this.saxParser.on("cdata",this.onText.bind(this)),this.saxParser.on("closetag",this.onCloseTag.bind(this)),this.saxParser.on("doctype",this.onDoctype.bind(this))}onTag(t){const r=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;let n=hl.RESOURCE;if(r&&(r.hadChildren=!0,n=r.childrenParseType),r&&r.childrenStringTags){const s=t.name;let a="";for(const d in t.attributes)a+=` ${d}="${t.attributes[d].value}"`;const f=`<${`${s}${a}`}>`;r.childrenStringTags.push(f);const u={childrenStringTags:r.childrenStringTags};u.childrenStringEmitClosingTag=`</${s}>`,this.activeTagStack.push(u);return}const o={};r?(o.language=r.language,o.baseIRI=r.baseIRI):o.baseIRI=this.baseIRI,this.activeTagStack.push(o),n===hl.RESOURCE?this.onTagResource(t,o,r,!r):this.onTagProperty(t,o,r)}onTagResource(t,r,n,o){r.childrenParseType=hl.PROPERTY;let s=!0;if(t.uri===Kt.RDF){if(!o&&Kt.FORBIDDEN_NODE_ELEMENTS.indexOf(t.local)>=0)throw this.newParseError(`Illegal node element name: ${t.local}`);switch(t.local){case"RDF":r.childrenParseType=hl.RESOURCE;case"Description":s=!1}}const a=[],l=[];let f=null,u=!1,d=!1,g=null;for(const h in t.attributes){const p=t.attributes[h];if(n&&p.uri===Kt.RDF)switch(p.local){case"about":if(f)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${p.value} and ${f} where found.`);f=p.value;continue;case"ID":if(f)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${p.value} and ${f} where found.`);this.validateNcname(p.value),f="#"+p.value,u=!0;continue;case"nodeID":if(f)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${p.value} and ${f} where found.`);this.validateNcname(p.value),f=p.value,d=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"type":g=p.value;continue;case"aboutEach":throw this.newParseError("rdf:aboutEach is not supported.");case"aboutEachPrefix":throw this.newParseError("rdf:aboutEachPrefix is not supported.");case"li":throw this.newParseError("rdf:li on node elements are not supported.")}else if(p.uri===Kt.XML){if(p.local==="lang"){r.language=p.value===""?null:p.value.toLowerCase();continue}else if(p.local==="base"){r.baseIRI=(0,ele.resolve)(p.value,r.baseIRI);continue}}p.prefix!=="xml"&&p.prefix!=="xmlns"&&(p.prefix!==""||p.local!=="xmlns")&&p.uri&&(a.push(this.uriToNamedNode(p.uri+p.local)),l.push(p.value))}if(f!==null&&(r.subject=d?this.dataFactory.blankNode(f):this.valueToUri(f,r),u&&this.claimNodeId(r.subject)),r.subject||(r.subject=this.dataFactory.blankNode()),s){const h=this.uriToNamedNode(t.uri+t.local);this.emitTriple(r.subject,this.dataFactory.namedNode(Kt.RDF+"type"),h,n?n.reifiedStatementId:null)}if(n){if(n.predicate)if(n.childrenCollectionSubject){const h=this.dataFactory.blankNode();this.emitTriple(n.childrenCollectionSubject,n.childrenCollectionPredicate,h,n.reifiedStatementId),this.emitTriple(h,this.dataFactory.namedNode(Kt.RDF+"first"),r.subject,r.reifiedStatementId),n.childrenCollectionSubject=h,n.childrenCollectionPredicate=this.dataFactory.namedNode(Kt.RDF+"rest")}else{this.emitTriple(n.subject,n.predicate,r.subject,n.reifiedStatementId);for(let h=0;h<n.predicateSubPredicates.length;h++)this.emitTriple(r.subject,n.predicateSubPredicates[h],n.predicateSubObjects[h],null);n.predicateSubPredicates=[],n.predicateSubObjects=[],n.predicateEmitted=!0}for(let h=0;h<a.length;h++){const p=this.dataFactory.literal(l[h],r.datatype||r.language);this.emitTriple(r.subject,a[h],p,n.reifiedStatementId)}g&&this.emitTriple(r.subject,this.dataFactory.namedNode(Kt.RDF+"type"),this.uriToNamedNode(g),null)}}onTagProperty(t,r,n){if(r.childrenParseType=hl.RESOURCE,r.subject=n.subject,t.uri===Kt.RDF&&t.local==="li"?(n.listItemCounter||(n.listItemCounter=1),r.predicate=this.uriToNamedNode(t.uri+"_"+n.listItemCounter++)):r.predicate=this.uriToNamedNode(t.uri+t.local),t.uri===Kt.RDF&&Kt.FORBIDDEN_PROPERTY_ELEMENTS.indexOf(t.local)>=0)throw this.newParseError(`Illegal property element name: ${t.local}`);r.predicateSubPredicates=[],r.predicateSubObjects=[];let o=!1,s=!1,a=null,l=!0;const f=[],u=[];for(const d in t.attributes){const g=t.attributes[d];if(g.uri===Kt.RDF)switch(g.local){case"resource":if(a)throw this.newParseError(`Found both rdf:resource (${g.value}) and rdf:nodeID (${a}).`);if(o)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:resource (${g.value})`);r.hadChildren=!0,a=g.value,l=!1;continue;case"datatype":if(s)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:datatype (${g.value}).`);if(o)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${g.value})`);r.datatype=this.valueToUri(g.value,r);continue;case"nodeID":if(s)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:nodeID (${g.value}).`);if(r.hadChildren)throw this.newParseError(`Found both rdf:resource and rdf:nodeID (${g.value}).`);if(o)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID (${g.value})`);this.validateNcname(g.value),r.hadChildren=!0,a=g.value,l=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"parseType":if(s)throw this.newParseError("rdf:parseType is not allowed when non-rdf:* property attributes are present");if(r.datatype)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${r.datatype.value})`);if(a)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID or rdf:resource (${a})`);if(g.value==="Resource"){o=!0,r.childrenParseType=hl.PROPERTY;const h=this.dataFactory.blankNode();this.emitTriple(r.subject,r.predicate,h,r.reifiedStatementId),r.subject=h,r.predicate=null}else g.value==="Collection"?(o=!0,r.hadChildren=!0,r.childrenCollectionSubject=r.subject,r.childrenCollectionPredicate=r.predicate,l=!1):g.value==="Literal"&&(o=!0,r.childrenTagsToString=!0,r.childrenStringTags=[]);continue;case"ID":this.validateNcname(g.value),r.reifiedStatementId=this.valueToUri("#"+g.value,r),this.claimNodeId(r.reifiedStatementId);continue}else if(g.uri===Kt.XML&&g.local==="lang"){r.language=g.value===""?null:g.value.toLowerCase();continue}if(g.prefix!=="xml"&&g.prefix!=="xmlns"&&(g.prefix!==""||g.local!=="xmlns")&&g.uri){if(o||r.datatype)throw this.newParseError(`Found illegal rdf:* properties on property element with attribute: ${g.value}`);r.hadChildren=!0,s=!0,f.push(this.uriToNamedNode(g.uri+g.local)),u.push(this.dataFactory.literal(g.value,r.datatype||r.language))}}if(a!==null){const d=r.subject;r.subject=l?this.dataFactory.blankNode(a):this.valueToUri(a,r),this.emitTriple(d,r.predicate,r.subject,r.reifiedStatementId);for(let g=0;g<f.length;g++)this.emitTriple(r.subject,f[g],u[g],null);r.predicateEmitted=!0}else l&&(r.predicateSubPredicates=f,r.predicateSubObjects=u,r.predicateEmitted=!1)}emitTriple(t,r,n,o){this.push(this.dataFactory.quad(t,r,n,this.defaultGraph)),o&&(this.push(this.dataFactory.quad(o,this.dataFactory.namedNode(Kt.RDF+"type"),this.dataFactory.namedNode(Kt.RDF+"Statement"),this.defaultGraph)),this.push(this.dataFactory.quad(o,this.dataFactory.namedNode(Kt.RDF+"subject"),t,this.defaultGraph)),this.push(this.dataFactory.quad(o,this.dataFactory.namedNode(Kt.RDF+"predicate"),r,this.defaultGraph)),this.push(this.dataFactory.quad(o,this.dataFactory.namedNode(Kt.RDF+"object"),n,this.defaultGraph)))}claimNodeId(t){if(!this.allowDuplicateRdfIds){if(this.nodeIds[t.value])throw this.newParseError(`Found multiple occurrences of rdf:ID='${t.value}'.`);this.nodeIds[t.value]=!0}}onText(t){const r=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;r&&(r.childrenStringTags?r.childrenStringTags.push(t):r.predicate&&(r.text=t))}onCloseTag(){const t=this.activeTagStack.pop();if(t.childrenStringEmitClosingTag&&t.childrenStringTags.push(t.childrenStringEmitClosingTag),t.childrenTagsToString&&(t.datatype=this.dataFactory.namedNode(Kt.RDF+"XMLLiteral"),t.text=t.childrenStringTags.join(""),t.hadChildren=!1),t.childrenCollectionSubject)this.emitTriple(t.childrenCollectionSubject,t.childrenCollectionPredicate,this.dataFactory.namedNode(Kt.RDF+"nil"),t.reifiedStatementId);else if(t.predicate){if(!t.hadChildren&&t.childrenParseType!==hl.PROPERTY)this.emitTriple(t.subject,t.predicate,this.dataFactory.literal(t.text||"",t.datatype||t.language),t.reifiedStatementId);else if(!t.predicateEmitted){const r=this.dataFactory.blankNode();this.emitTriple(t.subject,t.predicate,r,t.reifiedStatementId);for(let n=0;n<t.predicateSubPredicates.length;n++)this.emitTriple(r,t.predicateSubPredicates[n],t.predicateSubObjects[n],null)}}}onDoctype(t){t.replace(/<!ENTITY\s+([^\s]+)\s+["']([^"']+)["']\s*>/g,(r,n,o)=>(this.saxParser.ENTITIES[n]=o,""))}}Rp.RdfXmlParser=Kt,Kt.MIME_TYPE="application/rdf+xml",Kt.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Kt.XML="http://www.w3.org/XML/1998/namespace",Kt.FORBIDDEN_NODE_ELEMENTS=["RDF","ID","about","bagID","parseType","resource","nodeID","li","aboutEach","aboutEachPrefix"],Kt.FORBIDDEN_PROPERTY_ELEMENTS=["Description","RDF","ID","about","bagID","parseType","resource","nodeID","aboutEach","aboutEachPrefix"],Kt.NCNAME_MATCHER=/^([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_])([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_\-.0-9#xB7\u{0300}-\u{036F}\u{203F}-\u{2040}])*$/u;var hl;(function(e){e[e.RESOURCE=0]="RESOURCE",e[e.PROPERTY=1]="PROPERTY"})(hl||(Rp.ParseType=hl={})),function(e){var t=nr&&nr.__createBinding||(Object.create?function(n,o,s,a){a===void 0&&(a=s);var l=Object.getOwnPropertyDescriptor(o,s);(!l||("get"in l?!o.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(n,a,l)}:function(n,o,s,a){a===void 0&&(a=s),n[a]=o[s]}),r=nr&&nr.__exportStar||function(n,o){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&t(o,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(Rp,e)}(Xoe);class Crt extends Xoe.RdfXmlParser{constructor({factory:t,...r}={}){super({...r,dataFactory:t})}}const Ort=Object.freeze(Object.defineProperty({__proto__:null,default:Crt},Symbol.toStringTag,{value:"Module"}));function Lrt(e){return"_:"+e.value}function Drt(e,t){return[...e].map(r=>t(r)).join(`
`)+`
`}function Mrt(){return""}function rle(e){return"<"+e.value+">"}const Prt=/["\\\\\n\r]/,Frt=/["\\\\\n\r]/g,jrt={'"':'\\"',"\\":"\\\\","\n":"\\n","\r":"\\r"};function Wrt(e){return jrt[e]}function Brt(e){return Prt.test(e)?e.replace(Frt,Wrt):e}function Urt(e){const t=Brt(e.value);return e.datatype.value==="http://www.w3.org/2001/XMLSchema#string"?'"'+t+'"':e.datatype.value==="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?'"'+t+'"@'+e.language:'"'+t+'"^^'+rle(e.datatype)}function qrt(e,t){const r=t(e.subject),n=t(e.predicate),o=t(e.object),s=t(e.graph);return`${r} ${n} ${o} ${s?s+" ":""}.`}function Hrt(e){return"?"+e.value}function tF(e){if(!e)return null;if(e.termType==="BlankNode")return Lrt(e);if(e.termType==="DefaultGraph")return Mrt();if(e.termType==="Literal")return Urt(e);if(e.termType==="NamedNode")return rle(e);if(e.termType==="Quad"||e.subject&&e.predicate&&e.object&&e.graph)return qrt(e,tF);if(e.termType==="Variable")return Hrt(e);if(e[Symbol.iterator])return Drt(e,tF);throw new Error(`unknown termType ${e.termType}`)}var nle={exports:{}},rF={exports:{}},Nr={ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,t){return e.includes(t)},ArrayPrototypeIndexOf(e,t){return e.indexOf(t)},ArrayPrototypeJoin(e,t){return e.join(t)},ArrayPrototypeMap(e,t){return e.map(t)},ArrayPrototypePop(e,t){return e.pop(t)},ArrayPrototypePush(e,t){return e.push(t)},ArrayPrototypeSlice(e,t,r){return e.slice(t,r)},Error,FunctionPrototypeCall(e,t,...r){return e.call(t,...r)},FunctionPrototypeSymbolHasInstance(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,t){return Object.defineProperties(e,t)},ObjectDefineProperty(e,t,r){return Object.defineProperty(e,t,r)},ObjectGetOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,t){return Object.setPrototypeOf(e,t)},Promise,PromisePrototypeCatch(e,t){return e.catch(t)},PromisePrototypeThen(e,t,r){return e.then(t,r)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,t){return e.test(t)},SafeSet:Set,String,StringPrototypeSlice(e,t,r){return e.slice(t,r)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,t,r){return e.set(t,r)},Boolean,Uint8Array},ile={exports:{}};(function(e){const t=Ge,{kResistStopPropagation:r,SymbolDispose:n}=Nr,o=globalThis.AbortSignal||bt().AbortSignal,s=globalThis.AbortController||bt().AbortController,a=Object.getPrototypeOf(async function(){}).constructor,l=globalThis.Blob||t.Blob,f=typeof l<"u"?function(p){return p instanceof l}:function(p){return!1},u=(h,p)=>{if(h!==void 0&&(h===null||typeof h!="object"||!("aborted"in h)))throw new ERR_INVALID_ARG_TYPE(p,"AbortSignal",h)},d=(h,p)=>{if(typeof h!="function")throw new ERR_INVALID_ARG_TYPE(p,"Function",h)};class g extends Error{constructor(p){if(!Array.isArray(p))throw new TypeError(`Expected input to be an Array, got ${typeof p}`);let w="";for(let y=0;y<p.length;y++)w+=`    ${p[y].stack}
`;super(w),this.name="AggregateError",this.errors=p}}e.exports={AggregateError:g,kEmptyObject:Object.freeze({}),once(h){let p=!1;return function(...w){p||(p=!0,h.apply(this,w))}},createDeferredPromise:function(){let h,p;return{promise:new Promise((y,v)=>{h=y,p=v}),resolve:h,reject:p}},promisify(h){return new Promise((p,w)=>{h((y,...v)=>y?w(y):p(...v))})},debuglog(){return function(){}},format(h,...p){return h.replace(/%([sdifj])/g,function(...[w,y]){const v=p.shift();return y==="f"?v.toFixed(6):y==="j"?JSON.stringify(v):y==="s"&&typeof v=="object"?`${v.constructor!==Object?v.constructor.name:""} {}`.trim():v.toString()})},inspect(h){switch(typeof h){case"string":if(h.includes("'"))if(h.includes('"')){if(!h.includes("`")&&!h.includes("${"))return`\`${h}\``}else return`"${h}"`;return`'${h}'`;case"number":return isNaN(h)?"NaN":Object.is(h,-0)?String(h):h;case"bigint":return`${String(h)}n`;case"boolean":case"undefined":return String(h);case"object":return"{}"}},types:{isAsyncFunction(h){return h instanceof a},isArrayBufferView(h){return ArrayBuffer.isView(h)}},isBlob:f,deprecate(h,p){return h},addAbortListener:$t.addAbortListener||function(p,w){if(p===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",p);u(p,"signal"),d(w,"listener");let y;return p.aborted?queueMicrotask(()=>w()):(p.addEventListener("abort",w,{__proto__:null,once:!0,[r]:!0}),y=()=>{p.removeEventListener("abort",w)}),{__proto__:null,[n](){var v;(v=y)===null||v===void 0||v()}}},AbortSignalAny:o.any||function(p){if(p.length===1)return p[0];const w=new s,y=()=>w.abort();return p.forEach(v=>{u(v,"signals"),v.addEventListener("abort",y,{once:!0})}),w.signal.addEventListener("abort",()=>{p.forEach(v=>v.removeEventListener("abort",y))},{once:!0}),w.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(ile);var ui=ile.exports,nF={};const{format:Vrt,inspect:LE,AggregateError:Grt}=ui,zrt=globalThis.AggregateError||Grt,Krt=Symbol("kIsNodeError"),Jrt=["string","function","number","object","Function","Object","boolean","bigint","symbol"],Yrt=/^([A-Z][a-z0-9]*)+$/,Xrt="__node_internal_",DE={};function cd(e,t){if(!e)throw new DE.ERR_INTERNAL_ASSERTION(t)}function ole(e){let t="",r=e.length;const n=e[0]==="-"?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function Qrt(e,t,r){if(typeof t=="function")return cd(t.length<=r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${t.length}).`),t(...r);const n=(t.match(/%[dfijoOs]/g)||[]).length;return cd(n===r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?t:Vrt(t,...r)}function Rn(e,t,r){r||(r=Error);class n extends r{constructor(...s){super(Qrt(e,t,s))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=e,n.prototype[Krt]=!0,DE[e]=n}function sle(e){const t=Xrt+e.name;return Object.defineProperty(e,"name",{value:t}),e}function Zrt(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;const r=new zrt([t,e],t.message);return r.code=t.code,r}return e||t}let ent=class extends Error{constructor(t="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new DE.ERR_INVALID_ARG_TYPE("options","Object",r);super(t,r),this.code="ABORT_ERR",this.name="AbortError"}};Rn("ERR_ASSERTION","%s",Error),Rn("ERR_INVALID_ARG_TYPE",(e,t,r)=>{cd(typeof e=="string","'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+=`${e} `:n+=`"${e}" ${e.includes(".")?"property":"argument"} `,n+="must be ";const o=[],s=[],a=[];for(const f of t)cd(typeof f=="string","All expected entries have to be of type string"),Jrt.includes(f)?o.push(f.toLowerCase()):Yrt.test(f)?s.push(f):(cd(f!=="object",'The value "object" should be written as "Object"'),a.push(f));if(s.length>0){const f=o.indexOf("object");f!==-1&&(o.splice(o,f,1),s.push("Object"))}if(o.length>0){switch(o.length){case 1:n+=`of type ${o[0]}`;break;case 2:n+=`one of type ${o[0]} or ${o[1]}`;break;default:{const f=o.pop();n+=`one of type ${o.join(", ")}, or ${f}`}}(s.length>0||a.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{const f=s.pop();n+=`an instance of ${s.join(", ")}, or ${f}`}}a.length>0&&(n+=" or ")}switch(a.length){case 0:break;case 1:a[0].toLowerCase()!==a[0]&&(n+="an "),n+=`${a[0]}`;break;case 2:n+=`one of ${a[0]} or ${a[1]}`;break;default:{const f=a.pop();n+=`one of ${a.join(", ")}, or ${f}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var l;if((l=r.constructor)!==null&&l!==void 0&&l.name)n+=`. Received an instance of ${r.constructor.name}`;else{const f=LE(r,{depth:-1});n+=`. Received ${f}`}}else{let f=LE(r,{colors:!1});f.length>25&&(f=`${f.slice(0,25)}...`),n+=`. Received type ${typeof r} (${f})`}return n},TypeError),Rn("ERR_INVALID_ARG_VALUE",(e,t,r="is invalid")=>{let n=LE(t);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${e.includes(".")?"property":"argument"} '${e}' ${r}. Received ${n}`},TypeError),Rn("ERR_INVALID_RETURN_VALUE",(e,t,r)=>{var n;const o=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${e} to be returned from the "${t}" function but got ${o}.`},TypeError),Rn("ERR_MISSING_ARGS",(...e)=>{cd(e.length>0,"At least one arg needs to be specified");let t;const r=e.length;switch(e=(Array.isArray(e)?e:[e]).map(n=>`"${n}"`).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{const n=e.pop();t+=`The ${e.join(", ")}, and ${n} arguments`}break}return`${t} must be specified`},TypeError),Rn("ERR_OUT_OF_RANGE",(e,t,r)=>{cd(t,'Missing "range" argument');let n;return Number.isInteger(r)&&Math.abs(r)>2**32?n=ole(String(r)):typeof r=="bigint"?(n=String(r),(r>2n**32n||r<-(2n**32n))&&(n=ole(n)),n+="n"):n=LE(r),`The value of "${e}" is out of range. It must be ${t}. Received ${n}`},RangeError),Rn("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),Rn("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),Rn("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),Rn("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),Rn("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),Rn("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),Rn("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),Rn("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),Rn("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),Rn("ERR_STREAM_WRITE_AFTER_END","write after end",Error),Rn("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);var Ci={AbortError:ent,aggregateTwoErrors:sle(Zrt),hideStackFrames:sle,codes:DE};const{ArrayIsArray:iF,ArrayPrototypeIncludes:ale,ArrayPrototypeJoin:lle,ArrayPrototypeMap:tnt,NumberIsInteger:oF,NumberIsNaN:rnt,NumberMAX_SAFE_INTEGER:nnt,NumberMIN_SAFE_INTEGER:int,NumberParseInt:ont,ObjectPrototypeHasOwnProperty:snt,RegExpPrototypeExec:ule,String:ant,StringPrototypeToUpperCase:lnt,StringPrototypeTrim:unt}=Nr,{hideStackFrames:vo,codes:{ERR_SOCKET_BAD_PORT:fnt,ERR_INVALID_ARG_TYPE:jn,ERR_INVALID_ARG_VALUE:Mp,ERR_OUT_OF_RANGE:dd,ERR_UNKNOWN_SIGNAL:fle}}=Ci,{normalizeEncoding:cnt}=ui,{isAsyncFunction:dnt,isArrayBufferView:hnt}=ui.types,cle={};function pnt(e){return e===(e|0)}function bnt(e){return e===e>>>0}const gnt=/^[0-7]+$/,_nt="must be a 32-bit unsigned integer or an octal string";function ynt(e,t,r){if(typeof e>"u"&&(e=r),typeof e=="string"){if(ule(gnt,e)===null)throw new Mp(t,e,_nt);e=ont(e,8)}return dle(e,t),e}const wnt=vo((e,t,r=int,n=nnt)=>{if(typeof e!="number")throw new jn(t,"number",e);if(!oF(e))throw new dd(t,"an integer",e);if(e<r||e>n)throw new dd(t,`>= ${r} && <= ${n}`,e)}),mnt=vo((e,t,r=-2147483648,n=2147483647)=>{if(typeof e!="number")throw new jn(t,"number",e);if(!oF(e))throw new dd(t,"an integer",e);if(e<r||e>n)throw new dd(t,`>= ${r} && <= ${n}`,e)}),dle=vo((e,t,r=!1)=>{if(typeof e!="number")throw new jn(t,"number",e);if(!oF(e))throw new dd(t,"an integer",e);const n=r?1:0,o=4294967295;if(e<n||e>o)throw new dd(t,`>= ${n} && <= ${o}`,e)});function sF(e,t){if(typeof e!="string")throw new jn(t,"string",e)}function vnt(e,t,r=void 0,n){if(typeof e!="number")throw new jn(t,"number",e);if(r!=null&&e<r||n!=null&&e>n||(r!=null||n!=null)&&rnt(e))throw new dd(t,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,e)}const Snt=vo((e,t,r)=>{if(!ale(r,e)){const o="must be one of: "+lle(tnt(r,s=>typeof s=="string"?`'${s}'`:ant(s)),", ");throw new Mp(t,e,o)}});function hle(e,t){if(typeof e!="boolean")throw new jn(t,"boolean",e)}function aF(e,t,r){return e==null||!snt(e,t)?r:e[t]}const Ent=vo((e,t,r=null)=>{const n=aF(r,"allowArray",!1),o=aF(r,"allowFunction",!1);if(!aF(r,"nullable",!1)&&e===null||!n&&iF(e)||typeof e!="object"&&(!o||typeof e!="function"))throw new jn(t,"Object",e)}),Rnt=vo((e,t)=>{if(e!=null&&typeof e!="object"&&typeof e!="function")throw new jn(t,"a dictionary",e)}),ME=vo((e,t,r=0)=>{if(!iF(e))throw new jn(t,"Array",e);if(e.length<r){const n=`must be longer than ${r}`;throw new Mp(t,e,n)}});function xnt(e,t){ME(e,t);for(let r=0;r<e.length;r++)sF(e[r],`${t}[${r}]`)}function Ant(e,t){ME(e,t);for(let r=0;r<e.length;r++)hle(e[r],`${t}[${r}]`)}function $nt(e,t){ME(e,t);for(let r=0;r<e.length;r++){const n=e[r],o=`${t}[${r}]`;if(n==null)throw new jn(o,"AbortSignal",n);ple(n,o)}}function Tnt(e,t="signal"){if(sF(e,t),cle[e]===void 0)throw cle[lnt(e)]!==void 0?new fle(e+" (signals must use all capital letters)"):new fle(e)}const Int=vo((e,t="buffer")=>{if(!hnt(e))throw new jn(t,["Buffer","TypedArray","DataView"],e)});function Nnt(e,t){const r=cnt(t),n=e.length;if(r==="hex"&&n%2!==0)throw new Mp("encoding",t,`is invalid for data of length ${n}`)}function knt(e,t="Port",r=!0){if(typeof e!="number"&&typeof e!="string"||typeof e=="string"&&unt(e).length===0||+e!==+e>>>0||e>65535||e===0&&!r)throw new fnt(t,e,r);return e|0}const ple=vo((e,t)=>{if(e!==void 0&&(e===null||typeof e!="object"||!("aborted"in e)))throw new jn(t,"AbortSignal",e)}),Cnt=vo((e,t)=>{if(typeof e!="function")throw new jn(t,"Function",e)}),Ont=vo((e,t)=>{if(typeof e!="function"||dnt(e))throw new jn(t,"Function",e)}),Lnt=vo((e,t)=>{if(e!==void 0)throw new jn(t,"undefined",e)});function Dnt(e,t,r){if(!ale(r,e))throw new jn(t,`('${lle(r,"|")}')`,e)}const Mnt=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ble(e,t){if(typeof e>"u"||!ule(Mnt,e))throw new Mp(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function Pnt(e){if(typeof e=="string")return ble(e,"hints"),e;if(iF(e)){const t=e.length;let r="";if(t===0)return r;for(let n=0;n<t;n++){const o=e[n];ble(o,"hints"),r+=o,n!==t-1&&(r+=", ")}return r}throw new Mp("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}var J_={isInt32:pnt,isUint32:bnt,parseFileMode:ynt,validateArray:ME,validateStringArray:xnt,validateBooleanArray:Ant,validateAbortSignalArray:$nt,validateBoolean:hle,validateBuffer:Int,validateDictionary:Rnt,validateEncoding:Nnt,validateFunction:Cnt,validateInt32:mnt,validateInteger:wnt,validateNumber:vnt,validateObject:Ent,validateOneOf:Snt,validatePlainFunction:Ont,validatePort:knt,validateSignalName:Tnt,validateString:sF,validateUint32:dle,validateUndefined:Lnt,validateUnion:Dnt,validateAbortSignal:ple,validateLinkHeaderValue:Pnt},lF={exports:{}};const{SymbolAsyncIterator:gle,SymbolIterator:_le,SymbolFor:hd}=Nr,yle=hd("nodejs.stream.destroyed"),wle=hd("nodejs.stream.errored"),uF=hd("nodejs.stream.readable"),fF=hd("nodejs.stream.writable"),mle=hd("nodejs.stream.disturbed"),Fnt=hd("nodejs.webstream.isClosedPromise"),jnt=hd("nodejs.webstream.controllerErrorFunction");function PE(e,t=!1){var r;return!!(e&&typeof e.pipe=="function"&&typeof e.on=="function"&&(!t||typeof e.pause=="function"&&typeof e.resume=="function")&&(!e._writableState||((r=e._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!e._writableState||e._readableState))}function FE(e){var t;return!!(e&&typeof e.write=="function"&&typeof e.on=="function"&&(!e._readableState||((t=e._writableState)===null||t===void 0?void 0:t.writable)!==!1))}function Wnt(e){return!!(e&&typeof e.pipe=="function"&&e._readableState&&typeof e.on=="function"&&typeof e.write=="function")}function ra(e){return e&&(e._readableState||e._writableState||typeof e.write=="function"&&typeof e.on=="function"||typeof e.pipe=="function"&&typeof e.on=="function")}function vle(e){return!!(e&&!ra(e)&&typeof e.pipeThrough=="function"&&typeof e.getReader=="function"&&typeof e.cancel=="function")}function Sle(e){return!!(e&&!ra(e)&&typeof e.getWriter=="function"&&typeof e.abort=="function")}function Ele(e){return!!(e&&!ra(e)&&typeof e.readable=="object"&&typeof e.writable=="object")}function Bnt(e){return vle(e)||Sle(e)||Ele(e)}function Unt(e,t){return e==null?!1:t===!0?typeof e[gle]=="function":t===!1?typeof e[_le]=="function":typeof e[gle]=="function"||typeof e[_le]=="function"}function jE(e){if(!ra(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[yle]||n!=null&&n.destroyed)}function Rle(e){if(!FE(e))return null;if(e.writableEnded===!0)return!0;const t=e._writableState;return t!=null&&t.errored?!1:typeof(t==null?void 0:t.ended)!="boolean"?null:t.ended}function qnt(e,t){if(!FE(e))return null;if(e.writableFinished===!0)return!0;const r=e._writableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.finished)!="boolean"?null:!!(r.finished||t===!1&&r.ended===!0&&r.length===0)}function Hnt(e){if(!PE(e))return null;if(e.readableEnded===!0)return!0;const t=e._readableState;return!t||t.errored?!1:typeof(t==null?void 0:t.ended)!="boolean"?null:t.ended}function xle(e,t){if(!PE(e))return null;const r=e._readableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.endEmitted)!="boolean"?null:!!(r.endEmitted||t===!1&&r.ended===!0&&r.length===0)}function Ale(e){return e&&e[uF]!=null?e[uF]:typeof(e==null?void 0:e.readable)!="boolean"?null:jE(e)?!1:PE(e)&&e.readable&&!xle(e)}function $le(e){return e&&e[fF]!=null?e[fF]:typeof(e==null?void 0:e.writable)!="boolean"?null:jE(e)?!1:FE(e)&&e.writable&&!Rle(e)}function Vnt(e,t){return ra(e)?jE(e)?!0:!((t==null?void 0:t.readable)!==!1&&Ale(e)||(t==null?void 0:t.writable)!==!1&&$le(e)):null}function Gnt(e){var t,r;return ra(e)?e.writableErrored?e.writableErrored:(t=(r=e._writableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}function znt(e){var t,r;return ra(e)?e.readableErrored?e.readableErrored:(t=(r=e._readableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}function Knt(e){if(!ra(e))return null;if(typeof e.closed=="boolean")return e.closed;const t=e._writableState,r=e._readableState;return typeof(t==null?void 0:t.closed)=="boolean"||typeof(r==null?void 0:r.closed)=="boolean"?(t==null?void 0:t.closed)||(r==null?void 0:r.closed):typeof e._closed=="boolean"&&Tle(e)?e._closed:null}function Tle(e){return typeof e._closed=="boolean"&&typeof e._defaultKeepAlive=="boolean"&&typeof e._removedConnection=="boolean"&&typeof e._removedContLen=="boolean"}function Ile(e){return typeof e._sent100=="boolean"&&Tle(e)}function Jnt(e){var t;return typeof e._consuming=="boolean"&&typeof e._dumped=="boolean"&&((t=e.req)===null||t===void 0?void 0:t.upgradeOrConnect)===void 0}function Ynt(e){if(!ra(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!n&&Ile(e)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function Xnt(e){var t;return!!(e&&((t=e[mle])!==null&&t!==void 0?t:e.readableDidRead||e.readableAborted))}function Qnt(e){var t,r,n,o,s,a,l,f,u,d;return!!(e&&((t=(r=(n=(o=(s=(a=e[wle])!==null&&a!==void 0?a:e.readableErrored)!==null&&s!==void 0?s:e.writableErrored)!==null&&o!==void 0?o:(l=e._readableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&n!==void 0?n:(f=e._writableState)===null||f===void 0?void 0:f.errorEmitted)!==null&&r!==void 0?r:(u=e._readableState)===null||u===void 0?void 0:u.errored)!==null&&t!==void 0?t:!((d=e._writableState)===null||d===void 0)&&d.errored))}var pl={isDestroyed:jE,kIsDestroyed:yle,isDisturbed:Xnt,kIsDisturbed:mle,isErrored:Qnt,kIsErrored:wle,isReadable:Ale,kIsReadable:uF,kIsClosedPromise:Fnt,kControllerErrorFunction:jnt,kIsWritable:fF,isClosed:Knt,isDuplexNodeStream:Wnt,isFinished:Vnt,isIterable:Unt,isReadableNodeStream:PE,isReadableStream:vle,isReadableEnded:Hnt,isReadableFinished:xle,isReadableErrored:znt,isNodeStream:ra,isWebStream:Bnt,isWritable:$le,isWritableNodeStream:FE,isWritableStream:Sle,isWritableEnded:Rle,isWritableFinished:qnt,isWritableErrored:Gnt,isServerRequest:Jnt,isServerResponse:Ile,willEmitClose:Ynt,isTransformStream:Ele};const Wu=Qe,{AbortError:Nle,codes:Znt}=Ci,{ERR_INVALID_ARG_TYPE:eit,ERR_STREAM_PREMATURE_CLOSE:kle}=Znt,{kEmptyObject:cF,once:dF}=ui,{validateAbortSignal:tit,validateFunction:rit,validateObject:nit,validateBoolean:iit}=J_,{Promise:oit,PromisePrototypeThen:sit,SymbolDispose:Cle}=Nr,{isClosed:ait,isReadable:Ole,isReadableNodeStream:hF,isReadableStream:lit,isReadableFinished:Lle,isReadableErrored:Dle,isWritable:Mle,isWritableNodeStream:Ple,isWritableStream:uit,isWritableFinished:Fle,isWritableErrored:jle,isNodeStream:fit,willEmitClose:cit,kIsClosedPromise:dit}=pl;let Pp;function hit(e){return e.setHeader&&typeof e.abort=="function"}const pF=()=>{};function Wle(e,t,r){var n,o;if(arguments.length===2?(r=t,t=cF):t==null?t=cF:nit(t,"options"),rit(r,"callback"),tit(t.signal,"options.signal"),r=dF(r),lit(e)||uit(e))return pit(e,t,r);if(!fit(e))throw new eit("stream",["ReadableStream","WritableStream","Stream"],e);const s=(n=t.readable)!==null&&n!==void 0?n:hF(e),a=(o=t.writable)!==null&&o!==void 0?o:Ple(e),l=e._writableState,f=e._readableState,u=()=>{e.writable||h()};let d=cit(e)&&hF(e)===s&&Ple(e)===a,g=Fle(e,!1);const h=()=>{g=!0,e.destroyed&&(d=!1),!(d&&(!e.readable||s))&&(!s||p)&&r.call(e)};let p=Lle(e,!1);const w=()=>{p=!0,e.destroyed&&(d=!1),!(d&&(!e.writable||a))&&(!a||g)&&r.call(e)},y=$=>{r.call(e,$)};let v=ait(e);const E=()=>{v=!0;const $=jle(e)||Dle(e);if($&&typeof $!="boolean")return r.call(e,$);if(s&&!p&&hF(e,!0)&&!Lle(e,!1))return r.call(e,new kle);if(a&&!g&&!Fle(e,!1))return r.call(e,new kle);r.call(e)},x=()=>{v=!0;const $=jle(e)||Dle(e);if($&&typeof $!="boolean")return r.call(e,$);r.call(e)},S=()=>{e.req.on("finish",h)};hit(e)?(e.on("complete",h),d||e.on("abort",E),e.req?S():e.on("request",S)):a&&!l&&(e.on("end",u),e.on("close",u)),!d&&typeof e.aborted=="boolean"&&e.on("aborted",E),e.on("end",w),e.on("finish",h),t.error!==!1&&e.on("error",y),e.on("close",E),v?Wu.nextTick(E):l!=null&&l.errorEmitted||f!=null&&f.errorEmitted?d||Wu.nextTick(x):(!s&&(!d||Ole(e))&&(g||Mle(e)===!1)||!a&&(!d||Mle(e))&&(p||Ole(e)===!1)||f&&e.req&&e.aborted)&&Wu.nextTick(x);const N=()=>{r=pF,e.removeListener("aborted",E),e.removeListener("complete",h),e.removeListener("abort",E),e.removeListener("request",S),e.req&&e.req.removeListener("finish",h),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",h),e.removeListener("end",w),e.removeListener("error",y),e.removeListener("close",E)};if(t.signal&&!v){const $=()=>{const D=r;N(),D.call(e,new Nle(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)Wu.nextTick($);else{Pp=Pp||ui.addAbortListener;const D=Pp(t.signal,$),K=r;r=dF((...q)=>{D[Cle](),K.apply(e,q)})}}return N}function pit(e,t,r){let n=!1,o=pF;if(t.signal)if(o=()=>{n=!0,r.call(e,new Nle(void 0,{cause:t.signal.reason}))},t.signal.aborted)Wu.nextTick(o);else{Pp=Pp||ui.addAbortListener;const a=Pp(t.signal,o),l=r;r=dF((...f)=>{a[Cle](),l.apply(e,f)})}const s=(...a)=>{n||Wu.nextTick(()=>r.apply(e,a))};return sit(e[dit].promise,s,s),pF}function bit(e,t){var r;let n=!1;return t===null&&(t=cF),(r=t)!==null&&r!==void 0&&r.cleanup&&(iit(t.cleanup,"cleanup"),n=t.cleanup),new oit((o,s)=>{const a=Wle(e,t,l=>{n&&a(),l?s(l):o()})})}lF.exports=Wle,lF.exports.finished=bit;var Bu=lF.exports;const na=Qe,{aggregateTwoErrors:git,codes:{ERR_MULTIPLE_CALLBACK:_it},AbortError:yit}=Ci,{Symbol:Ble}=Nr,{kIsDestroyed:wit,isDestroyed:mit,isFinished:vit,isServerRequest:Sit}=pl,Ule=Ble("kDestroy"),bF=Ble("kConstruct");function qle(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function Eit(e,t){const r=this._readableState,n=this._writableState,o=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof t=="function"&&t(),this):(qle(e,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),o.constructed?Hle(this,e,t):this.once(Ule,function(s){Hle(this,git(s,e),t)}),this)}function Hle(e,t,r){let n=!1;function o(s){if(n)return;n=!0;const a=e._readableState,l=e._writableState;qle(s,l,a),l&&(l.closed=!0),a&&(a.closed=!0),typeof r=="function"&&r(s),s?na.nextTick(Rit,e,s):na.nextTick(Vle,e)}try{e._destroy(t||null,o)}catch(s){o(s)}}function Rit(e,t){gF(e,t),Vle(e)}function Vle(e){const t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(r!=null&&r.emitClose||t!=null&&t.emitClose)&&e.emit("close")}function gF(e,t){const r=e._readableState,n=e._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function xit(){const e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=e.readable===!1,e.endEmitted=e.readable===!1),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=t.writable===!1,t.ending=t.writable===!1,t.finished=t.writable===!1)}function _F(e,t,r){const n=e._readableState,o=e._writableState;if(o!=null&&o.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||o!=null&&o.autoDestroy?e.destroy(t):t&&(t.stack,o&&!o.errored&&(o.errored=t),n&&!n.errored&&(n.errored=t),r?na.nextTick(gF,e,t):gF(e,t))}function Ait(e,t){if(typeof e._construct!="function")return;const r=e._readableState,n=e._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),e.once(bF,t),!(e.listenerCount(bF)>1)&&na.nextTick($it,e)}function $it(e){let t=!1;function r(n){if(t){_F(e,n??new _it);return}t=!0;const o=e._readableState,s=e._writableState,a=s||o;o&&(o.constructed=!0),s&&(s.constructed=!0),a.destroyed?e.emit(Ule,n):n?_F(e,n,!0):na.nextTick(Tit,e)}try{e._construct(n=>{na.nextTick(r,n)})}catch(n){na.nextTick(r,n)}}function Tit(e){e.emit(bF)}function Gle(e){return(e==null?void 0:e.setHeader)&&typeof e.abort=="function"}function zle(e){e.emit("close")}function Iit(e,t){e.emit("error",t),na.nextTick(zle,e)}function Nit(e,t){!e||mit(e)||(!t&&!vit(e)&&(t=new yit),Sit(e)?(e.socket=null,e.destroy(t)):Gle(e)?e.abort():Gle(e.req)?e.req.abort():typeof e.destroy=="function"?e.destroy(t):typeof e.close=="function"?e.close():t?na.nextTick(Iit,e,t):na.nextTick(zle,e),e.destroyed||(e[wit]=!0))}var Fp={construct:Ait,destroyer:Nit,destroy:Eit,undestroy:xit,errorOrDestroy:_F};const{ArrayIsArray:kit,ObjectSetPrototypeOf:Kle}=Nr,{EventEmitter:WE}=$t;function BE(e){WE.call(this,e)}Kle(BE.prototype,WE.prototype),Kle(BE,WE),BE.prototype.pipe=function(e,t){const r=this;function n(d){e.writable&&e.write(d)===!1&&r.pause&&r.pause()}r.on("data",n);function o(){r.readable&&r.resume&&r.resume()}e.on("drain",o),!e._isStdio&&(!t||t.end!==!1)&&(r.on("end",a),r.on("close",l));let s=!1;function a(){s||(s=!0,e.end())}function l(){s||(s=!0,typeof e.destroy=="function"&&e.destroy())}function f(d){u(),WE.listenerCount(this,"error")===0&&this.emit("error",d)}yF(r,"error",f),yF(e,"error",f);function u(){r.removeListener("data",n),e.removeListener("drain",o),r.removeListener("end",a),r.removeListener("close",l),r.removeListener("error",f),e.removeListener("error",f),r.removeListener("end",u),r.removeListener("close",u),e.removeListener("close",u)}return r.on("end",u),r.on("close",u),e.on("close",u),e.emit("pipe",r),e};function yF(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):kit(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}var wF={Stream:BE,prependListener:yF},Jle={exports:{}};(function(e){const{SymbolDispose:t}=Nr,{AbortError:r,codes:n}=Ci,{isNodeStream:o,isWebStream:s,kControllerErrorFunction:a}=pl,l=Bu,{ERR_INVALID_ARG_TYPE:f}=n;let u;const d=(g,h)=>{if(typeof g!="object"||!("aborted"in g))throw new f(h,"AbortSignal",g)};e.exports.addAbortSignal=function(h,p){if(d(h,"signal"),!o(p)&&!s(p))throw new f("stream",["ReadableStream","WritableStream","Stream"],p);return e.exports.addAbortSignalNoValidate(h,p)},e.exports.addAbortSignalNoValidate=function(g,h){if(typeof g!="object"||!("aborted"in g))return h;const p=o(h)?()=>{h.destroy(new r(void 0,{cause:g.reason}))}:()=>{h[a](new r(void 0,{cause:g.reason}))};if(g.aborted)p();else{u=u||ui.addAbortListener;const w=u(g,p);l(h,w[t])}return h}})(Jle);var UE=Jle.exports;const{StringPrototypeSlice:Yle,SymbolIterator:Cit,TypedArrayPrototypeSet:qE,Uint8Array:Oit}=Nr,{Buffer:mF}=Ge,{inspect:Lit}=ui;var Dit=class{constructor(){this.head=null,this.tail=null,this.length=0}push(t){const r={data:t,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(t){const r={data:t,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;const t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=t+r.data;return n}concat(t){if(this.length===0)return mF.alloc(0);const r=mF.allocUnsafe(t>>>0);let n=this.head,o=0;for(;n;)qE(r,n.data,o),o+=n.data.length,n=n.next;return r}consume(t,r){const n=this.head.data;if(t<n.length){const o=n.slice(0,t);return this.head.data=n.slice(t),o}return t===n.length?this.shift():r?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[Cit](){for(let t=this.head;t;t=t.next)yield t.data}_getString(t){let r="",n=this.head,o=0;do{const s=n.data;if(t>s.length)r+=s,t-=s.length;else{t===s.length?(r+=s,++o,n.next?this.head=n.next:this.head=this.tail=null):(r+=Yle(s,0,t),this.head=n,n.data=Yle(s,t));break}++o}while((n=n.next)!==null);return this.length-=o,r}_getBuffer(t){const r=mF.allocUnsafe(t),n=t;let o=this.head,s=0;do{const a=o.data;if(t>a.length)qE(r,a,n-t),t-=a.length;else{t===a.length?(qE(r,a,n-t),++s,o.next?this.head=o.next:this.head=this.tail=null):(qE(r,new Oit(a.buffer,a.byteOffset,t),n-t),this.head=o,o.data=a.slice(t));break}++s}while((o=o.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](t,r){return Lit(this,{...r,depth:0,customInspect:!1})}};const{MathFloor:Mit,NumberIsInteger:Pit}=Nr,{validateInteger:Fit}=J_,{ERR_INVALID_ARG_VALUE:jit}=Ci.codes;let Xle=16*1024,Qle=16;function Wit(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function Zle(e){return e?Qle:Xle}function Bit(e,t){Fit(t,"value",0),e?Qle=t:Xle=t}function Uit(e,t,r,n){const o=Wit(t,n,r);if(o!=null){if(!Pit(o)||o<0){const s=n?`options.${r}`:"options.highWaterMark";throw new jit(s,o)}return Mit(o)}return Zle(e.objectMode)}var HE={getHighWaterMark:Uit,getDefaultHighWaterMark:Zle,setDefaultHighWaterMark:Bit};const eue=Qe,{PromisePrototypeThen:qit,SymbolAsyncIterator:tue,SymbolIterator:rue}=Nr,{Buffer:Hit}=Ge,{ERR_INVALID_ARG_TYPE:Vit,ERR_STREAM_NULL_VALUES:Git}=Ci.codes;function zit(e,t,r){let n;if(typeof t=="string"||t instanceof Hit)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});let o;if(t&&t[tue])o=!0,n=t[tue]();else if(t&&t[rue])o=!1,n=t[rue]();else throw new Vit("iterable",["Iterable"],t);const s=new e({objectMode:!0,highWaterMark:1,...r});let a=!1;s._read=function(){a||(a=!0,f())},s._destroy=function(u,d){qit(l(u),()=>eue.nextTick(d,u),g=>eue.nextTick(d,g||u))};async function l(u){const d=u!=null,g=typeof n.throw=="function";if(d&&g){const{value:h,done:p}=await n.throw(u);if(await h,p)return}if(typeof n.return=="function"){const{value:h}=await n.return();await h}}async function f(){for(;;){try{const{value:u,done:d}=o?await n.next():n.next();if(d)s.push(null);else{const g=u&&typeof u.then=="function"?await u:u;if(g===null)throw a=!1,new Git;if(s.push(g))continue;a=!1}}catch(u){s.destroy(u)}break}}return s}var nue=zit,vF,iue;function VE(){if(iue)return vF;iue=1;const e=Qe,{ArrayPrototypeIndexOf:t,NumberIsInteger:r,NumberIsNaN:n,NumberParseInt:o,ObjectDefineProperties:s,ObjectKeys:a,ObjectSetPrototypeOf:l,Promise:f,SafeSet:u,SymbolAsyncDispose:d,SymbolAsyncIterator:g,Symbol:h}=Nr;vF=F,F.ReadableState=ye;const{EventEmitter:p}=$t,{Stream:w,prependListener:y}=wF,{Buffer:v}=Ge,{addAbortSignal:E}=UE,x=Bu;let S=ui.debuglog("stream",c=>{S=c});const N=Dit,$=Fp,{getHighWaterMark:D,getDefaultHighWaterMark:K}=HE,{aggregateTwoErrors:q,codes:{ERR_INVALID_ARG_TYPE:k,ERR_METHOD_NOT_IMPLEMENTED:V,ERR_OUT_OF_RANGE:j,ERR_STREAM_PUSH_AFTER_EOF:B,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:A},AbortError:U}=Ci,{validateObject:G}=J_,H=h("kPaused"),{StringDecoder:Q}=Fi(),ne=nue;l(F.prototype,w.prototype),l(F,w);const se=()=>{},{errorOrDestroy:ae}=$,Z=1,ge=2,W=4,ue=8,xe=16,he=32,le=64,_e=128,Ae=256,We=512,ie=1024,te=2048,_=4096,m=8192,R=16384,O=32768,C=65536,X=1<<17,re=1<<18;function J(c){return{enumerable:!1,get(){return(this.state&c)!==0},set(b){b?this.state|=c:this.state&=~c}}}s(ye.prototype,{objectMode:J(Z),ended:J(ge),endEmitted:J(W),reading:J(ue),constructed:J(xe),sync:J(he),needReadable:J(le),emittedReadable:J(_e),readableListening:J(Ae),resumeScheduled:J(We),errorEmitted:J(ie),emitClose:J(te),autoDestroy:J(_),destroyed:J(m),closed:J(R),closeEmitted:J(O),multiAwaitDrain:J(C),readingMore:J(X),dataEmitted:J(re)});function ye(c,b,I){typeof I!="boolean"&&(I=b instanceof bl()),this.state=te|_|xe|he,c&&c.objectMode&&(this.state|=Z),I&&c&&c.readableObjectMode&&(this.state|=Z),this.highWaterMark=c?D(this,c,"readableHighWaterMark",I):K(!1),this.buffer=new N,this.length=0,this.pipes=[],this.flowing=null,this[H]=null,c&&c.emitClose===!1&&(this.state&=~te),c&&c.autoDestroy===!1&&(this.state&=~_),this.errored=null,this.defaultEncoding=c&&c.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,c&&c.encoding&&(this.decoder=new Q(c.encoding),this.encoding=c.encoding)}function F(c){if(!(this instanceof F))return new F(c);const b=this instanceof bl();this._readableState=new ye(c,this,b),c&&(typeof c.read=="function"&&(this._read=c.read),typeof c.destroy=="function"&&(this._destroy=c.destroy),typeof c.construct=="function"&&(this._construct=c.construct),c.signal&&!b&&E(c.signal,this)),w.call(this,c),$.construct(this,()=>{this._readableState.needReadable&&ce(this,this._readableState)})}F.prototype.destroy=$.destroy,F.prototype._undestroy=$.undestroy,F.prototype._destroy=function(c,b){b(c)},F.prototype[p.captureRejectionSymbol]=function(c){this.destroy(c)},F.prototype[d]=function(){let c;return this.destroyed||(c=this.readableEnded?null:new U,this.destroy(c)),new f((b,I)=>x(this,T=>T&&T!==c?I(T):b(null)))},F.prototype.push=function(c,b){return we(this,c,b,!1)},F.prototype.unshift=function(c,b){return we(this,c,b,!0)};function we(c,b,I,T){S("readableAddChunk",b);const P=c._readableState;let Ee;if(P.state&Z||(typeof b=="string"?(I=I||P.defaultEncoding,P.encoding!==I&&(T&&P.encoding?b=v.from(b,I).toString(P.encoding):(b=v.from(b,I),I=""))):b instanceof v?I="":w._isUint8Array(b)?(b=w._uint8ArrayToBuffer(b),I=""):b!=null&&(Ee=new k("chunk",["string","Buffer","Uint8Array"],b))),Ee)ae(c,Ee);else if(b===null)P.state&=~ue,L(c,P);else if(P.state&Z||b&&b.length>0)if(T)if(P.state&W)ae(c,new A);else{if(P.destroyed||P.errored)return!1;Ce(c,P,b,!0)}else if(P.ended)ae(c,new B);else{if(P.destroyed||P.errored)return!1;P.state&=~ue,P.decoder&&!I?(b=P.decoder.write(b),P.objectMode||b.length!==0?Ce(c,P,b,!1):ce(c,P)):Ce(c,P,b,!1)}else T||(P.state&=~ue,ce(c,P));return!P.ended&&(P.length<P.highWaterMark||P.length===0)}function Ce(c,b,I,T){b.flowing&&b.length===0&&!b.sync&&c.listenerCount("data")>0?(b.state&C?b.awaitDrainWriters.clear():b.awaitDrainWriters=null,b.dataEmitted=!0,c.emit("data",I)):(b.length+=b.objectMode?1:I.length,T?b.buffer.unshift(I):b.buffer.push(I),b.state&le&&M(c)),ce(c,b)}F.prototype.isPaused=function(){const c=this._readableState;return c[H]===!0||c.flowing===!1},F.prototype.setEncoding=function(c){const b=new Q(c);this._readableState.decoder=b,this._readableState.encoding=this._readableState.decoder.encoding;const I=this._readableState.buffer;let T="";for(const P of I)T+=b.write(P);return I.clear(),T!==""&&I.push(T),this._readableState.length=T.length,this};const Me=1073741824;function Ue(c){if(c>Me)throw new j("size","<= 1GiB",c);return c--,c|=c>>>1,c|=c>>>2,c|=c>>>4,c|=c>>>8,c|=c>>>16,c++,c}function z(c,b){return c<=0||b.length===0&&b.ended?0:b.state&Z?1:n(c)?b.flowing&&b.length?b.buffer.first().length:b.length:c<=b.length?c:b.ended?b.length:0}F.prototype.read=function(c){S("read",c),c===void 0?c=NaN:r(c)||(c=o(c,10));const b=this._readableState,I=c;if(c>b.highWaterMark&&(b.highWaterMark=Ue(c)),c!==0&&(b.state&=~_e),c===0&&b.needReadable&&((b.highWaterMark!==0?b.length>=b.highWaterMark:b.length>0)||b.ended))return S("read: emitReadable",b.length,b.ended),b.length===0&&b.ended?ht(this):M(this),null;if(c=z(c,b),c===0&&b.ended)return b.length===0&&ht(this),null;let T=(b.state&le)!==0;if(S("need readable",T),(b.length===0||b.length-c<b.highWaterMark)&&(T=!0,S("length less than watermark",T)),b.ended||b.reading||b.destroyed||b.errored||!b.constructed)T=!1,S("reading, ended or constructing",T);else if(T){S("do read"),b.state|=ue|he,b.length===0&&(b.state|=le);try{this._read(b.highWaterMark)}catch(Ee){ae(this,Ee)}b.state&=~he,b.reading||(c=z(I,b))}let P;return c>0?P=Mt(c,b):P=null,P===null?(b.needReadable=b.length<=b.highWaterMark,c=0):(b.length-=c,b.multiAwaitDrain?b.awaitDrainWriters.clear():b.awaitDrainWriters=null),b.length===0&&(b.ended||(b.needReadable=!0),I!==c&&b.ended&&ht(this)),P!==null&&!b.errorEmitted&&!b.closeEmitted&&(b.dataEmitted=!0,this.emit("data",P)),P};function L(c,b){if(S("onEofChunk"),!b.ended){if(b.decoder){const I=b.decoder.end();I&&I.length&&(b.buffer.push(I),b.length+=b.objectMode?1:I.length)}b.ended=!0,b.sync?M(c):(b.needReadable=!1,b.emittedReadable=!0,oe(c))}}function M(c){const b=c._readableState;S("emitReadable",b.needReadable,b.emittedReadable),b.needReadable=!1,b.emittedReadable||(S("emitReadable",b.flowing),b.emittedReadable=!0,e.nextTick(oe,c))}function oe(c){const b=c._readableState;S("emitReadable_",b.destroyed,b.length,b.ended),!b.destroyed&&!b.errored&&(b.length||b.ended)&&(c.emit("readable"),b.emittedReadable=!1),b.needReadable=!b.flowing&&!b.ended&&b.length<=b.highWaterMark,rt(c)}function ce(c,b){!b.readingMore&&b.constructed&&(b.readingMore=!0,e.nextTick(Se,c,b))}function Se(c,b){for(;!b.reading&&!b.ended&&(b.length<b.highWaterMark||b.flowing&&b.length===0);){const I=b.length;if(S("maybeReadMore read 0"),c.read(0),I===b.length)break}b.readingMore=!1}F.prototype._read=function(c){throw new V("_read()")},F.prototype.pipe=function(c,b){const I=this,T=this._readableState;T.pipes.length===1&&(T.multiAwaitDrain||(T.multiAwaitDrain=!0,T.awaitDrainWriters=new u(T.awaitDrainWriters?[T.awaitDrainWriters]:[]))),T.pipes.push(c),S("pipe count=%d opts=%j",T.pipes.length,b);const Ee=(!b||b.end!==!1)&&c!==e.stdout&&c!==e.stderr?de:Ke;T.endEmitted?e.nextTick(Ee):I.once("end",Ee),c.on("unpipe",$e);function $e(ke,Te){S("onunpipe"),ke===I&&Te&&Te.hasUnpiped===!1&&(Te.hasUnpiped=!0,Re())}function de(){S("onend"),c.end()}let ee,pe=!1;function Re(){S("cleanup"),c.removeListener("close",Ye),c.removeListener("finish",tt),ee&&c.removeListener("drain",ee),c.removeListener("error",Be),c.removeListener("unpipe",$e),I.removeListener("end",de),I.removeListener("end",Ke),I.removeListener("data",Ve),pe=!0,ee&&T.awaitDrainWriters&&(!c._writableState||c._writableState.needDrain)&&ee()}function me(){pe||(T.pipes.length===1&&T.pipes[0]===c?(S("false write response, pause",0),T.awaitDrainWriters=c,T.multiAwaitDrain=!1):T.pipes.length>1&&T.pipes.includes(c)&&(S("false write response, pause",T.awaitDrainWriters.size),T.awaitDrainWriters.add(c)),I.pause()),ee||(ee=ve(I,c),c.on("drain",ee))}I.on("data",Ve);function Ve(ke){S("ondata");const Te=c.write(ke);S("dest.write",Te),Te===!1&&me()}function Be(ke){if(S("onerror",ke),Ke(),c.removeListener("error",Be),c.listenerCount("error")===0){const Te=c._writableState||c._readableState;Te&&!Te.errorEmitted?ae(c,ke):c.emit("error",ke)}}y(c,"error",Be);function Ye(){c.removeListener("finish",tt),Ke()}c.once("close",Ye);function tt(){S("onfinish"),c.removeListener("close",Ye),Ke()}c.once("finish",tt);function Ke(){S("unpipe"),I.unpipe(c)}return c.emit("pipe",I),c.writableNeedDrain===!0?me():T.flowing||(S("pipe resume"),I.resume()),c};function ve(c,b){return function(){const T=c._readableState;T.awaitDrainWriters===b?(S("pipeOnDrain",1),T.awaitDrainWriters=null):T.multiAwaitDrain&&(S("pipeOnDrain",T.awaitDrainWriters.size),T.awaitDrainWriters.delete(b)),(!T.awaitDrainWriters||T.awaitDrainWriters.size===0)&&c.listenerCount("data")&&c.resume()}}F.prototype.unpipe=function(c){const b=this._readableState,I={hasUnpiped:!1};if(b.pipes.length===0)return this;if(!c){const P=b.pipes;b.pipes=[],this.pause();for(let Ee=0;Ee<P.length;Ee++)P[Ee].emit("unpipe",this,{hasUnpiped:!1});return this}const T=t(b.pipes,c);return T===-1?this:(b.pipes.splice(T,1),b.pipes.length===0&&this.pause(),c.emit("unpipe",this,I),this)},F.prototype.on=function(c,b){const I=w.prototype.on.call(this,c,b),T=this._readableState;return c==="data"?(T.readableListening=this.listenerCount("readable")>0,T.flowing!==!1&&this.resume()):c==="readable"&&!T.endEmitted&&!T.readableListening&&(T.readableListening=T.needReadable=!0,T.flowing=!1,T.emittedReadable=!1,S("on readable",T.length,T.reading),T.length?M(this):T.reading||e.nextTick(dt,this)),I},F.prototype.addListener=F.prototype.on,F.prototype.removeListener=function(c,b){const I=w.prototype.removeListener.call(this,c,b);return c==="readable"&&e.nextTick(ze,this),I},F.prototype.off=F.prototype.removeListener,F.prototype.removeAllListeners=function(c){const b=w.prototype.removeAllListeners.apply(this,arguments);return(c==="readable"||c===void 0)&&e.nextTick(ze,this),b};function ze(c){const b=c._readableState;b.readableListening=c.listenerCount("readable")>0,b.resumeScheduled&&b[H]===!1?b.flowing=!0:c.listenerCount("data")>0?c.resume():b.readableListening||(b.flowing=null)}function dt(c){S("readable nexttick read 0"),c.read(0)}F.prototype.resume=function(){const c=this._readableState;return c.flowing||(S("resume"),c.flowing=!c.readableListening,et(this,c)),c[H]=!1,this};function et(c,b){b.resumeScheduled||(b.resumeScheduled=!0,e.nextTick(Xe,c,b))}function Xe(c,b){S("resume",b.reading),b.reading||c.read(0),b.resumeScheduled=!1,c.emit("resume"),rt(c),b.flowing&&!b.reading&&c.read(0)}F.prototype.pause=function(){return S("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(S("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[H]=!0,this};function rt(c){const b=c._readableState;for(S("flow",b.flowing);b.flowing&&c.read()!==null;);}F.prototype.wrap=function(c){let b=!1;c.on("data",T=>{!this.push(T)&&c.pause&&(b=!0,c.pause())}),c.on("end",()=>{this.push(null)}),c.on("error",T=>{ae(this,T)}),c.on("close",()=>{this.destroy()}),c.on("destroy",()=>{this.destroy()}),this._read=()=>{b&&c.resume&&(b=!1,c.resume())};const I=a(c);for(let T=1;T<I.length;T++){const P=I[T];this[P]===void 0&&typeof c[P]=="function"&&(this[P]=c[P].bind(c))}return this},F.prototype[g]=function(){return Lt(this)},F.prototype.iterator=function(c){return c!==void 0&&G(c,"options"),Lt(this,c)};function Lt(c,b){typeof c.read!="function"&&(c=F.wrap(c,{objectMode:!0}));const I=vr(c,b);return I.stream=c,I}async function*vr(c,b){let I=se;function T($e){this===c?(I(),I=se):I=$e}c.on("readable",T);let P;const Ee=x(c,{writable:!1},$e=>{P=$e?q(P,$e):null,I(),I=se});try{for(;;){const $e=c.destroyed?null:c.read();if($e!==null)yield $e;else{if(P)throw P;if(P===null)return;await new f(T)}}}catch($e){throw P=q(P,$e),P}finally{(P||(b==null?void 0:b.destroyOnReturn)!==!1)&&(P===void 0||c._readableState.autoDestroy)?$.destroyer(c,null):(c.off("readable",T),Ee())}}s(F.prototype,{readable:{__proto__:null,get(){const c=this._readableState;return!!c&&c.readable!==!1&&!c.destroyed&&!c.errorEmitted&&!c.endEmitted},set(c){this._readableState&&(this._readableState.readable=!!c)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(c){this._readableState&&(this._readableState.flowing=c)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(c){this._readableState&&(this._readableState.destroyed=c)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),s(ye.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[H]!==!1},set(c){this[H]=!!c}}}),F._fromList=Mt;function Mt(c,b){if(b.length===0)return null;let I;return b.objectMode?I=b.buffer.shift():!c||c>=b.length?(b.decoder?I=b.buffer.join(""):b.buffer.length===1?I=b.buffer.first():I=b.buffer.concat(b.length),b.buffer.clear()):I=b.buffer.consume(c,b.decoder),I}function ht(c){const b=c._readableState;S("endReadable",b.endEmitted),b.endEmitted||(b.ended=!0,e.nextTick(wr,b,c))}function wr(c,b){if(S("endReadableNT",c.endEmitted,c.length),!c.errored&&!c.closeEmitted&&!c.endEmitted&&c.length===0){if(c.endEmitted=!0,b.emit("end"),b.writable&&b.allowHalfOpen===!1)e.nextTick(rr,b);else if(c.autoDestroy){const I=b._writableState;(!I||I.autoDestroy&&(I.finished||I.writable===!1))&&b.destroy()}}}function rr(c){c.writable&&!c.writableEnded&&!c.destroyed&&c.end()}F.from=function(c,b){return ne(F,c,b)};let _t;function jt(){return _t===void 0&&(_t={}),_t}return F.fromWeb=function(c,b){return jt().newStreamReadableFromReadableStream(c,b)},F.toWeb=function(c,b){return jt().newReadableStreamFromStreamReadable(c,b)},F.wrap=function(c,b){var I,T;return new F({objectMode:(I=(T=c.readableObjectMode)!==null&&T!==void 0?T:c.objectMode)!==null&&I!==void 0?I:!0,...b,destroy(P,Ee){$.destroyer(c,P),Ee(P)}}).wrap(c)},vF}var SF,oue;function EF(){if(oue)return SF;oue=1;const e=Qe,{ArrayPrototypeSlice:t,Error:r,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:o,ObjectDefineProperties:s,ObjectSetPrototypeOf:a,StringPrototypeToLowerCase:l,Symbol:f,SymbolHasInstance:u}=Nr;SF=G,G.WritableState=A;const{EventEmitter:d}=$t,g=wF.Stream,{Buffer:h}=Ge,p=Fp,{addAbortSignal:w}=UE,{getHighWaterMark:y,getDefaultHighWaterMark:v}=HE,{ERR_INVALID_ARG_TYPE:E,ERR_METHOD_NOT_IMPLEMENTED:x,ERR_MULTIPLE_CALLBACK:S,ERR_STREAM_CANNOT_PIPE:N,ERR_STREAM_DESTROYED:$,ERR_STREAM_ALREADY_FINISHED:D,ERR_STREAM_NULL_VALUES:K,ERR_STREAM_WRITE_AFTER_END:q,ERR_UNKNOWN_ENCODING:k}=Ci.codes,{errorOrDestroy:V}=p;a(G.prototype,g.prototype),a(G,g);function j(){}const B=f("kOnFinished");function A(_,m,R){typeof R!="boolean"&&(R=m instanceof bl()),this.objectMode=!!(_&&_.objectMode),R&&(this.objectMode=this.objectMode||!!(_&&_.writableObjectMode)),this.highWaterMark=_?y(this,_,"writableHighWaterMark",R):v(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const O=!!(_&&_.decodeStrings===!1);this.decodeStrings=!O,this.defaultEncoding=_&&_.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=ae.bind(void 0,m),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,U(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!_||_.emitClose!==!1,this.autoDestroy=!_||_.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[B]=[]}function U(_){_.buffered=[],_.bufferedIndex=0,_.allBuffers=!0,_.allNoop=!0}A.prototype.getBuffer=function(){return t(this.buffered,this.bufferedIndex)},o(A.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function G(_){const m=this instanceof bl();if(!m&&!n(G,this))return new G(_);this._writableState=new A(_,this,m),_&&(typeof _.write=="function"&&(this._write=_.write),typeof _.writev=="function"&&(this._writev=_.writev),typeof _.destroy=="function"&&(this._destroy=_.destroy),typeof _.final=="function"&&(this._final=_.final),typeof _.construct=="function"&&(this._construct=_.construct),_.signal&&w(_.signal,this)),g.call(this,_),p.construct(this,()=>{const R=this._writableState;R.writing||ue(this,R),_e(this,R)})}o(G,u,{__proto__:null,value:function(_){return n(this,_)?!0:this!==G?!1:_&&_._writableState instanceof A}}),G.prototype.pipe=function(){V(this,new N)};function H(_,m,R,O){const C=_._writableState;if(typeof R=="function")O=R,R=C.defaultEncoding;else{if(!R)R=C.defaultEncoding;else if(R!=="buffer"&&!h.isEncoding(R))throw new k(R);typeof O!="function"&&(O=j)}if(m===null)throw new K;if(!C.objectMode)if(typeof m=="string")C.decodeStrings!==!1&&(m=h.from(m,R),R="buffer");else if(m instanceof h)R="buffer";else if(g._isUint8Array(m))m=g._uint8ArrayToBuffer(m),R="buffer";else throw new E("chunk",["string","Buffer","Uint8Array"],m);let X;return C.ending?X=new q:C.destroyed&&(X=new $("write")),X?(e.nextTick(O,X),V(_,X,!0),X):(C.pendingcb++,Q(_,C,m,R,O))}G.prototype.write=function(_,m,R){return H(this,_,m,R)===!0},G.prototype.cork=function(){this._writableState.corked++},G.prototype.uncork=function(){const _=this._writableState;_.corked&&(_.corked--,_.writing||ue(this,_))},G.prototype.setDefaultEncoding=function(m){if(typeof m=="string"&&(m=l(m)),!h.isEncoding(m))throw new k(m);return this._writableState.defaultEncoding=m,this};function Q(_,m,R,O,C){const X=m.objectMode?1:R.length;m.length+=X;const re=m.length<m.highWaterMark;return re||(m.needDrain=!0),m.writing||m.corked||m.errored||!m.constructed?(m.buffered.push({chunk:R,encoding:O,callback:C}),m.allBuffers&&O!=="buffer"&&(m.allBuffers=!1),m.allNoop&&C!==j&&(m.allNoop=!1)):(m.writelen=X,m.writecb=C,m.writing=!0,m.sync=!0,_._write(R,O,m.onwrite),m.sync=!1),re&&!m.errored&&!m.destroyed}function ne(_,m,R,O,C,X,re){m.writelen=O,m.writecb=re,m.writing=!0,m.sync=!0,m.destroyed?m.onwrite(new $("write")):R?_._writev(C,m.onwrite):_._write(C,X,m.onwrite),m.sync=!1}function se(_,m,R,O){--m.pendingcb,O(R),W(m),V(_,R)}function ae(_,m){const R=_._writableState,O=R.sync,C=R.writecb;if(typeof C!="function"){V(_,new S);return}R.writing=!1,R.writecb=null,R.length-=R.writelen,R.writelen=0,m?(m.stack,R.errored||(R.errored=m),_._readableState&&!_._readableState.errored&&(_._readableState.errored=m),O?e.nextTick(se,_,R,m,C):se(_,R,m,C)):(R.buffered.length>R.bufferedIndex&&ue(_,R),O?R.afterWriteTickInfo!==null&&R.afterWriteTickInfo.cb===C?R.afterWriteTickInfo.count++:(R.afterWriteTickInfo={count:1,cb:C,stream:_,state:R},e.nextTick(Z,R.afterWriteTickInfo)):ge(_,R,1,C))}function Z({stream:_,state:m,count:R,cb:O}){return m.afterWriteTickInfo=null,ge(_,m,R,O)}function ge(_,m,R,O){for(!m.ending&&!_.destroyed&&m.length===0&&m.needDrain&&(m.needDrain=!1,_.emit("drain"));R-- >0;)m.pendingcb--,O();m.destroyed&&W(m),_e(_,m)}function W(_){if(_.writing)return;for(let C=_.bufferedIndex;C<_.buffered.length;++C){var m;const{chunk:X,callback:re}=_.buffered[C],J=_.objectMode?1:X.length;_.length-=J,re((m=_.errored)!==null&&m!==void 0?m:new $("write"))}const R=_[B].splice(0);for(let C=0;C<R.length;C++){var O;R[C]((O=_.errored)!==null&&O!==void 0?O:new $("end"))}U(_)}function ue(_,m){if(m.corked||m.bufferProcessing||m.destroyed||!m.constructed)return;const{buffered:R,bufferedIndex:O,objectMode:C}=m,X=R.length-O;if(!X)return;let re=O;if(m.bufferProcessing=!0,X>1&&_._writev){m.pendingcb-=X-1;const J=m.allNoop?j:F=>{for(let we=re;we<R.length;++we)R[we].callback(F)},ye=m.allNoop&&re===0?R:t(R,re);ye.allBuffers=m.allBuffers,ne(_,m,!0,m.length,ye,"",J),U(m)}else{do{const{chunk:J,encoding:ye,callback:F}=R[re];R[re++]=null;const we=C?1:J.length;ne(_,m,!1,we,J,ye,F)}while(re<R.length&&!m.writing);re===R.length?U(m):re>256?(R.splice(0,re),m.bufferedIndex=0):m.bufferedIndex=re}m.bufferProcessing=!1}G.prototype._write=function(_,m,R){if(this._writev)this._writev([{chunk:_,encoding:m}],R);else throw new x("_write()")},G.prototype._writev=null,G.prototype.end=function(_,m,R){const O=this._writableState;typeof _=="function"?(R=_,_=null,m=null):typeof m=="function"&&(R=m,m=null);let C;if(_!=null){const X=H(this,_,m);X instanceof r&&(C=X)}return O.corked&&(O.corked=1,this.uncork()),C||(!O.errored&&!O.ending?(O.ending=!0,_e(this,O,!0),O.ended=!0):O.finished?C=new D("end"):O.destroyed&&(C=new $("end"))),typeof R=="function"&&(C||O.finished?e.nextTick(R,C):O[B].push(R)),this};function xe(_){return _.ending&&!_.destroyed&&_.constructed&&_.length===0&&!_.errored&&_.buffered.length===0&&!_.finished&&!_.writing&&!_.errorEmitted&&!_.closeEmitted}function he(_,m){let R=!1;function O(C){if(R){V(_,C??S());return}if(R=!0,m.pendingcb--,C){const X=m[B].splice(0);for(let re=0;re<X.length;re++)X[re](C);V(_,C,m.sync)}else xe(m)&&(m.prefinished=!0,_.emit("prefinish"),m.pendingcb++,e.nextTick(Ae,_,m))}m.sync=!0,m.pendingcb++;try{_._final(O)}catch(C){O(C)}m.sync=!1}function le(_,m){!m.prefinished&&!m.finalCalled&&(typeof _._final=="function"&&!m.destroyed?(m.finalCalled=!0,he(_,m)):(m.prefinished=!0,_.emit("prefinish")))}function _e(_,m,R){xe(m)&&(le(_,m),m.pendingcb===0&&(R?(m.pendingcb++,e.nextTick((O,C)=>{xe(C)?Ae(O,C):C.pendingcb--},_,m)):xe(m)&&(m.pendingcb++,Ae(_,m))))}function Ae(_,m){m.pendingcb--,m.finished=!0;const R=m[B].splice(0);for(let O=0;O<R.length;O++)R[O]();if(_.emit("finish"),m.autoDestroy){const O=_._readableState;(!O||O.autoDestroy&&(O.endEmitted||O.readable===!1))&&_.destroy()}}s(G.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(_){this._writableState&&(this._writableState.destroyed=_)}},writable:{__proto__:null,get(){const _=this._writableState;return!!_&&_.writable!==!1&&!_.destroyed&&!_.errored&&!_.ending&&!_.ended},set(_){this._writableState&&(this._writableState.writable=!!_)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const _=this._writableState;return _?!_.destroyed&&!_.ending&&_.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const We=p.destroy;G.prototype.destroy=function(_,m){const R=this._writableState;return!R.destroyed&&(R.bufferedIndex<R.buffered.length||R[B].length)&&e.nextTick(W,R),We.call(this,_,m),this},G.prototype._undestroy=p.undestroy,G.prototype._destroy=function(_,m){m(_)},G.prototype[d.captureRejectionSymbol]=function(_){this.destroy(_)};let ie;function te(){return ie===void 0&&(ie={}),ie}return G.fromWeb=function(_,m){return te().newStreamWritableFromWritableStream(_,m)},G.toWeb=function(_){return te().newWritableStreamFromStreamWritable(_)},SF}var RF,sue;function Kit(){if(sue)return RF;sue=1;const e=Qe,t=Ge,{isReadable:r,isWritable:n,isIterable:o,isNodeStream:s,isReadableNodeStream:a,isWritableNodeStream:l,isDuplexNodeStream:f,isReadableStream:u,isWritableStream:d}=pl,g=Bu,{AbortError:h,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:w}}=Ci,{destroyer:y}=Fp,v=bl(),E=VE(),x=EF(),{createDeferredPromise:S}=ui,N=nue,$=globalThis.Blob||t.Blob,D=typeof $<"u"?function(A){return A instanceof $}:function(A){return!1},K=globalThis.AbortController||bt().AbortController,{FunctionPrototypeCall:q}=Nr;class k extends v{constructor(A){super(A),(A==null?void 0:A.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(A==null?void 0:A.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}RF=function B(A,U){if(f(A))return A;if(a(A))return j({readable:A});if(l(A))return j({writable:A});if(s(A))return j({writable:!1,readable:!1});if(u(A))return j({readable:E.fromWeb(A)});if(d(A))return j({writable:x.fromWeb(A)});if(typeof A=="function"){const{value:H,write:Q,final:ne,destroy:se}=V(A);if(o(H))return N(k,H,{objectMode:!0,write:Q,final:ne,destroy:se});const ae=H==null?void 0:H.then;if(typeof ae=="function"){let Z;const ge=q(ae,H,W=>{if(W!=null)throw new w("nully","body",W)},W=>{y(Z,W)});return Z=new k({objectMode:!0,readable:!1,write:Q,final(W){ne(async()=>{try{await ge,e.nextTick(W,null)}catch(ue){e.nextTick(W,ue)}})},destroy:se})}throw new w("Iterable, AsyncIterable or AsyncFunction",U,H)}if(D(A))return B(A.arrayBuffer());if(o(A))return N(k,A,{objectMode:!0,writable:!1});if(u(A==null?void 0:A.readable)&&d(A==null?void 0:A.writable))return k.fromWeb(A);if(typeof(A==null?void 0:A.writable)=="object"||typeof(A==null?void 0:A.readable)=="object"){const H=A!=null&&A.readable?a(A==null?void 0:A.readable)?A==null?void 0:A.readable:B(A.readable):void 0,Q=A!=null&&A.writable?l(A==null?void 0:A.writable)?A==null?void 0:A.writable:B(A.writable):void 0;return j({readable:H,writable:Q})}const G=A==null?void 0:A.then;if(typeof G=="function"){let H;return q(G,A,Q=>{Q!=null&&H.push(Q),H.push(null)},Q=>{y(H,Q)}),H=new k({objectMode:!0,writable:!1,read(){}})}throw new p(U,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],A)};function V(B){let{promise:A,resolve:U}=S();const G=new K,H=G.signal;return{value:B(async function*(){for(;;){const ne=A;A=null;const{chunk:se,done:ae,cb:Z}=await ne;if(e.nextTick(Z),ae)return;if(H.aborted)throw new h(void 0,{cause:H.reason});({promise:A,resolve:U}=S()),yield se}}(),{signal:H}),write(ne,se,ae){const Z=U;U=null,Z({chunk:ne,done:!1,cb:ae})},final(ne){const se=U;U=null,se({done:!0,cb:ne})},destroy(ne,se){G.abort(),se(ne)}}}function j(B){const A=B.readable&&typeof B.readable.read!="function"?E.wrap(B.readable):B.readable,U=B.writable;let G=!!r(A),H=!!n(U),Q,ne,se,ae,Z;function ge(W){const ue=ae;ae=null,ue?ue(W):W&&Z.destroy(W)}return Z=new k({readableObjectMode:!!(A!=null&&A.readableObjectMode),writableObjectMode:!!(U!=null&&U.writableObjectMode),readable:G,writable:H}),H&&(g(U,W=>{H=!1,W&&y(A,W),ge(W)}),Z._write=function(W,ue,xe){U.write(W,ue)?xe():Q=xe},Z._final=function(W){U.end(),ne=W},U.on("drain",function(){if(Q){const W=Q;Q=null,W()}}),U.on("finish",function(){if(ne){const W=ne;ne=null,W()}})),G&&(g(A,W=>{G=!1,W&&y(A,W),ge(W)}),A.on("readable",function(){if(se){const W=se;se=null,W()}}),A.on("end",function(){Z.push(null)}),Z._read=function(){for(;;){const W=A.read();if(W===null){se=Z._read;return}if(!Z.push(W))return}}),Z._destroy=function(W,ue){!W&&ae!==null&&(W=new h),se=null,Q=null,ne=null,ae===null?ue(W):(ae=ue,y(U,W),y(A,W))},Z}return RF}var xF,aue;function bl(){if(aue)return xF;aue=1;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:r,ObjectSetPrototypeOf:n}=Nr;xF=a;const o=VE(),s=EF();n(a.prototype,o.prototype),n(a,o);{const d=r(s.prototype);for(let g=0;g<d.length;g++){const h=d[g];a.prototype[h]||(a.prototype[h]=s.prototype[h])}}function a(d){if(!(this instanceof a))return new a(d);o.call(this,d),s.call(this,d),d?(this.allowHalfOpen=d.allowHalfOpen!==!1,d.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),d.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(a.prototype,{writable:{__proto__:null,...t(s.prototype,"writable")},writableHighWaterMark:{__proto__:null,...t(s.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...t(s.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...t(s.prototype,"writableBuffer")},writableLength:{__proto__:null,...t(s.prototype,"writableLength")},writableFinished:{__proto__:null,...t(s.prototype,"writableFinished")},writableCorked:{__proto__:null,...t(s.prototype,"writableCorked")},writableEnded:{__proto__:null,...t(s.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...t(s.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(d){this._readableState&&this._writableState&&(this._readableState.destroyed=d,this._writableState.destroyed=d)}}});let l;function f(){return l===void 0&&(l={}),l}a.fromWeb=function(d,g){return f().newStreamDuplexFromReadableWritablePair(d,g)},a.toWeb=function(d){return f().newReadableWritablePairFromDuplex(d)};let u;return a.from=function(d){return u||(u=Kit()),u(d,"body")},xF}const{ObjectSetPrototypeOf:lue,Symbol:Jit}=Nr;var uue=gl;const{ERR_METHOD_NOT_IMPLEMENTED:Yit}=Ci.codes,AF=bl(),{getHighWaterMark:Xit}=HE;lue(gl.prototype,AF.prototype),lue(gl,AF);const Y_=Jit("kCallback");function gl(e){if(!(this instanceof gl))return new gl(e);const t=e?Xit(this,e,"readableHighWaterMark",!0):null;t===0&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),AF.call(this,e),this._readableState.sync=!1,this[Y_]=null,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",Qit)}function $F(e){typeof this._flush=="function"&&!this.destroyed?this._flush((t,r)=>{if(t){e?e(t):this.destroy(t);return}r!=null&&this.push(r),this.push(null),e&&e()}):(this.push(null),e&&e())}function Qit(){this._final!==$F&&$F.call(this)}gl.prototype._final=$F,gl.prototype._transform=function(e,t,r){throw new Yit("_transform()")},gl.prototype._write=function(e,t,r){const n=this._readableState,o=this._writableState,s=n.length;this._transform(e,t,(a,l)=>{if(a){r(a);return}l!=null&&this.push(l),o.ended||s===n.length||n.length<n.highWaterMark?r():this[Y_]=r})},gl.prototype._read=function(){if(this[Y_]){const e=this[Y_];this[Y_]=null,e()}};const{ObjectSetPrototypeOf:fue}=Nr;var cue=jp;const TF=uue;fue(jp.prototype,TF.prototype),fue(jp,TF);function jp(e){if(!(this instanceof jp))return new jp(e);TF.call(this,e)}jp.prototype._transform=function(e,t,r){r(null,e)};const X_=Qe,{ArrayIsArray:Zit,Promise:eot,SymbolAsyncIterator:tot,SymbolDispose:rot}=Nr,GE=Bu,{once:not}=ui,iot=Fp,due=bl(),{aggregateTwoErrors:oot,codes:{ERR_INVALID_ARG_TYPE:IF,ERR_INVALID_RETURN_VALUE:NF,ERR_MISSING_ARGS:sot,ERR_STREAM_DESTROYED:aot,ERR_STREAM_PREMATURE_CLOSE:lot},AbortError:uot}=Ci,{validateFunction:fot,validateAbortSignal:cot}=J_,{isIterable:pd,isReadable:kF,isReadableNodeStream:zE,isNodeStream:hue,isTransformStream:Wp,isWebStream:dot,isReadableStream:CF,isReadableFinished:hot}=pl,pot=globalThis.AbortController||bt().AbortController;let OF,LF,DF;function pue(e,t,r){let n=!1;e.on("close",()=>{n=!0});const o=GE(e,{readable:t,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,iot.destroyer(e,s||new aot("pipe")))},cleanup:o}}function bot(e){return fot(e[e.length-1],"streams[stream.length - 1]"),e.pop()}function MF(e){if(pd(e))return e;if(zE(e))return got(e);throw new IF("val",["Readable","Iterable","AsyncIterable"],e)}async function*got(e){LF||(LF=VE()),yield*LF.prototype[tot].call(e)}async function KE(e,t,r,{end:n}){let o,s=null;const a=u=>{if(u&&(o=u),s){const d=s;s=null,d()}},l=()=>new eot((u,d)=>{o?d(o):s=()=>{o?d(o):u()}});t.on("drain",a);const f=GE(t,{readable:!1},a);try{t.writableNeedDrain&&await l();for await(const u of e)t.write(u)||await l();n&&(t.end(),await l()),r()}catch(u){r(o!==u?oot(o,u):u)}finally{f(),t.off("drain",a)}}async function PF(e,t,r,{end:n}){Wp(t)&&(t=t.writable);const o=t.getWriter();try{for await(const s of e)await o.ready,o.write(s).catch(()=>{});await o.ready,n&&await o.close(),r()}catch(s){try{await o.abort(s),r(s)}catch(a){r(a)}}}function _ot(...e){return bue(e,not(bot(e)))}function bue(e,t,r){if(e.length===1&&Zit(e[0])&&(e=e[0]),e.length<2)throw new sot("streams");const n=new pot,o=n.signal,s=r==null?void 0:r.signal,a=[];cot(s,"options.signal");function l(){w(new uot)}DF=DF||ui.addAbortListener;let f;s&&(f=DF(s,l));let u,d;const g=[];let h=0;function p(x){w(x,--h===0)}function w(x,S){var N;if(x&&(!u||u.code==="ERR_STREAM_PREMATURE_CLOSE")&&(u=x),!(!u&&!S)){for(;g.length;)g.shift()(u);(N=f)===null||N===void 0||N[rot](),n.abort(),S&&(u||a.forEach($=>$()),X_.nextTick(t,u,d))}}let y;for(let x=0;x<e.length;x++){const S=e[x],N=x<e.length-1,$=x>0,D=N||(r==null?void 0:r.end)!==!1,K=x===e.length-1;if(hue(S)){let q=function(k){k&&k.name!=="AbortError"&&k.code!=="ERR_STREAM_PREMATURE_CLOSE"&&p(k)};if(D){const{destroy:k,cleanup:V}=pue(S,N,$);g.push(k),kF(S)&&K&&a.push(V)}S.on("error",q),kF(S)&&K&&a.push(()=>{S.removeListener("error",q)})}if(x===0)if(typeof S=="function"){if(y=S({signal:o}),!pd(y))throw new NF("Iterable, AsyncIterable or Stream","source",y)}else pd(S)||zE(S)||Wp(S)?y=S:y=due.from(S);else if(typeof S=="function"){if(Wp(y)){var v;y=MF((v=y)===null||v===void 0?void 0:v.readable)}else y=MF(y);if(y=S(y,{signal:o}),N){if(!pd(y,!0))throw new NF("AsyncIterable",`transform[${x-1}]`,y)}else{var E;OF||(OF=cue);const q=new OF({objectMode:!0}),k=(E=y)===null||E===void 0?void 0:E.then;if(typeof k=="function")h++,k.call(y,B=>{d=B,B!=null&&q.write(B),D&&q.end(),X_.nextTick(p)},B=>{q.destroy(B),X_.nextTick(p,B)});else if(pd(y,!0))h++,KE(y,q,p,{end:D});else if(CF(y)||Wp(y)){const B=y.readable||y;h++,KE(B,q,p,{end:D})}else throw new NF("AsyncIterable or Promise","destination",y);y=q;const{destroy:V,cleanup:j}=pue(y,!1,!0);g.push(V),K&&a.push(j)}}else if(hue(S)){if(zE(y)){h+=2;const q=yot(y,S,p,{end:D});kF(S)&&K&&a.push(q)}else if(Wp(y)||CF(y)){const q=y.readable||y;h++,KE(q,S,p,{end:D})}else if(pd(y))h++,KE(y,S,p,{end:D});else throw new IF("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],y);y=S}else if(dot(S)){if(zE(y))h++,PF(MF(y),S,p,{end:D});else if(CF(y)||pd(y))h++,PF(y,S,p,{end:D});else if(Wp(y))h++,PF(y.readable,S,p,{end:D});else throw new IF("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],y);y=S}else y=due.from(S)}return(o!=null&&o.aborted||s!=null&&s.aborted)&&X_.nextTick(l),y}function yot(e,t,r,{end:n}){let o=!1;if(t.on("close",()=>{o||r(new lot)}),e.pipe(t,{end:!1}),n){let s=function(){o=!0,t.end()};hot(e)?X_.nextTick(s):e.once("end",s)}else r();return GE(e,{readable:!0,writable:!1},s=>{const a=e._readableState;s&&s.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?e.once("end",r).once("error",r):r(s)}),GE(t,{readable:!1,writable:!0},r)}var FF={pipelineImpl:bue,pipeline:_ot};const{pipeline:wot}=FF,JE=bl(),{destroyer:mot}=Fp,{isNodeStream:YE,isReadable:gue,isWritable:_ue,isWebStream:jF,isTransformStream:bd,isWritableStream:yue,isReadableStream:wue}=pl,{AbortError:vot,codes:{ERR_INVALID_ARG_VALUE:mue,ERR_MISSING_ARGS:Sot}}=Ci,Eot=Bu;var vue=function(...t){if(t.length===0)throw new Sot("streams");if(t.length===1)return JE.from(t[0]);const r=[...t];if(typeof t[0]=="function"&&(t[0]=JE.from(t[0])),typeof t[t.length-1]=="function"){const p=t.length-1;t[p]=JE.from(t[p])}for(let p=0;p<t.length;++p)if(!(!YE(t[p])&&!jF(t[p]))){if(p<t.length-1&&!(gue(t[p])||wue(t[p])||bd(t[p])))throw new mue(`streams[${p}]`,r[p],"must be readable");if(p>0&&!(_ue(t[p])||yue(t[p])||bd(t[p])))throw new mue(`streams[${p}]`,r[p],"must be writable")}let n,o,s,a,l;function f(p){const w=a;a=null,w?w(p):p?l.destroy(p):!h&&!g&&l.destroy()}const u=t[0],d=wot(t,f),g=!!(_ue(u)||yue(u)||bd(u)),h=!!(gue(d)||wue(d)||bd(d));if(l=new JE({writableObjectMode:!!(u!=null&&u.writableObjectMode),readableObjectMode:!!(d!=null&&d.readableObjectMode),writable:g,readable:h}),g){if(YE(u))l._write=function(w,y,v){u.write(w,y)?v():n=v},l._final=function(w){u.end(),o=w},u.on("drain",function(){if(n){const w=n;n=null,w()}});else if(jF(u)){const y=(bd(u)?u.writable:u).getWriter();l._write=async function(v,E,x){try{await y.ready,y.write(v).catch(()=>{}),x()}catch(S){x(S)}},l._final=async function(v){try{await y.ready,y.close().catch(()=>{}),o=v}catch(E){v(E)}}}const p=bd(d)?d.readable:d;Eot(p,()=>{if(o){const w=o;o=null,w()}})}if(h){if(YE(d))d.on("readable",function(){if(s){const p=s;s=null,p()}}),d.on("end",function(){l.push(null)}),l._read=function(){for(;;){const p=d.read();if(p===null){s=l._read;return}if(!l.push(p))return}};else if(jF(d)){const w=(bd(d)?d.readable:d).getReader();l._read=async function(){for(;;)try{const{value:y,done:v}=await w.read();if(!l.push(y))return;if(v){l.push(null);return}}catch{return}}}}return l._destroy=function(p,w){!p&&a!==null&&(p=new vot),s=null,n=null,o=null,a===null?w(p):(a=w,YE(d)&&mot(d,p))},l};const Rot=globalThis.AbortController||bt().AbortController,{codes:{ERR_INVALID_ARG_VALUE:xot,ERR_INVALID_ARG_TYPE:Q_,ERR_MISSING_ARGS:Aot,ERR_OUT_OF_RANGE:$ot},AbortError:ia}=Ci,{validateAbortSignal:gd,validateInteger:Sue,validateObject:_d}=J_,Tot=Nr.Symbol("kWeak"),Iot=Nr.Symbol("kResistStopPropagation"),{finished:Not}=Bu,kot=vue,{addAbortSignalNoValidate:Cot}=UE,{isWritable:Oot,isNodeStream:Lot}=pl,{deprecate:Dot}=ui,{ArrayPrototypePush:Mot,Boolean:Pot,MathFloor:Eue,Number:Fot,NumberIsNaN:jot,Promise:Rue,PromiseReject:xue,PromiseResolve:Wot,PromisePrototypeThen:Aue,Symbol:$ue}=Nr,XE=$ue("kEmpty"),Tue=$ue("kEof");function Bot(e,t){if(t!=null&&_d(t,"options"),(t==null?void 0:t.signal)!=null&&gd(t.signal,"options.signal"),Lot(e)&&!Oot(e))throw new xot("stream",e,"must be writable");const r=kot(this,e);return t!=null&&t.signal&&Cot(t.signal,r),r}function QE(e,t){if(typeof e!="function")throw new Q_("fn",["Function","AsyncFunction"],e);t!=null&&_d(t,"options"),(t==null?void 0:t.signal)!=null&&gd(t.signal,"options.signal");let r=1;(t==null?void 0:t.concurrency)!=null&&(r=Eue(t.concurrency));let n=r-1;return(t==null?void 0:t.highWaterMark)!=null&&(n=Eue(t.highWaterMark)),Sue(r,"options.concurrency",1),Sue(n,"options.highWaterMark",0),n+=r,(async function*(){const s=ui.AbortSignalAny([t==null?void 0:t.signal].filter(Pot)),a=this,l=[],f={signal:s};let u,d,g=!1,h=0;function p(){g=!0,w()}function w(){h-=1,y()}function y(){d&&!g&&h<r&&l.length<n&&(d(),d=null)}async function v(){try{for await(let E of a){if(g)return;if(s.aborted)throw new ia;try{if(E=e(E,f),E===XE)continue;E=Wot(E)}catch(x){E=xue(x)}h+=1,Aue(E,w,p),l.push(E),u&&(u(),u=null),!g&&(l.length>=n||h>=r)&&await new Rue(x=>{d=x})}l.push(Tue)}catch(E){const x=xue(E);Aue(x,w,p),l.push(x)}finally{g=!0,u&&(u(),u=null)}}v();try{for(;;){for(;l.length>0;){const E=await l[0];if(E===Tue)return;if(s.aborted)throw new ia;E!==XE&&(yield E),l.shift(),y()}await new Rue(E=>{u=E})}}finally{g=!0,d&&(d(),d=null)}}).call(this)}function Uot(e=void 0){return e!=null&&_d(e,"options"),(e==null?void 0:e.signal)!=null&&gd(e.signal,"options.signal"),(async function*(){let r=0;for await(const o of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new ia({cause:e.signal.reason});yield[r++,o]}}).call(this)}async function Iue(e,t=void 0){for await(const r of WF.call(this,e,t))return!0;return!1}async function qot(e,t=void 0){if(typeof e!="function")throw new Q_("fn",["Function","AsyncFunction"],e);return!await Iue.call(this,async(...r)=>!await e(...r),t)}async function Hot(e,t){for await(const r of WF.call(this,e,t))return r}async function Vot(e,t){if(typeof e!="function")throw new Q_("fn",["Function","AsyncFunction"],e);async function r(n,o){return await e(n,o),XE}for await(const n of QE.call(this,r,t));}function WF(e,t){if(typeof e!="function")throw new Q_("fn",["Function","AsyncFunction"],e);async function r(n,o){return await e(n,o)?n:XE}return QE.call(this,r,t)}let Got=class extends Aot{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function zot(e,t,r){var n;if(typeof e!="function")throw new Q_("reducer",["Function","AsyncFunction"],e);r!=null&&_d(r,"options"),(r==null?void 0:r.signal)!=null&&gd(r.signal,"options.signal");let o=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){const u=new ia(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await Not(this.destroy(u)),u}const s=new Rot,a=s.signal;if(r!=null&&r.signal){const u={once:!0,[Tot]:this,[Iot]:!0};r.signal.addEventListener("abort",()=>s.abort(),u)}let l=!1;try{for await(const u of this){var f;if(l=!0,r!=null&&(f=r.signal)!==null&&f!==void 0&&f.aborted)throw new ia;o?t=await e(t,u,{signal:a}):(t=u,o=!0)}if(!l&&!o)throw new Got}finally{s.abort()}return t}async function Kot(e){e!=null&&_d(e,"options"),(e==null?void 0:e.signal)!=null&&gd(e.signal,"options.signal");const t=[];for await(const n of this){var r;if(e!=null&&(r=e.signal)!==null&&r!==void 0&&r.aborted)throw new ia(void 0,{cause:e.signal.reason});Mot(t,n)}return t}function Jot(e,t){const r=QE.call(this,e,t);return(async function*(){for await(const o of r)yield*o}).call(this)}function Nue(e){if(e=Fot(e),jot(e))return 0;if(e<0)throw new $ot("number",">= 0",e);return e}function Yot(e,t=void 0){return t!=null&&_d(t,"options"),(t==null?void 0:t.signal)!=null&&gd(t.signal,"options.signal"),e=Nue(e),(async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new ia;for await(const s of this){var o;if(t!=null&&(o=t.signal)!==null&&o!==void 0&&o.aborted)throw new ia;e--<=0&&(yield s)}}).call(this)}function Xot(e,t=void 0){return t!=null&&_d(t,"options"),(t==null?void 0:t.signal)!=null&&gd(t.signal,"options.signal"),e=Nue(e),(async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new ia;for await(const s of this){var o;if(t!=null&&(o=t.signal)!==null&&o!==void 0&&o.aborted)throw new ia;if(e-- >0&&(yield s),e<=0)return}}).call(this)}nF.streamReturningOperators={asIndexedPairs:Dot(Uot,"readable.asIndexedPairs will be removed in a future version."),drop:Yot,filter:WF,flatMap:Jot,map:QE,take:Xot,compose:Bot},nF.promiseReturningOperators={every:qot,forEach:Vot,reduce:zot,toArray:Kot,some:Iue,find:Hot};var BF,kue;function Cue(){if(kue)return BF;kue=1;const{ArrayPrototypePop:e,Promise:t}=Nr,{isIterable:r,isNodeStream:n,isWebStream:o}=pl,{pipelineImpl:s}=FF,{finished:a}=Bu;Lue();function l(...f){return new t((u,d)=>{let g,h;const p=f[f.length-1];if(p&&typeof p=="object"&&!n(p)&&!r(p)&&!o(p)){const w=e(f);g=w.signal,h=w.end}s(f,(w,y)=>{w?d(w):u(y)},{signal:g,end:h})})}return BF={finished:a,pipeline:l},BF}var Oue;function Lue(){if(Oue)return rF.exports;Oue=1;const{Buffer:e}=Ge,{ObjectDefineProperty:t,ObjectKeys:r,ReflectApply:n}=Nr,{promisify:{custom:o}}=ui,{streamReturningOperators:s,promiseReturningOperators:a}=nF,{codes:{ERR_ILLEGAL_CONSTRUCTOR:l}}=Ci,f=vue,{setDefaultHighWaterMark:u,getDefaultHighWaterMark:d}=HE,{pipeline:g}=FF,{destroyer:h}=Fp,p=Bu,w=Cue(),y=pl,v=rF.exports=wF.Stream;v.isDestroyed=y.isDestroyed,v.isDisturbed=y.isDisturbed,v.isErrored=y.isErrored,v.isReadable=y.isReadable,v.isWritable=y.isWritable,v.Readable=VE();for(const x of r(s)){let N=function(...$){if(new.target)throw l();return v.Readable.from(n(S,this,$))};const S=s[x];t(N,"name",{__proto__:null,value:S.name}),t(N,"length",{__proto__:null,value:S.length}),t(v.Readable.prototype,x,{__proto__:null,value:N,enumerable:!1,configurable:!0,writable:!0})}for(const x of r(a)){let N=function(...$){if(new.target)throw l();return n(S,this,$)};const S=a[x];t(N,"name",{__proto__:null,value:S.name}),t(N,"length",{__proto__:null,value:S.length}),t(v.Readable.prototype,x,{__proto__:null,value:N,enumerable:!1,configurable:!0,writable:!0})}v.Writable=EF(),v.Duplex=bl(),v.Transform=uue,v.PassThrough=cue,v.pipeline=g;const{addAbortSignal:E}=UE;return v.addAbortSignal=E,v.finished=p,v.destroy=h,v.compose=f,v.setDefaultHighWaterMark=u,v.getDefaultHighWaterMark=d,t(v,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return w}}),t(g,o,{__proto__:null,enumerable:!0,get(){return w.pipeline}}),t(p,o,{__proto__:null,enumerable:!0,get(){return w.finished}}),v.Stream=v,v._isUint8Array=function(S){return S instanceof Uint8Array},v._uint8ArrayToBuffer=function(S){return e.from(S.buffer,S.byteOffset,S.byteLength)},rF.exports}(function(e){const t=Lue(),r=Cue(),n=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=n,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return r}}),e.exports.Stream=t.Stream,e.exports.default=e.exports})(nle);var Qot=nle.exports;let Zot=class{constructor(t){const r=new Qot.Transform({objectMode:!0,transform:(n,o,s)=>{s(null,`${tF(n)}
`)}});return t.pipe(r),_w(r)}};const est=Object.freeze(Object.defineProperty({__proto__:null,default:class extends Ob{constructor(){super(Zot)}}},Symbol.toStringTag,{value:"Module"}));var Due={exports:{}},UF={exports:{}},kr={ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,t){return e.includes(t)},ArrayPrototypeIndexOf(e,t){return e.indexOf(t)},ArrayPrototypeJoin(e,t){return e.join(t)},ArrayPrototypeMap(e,t){return e.map(t)},ArrayPrototypePop(e,t){return e.pop(t)},ArrayPrototypePush(e,t){return e.push(t)},ArrayPrototypeSlice(e,t,r){return e.slice(t,r)},Error,FunctionPrototypeCall(e,t,...r){return e.call(t,...r)},FunctionPrototypeSymbolHasInstance(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,t){return Object.defineProperties(e,t)},ObjectDefineProperty(e,t,r){return Object.defineProperty(e,t,r)},ObjectGetOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,t){return Object.setPrototypeOf(e,t)},Promise,PromisePrototypeCatch(e,t){return e.catch(t)},PromisePrototypeThen(e,t,r){return e.then(t,r)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,t){return e.test(t)},SafeSet:Set,String,StringPrototypeSlice(e,t,r){return e.slice(t,r)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,t,r){return e.set(t,r)},Boolean,Uint8Array},Mue={exports:{}};(function(e){const t=Ge,{kResistStopPropagation:r,SymbolDispose:n}=kr,o=globalThis.AbortSignal||bt().AbortSignal,s=globalThis.AbortController||bt().AbortController,a=Object.getPrototypeOf(async function(){}).constructor,l=globalThis.Blob||t.Blob,f=typeof l<"u"?function(p){return p instanceof l}:function(p){return!1},u=(h,p)=>{if(h!==void 0&&(h===null||typeof h!="object"||!("aborted"in h)))throw new ERR_INVALID_ARG_TYPE(p,"AbortSignal",h)},d=(h,p)=>{if(typeof h!="function")throw new ERR_INVALID_ARG_TYPE(p,"Function",h)};class g extends Error{constructor(p){if(!Array.isArray(p))throw new TypeError(`Expected input to be an Array, got ${typeof p}`);let w="";for(let y=0;y<p.length;y++)w+=`    ${p[y].stack}
`;super(w),this.name="AggregateError",this.errors=p}}e.exports={AggregateError:g,kEmptyObject:Object.freeze({}),once(h){let p=!1;return function(...w){p||(p=!0,h.apply(this,w))}},createDeferredPromise:function(){let h,p;return{promise:new Promise((y,v)=>{h=y,p=v}),resolve:h,reject:p}},promisify(h){return new Promise((p,w)=>{h((y,...v)=>y?w(y):p(...v))})},debuglog(){return function(){}},format(h,...p){return h.replace(/%([sdifj])/g,function(...[w,y]){const v=p.shift();return y==="f"?v.toFixed(6):y==="j"?JSON.stringify(v):y==="s"&&typeof v=="object"?`${v.constructor!==Object?v.constructor.name:""} {}`.trim():v.toString()})},inspect(h){switch(typeof h){case"string":if(h.includes("'"))if(h.includes('"')){if(!h.includes("`")&&!h.includes("${"))return`\`${h}\``}else return`"${h}"`;return`'${h}'`;case"number":return isNaN(h)?"NaN":Object.is(h,-0)?String(h):h;case"bigint":return`${String(h)}n`;case"boolean":case"undefined":return String(h);case"object":return"{}"}},types:{isAsyncFunction(h){return h instanceof a},isArrayBufferView(h){return ArrayBuffer.isView(h)}},isBlob:f,deprecate(h,p){return h},addAbortListener:$t.addAbortListener||function(p,w){if(p===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",p);u(p,"signal"),d(w,"listener");let y;return p.aborted?queueMicrotask(()=>w()):(p.addEventListener("abort",w,{__proto__:null,once:!0,[r]:!0}),y=()=>{p.removeEventListener("abort",w)}),{__proto__:null,[n](){var v;(v=y)===null||v===void 0||v()}}},AbortSignalAny:o.any||function(p){if(p.length===1)return p[0];const w=new s,y=()=>w.abort();return p.forEach(v=>{u(v,"signals"),v.addEventListener("abort",y,{once:!0})}),w.signal.addEventListener("abort",()=>{p.forEach(v=>v.removeEventListener("abort",y))},{once:!0}),w.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(Mue);var fi=Mue.exports,qF={};const{format:tst,inspect:ZE,AggregateError:rst}=fi,nst=globalThis.AggregateError||rst,ist=Symbol("kIsNodeError"),ost=["string","function","number","object","Function","Object","boolean","bigint","symbol"],sst=/^([A-Z][a-z0-9]*)+$/,ast="__node_internal_",eR={};function yd(e,t){if(!e)throw new eR.ERR_INTERNAL_ASSERTION(t)}function Pue(e){let t="",r=e.length;const n=e[0]==="-"?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function lst(e,t,r){if(typeof t=="function")return yd(t.length<=r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${t.length}).`),t(...r);const n=(t.match(/%[dfijoOs]/g)||[]).length;return yd(n===r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?t:tst(t,...r)}function xn(e,t,r){r||(r=Error);class n extends r{constructor(...s){super(lst(e,t,s))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=e,n.prototype[ist]=!0,eR[e]=n}function Fue(e){const t=ast+e.name;return Object.defineProperty(e,"name",{value:t}),e}function ust(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;const r=new nst([t,e],t.message);return r.code=t.code,r}return e||t}let fst=class extends Error{constructor(t="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new eR.ERR_INVALID_ARG_TYPE("options","Object",r);super(t,r),this.code="ABORT_ERR",this.name="AbortError"}};xn("ERR_ASSERTION","%s",Error),xn("ERR_INVALID_ARG_TYPE",(e,t,r)=>{yd(typeof e=="string","'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+=`${e} `:n+=`"${e}" ${e.includes(".")?"property":"argument"} `,n+="must be ";const o=[],s=[],a=[];for(const f of t)yd(typeof f=="string","All expected entries have to be of type string"),ost.includes(f)?o.push(f.toLowerCase()):sst.test(f)?s.push(f):(yd(f!=="object",'The value "object" should be written as "Object"'),a.push(f));if(s.length>0){const f=o.indexOf("object");f!==-1&&(o.splice(o,f,1),s.push("Object"))}if(o.length>0){switch(o.length){case 1:n+=`of type ${o[0]}`;break;case 2:n+=`one of type ${o[0]} or ${o[1]}`;break;default:{const f=o.pop();n+=`one of type ${o.join(", ")}, or ${f}`}}(s.length>0||a.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{const f=s.pop();n+=`an instance of ${s.join(", ")}, or ${f}`}}a.length>0&&(n+=" or ")}switch(a.length){case 0:break;case 1:a[0].toLowerCase()!==a[0]&&(n+="an "),n+=`${a[0]}`;break;case 2:n+=`one of ${a[0]} or ${a[1]}`;break;default:{const f=a.pop();n+=`one of ${a.join(", ")}, or ${f}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var l;if((l=r.constructor)!==null&&l!==void 0&&l.name)n+=`. Received an instance of ${r.constructor.name}`;else{const f=ZE(r,{depth:-1});n+=`. Received ${f}`}}else{let f=ZE(r,{colors:!1});f.length>25&&(f=`${f.slice(0,25)}...`),n+=`. Received type ${typeof r} (${f})`}return n},TypeError),xn("ERR_INVALID_ARG_VALUE",(e,t,r="is invalid")=>{let n=ZE(t);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${e.includes(".")?"property":"argument"} '${e}' ${r}. Received ${n}`},TypeError),xn("ERR_INVALID_RETURN_VALUE",(e,t,r)=>{var n;const o=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${e} to be returned from the "${t}" function but got ${o}.`},TypeError),xn("ERR_MISSING_ARGS",(...e)=>{yd(e.length>0,"At least one arg needs to be specified");let t;const r=e.length;switch(e=(Array.isArray(e)?e:[e]).map(n=>`"${n}"`).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{const n=e.pop();t+=`The ${e.join(", ")}, and ${n} arguments`}break}return`${t} must be specified`},TypeError),xn("ERR_OUT_OF_RANGE",(e,t,r)=>{yd(t,'Missing "range" argument');let n;return Number.isInteger(r)&&Math.abs(r)>2**32?n=Pue(String(r)):typeof r=="bigint"?(n=String(r),(r>2n**32n||r<-(2n**32n))&&(n=Pue(n)),n+="n"):n=ZE(r),`The value of "${e}" is out of range. It must be ${t}. Received ${n}`},RangeError),xn("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),xn("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),xn("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),xn("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),xn("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),xn("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),xn("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),xn("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),xn("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),xn("ERR_STREAM_WRITE_AFTER_END","write after end",Error),xn("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);var Oi={AbortError:fst,aggregateTwoErrors:Fue(ust),hideStackFrames:Fue,codes:eR};const{ArrayIsArray:HF,ArrayPrototypeIncludes:jue,ArrayPrototypeJoin:Wue,ArrayPrototypeMap:cst,NumberIsInteger:VF,NumberIsNaN:dst,NumberMAX_SAFE_INTEGER:hst,NumberMIN_SAFE_INTEGER:pst,NumberParseInt:bst,ObjectPrototypeHasOwnProperty:gst,RegExpPrototypeExec:Bue,String:_st,StringPrototypeToUpperCase:yst,StringPrototypeTrim:wst}=kr,{hideStackFrames:So,codes:{ERR_SOCKET_BAD_PORT:mst,ERR_INVALID_ARG_TYPE:Wn,ERR_INVALID_ARG_VALUE:Bp,ERR_OUT_OF_RANGE:wd,ERR_UNKNOWN_SIGNAL:Uue}}=Oi,{normalizeEncoding:vst}=fi,{isAsyncFunction:Sst,isArrayBufferView:Est}=fi.types,que={};function Rst(e){return e===(e|0)}function xst(e){return e===e>>>0}const Ast=/^[0-7]+$/,$st="must be a 32-bit unsigned integer or an octal string";function Tst(e,t,r){if(typeof e>"u"&&(e=r),typeof e=="string"){if(Bue(Ast,e)===null)throw new Bp(t,e,$st);e=bst(e,8)}return Hue(e,t),e}const Ist=So((e,t,r=pst,n=hst)=>{if(typeof e!="number")throw new Wn(t,"number",e);if(!VF(e))throw new wd(t,"an integer",e);if(e<r||e>n)throw new wd(t,`>= ${r} && <= ${n}`,e)}),Nst=So((e,t,r=-2147483648,n=2147483647)=>{if(typeof e!="number")throw new Wn(t,"number",e);if(!VF(e))throw new wd(t,"an integer",e);if(e<r||e>n)throw new wd(t,`>= ${r} && <= ${n}`,e)}),Hue=So((e,t,r=!1)=>{if(typeof e!="number")throw new Wn(t,"number",e);if(!VF(e))throw new wd(t,"an integer",e);const n=r?1:0,o=4294967295;if(e<n||e>o)throw new wd(t,`>= ${n} && <= ${o}`,e)});function GF(e,t){if(typeof e!="string")throw new Wn(t,"string",e)}function kst(e,t,r=void 0,n){if(typeof e!="number")throw new Wn(t,"number",e);if(r!=null&&e<r||n!=null&&e>n||(r!=null||n!=null)&&dst(e))throw new wd(t,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,e)}const Cst=So((e,t,r)=>{if(!jue(r,e)){const o="must be one of: "+Wue(cst(r,s=>typeof s=="string"?`'${s}'`:_st(s)),", ");throw new Bp(t,e,o)}});function Vue(e,t){if(typeof e!="boolean")throw new Wn(t,"boolean",e)}function zF(e,t,r){return e==null||!gst(e,t)?r:e[t]}const Ost=So((e,t,r=null)=>{const n=zF(r,"allowArray",!1),o=zF(r,"allowFunction",!1);if(!zF(r,"nullable",!1)&&e===null||!n&&HF(e)||typeof e!="object"&&(!o||typeof e!="function"))throw new Wn(t,"Object",e)}),Lst=So((e,t)=>{if(e!=null&&typeof e!="object"&&typeof e!="function")throw new Wn(t,"a dictionary",e)}),tR=So((e,t,r=0)=>{if(!HF(e))throw new Wn(t,"Array",e);if(e.length<r){const n=`must be longer than ${r}`;throw new Bp(t,e,n)}});function Dst(e,t){tR(e,t);for(let r=0;r<e.length;r++)GF(e[r],`${t}[${r}]`)}function Mst(e,t){tR(e,t);for(let r=0;r<e.length;r++)Vue(e[r],`${t}[${r}]`)}function Pst(e,t){tR(e,t);for(let r=0;r<e.length;r++){const n=e[r],o=`${t}[${r}]`;if(n==null)throw new Wn(o,"AbortSignal",n);Gue(n,o)}}function Fst(e,t="signal"){if(GF(e,t),que[e]===void 0)throw que[yst(e)]!==void 0?new Uue(e+" (signals must use all capital letters)"):new Uue(e)}const jst=So((e,t="buffer")=>{if(!Est(e))throw new Wn(t,["Buffer","TypedArray","DataView"],e)});function Wst(e,t){const r=vst(t),n=e.length;if(r==="hex"&&n%2!==0)throw new Bp("encoding",t,`is invalid for data of length ${n}`)}function Bst(e,t="Port",r=!0){if(typeof e!="number"&&typeof e!="string"||typeof e=="string"&&wst(e).length===0||+e!==+e>>>0||e>65535||e===0&&!r)throw new mst(t,e,r);return e|0}const Gue=So((e,t)=>{if(e!==void 0&&(e===null||typeof e!="object"||!("aborted"in e)))throw new Wn(t,"AbortSignal",e)}),Ust=So((e,t)=>{if(typeof e!="function")throw new Wn(t,"Function",e)}),qst=So((e,t)=>{if(typeof e!="function"||Sst(e))throw new Wn(t,"Function",e)}),Hst=So((e,t)=>{if(e!==void 0)throw new Wn(t,"undefined",e)});function Vst(e,t,r){if(!jue(r,e))throw new Wn(t,`('${Wue(r,"|")}')`,e)}const Gst=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function zue(e,t){if(typeof e>"u"||!Bue(Gst,e))throw new Bp(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function zst(e){if(typeof e=="string")return zue(e,"hints"),e;if(HF(e)){const t=e.length;let r="";if(t===0)return r;for(let n=0;n<t;n++){const o=e[n];zue(o,"hints"),r+=o,n!==t-1&&(r+=", ")}return r}throw new Bp("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}var Z_={isInt32:Rst,isUint32:xst,parseFileMode:Tst,validateArray:tR,validateStringArray:Dst,validateBooleanArray:Mst,validateAbortSignalArray:Pst,validateBoolean:Vue,validateBuffer:jst,validateDictionary:Lst,validateEncoding:Wst,validateFunction:Ust,validateInt32:Nst,validateInteger:Ist,validateNumber:kst,validateObject:Ost,validateOneOf:Cst,validatePlainFunction:qst,validatePort:Bst,validateSignalName:Fst,validateString:GF,validateUint32:Hue,validateUndefined:Hst,validateUnion:Vst,validateAbortSignal:Gue,validateLinkHeaderValue:zst},KF={exports:{}};const{SymbolAsyncIterator:Kue,SymbolIterator:Jue,SymbolFor:md}=kr,Yue=md("nodejs.stream.destroyed"),Xue=md("nodejs.stream.errored"),JF=md("nodejs.stream.readable"),YF=md("nodejs.stream.writable"),Que=md("nodejs.stream.disturbed"),Kst=md("nodejs.webstream.isClosedPromise"),Jst=md("nodejs.webstream.controllerErrorFunction");function rR(e,t=!1){var r;return!!(e&&typeof e.pipe=="function"&&typeof e.on=="function"&&(!t||typeof e.pause=="function"&&typeof e.resume=="function")&&(!e._writableState||((r=e._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!e._writableState||e._readableState))}function nR(e){var t;return!!(e&&typeof e.write=="function"&&typeof e.on=="function"&&(!e._readableState||((t=e._writableState)===null||t===void 0?void 0:t.writable)!==!1))}function Yst(e){return!!(e&&typeof e.pipe=="function"&&e._readableState&&typeof e.on=="function"&&typeof e.write=="function")}function oa(e){return e&&(e._readableState||e._writableState||typeof e.write=="function"&&typeof e.on=="function"||typeof e.pipe=="function"&&typeof e.on=="function")}function Zue(e){return!!(e&&!oa(e)&&typeof e.pipeThrough=="function"&&typeof e.getReader=="function"&&typeof e.cancel=="function")}function efe(e){return!!(e&&!oa(e)&&typeof e.getWriter=="function"&&typeof e.abort=="function")}function tfe(e){return!!(e&&!oa(e)&&typeof e.readable=="object"&&typeof e.writable=="object")}function Xst(e){return Zue(e)||efe(e)||tfe(e)}function Qst(e,t){return e==null?!1:t===!0?typeof e[Kue]=="function":t===!1?typeof e[Jue]=="function":typeof e[Kue]=="function"||typeof e[Jue]=="function"}function iR(e){if(!oa(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[Yue]||n!=null&&n.destroyed)}function rfe(e){if(!nR(e))return null;if(e.writableEnded===!0)return!0;const t=e._writableState;return t!=null&&t.errored?!1:typeof(t==null?void 0:t.ended)!="boolean"?null:t.ended}function Zst(e,t){if(!nR(e))return null;if(e.writableFinished===!0)return!0;const r=e._writableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.finished)!="boolean"?null:!!(r.finished||t===!1&&r.ended===!0&&r.length===0)}function eat(e){if(!rR(e))return null;if(e.readableEnded===!0)return!0;const t=e._readableState;return!t||t.errored?!1:typeof(t==null?void 0:t.ended)!="boolean"?null:t.ended}function nfe(e,t){if(!rR(e))return null;const r=e._readableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.endEmitted)!="boolean"?null:!!(r.endEmitted||t===!1&&r.ended===!0&&r.length===0)}function ife(e){return e&&e[JF]!=null?e[JF]:typeof(e==null?void 0:e.readable)!="boolean"?null:iR(e)?!1:rR(e)&&e.readable&&!nfe(e)}function ofe(e){return e&&e[YF]!=null?e[YF]:typeof(e==null?void 0:e.writable)!="boolean"?null:iR(e)?!1:nR(e)&&e.writable&&!rfe(e)}function tat(e,t){return oa(e)?iR(e)?!0:!((t==null?void 0:t.readable)!==!1&&ife(e)||(t==null?void 0:t.writable)!==!1&&ofe(e)):null}function rat(e){var t,r;return oa(e)?e.writableErrored?e.writableErrored:(t=(r=e._writableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}function nat(e){var t,r;return oa(e)?e.readableErrored?e.readableErrored:(t=(r=e._readableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}function iat(e){if(!oa(e))return null;if(typeof e.closed=="boolean")return e.closed;const t=e._writableState,r=e._readableState;return typeof(t==null?void 0:t.closed)=="boolean"||typeof(r==null?void 0:r.closed)=="boolean"?(t==null?void 0:t.closed)||(r==null?void 0:r.closed):typeof e._closed=="boolean"&&sfe(e)?e._closed:null}function sfe(e){return typeof e._closed=="boolean"&&typeof e._defaultKeepAlive=="boolean"&&typeof e._removedConnection=="boolean"&&typeof e._removedContLen=="boolean"}function afe(e){return typeof e._sent100=="boolean"&&sfe(e)}function oat(e){var t;return typeof e._consuming=="boolean"&&typeof e._dumped=="boolean"&&((t=e.req)===null||t===void 0?void 0:t.upgradeOrConnect)===void 0}function sat(e){if(!oa(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!n&&afe(e)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function aat(e){var t;return!!(e&&((t=e[Que])!==null&&t!==void 0?t:e.readableDidRead||e.readableAborted))}function lat(e){var t,r,n,o,s,a,l,f,u,d;return!!(e&&((t=(r=(n=(o=(s=(a=e[Xue])!==null&&a!==void 0?a:e.readableErrored)!==null&&s!==void 0?s:e.writableErrored)!==null&&o!==void 0?o:(l=e._readableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&n!==void 0?n:(f=e._writableState)===null||f===void 0?void 0:f.errorEmitted)!==null&&r!==void 0?r:(u=e._readableState)===null||u===void 0?void 0:u.errored)!==null&&t!==void 0?t:!((d=e._writableState)===null||d===void 0)&&d.errored))}var _l={isDestroyed:iR,kIsDestroyed:Yue,isDisturbed:aat,kIsDisturbed:Que,isErrored:lat,kIsErrored:Xue,isReadable:ife,kIsReadable:JF,kIsClosedPromise:Kst,kControllerErrorFunction:Jst,kIsWritable:YF,isClosed:iat,isDuplexNodeStream:Yst,isFinished:tat,isIterable:Qst,isReadableNodeStream:rR,isReadableStream:Zue,isReadableEnded:eat,isReadableFinished:nfe,isReadableErrored:nat,isNodeStream:oa,isWebStream:Xst,isWritable:ofe,isWritableNodeStream:nR,isWritableStream:efe,isWritableEnded:rfe,isWritableFinished:Zst,isWritableErrored:rat,isServerRequest:oat,isServerResponse:afe,willEmitClose:sat,isTransformStream:tfe};const Uu=Qe,{AbortError:lfe,codes:uat}=Oi,{ERR_INVALID_ARG_TYPE:fat,ERR_STREAM_PREMATURE_CLOSE:ufe}=uat,{kEmptyObject:XF,once:QF}=fi,{validateAbortSignal:cat,validateFunction:dat,validateObject:hat,validateBoolean:pat}=Z_,{Promise:bat,PromisePrototypeThen:gat,SymbolDispose:ffe}=kr,{isClosed:_at,isReadable:cfe,isReadableNodeStream:ZF,isReadableStream:yat,isReadableFinished:dfe,isReadableErrored:hfe,isWritable:pfe,isWritableNodeStream:bfe,isWritableStream:wat,isWritableFinished:gfe,isWritableErrored:_fe,isNodeStream:mat,willEmitClose:vat,kIsClosedPromise:Sat}=_l;let Up;function Eat(e){return e.setHeader&&typeof e.abort=="function"}const ej=()=>{};function yfe(e,t,r){var n,o;if(arguments.length===2?(r=t,t=XF):t==null?t=XF:hat(t,"options"),dat(r,"callback"),cat(t.signal,"options.signal"),r=QF(r),yat(e)||wat(e))return Rat(e,t,r);if(!mat(e))throw new fat("stream",["ReadableStream","WritableStream","Stream"],e);const s=(n=t.readable)!==null&&n!==void 0?n:ZF(e),a=(o=t.writable)!==null&&o!==void 0?o:bfe(e),l=e._writableState,f=e._readableState,u=()=>{e.writable||h()};let d=vat(e)&&ZF(e)===s&&bfe(e)===a,g=gfe(e,!1);const h=()=>{g=!0,e.destroyed&&(d=!1),!(d&&(!e.readable||s))&&(!s||p)&&r.call(e)};let p=dfe(e,!1);const w=()=>{p=!0,e.destroyed&&(d=!1),!(d&&(!e.writable||a))&&(!a||g)&&r.call(e)},y=$=>{r.call(e,$)};let v=_at(e);const E=()=>{v=!0;const $=_fe(e)||hfe(e);if($&&typeof $!="boolean")return r.call(e,$);if(s&&!p&&ZF(e,!0)&&!dfe(e,!1))return r.call(e,new ufe);if(a&&!g&&!gfe(e,!1))return r.call(e,new ufe);r.call(e)},x=()=>{v=!0;const $=_fe(e)||hfe(e);if($&&typeof $!="boolean")return r.call(e,$);r.call(e)},S=()=>{e.req.on("finish",h)};Eat(e)?(e.on("complete",h),d||e.on("abort",E),e.req?S():e.on("request",S)):a&&!l&&(e.on("end",u),e.on("close",u)),!d&&typeof e.aborted=="boolean"&&e.on("aborted",E),e.on("end",w),e.on("finish",h),t.error!==!1&&e.on("error",y),e.on("close",E),v?Uu.nextTick(E):l!=null&&l.errorEmitted||f!=null&&f.errorEmitted?d||Uu.nextTick(x):(!s&&(!d||cfe(e))&&(g||pfe(e)===!1)||!a&&(!d||pfe(e))&&(p||cfe(e)===!1)||f&&e.req&&e.aborted)&&Uu.nextTick(x);const N=()=>{r=ej,e.removeListener("aborted",E),e.removeListener("complete",h),e.removeListener("abort",E),e.removeListener("request",S),e.req&&e.req.removeListener("finish",h),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",h),e.removeListener("end",w),e.removeListener("error",y),e.removeListener("close",E)};if(t.signal&&!v){const $=()=>{const D=r;N(),D.call(e,new lfe(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)Uu.nextTick($);else{Up=Up||fi.addAbortListener;const D=Up(t.signal,$),K=r;r=QF((...q)=>{D[ffe](),K.apply(e,q)})}}return N}function Rat(e,t,r){let n=!1,o=ej;if(t.signal)if(o=()=>{n=!0,r.call(e,new lfe(void 0,{cause:t.signal.reason}))},t.signal.aborted)Uu.nextTick(o);else{Up=Up||fi.addAbortListener;const a=Up(t.signal,o),l=r;r=QF((...f)=>{a[ffe](),l.apply(e,f)})}const s=(...a)=>{n||Uu.nextTick(()=>r.apply(e,a))};return gat(e[Sat].promise,s,s),ej}function xat(e,t){var r;let n=!1;return t===null&&(t=XF),(r=t)!==null&&r!==void 0&&r.cleanup&&(pat(t.cleanup,"cleanup"),n=t.cleanup),new bat((o,s)=>{const a=yfe(e,t,l=>{n&&a(),l?s(l):o()})})}KF.exports=yfe,KF.exports.finished=xat;var qu=KF.exports;const sa=Qe,{aggregateTwoErrors:Aat,codes:{ERR_MULTIPLE_CALLBACK:$at},AbortError:Tat}=Oi,{Symbol:wfe}=kr,{kIsDestroyed:Iat,isDestroyed:Nat,isFinished:kat,isServerRequest:Cat}=_l,mfe=wfe("kDestroy"),tj=wfe("kConstruct");function vfe(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function Oat(e,t){const r=this._readableState,n=this._writableState,o=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof t=="function"&&t(),this):(vfe(e,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),o.constructed?Sfe(this,e,t):this.once(mfe,function(s){Sfe(this,Aat(s,e),t)}),this)}function Sfe(e,t,r){let n=!1;function o(s){if(n)return;n=!0;const a=e._readableState,l=e._writableState;vfe(s,l,a),l&&(l.closed=!0),a&&(a.closed=!0),typeof r=="function"&&r(s),s?sa.nextTick(Lat,e,s):sa.nextTick(Efe,e)}try{e._destroy(t||null,o)}catch(s){o(s)}}function Lat(e,t){rj(e,t),Efe(e)}function Efe(e){const t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(r!=null&&r.emitClose||t!=null&&t.emitClose)&&e.emit("close")}function rj(e,t){const r=e._readableState,n=e._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function Dat(){const e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=e.readable===!1,e.endEmitted=e.readable===!1),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=t.writable===!1,t.ending=t.writable===!1,t.finished=t.writable===!1)}function nj(e,t,r){const n=e._readableState,o=e._writableState;if(o!=null&&o.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||o!=null&&o.autoDestroy?e.destroy(t):t&&(t.stack,o&&!o.errored&&(o.errored=t),n&&!n.errored&&(n.errored=t),r?sa.nextTick(rj,e,t):rj(e,t))}function Mat(e,t){if(typeof e._construct!="function")return;const r=e._readableState,n=e._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),e.once(tj,t),!(e.listenerCount(tj)>1)&&sa.nextTick(Pat,e)}function Pat(e){let t=!1;function r(n){if(t){nj(e,n??new $at);return}t=!0;const o=e._readableState,s=e._writableState,a=s||o;o&&(o.constructed=!0),s&&(s.constructed=!0),a.destroyed?e.emit(mfe,n):n?nj(e,n,!0):sa.nextTick(Fat,e)}try{e._construct(n=>{sa.nextTick(r,n)})}catch(n){sa.nextTick(r,n)}}function Fat(e){e.emit(tj)}function Rfe(e){return(e==null?void 0:e.setHeader)&&typeof e.abort=="function"}function xfe(e){e.emit("close")}function jat(e,t){e.emit("error",t),sa.nextTick(xfe,e)}function Wat(e,t){!e||Nat(e)||(!t&&!kat(e)&&(t=new Tat),Cat(e)?(e.socket=null,e.destroy(t)):Rfe(e)?e.abort():Rfe(e.req)?e.req.abort():typeof e.destroy=="function"?e.destroy(t):typeof e.close=="function"?e.close():t?sa.nextTick(jat,e,t):sa.nextTick(xfe,e),e.destroyed||(e[Iat]=!0))}var qp={construct:Mat,destroyer:Wat,destroy:Oat,undestroy:Dat,errorOrDestroy:nj};const{ArrayIsArray:Bat,ObjectSetPrototypeOf:Afe}=kr,{EventEmitter:oR}=$t;function sR(e){oR.call(this,e)}Afe(sR.prototype,oR.prototype),Afe(sR,oR),sR.prototype.pipe=function(e,t){const r=this;function n(d){e.writable&&e.write(d)===!1&&r.pause&&r.pause()}r.on("data",n);function o(){r.readable&&r.resume&&r.resume()}e.on("drain",o),!e._isStdio&&(!t||t.end!==!1)&&(r.on("end",a),r.on("close",l));let s=!1;function a(){s||(s=!0,e.end())}function l(){s||(s=!0,typeof e.destroy=="function"&&e.destroy())}function f(d){u(),oR.listenerCount(this,"error")===0&&this.emit("error",d)}ij(r,"error",f),ij(e,"error",f);function u(){r.removeListener("data",n),e.removeListener("drain",o),r.removeListener("end",a),r.removeListener("close",l),r.removeListener("error",f),e.removeListener("error",f),r.removeListener("end",u),r.removeListener("close",u),e.removeListener("close",u)}return r.on("end",u),r.on("close",u),e.on("close",u),e.emit("pipe",r),e};function ij(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):Bat(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}var oj={Stream:sR,prependListener:ij},$fe={exports:{}};(function(e){const{SymbolDispose:t}=kr,{AbortError:r,codes:n}=Oi,{isNodeStream:o,isWebStream:s,kControllerErrorFunction:a}=_l,l=qu,{ERR_INVALID_ARG_TYPE:f}=n;let u;const d=(g,h)=>{if(typeof g!="object"||!("aborted"in g))throw new f(h,"AbortSignal",g)};e.exports.addAbortSignal=function(h,p){if(d(h,"signal"),!o(p)&&!s(p))throw new f("stream",["ReadableStream","WritableStream","Stream"],p);return e.exports.addAbortSignalNoValidate(h,p)},e.exports.addAbortSignalNoValidate=function(g,h){if(typeof g!="object"||!("aborted"in g))return h;const p=o(h)?()=>{h.destroy(new r(void 0,{cause:g.reason}))}:()=>{h[a](new r(void 0,{cause:g.reason}))};if(g.aborted)p();else{u=u||fi.addAbortListener;const w=u(g,p);l(h,w[t])}return h}})($fe);var aR=$fe.exports;const{StringPrototypeSlice:Tfe,SymbolIterator:Uat,TypedArrayPrototypeSet:lR,Uint8Array:qat}=kr,{Buffer:sj}=Ge,{inspect:Hat}=fi;var Vat=class{constructor(){this.head=null,this.tail=null,this.length=0}push(t){const r={data:t,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(t){const r={data:t,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;const t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=t+r.data;return n}concat(t){if(this.length===0)return sj.alloc(0);const r=sj.allocUnsafe(t>>>0);let n=this.head,o=0;for(;n;)lR(r,n.data,o),o+=n.data.length,n=n.next;return r}consume(t,r){const n=this.head.data;if(t<n.length){const o=n.slice(0,t);return this.head.data=n.slice(t),o}return t===n.length?this.shift():r?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[Uat](){for(let t=this.head;t;t=t.next)yield t.data}_getString(t){let r="",n=this.head,o=0;do{const s=n.data;if(t>s.length)r+=s,t-=s.length;else{t===s.length?(r+=s,++o,n.next?this.head=n.next:this.head=this.tail=null):(r+=Tfe(s,0,t),this.head=n,n.data=Tfe(s,t));break}++o}while((n=n.next)!==null);return this.length-=o,r}_getBuffer(t){const r=sj.allocUnsafe(t),n=t;let o=this.head,s=0;do{const a=o.data;if(t>a.length)lR(r,a,n-t),t-=a.length;else{t===a.length?(lR(r,a,n-t),++s,o.next?this.head=o.next:this.head=this.tail=null):(lR(r,new qat(a.buffer,a.byteOffset,t),n-t),this.head=o,o.data=a.slice(t));break}++s}while((o=o.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](t,r){return Hat(this,{...r,depth:0,customInspect:!1})}};const{MathFloor:Gat,NumberIsInteger:zat}=kr,{validateInteger:Kat}=Z_,{ERR_INVALID_ARG_VALUE:Jat}=Oi.codes;let Ife=16*1024,Nfe=16;function Yat(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function kfe(e){return e?Nfe:Ife}function Xat(e,t){Kat(t,"value",0),e?Nfe=t:Ife=t}function Qat(e,t,r,n){const o=Yat(t,n,r);if(o!=null){if(!zat(o)||o<0){const s=n?`options.${r}`:"options.highWaterMark";throw new Jat(s,o)}return Gat(o)}return kfe(e.objectMode)}var uR={getHighWaterMark:Qat,getDefaultHighWaterMark:kfe,setDefaultHighWaterMark:Xat};const Cfe=Qe,{PromisePrototypeThen:Zat,SymbolAsyncIterator:Ofe,SymbolIterator:Lfe}=kr,{Buffer:elt}=Ge,{ERR_INVALID_ARG_TYPE:tlt,ERR_STREAM_NULL_VALUES:rlt}=Oi.codes;function nlt(e,t,r){let n;if(typeof t=="string"||t instanceof elt)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});let o;if(t&&t[Ofe])o=!0,n=t[Ofe]();else if(t&&t[Lfe])o=!1,n=t[Lfe]();else throw new tlt("iterable",["Iterable"],t);const s=new e({objectMode:!0,highWaterMark:1,...r});let a=!1;s._read=function(){a||(a=!0,f())},s._destroy=function(u,d){Zat(l(u),()=>Cfe.nextTick(d,u),g=>Cfe.nextTick(d,g||u))};async function l(u){const d=u!=null,g=typeof n.throw=="function";if(d&&g){const{value:h,done:p}=await n.throw(u);if(await h,p)return}if(typeof n.return=="function"){const{value:h}=await n.return();await h}}async function f(){for(;;){try{const{value:u,done:d}=o?await n.next():n.next();if(d)s.push(null);else{const g=u&&typeof u.then=="function"?await u:u;if(g===null)throw a=!1,new rlt;if(s.push(g))continue;a=!1}}catch(u){s.destroy(u)}break}}return s}var Dfe=nlt,aj,Mfe;function fR(){if(Mfe)return aj;Mfe=1;const e=Qe,{ArrayPrototypeIndexOf:t,NumberIsInteger:r,NumberIsNaN:n,NumberParseInt:o,ObjectDefineProperties:s,ObjectKeys:a,ObjectSetPrototypeOf:l,Promise:f,SafeSet:u,SymbolAsyncDispose:d,SymbolAsyncIterator:g,Symbol:h}=kr;aj=F,F.ReadableState=ye;const{EventEmitter:p}=$t,{Stream:w,prependListener:y}=oj,{Buffer:v}=Ge,{addAbortSignal:E}=aR,x=qu;let S=fi.debuglog("stream",c=>{S=c});const N=Vat,$=qp,{getHighWaterMark:D,getDefaultHighWaterMark:K}=uR,{aggregateTwoErrors:q,codes:{ERR_INVALID_ARG_TYPE:k,ERR_METHOD_NOT_IMPLEMENTED:V,ERR_OUT_OF_RANGE:j,ERR_STREAM_PUSH_AFTER_EOF:B,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:A},AbortError:U}=Oi,{validateObject:G}=Z_,H=h("kPaused"),{StringDecoder:Q}=Fi(),ne=Dfe;l(F.prototype,w.prototype),l(F,w);const se=()=>{},{errorOrDestroy:ae}=$,Z=1,ge=2,W=4,ue=8,xe=16,he=32,le=64,_e=128,Ae=256,We=512,ie=1024,te=2048,_=4096,m=8192,R=16384,O=32768,C=65536,X=1<<17,re=1<<18;function J(c){return{enumerable:!1,get(){return(this.state&c)!==0},set(b){b?this.state|=c:this.state&=~c}}}s(ye.prototype,{objectMode:J(Z),ended:J(ge),endEmitted:J(W),reading:J(ue),constructed:J(xe),sync:J(he),needReadable:J(le),emittedReadable:J(_e),readableListening:J(Ae),resumeScheduled:J(We),errorEmitted:J(ie),emitClose:J(te),autoDestroy:J(_),destroyed:J(m),closed:J(R),closeEmitted:J(O),multiAwaitDrain:J(C),readingMore:J(X),dataEmitted:J(re)});function ye(c,b,I){typeof I!="boolean"&&(I=b instanceof yl()),this.state=te|_|xe|he,c&&c.objectMode&&(this.state|=Z),I&&c&&c.readableObjectMode&&(this.state|=Z),this.highWaterMark=c?D(this,c,"readableHighWaterMark",I):K(!1),this.buffer=new N,this.length=0,this.pipes=[],this.flowing=null,this[H]=null,c&&c.emitClose===!1&&(this.state&=~te),c&&c.autoDestroy===!1&&(this.state&=~_),this.errored=null,this.defaultEncoding=c&&c.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,c&&c.encoding&&(this.decoder=new Q(c.encoding),this.encoding=c.encoding)}function F(c){if(!(this instanceof F))return new F(c);const b=this instanceof yl();this._readableState=new ye(c,this,b),c&&(typeof c.read=="function"&&(this._read=c.read),typeof c.destroy=="function"&&(this._destroy=c.destroy),typeof c.construct=="function"&&(this._construct=c.construct),c.signal&&!b&&E(c.signal,this)),w.call(this,c),$.construct(this,()=>{this._readableState.needReadable&&ce(this,this._readableState)})}F.prototype.destroy=$.destroy,F.prototype._undestroy=$.undestroy,F.prototype._destroy=function(c,b){b(c)},F.prototype[p.captureRejectionSymbol]=function(c){this.destroy(c)},F.prototype[d]=function(){let c;return this.destroyed||(c=this.readableEnded?null:new U,this.destroy(c)),new f((b,I)=>x(this,T=>T&&T!==c?I(T):b(null)))},F.prototype.push=function(c,b){return we(this,c,b,!1)},F.prototype.unshift=function(c,b){return we(this,c,b,!0)};function we(c,b,I,T){S("readableAddChunk",b);const P=c._readableState;let Ee;if(P.state&Z||(typeof b=="string"?(I=I||P.defaultEncoding,P.encoding!==I&&(T&&P.encoding?b=v.from(b,I).toString(P.encoding):(b=v.from(b,I),I=""))):b instanceof v?I="":w._isUint8Array(b)?(b=w._uint8ArrayToBuffer(b),I=""):b!=null&&(Ee=new k("chunk",["string","Buffer","Uint8Array"],b))),Ee)ae(c,Ee);else if(b===null)P.state&=~ue,L(c,P);else if(P.state&Z||b&&b.length>0)if(T)if(P.state&W)ae(c,new A);else{if(P.destroyed||P.errored)return!1;Ce(c,P,b,!0)}else if(P.ended)ae(c,new B);else{if(P.destroyed||P.errored)return!1;P.state&=~ue,P.decoder&&!I?(b=P.decoder.write(b),P.objectMode||b.length!==0?Ce(c,P,b,!1):ce(c,P)):Ce(c,P,b,!1)}else T||(P.state&=~ue,ce(c,P));return!P.ended&&(P.length<P.highWaterMark||P.length===0)}function Ce(c,b,I,T){b.flowing&&b.length===0&&!b.sync&&c.listenerCount("data")>0?(b.state&C?b.awaitDrainWriters.clear():b.awaitDrainWriters=null,b.dataEmitted=!0,c.emit("data",I)):(b.length+=b.objectMode?1:I.length,T?b.buffer.unshift(I):b.buffer.push(I),b.state&le&&M(c)),ce(c,b)}F.prototype.isPaused=function(){const c=this._readableState;return c[H]===!0||c.flowing===!1},F.prototype.setEncoding=function(c){const b=new Q(c);this._readableState.decoder=b,this._readableState.encoding=this._readableState.decoder.encoding;const I=this._readableState.buffer;let T="";for(const P of I)T+=b.write(P);return I.clear(),T!==""&&I.push(T),this._readableState.length=T.length,this};const Me=1073741824;function Ue(c){if(c>Me)throw new j("size","<= 1GiB",c);return c--,c|=c>>>1,c|=c>>>2,c|=c>>>4,c|=c>>>8,c|=c>>>16,c++,c}function z(c,b){return c<=0||b.length===0&&b.ended?0:b.state&Z?1:n(c)?b.flowing&&b.length?b.buffer.first().length:b.length:c<=b.length?c:b.ended?b.length:0}F.prototype.read=function(c){S("read",c),c===void 0?c=NaN:r(c)||(c=o(c,10));const b=this._readableState,I=c;if(c>b.highWaterMark&&(b.highWaterMark=Ue(c)),c!==0&&(b.state&=~_e),c===0&&b.needReadable&&((b.highWaterMark!==0?b.length>=b.highWaterMark:b.length>0)||b.ended))return S("read: emitReadable",b.length,b.ended),b.length===0&&b.ended?ht(this):M(this),null;if(c=z(c,b),c===0&&b.ended)return b.length===0&&ht(this),null;let T=(b.state&le)!==0;if(S("need readable",T),(b.length===0||b.length-c<b.highWaterMark)&&(T=!0,S("length less than watermark",T)),b.ended||b.reading||b.destroyed||b.errored||!b.constructed)T=!1,S("reading, ended or constructing",T);else if(T){S("do read"),b.state|=ue|he,b.length===0&&(b.state|=le);try{this._read(b.highWaterMark)}catch(Ee){ae(this,Ee)}b.state&=~he,b.reading||(c=z(I,b))}let P;return c>0?P=Mt(c,b):P=null,P===null?(b.needReadable=b.length<=b.highWaterMark,c=0):(b.length-=c,b.multiAwaitDrain?b.awaitDrainWriters.clear():b.awaitDrainWriters=null),b.length===0&&(b.ended||(b.needReadable=!0),I!==c&&b.ended&&ht(this)),P!==null&&!b.errorEmitted&&!b.closeEmitted&&(b.dataEmitted=!0,this.emit("data",P)),P};function L(c,b){if(S("onEofChunk"),!b.ended){if(b.decoder){const I=b.decoder.end();I&&I.length&&(b.buffer.push(I),b.length+=b.objectMode?1:I.length)}b.ended=!0,b.sync?M(c):(b.needReadable=!1,b.emittedReadable=!0,oe(c))}}function M(c){const b=c._readableState;S("emitReadable",b.needReadable,b.emittedReadable),b.needReadable=!1,b.emittedReadable||(S("emitReadable",b.flowing),b.emittedReadable=!0,e.nextTick(oe,c))}function oe(c){const b=c._readableState;S("emitReadable_",b.destroyed,b.length,b.ended),!b.destroyed&&!b.errored&&(b.length||b.ended)&&(c.emit("readable"),b.emittedReadable=!1),b.needReadable=!b.flowing&&!b.ended&&b.length<=b.highWaterMark,rt(c)}function ce(c,b){!b.readingMore&&b.constructed&&(b.readingMore=!0,e.nextTick(Se,c,b))}function Se(c,b){for(;!b.reading&&!b.ended&&(b.length<b.highWaterMark||b.flowing&&b.length===0);){const I=b.length;if(S("maybeReadMore read 0"),c.read(0),I===b.length)break}b.readingMore=!1}F.prototype._read=function(c){throw new V("_read()")},F.prototype.pipe=function(c,b){const I=this,T=this._readableState;T.pipes.length===1&&(T.multiAwaitDrain||(T.multiAwaitDrain=!0,T.awaitDrainWriters=new u(T.awaitDrainWriters?[T.awaitDrainWriters]:[]))),T.pipes.push(c),S("pipe count=%d opts=%j",T.pipes.length,b);const Ee=(!b||b.end!==!1)&&c!==e.stdout&&c!==e.stderr?de:Ke;T.endEmitted?e.nextTick(Ee):I.once("end",Ee),c.on("unpipe",$e);function $e(ke,Te){S("onunpipe"),ke===I&&Te&&Te.hasUnpiped===!1&&(Te.hasUnpiped=!0,Re())}function de(){S("onend"),c.end()}let ee,pe=!1;function Re(){S("cleanup"),c.removeListener("close",Ye),c.removeListener("finish",tt),ee&&c.removeListener("drain",ee),c.removeListener("error",Be),c.removeListener("unpipe",$e),I.removeListener("end",de),I.removeListener("end",Ke),I.removeListener("data",Ve),pe=!0,ee&&T.awaitDrainWriters&&(!c._writableState||c._writableState.needDrain)&&ee()}function me(){pe||(T.pipes.length===1&&T.pipes[0]===c?(S("false write response, pause",0),T.awaitDrainWriters=c,T.multiAwaitDrain=!1):T.pipes.length>1&&T.pipes.includes(c)&&(S("false write response, pause",T.awaitDrainWriters.size),T.awaitDrainWriters.add(c)),I.pause()),ee||(ee=ve(I,c),c.on("drain",ee))}I.on("data",Ve);function Ve(ke){S("ondata");const Te=c.write(ke);S("dest.write",Te),Te===!1&&me()}function Be(ke){if(S("onerror",ke),Ke(),c.removeListener("error",Be),c.listenerCount("error")===0){const Te=c._writableState||c._readableState;Te&&!Te.errorEmitted?ae(c,ke):c.emit("error",ke)}}y(c,"error",Be);function Ye(){c.removeListener("finish",tt),Ke()}c.once("close",Ye);function tt(){S("onfinish"),c.removeListener("close",Ye),Ke()}c.once("finish",tt);function Ke(){S("unpipe"),I.unpipe(c)}return c.emit("pipe",I),c.writableNeedDrain===!0?me():T.flowing||(S("pipe resume"),I.resume()),c};function ve(c,b){return function(){const T=c._readableState;T.awaitDrainWriters===b?(S("pipeOnDrain",1),T.awaitDrainWriters=null):T.multiAwaitDrain&&(S("pipeOnDrain",T.awaitDrainWriters.size),T.awaitDrainWriters.delete(b)),(!T.awaitDrainWriters||T.awaitDrainWriters.size===0)&&c.listenerCount("data")&&c.resume()}}F.prototype.unpipe=function(c){const b=this._readableState,I={hasUnpiped:!1};if(b.pipes.length===0)return this;if(!c){const P=b.pipes;b.pipes=[],this.pause();for(let Ee=0;Ee<P.length;Ee++)P[Ee].emit("unpipe",this,{hasUnpiped:!1});return this}const T=t(b.pipes,c);return T===-1?this:(b.pipes.splice(T,1),b.pipes.length===0&&this.pause(),c.emit("unpipe",this,I),this)},F.prototype.on=function(c,b){const I=w.prototype.on.call(this,c,b),T=this._readableState;return c==="data"?(T.readableListening=this.listenerCount("readable")>0,T.flowing!==!1&&this.resume()):c==="readable"&&!T.endEmitted&&!T.readableListening&&(T.readableListening=T.needReadable=!0,T.flowing=!1,T.emittedReadable=!1,S("on readable",T.length,T.reading),T.length?M(this):T.reading||e.nextTick(dt,this)),I},F.prototype.addListener=F.prototype.on,F.prototype.removeListener=function(c,b){const I=w.prototype.removeListener.call(this,c,b);return c==="readable"&&e.nextTick(ze,this),I},F.prototype.off=F.prototype.removeListener,F.prototype.removeAllListeners=function(c){const b=w.prototype.removeAllListeners.apply(this,arguments);return(c==="readable"||c===void 0)&&e.nextTick(ze,this),b};function ze(c){const b=c._readableState;b.readableListening=c.listenerCount("readable")>0,b.resumeScheduled&&b[H]===!1?b.flowing=!0:c.listenerCount("data")>0?c.resume():b.readableListening||(b.flowing=null)}function dt(c){S("readable nexttick read 0"),c.read(0)}F.prototype.resume=function(){const c=this._readableState;return c.flowing||(S("resume"),c.flowing=!c.readableListening,et(this,c)),c[H]=!1,this};function et(c,b){b.resumeScheduled||(b.resumeScheduled=!0,e.nextTick(Xe,c,b))}function Xe(c,b){S("resume",b.reading),b.reading||c.read(0),b.resumeScheduled=!1,c.emit("resume"),rt(c),b.flowing&&!b.reading&&c.read(0)}F.prototype.pause=function(){return S("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(S("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[H]=!0,this};function rt(c){const b=c._readableState;for(S("flow",b.flowing);b.flowing&&c.read()!==null;);}F.prototype.wrap=function(c){let b=!1;c.on("data",T=>{!this.push(T)&&c.pause&&(b=!0,c.pause())}),c.on("end",()=>{this.push(null)}),c.on("error",T=>{ae(this,T)}),c.on("close",()=>{this.destroy()}),c.on("destroy",()=>{this.destroy()}),this._read=()=>{b&&c.resume&&(b=!1,c.resume())};const I=a(c);for(let T=1;T<I.length;T++){const P=I[T];this[P]===void 0&&typeof c[P]=="function"&&(this[P]=c[P].bind(c))}return this},F.prototype[g]=function(){return Lt(this)},F.prototype.iterator=function(c){return c!==void 0&&G(c,"options"),Lt(this,c)};function Lt(c,b){typeof c.read!="function"&&(c=F.wrap(c,{objectMode:!0}));const I=vr(c,b);return I.stream=c,I}async function*vr(c,b){let I=se;function T($e){this===c?(I(),I=se):I=$e}c.on("readable",T);let P;const Ee=x(c,{writable:!1},$e=>{P=$e?q(P,$e):null,I(),I=se});try{for(;;){const $e=c.destroyed?null:c.read();if($e!==null)yield $e;else{if(P)throw P;if(P===null)return;await new f(T)}}}catch($e){throw P=q(P,$e),P}finally{(P||(b==null?void 0:b.destroyOnReturn)!==!1)&&(P===void 0||c._readableState.autoDestroy)?$.destroyer(c,null):(c.off("readable",T),Ee())}}s(F.prototype,{readable:{__proto__:null,get(){const c=this._readableState;return!!c&&c.readable!==!1&&!c.destroyed&&!c.errorEmitted&&!c.endEmitted},set(c){this._readableState&&(this._readableState.readable=!!c)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(c){this._readableState&&(this._readableState.flowing=c)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(c){this._readableState&&(this._readableState.destroyed=c)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),s(ye.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[H]!==!1},set(c){this[H]=!!c}}}),F._fromList=Mt;function Mt(c,b){if(b.length===0)return null;let I;return b.objectMode?I=b.buffer.shift():!c||c>=b.length?(b.decoder?I=b.buffer.join(""):b.buffer.length===1?I=b.buffer.first():I=b.buffer.concat(b.length),b.buffer.clear()):I=b.buffer.consume(c,b.decoder),I}function ht(c){const b=c._readableState;S("endReadable",b.endEmitted),b.endEmitted||(b.ended=!0,e.nextTick(wr,b,c))}function wr(c,b){if(S("endReadableNT",c.endEmitted,c.length),!c.errored&&!c.closeEmitted&&!c.endEmitted&&c.length===0){if(c.endEmitted=!0,b.emit("end"),b.writable&&b.allowHalfOpen===!1)e.nextTick(rr,b);else if(c.autoDestroy){const I=b._writableState;(!I||I.autoDestroy&&(I.finished||I.writable===!1))&&b.destroy()}}}function rr(c){c.writable&&!c.writableEnded&&!c.destroyed&&c.end()}F.from=function(c,b){return ne(F,c,b)};let _t;function jt(){return _t===void 0&&(_t={}),_t}return F.fromWeb=function(c,b){return jt().newStreamReadableFromReadableStream(c,b)},F.toWeb=function(c,b){return jt().newReadableStreamFromStreamReadable(c,b)},F.wrap=function(c,b){var I,T;return new F({objectMode:(I=(T=c.readableObjectMode)!==null&&T!==void 0?T:c.objectMode)!==null&&I!==void 0?I:!0,...b,destroy(P,Ee){$.destroyer(c,P),Ee(P)}}).wrap(c)},aj}var lj,Pfe;function uj(){if(Pfe)return lj;Pfe=1;const e=Qe,{ArrayPrototypeSlice:t,Error:r,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:o,ObjectDefineProperties:s,ObjectSetPrototypeOf:a,StringPrototypeToLowerCase:l,Symbol:f,SymbolHasInstance:u}=kr;lj=G,G.WritableState=A;const{EventEmitter:d}=$t,g=oj.Stream,{Buffer:h}=Ge,p=qp,{addAbortSignal:w}=aR,{getHighWaterMark:y,getDefaultHighWaterMark:v}=uR,{ERR_INVALID_ARG_TYPE:E,ERR_METHOD_NOT_IMPLEMENTED:x,ERR_MULTIPLE_CALLBACK:S,ERR_STREAM_CANNOT_PIPE:N,ERR_STREAM_DESTROYED:$,ERR_STREAM_ALREADY_FINISHED:D,ERR_STREAM_NULL_VALUES:K,ERR_STREAM_WRITE_AFTER_END:q,ERR_UNKNOWN_ENCODING:k}=Oi.codes,{errorOrDestroy:V}=p;a(G.prototype,g.prototype),a(G,g);function j(){}const B=f("kOnFinished");function A(_,m,R){typeof R!="boolean"&&(R=m instanceof yl()),this.objectMode=!!(_&&_.objectMode),R&&(this.objectMode=this.objectMode||!!(_&&_.writableObjectMode)),this.highWaterMark=_?y(this,_,"writableHighWaterMark",R):v(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const O=!!(_&&_.decodeStrings===!1);this.decodeStrings=!O,this.defaultEncoding=_&&_.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=ae.bind(void 0,m),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,U(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!_||_.emitClose!==!1,this.autoDestroy=!_||_.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[B]=[]}function U(_){_.buffered=[],_.bufferedIndex=0,_.allBuffers=!0,_.allNoop=!0}A.prototype.getBuffer=function(){return t(this.buffered,this.bufferedIndex)},o(A.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function G(_){const m=this instanceof yl();if(!m&&!n(G,this))return new G(_);this._writableState=new A(_,this,m),_&&(typeof _.write=="function"&&(this._write=_.write),typeof _.writev=="function"&&(this._writev=_.writev),typeof _.destroy=="function"&&(this._destroy=_.destroy),typeof _.final=="function"&&(this._final=_.final),typeof _.construct=="function"&&(this._construct=_.construct),_.signal&&w(_.signal,this)),g.call(this,_),p.construct(this,()=>{const R=this._writableState;R.writing||ue(this,R),_e(this,R)})}o(G,u,{__proto__:null,value:function(_){return n(this,_)?!0:this!==G?!1:_&&_._writableState instanceof A}}),G.prototype.pipe=function(){V(this,new N)};function H(_,m,R,O){const C=_._writableState;if(typeof R=="function")O=R,R=C.defaultEncoding;else{if(!R)R=C.defaultEncoding;else if(R!=="buffer"&&!h.isEncoding(R))throw new k(R);typeof O!="function"&&(O=j)}if(m===null)throw new K;if(!C.objectMode)if(typeof m=="string")C.decodeStrings!==!1&&(m=h.from(m,R),R="buffer");else if(m instanceof h)R="buffer";else if(g._isUint8Array(m))m=g._uint8ArrayToBuffer(m),R="buffer";else throw new E("chunk",["string","Buffer","Uint8Array"],m);let X;return C.ending?X=new q:C.destroyed&&(X=new $("write")),X?(e.nextTick(O,X),V(_,X,!0),X):(C.pendingcb++,Q(_,C,m,R,O))}G.prototype.write=function(_,m,R){return H(this,_,m,R)===!0},G.prototype.cork=function(){this._writableState.corked++},G.prototype.uncork=function(){const _=this._writableState;_.corked&&(_.corked--,_.writing||ue(this,_))},G.prototype.setDefaultEncoding=function(m){if(typeof m=="string"&&(m=l(m)),!h.isEncoding(m))throw new k(m);return this._writableState.defaultEncoding=m,this};function Q(_,m,R,O,C){const X=m.objectMode?1:R.length;m.length+=X;const re=m.length<m.highWaterMark;return re||(m.needDrain=!0),m.writing||m.corked||m.errored||!m.constructed?(m.buffered.push({chunk:R,encoding:O,callback:C}),m.allBuffers&&O!=="buffer"&&(m.allBuffers=!1),m.allNoop&&C!==j&&(m.allNoop=!1)):(m.writelen=X,m.writecb=C,m.writing=!0,m.sync=!0,_._write(R,O,m.onwrite),m.sync=!1),re&&!m.errored&&!m.destroyed}function ne(_,m,R,O,C,X,re){m.writelen=O,m.writecb=re,m.writing=!0,m.sync=!0,m.destroyed?m.onwrite(new $("write")):R?_._writev(C,m.onwrite):_._write(C,X,m.onwrite),m.sync=!1}function se(_,m,R,O){--m.pendingcb,O(R),W(m),V(_,R)}function ae(_,m){const R=_._writableState,O=R.sync,C=R.writecb;if(typeof C!="function"){V(_,new S);return}R.writing=!1,R.writecb=null,R.length-=R.writelen,R.writelen=0,m?(m.stack,R.errored||(R.errored=m),_._readableState&&!_._readableState.errored&&(_._readableState.errored=m),O?e.nextTick(se,_,R,m,C):se(_,R,m,C)):(R.buffered.length>R.bufferedIndex&&ue(_,R),O?R.afterWriteTickInfo!==null&&R.afterWriteTickInfo.cb===C?R.afterWriteTickInfo.count++:(R.afterWriteTickInfo={count:1,cb:C,stream:_,state:R},e.nextTick(Z,R.afterWriteTickInfo)):ge(_,R,1,C))}function Z({stream:_,state:m,count:R,cb:O}){return m.afterWriteTickInfo=null,ge(_,m,R,O)}function ge(_,m,R,O){for(!m.ending&&!_.destroyed&&m.length===0&&m.needDrain&&(m.needDrain=!1,_.emit("drain"));R-- >0;)m.pendingcb--,O();m.destroyed&&W(m),_e(_,m)}function W(_){if(_.writing)return;for(let C=_.bufferedIndex;C<_.buffered.length;++C){var m;const{chunk:X,callback:re}=_.buffered[C],J=_.objectMode?1:X.length;_.length-=J,re((m=_.errored)!==null&&m!==void 0?m:new $("write"))}const R=_[B].splice(0);for(let C=0;C<R.length;C++){var O;R[C]((O=_.errored)!==null&&O!==void 0?O:new $("end"))}U(_)}function ue(_,m){if(m.corked||m.bufferProcessing||m.destroyed||!m.constructed)return;const{buffered:R,bufferedIndex:O,objectMode:C}=m,X=R.length-O;if(!X)return;let re=O;if(m.bufferProcessing=!0,X>1&&_._writev){m.pendingcb-=X-1;const J=m.allNoop?j:F=>{for(let we=re;we<R.length;++we)R[we].callback(F)},ye=m.allNoop&&re===0?R:t(R,re);ye.allBuffers=m.allBuffers,ne(_,m,!0,m.length,ye,"",J),U(m)}else{do{const{chunk:J,encoding:ye,callback:F}=R[re];R[re++]=null;const we=C?1:J.length;ne(_,m,!1,we,J,ye,F)}while(re<R.length&&!m.writing);re===R.length?U(m):re>256?(R.splice(0,re),m.bufferedIndex=0):m.bufferedIndex=re}m.bufferProcessing=!1}G.prototype._write=function(_,m,R){if(this._writev)this._writev([{chunk:_,encoding:m}],R);else throw new x("_write()")},G.prototype._writev=null,G.prototype.end=function(_,m,R){const O=this._writableState;typeof _=="function"?(R=_,_=null,m=null):typeof m=="function"&&(R=m,m=null);let C;if(_!=null){const X=H(this,_,m);X instanceof r&&(C=X)}return O.corked&&(O.corked=1,this.uncork()),C||(!O.errored&&!O.ending?(O.ending=!0,_e(this,O,!0),O.ended=!0):O.finished?C=new D("end"):O.destroyed&&(C=new $("end"))),typeof R=="function"&&(C||O.finished?e.nextTick(R,C):O[B].push(R)),this};function xe(_){return _.ending&&!_.destroyed&&_.constructed&&_.length===0&&!_.errored&&_.buffered.length===0&&!_.finished&&!_.writing&&!_.errorEmitted&&!_.closeEmitted}function he(_,m){let R=!1;function O(C){if(R){V(_,C??S());return}if(R=!0,m.pendingcb--,C){const X=m[B].splice(0);for(let re=0;re<X.length;re++)X[re](C);V(_,C,m.sync)}else xe(m)&&(m.prefinished=!0,_.emit("prefinish"),m.pendingcb++,e.nextTick(Ae,_,m))}m.sync=!0,m.pendingcb++;try{_._final(O)}catch(C){O(C)}m.sync=!1}function le(_,m){!m.prefinished&&!m.finalCalled&&(typeof _._final=="function"&&!m.destroyed?(m.finalCalled=!0,he(_,m)):(m.prefinished=!0,_.emit("prefinish")))}function _e(_,m,R){xe(m)&&(le(_,m),m.pendingcb===0&&(R?(m.pendingcb++,e.nextTick((O,C)=>{xe(C)?Ae(O,C):C.pendingcb--},_,m)):xe(m)&&(m.pendingcb++,Ae(_,m))))}function Ae(_,m){m.pendingcb--,m.finished=!0;const R=m[B].splice(0);for(let O=0;O<R.length;O++)R[O]();if(_.emit("finish"),m.autoDestroy){const O=_._readableState;(!O||O.autoDestroy&&(O.endEmitted||O.readable===!1))&&_.destroy()}}s(G.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(_){this._writableState&&(this._writableState.destroyed=_)}},writable:{__proto__:null,get(){const _=this._writableState;return!!_&&_.writable!==!1&&!_.destroyed&&!_.errored&&!_.ending&&!_.ended},set(_){this._writableState&&(this._writableState.writable=!!_)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const _=this._writableState;return _?!_.destroyed&&!_.ending&&_.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const We=p.destroy;G.prototype.destroy=function(_,m){const R=this._writableState;return!R.destroyed&&(R.bufferedIndex<R.buffered.length||R[B].length)&&e.nextTick(W,R),We.call(this,_,m),this},G.prototype._undestroy=p.undestroy,G.prototype._destroy=function(_,m){m(_)},G.prototype[d.captureRejectionSymbol]=function(_){this.destroy(_)};let ie;function te(){return ie===void 0&&(ie={}),ie}return G.fromWeb=function(_,m){return te().newStreamWritableFromWritableStream(_,m)},G.toWeb=function(_){return te().newWritableStreamFromStreamWritable(_)},lj}var fj,Ffe;function ilt(){if(Ffe)return fj;Ffe=1;const e=Qe,t=Ge,{isReadable:r,isWritable:n,isIterable:o,isNodeStream:s,isReadableNodeStream:a,isWritableNodeStream:l,isDuplexNodeStream:f,isReadableStream:u,isWritableStream:d}=_l,g=qu,{AbortError:h,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:w}}=Oi,{destroyer:y}=qp,v=yl(),E=fR(),x=uj(),{createDeferredPromise:S}=fi,N=Dfe,$=globalThis.Blob||t.Blob,D=typeof $<"u"?function(A){return A instanceof $}:function(A){return!1},K=globalThis.AbortController||bt().AbortController,{FunctionPrototypeCall:q}=kr;class k extends v{constructor(A){super(A),(A==null?void 0:A.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(A==null?void 0:A.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}fj=function B(A,U){if(f(A))return A;if(a(A))return j({readable:A});if(l(A))return j({writable:A});if(s(A))return j({writable:!1,readable:!1});if(u(A))return j({readable:E.fromWeb(A)});if(d(A))return j({writable:x.fromWeb(A)});if(typeof A=="function"){const{value:H,write:Q,final:ne,destroy:se}=V(A);if(o(H))return N(k,H,{objectMode:!0,write:Q,final:ne,destroy:se});const ae=H==null?void 0:H.then;if(typeof ae=="function"){let Z;const ge=q(ae,H,W=>{if(W!=null)throw new w("nully","body",W)},W=>{y(Z,W)});return Z=new k({objectMode:!0,readable:!1,write:Q,final(W){ne(async()=>{try{await ge,e.nextTick(W,null)}catch(ue){e.nextTick(W,ue)}})},destroy:se})}throw new w("Iterable, AsyncIterable or AsyncFunction",U,H)}if(D(A))return B(A.arrayBuffer());if(o(A))return N(k,A,{objectMode:!0,writable:!1});if(u(A==null?void 0:A.readable)&&d(A==null?void 0:A.writable))return k.fromWeb(A);if(typeof(A==null?void 0:A.writable)=="object"||typeof(A==null?void 0:A.readable)=="object"){const H=A!=null&&A.readable?a(A==null?void 0:A.readable)?A==null?void 0:A.readable:B(A.readable):void 0,Q=A!=null&&A.writable?l(A==null?void 0:A.writable)?A==null?void 0:A.writable:B(A.writable):void 0;return j({readable:H,writable:Q})}const G=A==null?void 0:A.then;if(typeof G=="function"){let H;return q(G,A,Q=>{Q!=null&&H.push(Q),H.push(null)},Q=>{y(H,Q)}),H=new k({objectMode:!0,writable:!1,read(){}})}throw new p(U,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],A)};function V(B){let{promise:A,resolve:U}=S();const G=new K,H=G.signal;return{value:B(async function*(){for(;;){const ne=A;A=null;const{chunk:se,done:ae,cb:Z}=await ne;if(e.nextTick(Z),ae)return;if(H.aborted)throw new h(void 0,{cause:H.reason});({promise:A,resolve:U}=S()),yield se}}(),{signal:H}),write(ne,se,ae){const Z=U;U=null,Z({chunk:ne,done:!1,cb:ae})},final(ne){const se=U;U=null,se({done:!0,cb:ne})},destroy(ne,se){G.abort(),se(ne)}}}function j(B){const A=B.readable&&typeof B.readable.read!="function"?E.wrap(B.readable):B.readable,U=B.writable;let G=!!r(A),H=!!n(U),Q,ne,se,ae,Z;function ge(W){const ue=ae;ae=null,ue?ue(W):W&&Z.destroy(W)}return Z=new k({readableObjectMode:!!(A!=null&&A.readableObjectMode),writableObjectMode:!!(U!=null&&U.writableObjectMode),readable:G,writable:H}),H&&(g(U,W=>{H=!1,W&&y(A,W),ge(W)}),Z._write=function(W,ue,xe){U.write(W,ue)?xe():Q=xe},Z._final=function(W){U.end(),ne=W},U.on("drain",function(){if(Q){const W=Q;Q=null,W()}}),U.on("finish",function(){if(ne){const W=ne;ne=null,W()}})),G&&(g(A,W=>{G=!1,W&&y(A,W),ge(W)}),A.on("readable",function(){if(se){const W=se;se=null,W()}}),A.on("end",function(){Z.push(null)}),Z._read=function(){for(;;){const W=A.read();if(W===null){se=Z._read;return}if(!Z.push(W))return}}),Z._destroy=function(W,ue){!W&&ae!==null&&(W=new h),se=null,Q=null,ne=null,ae===null?ue(W):(ae=ue,y(U,W),y(A,W))},Z}return fj}var cj,jfe;function yl(){if(jfe)return cj;jfe=1;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:r,ObjectSetPrototypeOf:n}=kr;cj=a;const o=fR(),s=uj();n(a.prototype,o.prototype),n(a,o);{const d=r(s.prototype);for(let g=0;g<d.length;g++){const h=d[g];a.prototype[h]||(a.prototype[h]=s.prototype[h])}}function a(d){if(!(this instanceof a))return new a(d);o.call(this,d),s.call(this,d),d?(this.allowHalfOpen=d.allowHalfOpen!==!1,d.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),d.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(a.prototype,{writable:{__proto__:null,...t(s.prototype,"writable")},writableHighWaterMark:{__proto__:null,...t(s.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...t(s.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...t(s.prototype,"writableBuffer")},writableLength:{__proto__:null,...t(s.prototype,"writableLength")},writableFinished:{__proto__:null,...t(s.prototype,"writableFinished")},writableCorked:{__proto__:null,...t(s.prototype,"writableCorked")},writableEnded:{__proto__:null,...t(s.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...t(s.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(d){this._readableState&&this._writableState&&(this._readableState.destroyed=d,this._writableState.destroyed=d)}}});let l;function f(){return l===void 0&&(l={}),l}a.fromWeb=function(d,g){return f().newStreamDuplexFromReadableWritablePair(d,g)},a.toWeb=function(d){return f().newReadableWritablePairFromDuplex(d)};let u;return a.from=function(d){return u||(u=ilt()),u(d,"body")},cj}const{ObjectSetPrototypeOf:Wfe,Symbol:olt}=kr;var Bfe=wl;const{ERR_METHOD_NOT_IMPLEMENTED:slt}=Oi.codes,dj=yl(),{getHighWaterMark:alt}=uR;Wfe(wl.prototype,dj.prototype),Wfe(wl,dj);const ey=olt("kCallback");function wl(e){if(!(this instanceof wl))return new wl(e);const t=e?alt(this,e,"readableHighWaterMark",!0):null;t===0&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),dj.call(this,e),this._readableState.sync=!1,this[ey]=null,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",llt)}function hj(e){typeof this._flush=="function"&&!this.destroyed?this._flush((t,r)=>{if(t){e?e(t):this.destroy(t);return}r!=null&&this.push(r),this.push(null),e&&e()}):(this.push(null),e&&e())}function llt(){this._final!==hj&&hj.call(this)}wl.prototype._final=hj,wl.prototype._transform=function(e,t,r){throw new slt("_transform()")},wl.prototype._write=function(e,t,r){const n=this._readableState,o=this._writableState,s=n.length;this._transform(e,t,(a,l)=>{if(a){r(a);return}l!=null&&this.push(l),o.ended||s===n.length||n.length<n.highWaterMark?r():this[ey]=r})},wl.prototype._read=function(){if(this[ey]){const e=this[ey];this[ey]=null,e()}};const{ObjectSetPrototypeOf:Ufe}=kr;var qfe=Hp;const pj=Bfe;Ufe(Hp.prototype,pj.prototype),Ufe(Hp,pj);function Hp(e){if(!(this instanceof Hp))return new Hp(e);pj.call(this,e)}Hp.prototype._transform=function(e,t,r){r(null,e)};const ty=Qe,{ArrayIsArray:ult,Promise:flt,SymbolAsyncIterator:clt,SymbolDispose:dlt}=kr,cR=qu,{once:hlt}=fi,plt=qp,Hfe=yl(),{aggregateTwoErrors:blt,codes:{ERR_INVALID_ARG_TYPE:bj,ERR_INVALID_RETURN_VALUE:gj,ERR_MISSING_ARGS:glt,ERR_STREAM_DESTROYED:_lt,ERR_STREAM_PREMATURE_CLOSE:ylt},AbortError:wlt}=Oi,{validateFunction:mlt,validateAbortSignal:vlt}=Z_,{isIterable:vd,isReadable:_j,isReadableNodeStream:dR,isNodeStream:Vfe,isTransformStream:Vp,isWebStream:Slt,isReadableStream:yj,isReadableFinished:Elt}=_l,Rlt=globalThis.AbortController||bt().AbortController;let wj,mj,vj;function Gfe(e,t,r){let n=!1;e.on("close",()=>{n=!0});const o=cR(e,{readable:t,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,plt.destroyer(e,s||new _lt("pipe")))},cleanup:o}}function xlt(e){return mlt(e[e.length-1],"streams[stream.length - 1]"),e.pop()}function Sj(e){if(vd(e))return e;if(dR(e))return Alt(e);throw new bj("val",["Readable","Iterable","AsyncIterable"],e)}async function*Alt(e){mj||(mj=fR()),yield*mj.prototype[clt].call(e)}async function hR(e,t,r,{end:n}){let o,s=null;const a=u=>{if(u&&(o=u),s){const d=s;s=null,d()}},l=()=>new flt((u,d)=>{o?d(o):s=()=>{o?d(o):u()}});t.on("drain",a);const f=cR(t,{readable:!1},a);try{t.writableNeedDrain&&await l();for await(const u of e)t.write(u)||await l();n&&(t.end(),await l()),r()}catch(u){r(o!==u?blt(o,u):u)}finally{f(),t.off("drain",a)}}async function Ej(e,t,r,{end:n}){Vp(t)&&(t=t.writable);const o=t.getWriter();try{for await(const s of e)await o.ready,o.write(s).catch(()=>{});await o.ready,n&&await o.close(),r()}catch(s){try{await o.abort(s),r(s)}catch(a){r(a)}}}function $lt(...e){return zfe(e,hlt(xlt(e)))}function zfe(e,t,r){if(e.length===1&&ult(e[0])&&(e=e[0]),e.length<2)throw new glt("streams");const n=new Rlt,o=n.signal,s=r==null?void 0:r.signal,a=[];vlt(s,"options.signal");function l(){w(new wlt)}vj=vj||fi.addAbortListener;let f;s&&(f=vj(s,l));let u,d;const g=[];let h=0;function p(x){w(x,--h===0)}function w(x,S){var N;if(x&&(!u||u.code==="ERR_STREAM_PREMATURE_CLOSE")&&(u=x),!(!u&&!S)){for(;g.length;)g.shift()(u);(N=f)===null||N===void 0||N[dlt](),n.abort(),S&&(u||a.forEach($=>$()),ty.nextTick(t,u,d))}}let y;for(let x=0;x<e.length;x++){const S=e[x],N=x<e.length-1,$=x>0,D=N||(r==null?void 0:r.end)!==!1,K=x===e.length-1;if(Vfe(S)){let q=function(k){k&&k.name!=="AbortError"&&k.code!=="ERR_STREAM_PREMATURE_CLOSE"&&p(k)};if(D){const{destroy:k,cleanup:V}=Gfe(S,N,$);g.push(k),_j(S)&&K&&a.push(V)}S.on("error",q),_j(S)&&K&&a.push(()=>{S.removeListener("error",q)})}if(x===0)if(typeof S=="function"){if(y=S({signal:o}),!vd(y))throw new gj("Iterable, AsyncIterable or Stream","source",y)}else vd(S)||dR(S)||Vp(S)?y=S:y=Hfe.from(S);else if(typeof S=="function"){if(Vp(y)){var v;y=Sj((v=y)===null||v===void 0?void 0:v.readable)}else y=Sj(y);if(y=S(y,{signal:o}),N){if(!vd(y,!0))throw new gj("AsyncIterable",`transform[${x-1}]`,y)}else{var E;wj||(wj=qfe);const q=new wj({objectMode:!0}),k=(E=y)===null||E===void 0?void 0:E.then;if(typeof k=="function")h++,k.call(y,B=>{d=B,B!=null&&q.write(B),D&&q.end(),ty.nextTick(p)},B=>{q.destroy(B),ty.nextTick(p,B)});else if(vd(y,!0))h++,hR(y,q,p,{end:D});else if(yj(y)||Vp(y)){const B=y.readable||y;h++,hR(B,q,p,{end:D})}else throw new gj("AsyncIterable or Promise","destination",y);y=q;const{destroy:V,cleanup:j}=Gfe(y,!1,!0);g.push(V),K&&a.push(j)}}else if(Vfe(S)){if(dR(y)){h+=2;const q=Tlt(y,S,p,{end:D});_j(S)&&K&&a.push(q)}else if(Vp(y)||yj(y)){const q=y.readable||y;h++,hR(q,S,p,{end:D})}else if(vd(y))h++,hR(y,S,p,{end:D});else throw new bj("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],y);y=S}else if(Slt(S)){if(dR(y))h++,Ej(Sj(y),S,p,{end:D});else if(yj(y)||vd(y))h++,Ej(y,S,p,{end:D});else if(Vp(y))h++,Ej(y.readable,S,p,{end:D});else throw new bj("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],y);y=S}else y=Hfe.from(S)}return(o!=null&&o.aborted||s!=null&&s.aborted)&&ty.nextTick(l),y}function Tlt(e,t,r,{end:n}){let o=!1;if(t.on("close",()=>{o||r(new ylt)}),e.pipe(t,{end:!1}),n){let s=function(){o=!0,t.end()};Elt(e)?ty.nextTick(s):e.once("end",s)}else r();return cR(e,{readable:!0,writable:!1},s=>{const a=e._readableState;s&&s.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?e.once("end",r).once("error",r):r(s)}),cR(t,{readable:!1,writable:!0},r)}var Rj={pipelineImpl:zfe,pipeline:$lt};const{pipeline:Ilt}=Rj,pR=yl(),{destroyer:Nlt}=qp,{isNodeStream:bR,isReadable:Kfe,isWritable:Jfe,isWebStream:xj,isTransformStream:Sd,isWritableStream:Yfe,isReadableStream:Xfe}=_l,{AbortError:klt,codes:{ERR_INVALID_ARG_VALUE:Qfe,ERR_MISSING_ARGS:Clt}}=Oi,Olt=qu;var Zfe=function(...t){if(t.length===0)throw new Clt("streams");if(t.length===1)return pR.from(t[0]);const r=[...t];if(typeof t[0]=="function"&&(t[0]=pR.from(t[0])),typeof t[t.length-1]=="function"){const p=t.length-1;t[p]=pR.from(t[p])}for(let p=0;p<t.length;++p)if(!(!bR(t[p])&&!xj(t[p]))){if(p<t.length-1&&!(Kfe(t[p])||Xfe(t[p])||Sd(t[p])))throw new Qfe(`streams[${p}]`,r[p],"must be readable");if(p>0&&!(Jfe(t[p])||Yfe(t[p])||Sd(t[p])))throw new Qfe(`streams[${p}]`,r[p],"must be writable")}let n,o,s,a,l;function f(p){const w=a;a=null,w?w(p):p?l.destroy(p):!h&&!g&&l.destroy()}const u=t[0],d=Ilt(t,f),g=!!(Jfe(u)||Yfe(u)||Sd(u)),h=!!(Kfe(d)||Xfe(d)||Sd(d));if(l=new pR({writableObjectMode:!!(u!=null&&u.writableObjectMode),readableObjectMode:!!(d!=null&&d.readableObjectMode),writable:g,readable:h}),g){if(bR(u))l._write=function(w,y,v){u.write(w,y)?v():n=v},l._final=function(w){u.end(),o=w},u.on("drain",function(){if(n){const w=n;n=null,w()}});else if(xj(u)){const y=(Sd(u)?u.writable:u).getWriter();l._write=async function(v,E,x){try{await y.ready,y.write(v).catch(()=>{}),x()}catch(S){x(S)}},l._final=async function(v){try{await y.ready,y.close().catch(()=>{}),o=v}catch(E){v(E)}}}const p=Sd(d)?d.readable:d;Olt(p,()=>{if(o){const w=o;o=null,w()}})}if(h){if(bR(d))d.on("readable",function(){if(s){const p=s;s=null,p()}}),d.on("end",function(){l.push(null)}),l._read=function(){for(;;){const p=d.read();if(p===null){s=l._read;return}if(!l.push(p))return}};else if(xj(d)){const w=(Sd(d)?d.readable:d).getReader();l._read=async function(){for(;;)try{const{value:y,done:v}=await w.read();if(!l.push(y))return;if(v){l.push(null);return}}catch{return}}}}return l._destroy=function(p,w){!p&&a!==null&&(p=new klt),s=null,n=null,o=null,a===null?w(p):(a=w,bR(d)&&Nlt(d,p))},l};const Llt=globalThis.AbortController||bt().AbortController,{codes:{ERR_INVALID_ARG_VALUE:Dlt,ERR_INVALID_ARG_TYPE:ry,ERR_MISSING_ARGS:Mlt,ERR_OUT_OF_RANGE:Plt},AbortError:aa}=Oi,{validateAbortSignal:Ed,validateInteger:ece,validateObject:Rd}=Z_,Flt=kr.Symbol("kWeak"),jlt=kr.Symbol("kResistStopPropagation"),{finished:Wlt}=qu,Blt=Zfe,{addAbortSignalNoValidate:Ult}=aR,{isWritable:qlt,isNodeStream:Hlt}=_l,{deprecate:Vlt}=fi,{ArrayPrototypePush:Glt,Boolean:zlt,MathFloor:tce,Number:Klt,NumberIsNaN:Jlt,Promise:rce,PromiseReject:nce,PromiseResolve:Ylt,PromisePrototypeThen:ice,Symbol:oce}=kr,gR=oce("kEmpty"),sce=oce("kEof");function Xlt(e,t){if(t!=null&&Rd(t,"options"),(t==null?void 0:t.signal)!=null&&Ed(t.signal,"options.signal"),Hlt(e)&&!qlt(e))throw new Dlt("stream",e,"must be writable");const r=Blt(this,e);return t!=null&&t.signal&&Ult(t.signal,r),r}function _R(e,t){if(typeof e!="function")throw new ry("fn",["Function","AsyncFunction"],e);t!=null&&Rd(t,"options"),(t==null?void 0:t.signal)!=null&&Ed(t.signal,"options.signal");let r=1;(t==null?void 0:t.concurrency)!=null&&(r=tce(t.concurrency));let n=r-1;return(t==null?void 0:t.highWaterMark)!=null&&(n=tce(t.highWaterMark)),ece(r,"options.concurrency",1),ece(n,"options.highWaterMark",0),n+=r,(async function*(){const s=fi.AbortSignalAny([t==null?void 0:t.signal].filter(zlt)),a=this,l=[],f={signal:s};let u,d,g=!1,h=0;function p(){g=!0,w()}function w(){h-=1,y()}function y(){d&&!g&&h<r&&l.length<n&&(d(),d=null)}async function v(){try{for await(let E of a){if(g)return;if(s.aborted)throw new aa;try{if(E=e(E,f),E===gR)continue;E=Ylt(E)}catch(x){E=nce(x)}h+=1,ice(E,w,p),l.push(E),u&&(u(),u=null),!g&&(l.length>=n||h>=r)&&await new rce(x=>{d=x})}l.push(sce)}catch(E){const x=nce(E);ice(x,w,p),l.push(x)}finally{g=!0,u&&(u(),u=null)}}v();try{for(;;){for(;l.length>0;){const E=await l[0];if(E===sce)return;if(s.aborted)throw new aa;E!==gR&&(yield E),l.shift(),y()}await new rce(E=>{u=E})}}finally{g=!0,d&&(d(),d=null)}}).call(this)}function Qlt(e=void 0){return e!=null&&Rd(e,"options"),(e==null?void 0:e.signal)!=null&&Ed(e.signal,"options.signal"),(async function*(){let r=0;for await(const o of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new aa({cause:e.signal.reason});yield[r++,o]}}).call(this)}async function ace(e,t=void 0){for await(const r of Aj.call(this,e,t))return!0;return!1}async function Zlt(e,t=void 0){if(typeof e!="function")throw new ry("fn",["Function","AsyncFunction"],e);return!await ace.call(this,async(...r)=>!await e(...r),t)}async function eut(e,t){for await(const r of Aj.call(this,e,t))return r}async function tut(e,t){if(typeof e!="function")throw new ry("fn",["Function","AsyncFunction"],e);async function r(n,o){return await e(n,o),gR}for await(const n of _R.call(this,r,t));}function Aj(e,t){if(typeof e!="function")throw new ry("fn",["Function","AsyncFunction"],e);async function r(n,o){return await e(n,o)?n:gR}return _R.call(this,r,t)}let rut=class extends Mlt{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function nut(e,t,r){var n;if(typeof e!="function")throw new ry("reducer",["Function","AsyncFunction"],e);r!=null&&Rd(r,"options"),(r==null?void 0:r.signal)!=null&&Ed(r.signal,"options.signal");let o=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){const u=new aa(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await Wlt(this.destroy(u)),u}const s=new Llt,a=s.signal;if(r!=null&&r.signal){const u={once:!0,[Flt]:this,[jlt]:!0};r.signal.addEventListener("abort",()=>s.abort(),u)}let l=!1;try{for await(const u of this){var f;if(l=!0,r!=null&&(f=r.signal)!==null&&f!==void 0&&f.aborted)throw new aa;o?t=await e(t,u,{signal:a}):(t=u,o=!0)}if(!l&&!o)throw new rut}finally{s.abort()}return t}async function iut(e){e!=null&&Rd(e,"options"),(e==null?void 0:e.signal)!=null&&Ed(e.signal,"options.signal");const t=[];for await(const n of this){var r;if(e!=null&&(r=e.signal)!==null&&r!==void 0&&r.aborted)throw new aa(void 0,{cause:e.signal.reason});Glt(t,n)}return t}function out(e,t){const r=_R.call(this,e,t);return(async function*(){for await(const o of r)yield*o}).call(this)}function lce(e){if(e=Klt(e),Jlt(e))return 0;if(e<0)throw new Plt("number",">= 0",e);return e}function sut(e,t=void 0){return t!=null&&Rd(t,"options"),(t==null?void 0:t.signal)!=null&&Ed(t.signal,"options.signal"),e=lce(e),(async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new aa;for await(const s of this){var o;if(t!=null&&(o=t.signal)!==null&&o!==void 0&&o.aborted)throw new aa;e--<=0&&(yield s)}}).call(this)}function aut(e,t=void 0){return t!=null&&Rd(t,"options"),(t==null?void 0:t.signal)!=null&&Ed(t.signal,"options.signal"),e=lce(e),(async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new aa;for await(const s of this){var o;if(t!=null&&(o=t.signal)!==null&&o!==void 0&&o.aborted)throw new aa;if(e-- >0&&(yield s),e<=0)return}}).call(this)}qF.streamReturningOperators={asIndexedPairs:Vlt(Qlt,"readable.asIndexedPairs will be removed in a future version."),drop:sut,filter:Aj,flatMap:out,map:_R,take:aut,compose:Xlt},qF.promiseReturningOperators={every:Zlt,forEach:tut,reduce:nut,toArray:iut,some:ace,find:eut};var $j,uce;function fce(){if(uce)return $j;uce=1;const{ArrayPrototypePop:e,Promise:t}=kr,{isIterable:r,isNodeStream:n,isWebStream:o}=_l,{pipelineImpl:s}=Rj,{finished:a}=qu;dce();function l(...f){return new t((u,d)=>{let g,h;const p=f[f.length-1];if(p&&typeof p=="object"&&!n(p)&&!r(p)&&!o(p)){const w=e(f);g=w.signal,h=w.end}s(f,(w,y)=>{w?d(w):u(y)},{signal:g,end:h})})}return $j={finished:a,pipeline:l},$j}var cce;function dce(){if(cce)return UF.exports;cce=1;const{Buffer:e}=Ge,{ObjectDefineProperty:t,ObjectKeys:r,ReflectApply:n}=kr,{promisify:{custom:o}}=fi,{streamReturningOperators:s,promiseReturningOperators:a}=qF,{codes:{ERR_ILLEGAL_CONSTRUCTOR:l}}=Oi,f=Zfe,{setDefaultHighWaterMark:u,getDefaultHighWaterMark:d}=uR,{pipeline:g}=Rj,{destroyer:h}=qp,p=qu,w=fce(),y=_l,v=UF.exports=oj.Stream;v.isDestroyed=y.isDestroyed,v.isDisturbed=y.isDisturbed,v.isErrored=y.isErrored,v.isReadable=y.isReadable,v.isWritable=y.isWritable,v.Readable=fR();for(const x of r(s)){let N=function(...$){if(new.target)throw l();return v.Readable.from(n(S,this,$))};const S=s[x];t(N,"name",{__proto__:null,value:S.name}),t(N,"length",{__proto__:null,value:S.length}),t(v.Readable.prototype,x,{__proto__:null,value:N,enumerable:!1,configurable:!0,writable:!0})}for(const x of r(a)){let N=function(...$){if(new.target)throw l();return n(S,this,$)};const S=a[x];t(N,"name",{__proto__:null,value:S.name}),t(N,"length",{__proto__:null,value:S.length}),t(v.Readable.prototype,x,{__proto__:null,value:N,enumerable:!1,configurable:!0,writable:!0})}v.Writable=uj(),v.Duplex=yl(),v.Transform=Bfe,v.PassThrough=qfe,v.pipeline=g;const{addAbortSignal:E}=aR;return v.addAbortSignal=E,v.finished=p,v.destroy=h,v.compose=f,v.setDefaultHighWaterMark=u,v.getDefaultHighWaterMark=d,t(v,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return w}}),t(g,o,{__proto__:null,enumerable:!0,get(){return w.pipeline}}),t(p,o,{__proto__:null,enumerable:!0,get(){return w.finished}}),v.Stream=v,v._isUint8Array=function(S){return S instanceof Uint8Array},v._uint8ArrayToBuffer=function(S){return e.from(S.buffer,S.byteOffset,S.byteLength)},UF.exports}(function(e){const t=dce(),r=fce(),n=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=n,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return r}}),e.exports.Stream=t.Stream,e.exports.default=e.exports})(Due);var lut=Due.exports;class uut{constructor(t){this.stream=t,this.array=[]}push(t){this.array.push(t)}end(){this.stream.push(this.array),this.stream.push(null)}}class fut{constructor(t){this.stream=t,this.first=!0,this.stream.push("[")}push(t){this.first?this.first=!1:this.stream.push(","),this.stream.push(JSON.stringify(t))}end(){this.stream.push("]"),this.stream.push(null)}}let cut=class ux extends lut.Readable{constructor(t,{encoding:r="object"}={}){if(super({objectMode:!0,read:()=>{}}),r==="object"&&(this.encoder=new uut(this)),r==="string"&&(this.encoder=new fut(this)),!this.encoder)throw new Error(`unknown encoding: ${r}`);t.on("data",n=>{const o={};let s=o;n.graph.termType!=="DefaultGraph"&&(o["@id"]=n.graph.value,o["@graph"]={},s=o["@graph"]),s["@id"]=ux.subjectValue(n.subject),n.predicate.value==="http://www.w3.org/1999/02/22-rdf-syntax-ns#type"?s["@type"]=ux.subjectValue(n.object):s[n.predicate.value]=ux.objectValue(n.object),this.encoder.push(o)}),t.on("end",()=>this.encoder.end()),t.on("error",n=>this.emit("error",n))}static subjectValue(t){return t.termType==="BlankNode"?"_:"+t.value:t.value}static objectValue(t){return t.termType==="NamedNode"?{"@id":t.value}:t.termType==="BlankNode"?{"@id":"_:"+t.value}:t.language?{"@language":t.language,"@value":t.value}:t.datatype&&t.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"?{"@type":t.datatype.value,"@value":t.value}:t.value}},dut=class extends Ob{constructor(t){super(cut,t)}};class hut extends dut{constructor({...t}={}){super({encoding:"string",...t})}}const put=Object.freeze(Object.defineProperty({__proto__:null,default:hut},Symbol.toStringTag,{value:"Module"})),ci=rg;let hce=class extends ci.Readable{constructor(t={}){if(super(t),t.iterator)throw new Error("readable stream iterator shortcut not yet implemented")}until(t,r){return new Promise((n,o)=>{this.on("error",s=>{o(s)}),r?this.once(t,(...s)=>{n(this,...s)}):this.once(t,n)})}bucket(t="utf8"){if(this._readableState.objectMode)return new Promise((n,o)=>{let s=[];this.pipe(new ci.Writable({write(a,l,f){s.push(a),f()},writev(a,l){s.push(...a),l()}})).on("error",a=>{o(a)}).on("finish",()=>{n(s)})});if(t==="utf8"||t==="utf-8")return new Promise((n,o)=>{let s="";this.setEncoding(t),this.pipe(new ci.Writable({decodeStrings:!1,write(a,l,f){s+=a,f()},writev(a,l){s+=a.join(""),l()}})).on("error",a=>{o(a)}).on("finish",()=>{n(s)})});if(t==="buffer")return new Promise((n,o)=>{let s=Ge.Buffer.from([]);this.pipe(new ci.Writable({decodeStrings:!0,write(a,l,f){s=Ge.Buffer.concat([s,a],s.length+a.length),f()}})).on("error",a=>{o(a)}).on("finish",()=>{n(s)})})}},but=class extends ci.Writable{until(t,r){return new Promise((n,o)=>{this.on("error",s=>{o(s)}),r?this.once(t,(...s)=>{n(this,...s)}):this.once(t,n)})}import(t){return t.on("data",r=>this.write(r)).on("end",()=>this.end()).on("error",r=>this.emit("error",r)),this}},Tj=class extends ci.Duplex{until(t,r){return new Promise((n,o)=>{this.on("error",s=>{o(s)}),r?this.once(t,(...s)=>{n(this,...s)}):this.once(t,n)})}bucket(t="utf8"){if(this._readableState.objectMode)return new Promise((n,o)=>{let s=[];this.pipe(new ci.Writable({write(a,l,f){s.push(a),f()},writev(a,l){s.push(...a),l()}})).on("error",a=>{o(a)}).on("finish",()=>{n(s)})});if(t==="utf8"||t==="utf-8")return new Promise((n,o)=>{let s="";this.setEncoding(t),this.pipe(new ci.Writable({decodeStrings:!1,write(a,l,f){s+=a,f()},writev(a,l){s+=a.join(""),l()}})).on("error",a=>{o(a)}).on("finish",()=>{n(s)})});if(t==="buffer")return new Promise((n,o)=>{let s=Ge.Buffer.from([]);this.pipe(new ci.Writable({decodeStrings:!0,write(a,l,f){s=Ge.Buffer.concat([s,a],s.length+a.length),f()}})).on("error",a=>{o(a)}).on("finish",()=>{n(s)})})}},ny=class extends ci.Transform{until(t,r){return new Promise((n,o)=>{this.on("error",s=>{o(s)}),r?this.once(t,(...s)=>{n(this,...s)}):this.once(t,n)})}bucket(t="utf8"){if(this._readableState.objectMode)return new Promise((n,o)=>{let s=[];this.pipe(new ci.Writable({write(a,l,f){s.push(a),f()},writev(a,l){s.push(...a),l()}})).on("error",a=>{o(a)}).on("finish",()=>{n(s)})});if(t==="utf8"||t==="utf-8")return new Promise((n,o)=>{let s="";this.setEncoding(t),this.pipe(new ci.Writable({decodeStrings:!1,write(a,l,f){s+=a,f()},writev(a,l){s+=a.join(""),l()}})).on("error",a=>{o(a)}).on("finish",()=>{n(s)})});if(t==="buffer")return new Promise((n,o)=>{let s=Ge.Buffer.from([]);this.pipe(new ci.Writable({decodeStrings:!0,write(a,l,f){s=Ge.Buffer.concat([s,a],s.length+a.length),f()}})).on("error",a=>{o(a)}).on("finish",()=>{n(s)})})}import(t){return t.on("data",r=>this.write(r)).on("end",()=>this.end()).on("error",r=>this.emit("error",r)),this}demolish(t){if(this.push=r=>{if(r!==null)throw new Error("[ERR_STREAM_DESTROYED]: Cannot push after stream was destroyed")},this.emit=function(r,...n){r!=="end"&&Object.getPrototypeOf(this).emit.apply(this,[r,...n])},t)return ci.Transform.prototype.destroy.call(this,t)}};const gut=new Function("try {return this===global;}catch(e){return false;}")(),[yyt,_ut]=typeof Ot>"u"?[!0,!1]:Ot.browser?[!0,!0]:Ot.versions==="undefined"||Ot.versions.node==="undefined"?[!0,!1]:[!1,!1];(_ut||gut&&+/^v(\d+)/.exec(Ot.version)[1]<10)&&(ny.prototype.destroy=Tj.prototype.destroy=function(e,t){this._readableState.destroyed=!0,this._writableState.destroyed=!0;let r=()=>{this._writableState.emitClose&&this._readableState.emitClose&&this.emit("close")};return this._destroy(e||null,n=>{!t&&n?(Ot.nextTick(()=>{this.emit("error",n),r()}),this._writableState.errorEmitted=!0):(Ot.nextTick(r),t&&t(n))}),this},ny.prototype._destroy=Tj.prototype._destroy=(e,t)=>t(e));class yR extends ny{constructor(t={}){super({...t,writableObjectMode:!0,readableObjectMode:!0}),this._as_inputs=new Set,this.on("pipe",r=>{this._as_inputs.add(r),r.on("prefix",(...n)=>{this.emit("prefix",...n)}).on("comment",(...n)=>{this.emit("comment",...n)})}),this.on("unpipe",r=>{this._as_inputs.delete(r)})}_destroy(){for(let t of this._as_inputs)t.destroy()}}class yut extends yR{_transform(t,r,n){n(null,JSON.stringify(t.isolate())+`
`)}}class wut extends yR{_transform(t,r,n){n(null,{type:"quad",value:t})}}ny.QuadsToOther=yR;var Ij={...ci,Readable:hce,Writable:but,Duplex:Tj,Transform:ny,QuadsToOther:yR,quads_to_json(){return new yut},quads_to_writable(){return new wut},source(e,t=null){return!t&&typeof e=="string"&&(t="utf8"),new hce({objectMode:!t&&typeof e!="string"&&!Ge.Buffer.isBuffer(e),read(){this.push(e,t),this.push(null)}})}};if(typeof queueMicrotask!="function"){let e=Promise.resolve();try{queueMicrotask=t=>e.then(t).catch(r=>setTimeout(()=>{throw r},0))}catch{}}const Nj=du,mut=Ij,vut=32768;let kj=class rf extends mut.Transform{static _flush_buffer(t){t._s_push&&(t.push(t._s_push),t._s_push="")}constructor(t={}){super({writableObjectMode:!0,readableObjectMode:!1});let{prefixes:r={}}=t;this._s_push="",this._n_max_buffer=t.max_buffer||t.maxBuffer||vut,this._h_prefixes=Nj.cache_prefixes(r||{}),this.on("pipe",n=>{n.on("prefix",(o,s)=>{this.write({type:"prefixes",value:{[o]:s}})}),n.on("comment",o=>{this.write({type:"comment",value:o})})}),t.close&&this.once("close",t.close),t.drain&&this.on("drain",t.drain),t.error&&this.on("error",t.error),t.finish&&this.once("finish",t.finish),t.data&&this.on("data",t.data),t.end&&this.once("end",t.end),t.warning&&this.on("warning",t.warning)}_serialize_hash_comment(t){return"# "+t.replace(/\n/g,`
# `)+`
`}_serialize_newlines(t=1){return`
`.repeat(t)}_serialize_c4r(t){let r=this._h_prefixes,n=[],o="";for(let s in t)s!=="*"&&n.push(s),o+=this._serialize_c3r(t[s]);if(n.length){let s=`Destination format does not support quads; an implicit union into the default graph was performed on the quads contained in graphs: ${n.map(a=>Nj.c1(a,r).verbose()).join(", ")}`;this.emit("warning",s)||console.warn(s)}return o}_serialize_c3(){throw new Error(`Write event type 'c3' not supported by ${this.constructor.name}`)}_serialize_c4(){throw new Error(`Write event type 'c4' not supported by ${this.constructor.name}`)}_serialize_c3r(){throw new Error(`Write event type 'c3r' should have been implemented by subclass ${this.constructor.name}`)}_serialize_quad(){throw new Error(`Write event type 'quad' should have been implemented by subclass ${this.constructor.name}`)}_serialize_comment(){}_update_prefixes(t,r=!1){let n={...this._h_prefixes,...t};this._h_prefixes=Nj.cachePrefixes(n||{},r)}_transform(t,r,n){let o;try{o=this.serialize(t)}catch(s){return n(s),s}if(o)rf._flush_buffer(this),this.push(o);else{let s=this._s_push.length;s>this._n_max_buffer?rf._flush_buffer(this):s&&queueMicrotask(()=>rf._flush_buffer(this))}n()}_queue(t){this._s_push+=t,this._s_push.length>this._n_max_buffer?rf._flush_buffer(this):queueMicrotask(()=>rf._flush_buffer(this))}serialize(t){switch(t.type){case void 0:return this._serialize_quad(t);case"c3r":return this._serialize_c3r(t.value);case"c4r":return this._serialize_c4r(t.value);case"array":{let r="";for(let n of t.value){let o=this.serialize(n);o?r+=o:this._s_push&&(r+=this._s_push,this._s_push="")}return r}case"quad":return this._serialize_quad(t.value);case"c3":return this._serialize_c3(t.value);case"c4":return this._serialize_c4(t.value);case"prefixes":return this._serialize_prefixes(t.value);case"comment":return this._serialize_comment(t.value);case"newline":case"newlines":return this._serialize_newlines(t.value);default:throw new Error(`no such writable data event type for RDF stream: '${t.type}'`)}}rinse(){this._reset(),rf._flush_buffer(this)}_flush(){rf._flush_buffer(this),this.push(null)}};Object.assign(kj.prototype,{isGraphyWritable:!0,_serialize_prefixes:kj.prototype._update_prefixes});var pce=kj;const Cj=du,Sut=pce,Eut=/^`\[[^\]]+\](.*)$/,Rut=new Map([[Date,e=>Cj.dateTime(e)],[Number,e=>Cj.number(e)]]);var bce=class extends Sut{constructor(t={}){super(t);let{lists:r=null}=t,n=Rut;if(t.coercions){n=new Map(n);for(let[s,a]of t.coercions)n.set(s,a)}let o={first:">http://www.w3.org/1999/02/22-rdf-syntax-ns#first",rest:">http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",nil:">http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"};if(r){let{first:s=null,rest:a=null,nil:l=null}=r;s&&(o.first=s),a&&(o.rest=a),l&&(o.nil=l)}Object.assign(this,{_xc_state:0,_hm_coercions:n,_g_lists:o})}_serialize_comment(t,r){let n="";if(this._xc_state!==2&&(n+=`
`,this._xc_state=2),r&&r.width){let o=r.width,s=[];for(;t.length>o;){let a=t.slice(0,o+1),l=/^(.*[^\s])\s+/.exec(a);if(l){let f=l[1];s.push(f),t=t.slice(f.length).replace(/^\s+/,"")}else s.push(t.slice(0,o)),t=t.slice(o)}t=s.join(`
`)}return n+(super._serialize_comment(t)||"")}_transcode_list(t,r=this._g_lists){if(t.length){let n=t[0],o=n;return Array.isArray(n)&&(o=this._transcode_list(n,r)),{[r.first]:o,[r.rest]:t.length===1?r.nil:this._transcode_list(t.slice(1),r)}}else return r.nil}_apply_directive(t,r){let n=Eut.exec(t);if(!n)throw new Error(`Invalid writable data event directive string: "${t}"`);let o;try{o=JSON.parse(n[1])}catch{throw new Error(`Unable to parse JSON in writable data event directive: "${n[1]}"`)}let s=o.type;switch(s){case"comment":{if(this._serialize_comment)return{write:this._serialize_comment(r+"",o)};break}case"newlines":{if(this._serialize_newlines)return{write:this._serialize_newlines(r)};break}case"config":switch(o.value){case"lists":{let a=this._a_list_serializers;a.push(this._serialize_list_object);let l=this._g_lists,f={first:r.first||l.first,rest:r.rest||l.rest,nil:r.nil||l.nil};return this._serialize_list_object=function(u,d){let g=this._transcode_list(u,f);return this._encode_objects(g,d)},{exit:()=>{this._serialize_list_object=a.pop()}}}default:throw new Error(`No such config key '${o.value}'`)}default:throw new Error(`Invalid writable data event directive type: '${s}'`)}return{}}_serialize_c4(t){let r=this._h_prefixes,n=[],o="";for(let s in t)s!=="*"&&n.push(s),o+=this._serialize_c3(t[s]);if(n.length){let s=`Destination format does not support quads; an implicit union into the default graph was performed on the quads contained in graphs: ${n.map(a=>Cj.c1(a,r).verbose()).join(", ")}`;this.emit("warning",s)||console.warn(s)}return o}};if(typeof queueMicrotask!="function"){let e=Promise.resolve();try{queueMicrotask=t=>e.then(t).catch(r=>setTimeout(()=>{throw r},0))}catch{}}const os=du,gce=bce,_ce=/^([A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u{02ff}\u{0370}-\u{037d}\u{037f}-\u{1fff}\u{200c}-\u{200d}\u{2070}-\u{218f}\u{2c00}-\u{2fef}\u{3001}-\u{d7ff}\u{f900}-\u{fdcf}\u{fdf0}-\u{fffd}\u{10000}-\u{effff}]([A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u{02ff}\u{0370}-\u{037d}\u{037f}-\u{1fff}\u{200c}-\u{200d}\u{2070}-\u{218f}\u{2c00}-\u{2fef}\u{3001}-\u{d7ff}\u{f900}-\u{fdcf}\u{fdf0}-\u{fffd}\u{10000}-\u{effff}_\-0-9\xb7\u{0300}-\u{036f}\u{203f}-\u{2040}.]*[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u{02ff}\u{0370}-\u{037d}\u{037f}-\u{1fff}\u{200c}-\u{200d}\u{2070}-\u{218f}\u{2c00}-\u{2fef}\u{3001}-\u{d7ff}\u{f900}-\u{fdcf}\u{fdf0}-\u{fffd}\u{10000}-\u{effff}_\-0-9\xb7\u{0300}-\u{036f}\u{203f}-\u{2040}])?)?$/u,iy=1,yce=2,wce=4;class oy extends gce{constructor(t={}){super(t);let{prefixes:r={},lists:n=null,debug:o=!1,style:s=null}=t;if(Object.assign(this,{_b_debug:o,_s_indent:"	",_b_simplify_default_graph:!1,_xc_directives:0,_s_token_prefix:"@prefix"}),s){s.indent&&(this._s_indent=s.indent.replace(/[^\s]/g,""));let u=s.directives||s.directives;if(u)switch(u){case"sparql":{this._xc_directives=iy,this._s_token_prefix="prefix";break}case"Sparql":{this._xc_directives=iy|yce,this._s_token_prefix="Prefix";break}case"SPARQL":{this._xc_directives=iy|wce,this._s_token_prefix="PREFIX";break}case"turtle":break;case"Turtle":{this._xc_directives=yce,this._s_token_prefix="@Prefix";break}case"TURTLE":{this._xc_directives=wce,this._s_token_prefix="@PREFIX";break}default:throw new Error(`Value not understood for 'directives' option: ${u}`)}}n&&(this._serialize_list_object=function(u,d){let g=this._transcode_list(u);return this._encode_objects(g,d)});let a=this._s_token_prefix,l=this._xc_directives&iy?`
`:` .
`,f="";try{for(let u in r){if(!_ce.test(u))throw new Error(`Invlalid prefix id for text/turtle RDF serialization format: '${u}'`);f+=`${a} ${u}: ${os.namedNode(r[u]).verbose()}${l}`}}catch(u){queueMicrotask(()=>{this.emit("error",u)})}f&&this.push(f)}_serialize_prefixes(t){let r=this._xc_state===2?`

`:"";this._xc_state=0,this._h_prefixes={...this._h_prefixes};let n=this._s_token_prefix,o=this._xc_directives&iy?`
`:` .
`;for(let s in t){if(!_ce.test(s))throw new Error(`Invlalid prefix id for text/turtle RDF serialization format: '${s}'`);r+=`${n} ${s}: ${os.namedNode(t[s]).verbose()}${o}`,this._h_prefixes[s]=t[s]}return os.cache_prefixes(this._h_prefixes),r}_serialize_c3(t){let{_h_prefixes:r,_s_indent:n}=this,o=this._xc_state!==2?`
`:"";this._xc_state=2;let s="",a=null;for(let l in t){if(l[0]==="`"){let y=this._apply_directive(l,t[l]);y.write&&(o+=s+y.write,s=""),y.exit&&(a=y.exit);continue}let f=o.length;o+=s+os.c1_node(l,r).terse(r)+" ";let u="",d="",g=t[l],h=o.length,p=!0,w=null;for(let y in g){if(y[0]==="`"){let N=this._apply_directive(y,g[y]);N.write&&(o+=(u?d:`
`)+n+N.write,d="",u=n),N.exit&&(w=N.exit);continue}let v=g[y],E=this._encode_objects(v);if(!E)continue;if(p=!1,y[0]==="_"&&y[1]===":")throw new Error(`Cannot use blank node in predicate position of c3 hash; subject:'${l}', predicate:'${y}'`);let x=os.c1_named_node(y,r),S=x.isRdfTypeAlias?"a":x.terse(r);o+=d+u+S+" "+E,this._xc_state=2,d=` ;
`,u=n,w&&w()}if(p){o=o.slice(0,f)+o.slice(h);continue}s=`
`,o+=`${d?" ":u}.
`,a&&a()}return o+=`
`,o}_encode_objects(t,r=1){let{_h_prefixes:n,_s_indent:o,_hm_coercions:s}=this;switch(typeof t){case"string":return os.c1(t,n).terse(n);case"number":return os.number(t).terse(n);case"boolean":return os.boolean(t).terse(n);case"object":{if(t===null)throw new Error("Refusing to serialize null value given as an object of quad");if(Array.isArray(t)||t instanceof Set){let a="",l="";for(let f of t)Array.isArray(f)?a+=l+this._serialize_list_object(f,r):a+=l+this._encode_objects(f,r),l=", ";return a}else if(Object===t.constructor){let a="[",l=!0,f=null;for(let u in t){if(l=!1,a+=`
`+o.repeat(1+r),u[0]==="`"){let d=this._apply_directive(u,t[u]);d.write&&(a+=d.write),d.exit&&(f=d.exit);continue}a+=os.c1(u,n).terse(n)+" "+this._encode_objects(t[u],r+1)+" ;"}return a+=(l?"":`
`+o.repeat(r))+"]",f&&f(),a}else{if(s.has(t.constructor))return s.get(t.constructor).apply(this,[t,r]).terse(n);if(t.isGraphyTerm)return t.terse(n);if(t.termType)return os.from.term(t).terse(n)}}default:throw new Error(`Bad type for RDF object: [${typeof t}] ${t&&t.constructor}`)}}_serialize_collection_object(t,r){let n=this._s_indent,o="(";for(let s of t){let a="";Array.isArray(s)?a=this._serialize_collection_object(s,r+1):a=this._encode_objects(s,r+1),o+=`
`+n.repeat(1+r)+a}return t.length&&(o+=`
`+n.repeat(r)),o+=")",o}_serialize_quad(t){let r=this._h_prefixes,n=os.from.quad(t);this._s_push+=(this._xc_state!==2?`
`:"")+n.subject.terse(r)+" "+n.predicate.terse(r)+" "+n.object.terse(r)+` .

`,this._xc_state=2}}Object.assign(oy.prototype,{anonymous_blank_nodes:!0,_serialize_c3r:oy.prototype._serialize_c3,_serialize_c4r:oy.prototype._serialize_c4,_serialize_comment:gce.prototype._serialize_hash_comment,_serialize_list_object:oy.prototype._serialize_collection_object});var mce=function(e){return new oy(e)};const xut=un({__proto__:null,default:zr(mce)},[mce]),vce=du,Sce=pce,{c1:Oj,namedNode:Aut,$_PREFIX_CACHE:Ece}=vce,$ut=/[&"<>']/g,Tut={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"},Iut=/^xml/i,Hu=e=>e.replace($ut,t=>Tut[t]),Nut=/([A-Za-z_][A-Za-z_.0-9-]*)$/,kut=/([A-Za-z_\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u{10000}-\u{EFFFF}][A-Za-z_.0-9\-\u00b7\u203f-\u2040\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u{10000}-\u{EFFFF}]*$)/u;function Rce(e,t,r,n){if(n.isNamedNode)r+=' rdf:resource="'+Hu(n.value)+'"/>';else if(n.isLiteral)n.isLanguaged?r+=' xml:lang="'+n.language+'"':n.isDatatyped&&(r+=' rdf:datatype="'+Hu(n.datatype.value)+'"'),r+=">"+Hu(n.value)+"</"+t+">";else if(n.isBlankNode)r+=' rdf:nodeID="'+Hu(n.value)+'"/>';else throw new Error(`Not allowed to serialize term type '${n.termType}' as object in XML serializer.`);return r}function xce(e,t){let r=e._h_prefixes,n=t.value,o,s;{let f=Nut.exec(n);if(f)o=n.slice(0,f.index),s=f[1];else if(f=kut.exec(n),f)o=n.slice(0,f.index),s=f[1];else throw new Error(`Cannot serialize predicate <${n}> into an XML qname`)}let a,l;e:for(;;){t:for(;;)if(r[Ece]){let u=r[Ece]._h_inverse;if(o in u){let d=u[o];a=(d?d+":":"")+s,l="<"+a;break e}else break}else{for(let u in r)if(r[u]===o){a=(u?u+":":"")+s,l="<"+a;break t}break}let f="__g"+e._c_prefixes_tmp++;a=f+":"+s,l="<"+a+" xmlns:"+f+'="'+o+'"';break}return[a,l]}class wR extends Sce{constructor(t={}){let r=t.prefixes;delete t.prefixes,super(t),this._b_prefixes_open=!0,this._c_prefixes_tmp=0,this._kt_subject=null;let n=`<?xml version="1.0" encoding="utf-8"?>
<rdf:RDF
	xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"`;this._update_prefixes({rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#"}),r?this.push(n+this._serialize_prefixes(r)):this.push(n)}_serialize_prefixes(t,r=!1){if(!this._b_prefixes_open)return;let n=this._h_prefixes,o="";for(let s in t){if(s in n){if(t[s]===n[s]&&!r)continue;throw new Error(`Cannot change prefixes in RDF/XML serializer. Attempted to modify '${s}' from <${n[s]}> to <${t[s]}>`)}if(Iut.test(s))throw new Error(`Cannot serialize prefix '${s}' since it is reserved under the blanket XML namespace.`);o+=`
	xmlns${s?":"+s:""}="${Aut(t[s]).value}"`}return o&&this._update_prefixes(t,!0),o}_serialize_c3r(t){let r="";this._b_prefixes_open&&(r+=">",this._b_prefixes_open=!1);let n=this._h_prefixes;this._kt_subject!==null&&(r+=`
	</rdf:Description>`,this._kt_subject=null);for(let o in t){let s="",a=Oj(o,n);if(!a.termType)continue;if(!a.isNamedNode&&!a.isBlankNode)throw new Error(`Cannot use ${a.termType} term type in subject position`);if(a.isNamedNode)s+=`

	<rdf:Description rdf:about="`+Hu(a.value)+'">';else if(a.isBlankNode)s+=`

	<rdf:Description rdf:nodeID="`+Hu(a.value)+'">';else throw new Error(`Not allowed to serialize term type '${a.termType}' as subject in XML serializer.`);let l=!1,f=t[o];for(let u in f){let d=Oj(u,n);if(!d.termType)continue;if(!d.isNamedNode)throw new Error(`Cannot use ${d.termType} term type in subject position`);let[g,h]=xce(this,d),p="";for(let w of f[u]){let y=Oj(w,n);y.termType&&(p+=`
		`+Rce(this,g,h,y))}p&&(s+=p,l=!0)}l&&(r+=s+`
	</rdf:Description>`)}return r}_serialize_quad(t){let r=vce.from.quad(t);this._b_prefixes_open&&(this._s_push+=">",this._b_prefixes_open=!1);let{subject:n,predicate:o,object:s}=r,[a,l]=xce(this,o),f=`
		`+Rce(this,a,l,s);if(n.equals(this._kt_subject))this._s_push+=f;else{if(!n.isNamedNode&&!n.isBlankNode)throw new Error(`Cannot use ${n.termType} term type in subject position`);let u;if(n.isNamedNode)u=`

	<rdf:Description rdf:about="`+Hu(n.value)+'">'+f;else if(n.isBlankNode)u=`

	<rdf:Description rdf:nodeID="`+Hu(n.value)+'">'+f;else throw new Error(`Not allowed to serialize term type '${n.termType}' as subject in XML serializer.`);this._kt_subject?this._s_push+=`
	</rdf:Description>`+u:this._s_push+=u,this._kt_subject=n}}_flush(){wR._flush_buffer(this),this._b_prefixes_open&&(this.push(">"),this._b_prefixes_open=!1),this._kt_subject?this.push(`
	</rdf:Description>
</rdf:RDF>
`):this.push(`
</rdf:RDF>
`),this.push(null)}}Object.assign(wR,{_serialize_comment:Sce.prototype._serialize_hash_comment});var Ace=function(e){return new wR(e)};const Cut=un({__proto__:null,default:zr(Ace)},[Ace]);if(typeof queueMicrotask!="function"){let e=Promise.resolve();try{queueMicrotask=t=>e.then(t).catch(r=>setTimeout(()=>{throw r},0))}catch{}}const Li=du,$ce=bce,Tce=/^([A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u{02ff}\u{0370}-\u{037d}\u{037f}-\u{1fff}\u{200c}-\u{200d}\u{2070}-\u{218f}\u{2c00}-\u{2fef}\u{3001}-\u{d7ff}\u{f900}-\u{fdcf}\u{fdf0}-\u{fffd}\u{10000}-\u{effff}]([A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u{02ff}\u{0370}-\u{037d}\u{037f}-\u{1fff}\u{200c}-\u{200d}\u{2070}-\u{218f}\u{2c00}-\u{2fef}\u{3001}-\u{d7ff}\u{f900}-\u{fdcf}\u{fdf0}-\u{fffd}\u{10000}-\u{effff}_\-0-9\xb7\u{0300}-\u{036f}\u{203f}-\u{2040}.]*[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u{02ff}\u{0370}-\u{037d}\u{037f}-\u{1fff}\u{200c}-\u{200d}\u{2070}-\u{218f}\u{2c00}-\u{2fef}\u{3001}-\u{d7ff}\u{f900}-\u{fdcf}\u{fdf0}-\u{fffd}\u{10000}-\u{effff}_\-0-9\xb7\u{0300}-\u{036f}\u{203f}-\u{2040}])?)?$/u,sy=1,Ice=2,Nce=4;class ay extends $ce{constructor(t={}){super(t);let{prefixes:r={},lists:n=null,debug:o=!1,style:s=null}=t;Object.assign(this,{_b_debug:o,_s_indent:"	",_b_simplify_default_graph:!1,_xc_directives:0,_s_token_prefix:"@prefix"});let a="";if(s){let d=s.graph_keyword||s.graphKeyword||s["graph-keyword"];if(d)if(d===!0)a="GRAPH ";else{if(typeof d!="string")throw new TypeError(`Invalid argument type given for 'graph' token: ${d}`);if(/^graph$/i.test(d))a=d+" ";else throw new Error(`Graph token must equal case-insensitive "GRAPH"; found: "${d}"`)}let g=s.simplify_default_graph||s.simplifyDefaultGraph||s["simplify-default-graph"];g&&(this._b_simplify_default_graph=!!g),s.indent&&(this._s_indent=s.indent.replace(/[^\s]/g,""));let h=s.directives||s.directives;if(h)switch(h){case"sparql":{this._xc_directives=sy,this._s_token_prefix="prefix";break}case"Sparql":{this._xc_directives=sy|Ice,this._s_token_prefix="Prefix";break}case"SPARQL":{this._xc_directives=sy|Nce,this._s_token_prefix="PREFIX";break}case"turtle":break;case"Turtle":{this._xc_directives=Ice,this._s_token_prefix="@Prefix";break}case"TURTLE":{this._xc_directives=Nce,this._s_token_prefix="@PREFIX";break}default:throw new Error(`Value not understood for 'directives' option: ${h}`)}}this._s_graph_keyword=a,n&&(this._serialize_list_object=function(d,g){let h=this._transcode_list(d);return this._encode_objects(h,g)});let l=this._s_token_prefix,f=this._xc_directives&sy?`
`:` .
`,u="";try{for(let d in r){if(!Tce.test(d))throw new Error(`Invlalid prefix id for application/trig RDF serialization format: '${d}'`);u+=`${l} ${d}: ${Li.namedNode(r[d]).verbose()}${f}`}}catch(d){queueMicrotask(()=>{this.emit("error",d)})}u&&this.push(u)}_serialize_prefixes(t){let r=this._xc_state===2?`

`:"";this._xc_state=0,this._h_prefixes={...this._h_prefixes};let n=this._s_token_prefix,o=this._xc_directives&sy?`
`:` .
`;for(let s in t){if(!Tce.test(s))throw new Error(`Invlalid prefix id for application/trig RDF serialization format: '${s}'`);r+=`${n} ${s}: ${Li.namedNode(t[s]).verbose()}${o}`,this._h_prefixes[s]=t[s]}return Li.cache_prefixes(this._h_prefixes),r}_serialize_c3(t){let{_h_prefixes:r,_s_indent:n}=this,o=this._xc_state!==2?`
`:"";this._xc_state=2;let s="",a=null;for(let l in t){if(l[0]==="`"){let y=this._apply_directive(l,t[l]);y.write&&(o+=s+y.write,s=""),y.exit&&(a=y.exit);continue}let f=o.length;o+=s+Li.c1_node(l,r).terse(r)+" ";let u="",d="",g=t[l],h=o.length,p=!0,w=null;for(let y in g){if(y[0]==="`"){let N=this._apply_directive(y,g[y]);N.write&&(o+=(u?d:`
`)+n+N.write,d="",u=n),N.exit&&(w=N.exit);continue}let v=g[y],E=this._encode_objects(v);if(!E)continue;if(p=!1,y[0]==="_"&&y[1]===":")throw new Error(`Cannot use blank node in predicate position of c3 hash; subject:'${l}', predicate:'${y}'`);let x=Li.c1_named_node(y,r),S=x.isRdfTypeAlias?"a":x.terse(r);o+=d+u+S+" "+E,this._xc_state=2,d=` ;
`,u=n,w&&w()}if(p){o=o.slice(0,f)+o.slice(h);continue}s=`
`,o+=`${d?" ":u}.
`,a&&a()}return o+=`
`,o}_serialize_c4(t){let{_h_prefixes:r,_s_indent:n}=this,o=this._xc_state!==2?`
`:"";this._xc_state=2;let s=this._b_simplify_default_graph,a=this._s_graph_keyword,l=null;for(let f in t){if(f[0]==="`"){let w=this._apply_directive(f,t[f]);w.write&&(o+=w.write),w.exit&&(l=w.exit);continue}let u=Li.c1_node(f,r).terse(r);o+=u?a+u+` {
`:s?"":a+`{
`;let d=!u&&s?"":n;this._xc_state=2;let g=t[f],h="",p=null;for(let w in g){if(w[0]==="`"){let D=this._apply_directive(w,g[w]);D.write&&(o+=h+d+D.write,h=""),D.exit&&(p=D.exit);continue}let y=o.length;o+=h+d+Li.c1_node(w,r).terse(r)+" ";let v="",E="",x=g[w],S=o.length,N=!0,$=null;for(let D in x){if(D[0]==="`"){let j=this._apply_directive(D,x[D]);j.write&&(o+=(v?E:`
`)+n+d+j.write,E="",v=n+d),j.exit&&($=j.exit);continue}let K=x[D],q=this._encode_objects(K);if(!q)continue;if(N=!1,D[0]==="_"&&D[1]===":")throw new Error(`Cannot use blank node in predicate position of c4 hash; graph:'${f}', subject:'${w}', predicate:'${D}'`);let k=Li.c1_named_node(D,r),V=k.isRdfTypeAlias?"a":k.terse(r);o+=E+v+V+" "+q,this._xc_state=2,E=` ;
`,v=n+d,$&&$()}if(N){o=o.slice(0,y)+o.slice(S);continue}h=`
`,o+=`${E?" ":v}.
`,p&&p()}o+=(u||!s?`}
`:"")+`
`,l&&l()}return o}_encode_objects(t,r=1){let{_h_prefixes:n,_s_indent:o,_hm_coercions:s}=this;switch(typeof t){case"string":return Li.c1(t,n).terse(n);case"number":return Li.number(t).terse(n);case"boolean":return Li.boolean(t).terse(n);case"object":{if(t===null)throw new Error("Refusing to serialize null value given as an object of quad");if(Array.isArray(t)||t instanceof Set){let a="",l="";for(let f of t)Array.isArray(f)?a+=l+this._serialize_list_object(f,r):a+=l+this._encode_objects(f,r),l=", ";return a}else if(Object===t.constructor){let a="[",l=!0,f=null;for(let u in t){if(l=!1,a+=`
`+o.repeat(2+r),u[0]==="`"){let d=this._apply_directive(u,t[u]);d.write&&(a+=d.write),d.exit&&(f=d.exit);continue}a+=Li.c1(u,n).terse(n)+" "+this._encode_objects(t[u],r+1)+" ;"}return a+=(l?"":`
`+o.repeat(1+r))+"]",f&&f(),a}else{if(s.has(t.constructor))return s.get(t.constructor).apply(this,[t,r]).terse(n);if(t.isGraphyTerm)return t.terse(n);if(t.termType)return Li.from.term(t).terse(n)}}default:throw new Error(`Bad type for RDF object: [${typeof t}] ${t&&t.constructor}`)}}_serialize_collection_object(t,r){let n=this._s_indent,o="(";for(let s of t){let a="";Array.isArray(s)?a=this._serialize_collection_object(s,r+1):a=this._encode_objects(s,r+1),o+=`
`+n.repeat(2+r)+a}return t.length&&(o+=`
`+n.repeat(1+r)),o+=")",o}_serialize_quad(t){let r=this._h_prefixes,n=Li.from.quad(t),o=n.graph.terse(r);this._s_push+=(this._xc_state!==2?`
`:"")+this._s_graph_keyword+(o?o+" ":"")+`{
	`+n.subject.terse(r)+" "+n.predicate.terse(r)+" "+n.object.terse(r)+` .
}

`,this._xc_state=2}}Object.assign(ay.prototype,{anonymous_blank_nodes:!0,_serialize_c3r:ay.prototype._serialize_c3,_serialize_c4r:ay.prototype._serialize_c4,_serialize_comment:$ce.prototype._serialize_hash_comment,_serialize_list_object:ay.prototype._serialize_collection_object});var kce=function(e){return new ay(e)};const Out=un({__proto__:null,default:zr(kce)},[kce]);var Lj={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,n){n(t)})(nr,function(r){function n(){for(var de=arguments.length,ee=Array(de),pe=0;pe<de;pe++)ee[pe]=arguments[pe];if(ee.length>1){ee[0]=ee[0].slice(0,-1);for(var Re=ee.length-1,me=1;me<Re;++me)ee[me]=ee[me].slice(1,-1);return ee[Re]=ee[Re].slice(1),ee.join("")}else return ee[0]}function o(de){return"(?:"+de+")"}function s(de){return de===void 0?"undefined":de===null?"null":Object.prototype.toString.call(de).split(" ").pop().split("]").shift().toLowerCase()}function a(de){return de.toUpperCase()}function l(de){return de!=null?de instanceof Array?de:typeof de.length!="number"||de.split||de.setInterval||de.call?[de]:Array.prototype.slice.call(de):[]}function f(de,ee){var pe=de;if(ee)for(var Re in ee)pe[Re]=ee[Re];return pe}function u(de){var ee="[A-Za-z]",pe="[0-9]",Re=n(pe,"[A-Fa-f]"),me=o(o("%[EFef]"+Re+"%"+Re+Re+"%"+Re+Re)+"|"+o("%[89A-Fa-f]"+Re+"%"+Re+Re)+"|"+o("%"+Re+Re)),Ve="[\\:\\/\\?\\#\\[\\]\\@]",Be="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Ye=n(Ve,Be),tt=de?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Ke=de?"[\\uE000-\\uF8FF]":"[]",ke=n(ee,pe,"[\\-\\.\\_\\~]",tt);o(ee+n(ee,pe,"[\\+\\-\\.]")+"*"),o(o(me+"|"+n(ke,Be,"[\\:]"))+"*");var Te=o(o("25[0-5]")+"|"+o("2[0-4]"+pe)+"|"+o("1"+pe+pe)+"|"+o("0?[1-9]"+pe)+"|0?0?"+pe),hr=o(Te+"\\."+Te+"\\."+Te+"\\."+Te),St=o(Re+"{1,4}"),sr=o(o(St+"\\:"+St)+"|"+hr),Dr=o(o(St+"\\:")+"{6}"+sr),ur=o("\\:\\:"+o(St+"\\:")+"{5}"+sr),fs=o(o(St)+"?\\:\\:"+o(St+"\\:")+"{4}"+sr),Y=o(o(o(St+"\\:")+"{0,1}"+St)+"?\\:\\:"+o(St+"\\:")+"{3}"+sr),fe=o(o(o(St+"\\:")+"{0,2}"+St)+"?\\:\\:"+o(St+"\\:")+"{2}"+sr),Ie=o(o(o(St+"\\:")+"{0,3}"+St)+"?\\:\\:"+St+"\\:"+sr),De=o(o(o(St+"\\:")+"{0,4}"+St)+"?\\:\\:"+sr),at=o(o(o(St+"\\:")+"{0,5}"+St)+"?\\:\\:"+St),xt=o(o(o(St+"\\:")+"{0,6}"+St)+"?\\:\\:"),Pt=o([Dr,ur,fs,Y,fe,Ie,De,at,xt].join("|")),pr=o(o(ke+"|"+me)+"+");o("[vV]"+Re+"+\\."+n(ke,Be,"[\\:]")+"+"),o(o(me+"|"+n(ke,Be))+"*");var Vn=o(me+"|"+n(ke,Be,"[\\:\\@]"));return o(o(me+"|"+n(ke,Be,"[\\@]"))+"+"),o(o(Vn+"|"+n("[\\/\\?]",Ke))+"*"),{NOT_SCHEME:new RegExp(n("[^]",ee,pe,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",ke,Be),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",ke,Be),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",ke,Be),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",ke,Be),"g"),NOT_QUERY:new RegExp(n("[^\\%]",ke,Be,"[\\:\\@\\/\\?]",Ke),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",ke,Be,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",ke,Be),"g"),UNRESERVED:new RegExp(ke,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",ke,Ye),"g"),PCT_ENCODED:new RegExp(me,"g"),IPV4ADDRESS:new RegExp("^("+hr+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Pt+")"+o(o("\\%25|\\%(?!"+Re+"{2})")+"("+pr+")")+"?\\]?$")}}var d=u(!1),g=u(!0),h=function(){function de(ee,pe){var Re=[],me=!0,Ve=!1,Be=void 0;try{for(var Ye=ee[Symbol.iterator](),tt;!(me=(tt=Ye.next()).done)&&(Re.push(tt.value),!(pe&&Re.length===pe));me=!0);}catch(Ke){Ve=!0,Be=Ke}finally{try{!me&&Ye.return&&Ye.return()}finally{if(Ve)throw Be}}return Re}return function(ee,pe){if(Array.isArray(ee))return ee;if(Symbol.iterator in Object(ee))return de(ee,pe);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(de){if(Array.isArray(de)){for(var ee=0,pe=Array(de.length);ee<de.length;ee++)pe[ee]=de[ee];return pe}else return Array.from(de)},w=2147483647,y=36,v=1,E=26,x=38,S=700,N=72,$=128,D="-",K=/^xn--/,q=/[^\0-\x7E]/,k=/[\x2E\u3002\uFF0E\uFF61]/g,V={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},j=y-v,B=Math.floor,A=String.fromCharCode;function U(de){throw new RangeError(V[de])}function G(de,ee){for(var pe=[],Re=de.length;Re--;)pe[Re]=ee(de[Re]);return pe}function H(de,ee){var pe=de.split("@"),Re="";pe.length>1&&(Re=pe[0]+"@",de=pe[1]),de=de.replace(k,".");var me=de.split("."),Ve=G(me,ee).join(".");return Re+Ve}function Q(de){for(var ee=[],pe=0,Re=de.length;pe<Re;){var me=de.charCodeAt(pe++);if(me>=55296&&me<=56319&&pe<Re){var Ve=de.charCodeAt(pe++);(Ve&64512)==56320?ee.push(((me&1023)<<10)+(Ve&1023)+65536):(ee.push(me),pe--)}else ee.push(me)}return ee}var ne=function(ee){return String.fromCodePoint.apply(String,p(ee))},se=function(ee){return ee-48<10?ee-22:ee-65<26?ee-65:ee-97<26?ee-97:y},ae=function(ee,pe){return ee+22+75*(ee<26)-((pe!=0)<<5)},Z=function(ee,pe,Re){var me=0;for(ee=Re?B(ee/S):ee>>1,ee+=B(ee/pe);ee>j*E>>1;me+=y)ee=B(ee/j);return B(me+(j+1)*ee/(ee+x))},ge=function(ee){var pe=[],Re=ee.length,me=0,Ve=$,Be=N,Ye=ee.lastIndexOf(D);Ye<0&&(Ye=0);for(var tt=0;tt<Ye;++tt)ee.charCodeAt(tt)>=128&&U("not-basic"),pe.push(ee.charCodeAt(tt));for(var Ke=Ye>0?Ye+1:0;Ke<Re;){for(var ke=me,Te=1,hr=y;;hr+=y){Ke>=Re&&U("invalid-input");var St=se(ee.charCodeAt(Ke++));(St>=y||St>B((w-me)/Te))&&U("overflow"),me+=St*Te;var sr=hr<=Be?v:hr>=Be+E?E:hr-Be;if(St<sr)break;var Dr=y-sr;Te>B(w/Dr)&&U("overflow"),Te*=Dr}var ur=pe.length+1;Be=Z(me-ke,ur,ke==0),B(me/ur)>w-Ve&&U("overflow"),Ve+=B(me/ur),me%=ur,pe.splice(me++,0,Ve)}return String.fromCodePoint.apply(String,pe)},W=function(ee){var pe=[];ee=Q(ee);var Re=ee.length,me=$,Ve=0,Be=N,Ye=!0,tt=!1,Ke=void 0;try{for(var ke=ee[Symbol.iterator](),Te;!(Ye=(Te=ke.next()).done);Ye=!0){var hr=Te.value;hr<128&&pe.push(A(hr))}}catch(Ay){tt=!0,Ke=Ay}finally{try{!Ye&&ke.return&&ke.return()}finally{if(tt)throw Ke}}var St=pe.length,sr=St;for(St&&pe.push(D);sr<Re;){var Dr=w,ur=!0,fs=!1,Y=void 0;try{for(var fe=ee[Symbol.iterator](),Ie;!(ur=(Ie=fe.next()).done);ur=!0){var De=Ie.value;De>=me&&De<Dr&&(Dr=De)}}catch(Ay){fs=!0,Y=Ay}finally{try{!ur&&fe.return&&fe.return()}finally{if(fs)throw Y}}var at=sr+1;Dr-me>B((w-Ve)/at)&&U("overflow"),Ve+=(Dr-me)*at,me=Dr;var xt=!0,Pt=!1,pr=void 0;try{for(var Vn=ee[Symbol.iterator](),ox;!(xt=(ox=Vn.next()).done);xt=!0){var jpe=ox.value;if(jpe<me&&++Ve>w&&U("overflow"),jpe==me){for(var sx=Ve,ax=y;;ax+=y){var lx=ax<=Be?v:ax>=Be+E?E:ax-Be;if(sx<lx)break;var Wpe=sx-lx,Bpe=y-lx;pe.push(A(ae(lx+Wpe%Bpe,0))),sx=B(Wpe/Bpe)}pe.push(A(ae(sx,0))),Be=Z(Ve,at,sr==St),Ve=0,++sr}}}catch(Ay){Pt=!0,pr=Ay}finally{try{!xt&&Vn.return&&Vn.return()}finally{if(Pt)throw pr}}++Ve,++me}return pe.join("")},ue=function(ee){return H(ee,function(pe){return K.test(pe)?ge(pe.slice(4).toLowerCase()):pe})},xe=function(ee){return H(ee,function(pe){return q.test(pe)?"xn--"+W(pe):pe})},he={version:"2.1.0",ucs2:{decode:Q,encode:ne},decode:ge,encode:W,toASCII:xe,toUnicode:ue},le={};function _e(de){var ee=de.charCodeAt(0),pe=void 0;return ee<16?pe="%0"+ee.toString(16).toUpperCase():ee<128?pe="%"+ee.toString(16).toUpperCase():ee<2048?pe="%"+(ee>>6|192).toString(16).toUpperCase()+"%"+(ee&63|128).toString(16).toUpperCase():pe="%"+(ee>>12|224).toString(16).toUpperCase()+"%"+(ee>>6&63|128).toString(16).toUpperCase()+"%"+(ee&63|128).toString(16).toUpperCase(),pe}function Ae(de){for(var ee="",pe=0,Re=de.length;pe<Re;){var me=parseInt(de.substr(pe+1,2),16);if(me<128)ee+=String.fromCharCode(me),pe+=3;else if(me>=194&&me<224){if(Re-pe>=6){var Ve=parseInt(de.substr(pe+4,2),16);ee+=String.fromCharCode((me&31)<<6|Ve&63)}else ee+=de.substr(pe,6);pe+=6}else if(me>=224){if(Re-pe>=9){var Be=parseInt(de.substr(pe+4,2),16),Ye=parseInt(de.substr(pe+7,2),16);ee+=String.fromCharCode((me&15)<<12|(Be&63)<<6|Ye&63)}else ee+=de.substr(pe,9);pe+=9}else ee+=de.substr(pe,3),pe+=3}return ee}function We(de,ee){function pe(Re){var me=Ae(Re);return me.match(ee.UNRESERVED)?me:Re}return de.scheme&&(de.scheme=String(de.scheme).replace(ee.PCT_ENCODED,pe).toLowerCase().replace(ee.NOT_SCHEME,"")),de.userinfo!==void 0&&(de.userinfo=String(de.userinfo).replace(ee.PCT_ENCODED,pe).replace(ee.NOT_USERINFO,_e).replace(ee.PCT_ENCODED,a)),de.host!==void 0&&(de.host=String(de.host).replace(ee.PCT_ENCODED,pe).toLowerCase().replace(ee.NOT_HOST,_e).replace(ee.PCT_ENCODED,a)),de.path!==void 0&&(de.path=String(de.path).replace(ee.PCT_ENCODED,pe).replace(de.scheme?ee.NOT_PATH:ee.NOT_PATH_NOSCHEME,_e).replace(ee.PCT_ENCODED,a)),de.query!==void 0&&(de.query=String(de.query).replace(ee.PCT_ENCODED,pe).replace(ee.NOT_QUERY,_e).replace(ee.PCT_ENCODED,a)),de.fragment!==void 0&&(de.fragment=String(de.fragment).replace(ee.PCT_ENCODED,pe).replace(ee.NOT_FRAGMENT,_e).replace(ee.PCT_ENCODED,a)),de}function ie(de){return de.replace(/^0*(.*)/,"$1")||"0"}function te(de,ee){var pe=de.match(ee.IPV4ADDRESS)||[],Re=h(pe,2),me=Re[1];return me?me.split(".").map(ie).join("."):de}function _(de,ee){var pe=de.match(ee.IPV6ADDRESS)||[],Re=h(pe,3),me=Re[1],Ve=Re[2];if(me){for(var Be=me.toLowerCase().split("::").reverse(),Ye=h(Be,2),tt=Ye[0],Ke=Ye[1],ke=Ke?Ke.split(":").map(ie):[],Te=tt.split(":").map(ie),hr=ee.IPV4ADDRESS.test(Te[Te.length-1]),St=hr?7:8,sr=Te.length-St,Dr=Array(St),ur=0;ur<St;++ur)Dr[ur]=ke[ur]||Te[sr+ur]||"";hr&&(Dr[St-1]=te(Dr[St-1],ee));var fs=Dr.reduce(function(at,xt,Pt){if(!xt||xt==="0"){var pr=at[at.length-1];pr&&pr.index+pr.length===Pt?pr.length++:at.push({index:Pt,length:1})}return at},[]),Y=fs.sort(function(at,xt){return xt.length-at.length})[0],fe=void 0;if(Y&&Y.length>1){var Ie=Dr.slice(0,Y.index),De=Dr.slice(Y.index+Y.length);fe=Ie.join(":")+"::"+De.join(":")}else fe=Dr.join(":");return Ve&&(fe+="%"+Ve),fe}else return de}var m=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,R="".match(/(){0}/)[1]===void 0;function O(de){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},pe={},Re=ee.iri!==!1?g:d;ee.reference==="suffix"&&(de=(ee.scheme?ee.scheme+":":"")+"//"+de);var me=de.match(m);if(me){R?(pe.scheme=me[1],pe.userinfo=me[3],pe.host=me[4],pe.port=parseInt(me[5],10),pe.path=me[6]||"",pe.query=me[7],pe.fragment=me[8],isNaN(pe.port)&&(pe.port=me[5])):(pe.scheme=me[1]||void 0,pe.userinfo=de.indexOf("@")!==-1?me[3]:void 0,pe.host=de.indexOf("//")!==-1?me[4]:void 0,pe.port=parseInt(me[5],10),pe.path=me[6]||"",pe.query=de.indexOf("?")!==-1?me[7]:void 0,pe.fragment=de.indexOf("#")!==-1?me[8]:void 0,isNaN(pe.port)&&(pe.port=de.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?me[4]:void 0)),pe.host&&(pe.host=_(te(pe.host,Re),Re)),pe.scheme===void 0&&pe.userinfo===void 0&&pe.host===void 0&&pe.port===void 0&&!pe.path&&pe.query===void 0?pe.reference="same-document":pe.scheme===void 0?pe.reference="relative":pe.fragment===void 0?pe.reference="absolute":pe.reference="uri",ee.reference&&ee.reference!=="suffix"&&ee.reference!==pe.reference&&(pe.error=pe.error||"URI is not a "+ee.reference+" reference.");var Ve=le[(ee.scheme||pe.scheme||"").toLowerCase()];if(!ee.unicodeSupport&&(!Ve||!Ve.unicodeSupport)){if(pe.host&&(ee.domainHost||Ve&&Ve.domainHost))try{pe.host=he.toASCII(pe.host.replace(Re.PCT_ENCODED,Ae).toLowerCase())}catch(Be){pe.error=pe.error||"Host's domain name can not be converted to ASCII via punycode: "+Be}We(pe,d)}else We(pe,Re);Ve&&Ve.parse&&Ve.parse(pe,ee)}else pe.error=pe.error||"URI can not be parsed.";return pe}function C(de,ee){var pe=ee.iri!==!1?g:d,Re=[];return de.userinfo!==void 0&&(Re.push(de.userinfo),Re.push("@")),de.host!==void 0&&Re.push(_(te(String(de.host),pe),pe).replace(pe.IPV6ADDRESS,function(me,Ve,Be){return"["+Ve+(Be?"%25"+Be:"")+"]"})),(typeof de.port=="number"||typeof de.port=="string")&&(Re.push(":"),Re.push(String(de.port))),Re.length?Re.join(""):void 0}var X=/^\.\.?\//,re=/^\/\.(\/|$)/,J=/^\/\.\.(\/|$)/,ye=/^\/?(?:.|\n)*?(?=\/|$)/;function F(de){for(var ee=[];de.length;)if(de.match(X))de=de.replace(X,"");else if(de.match(re))de=de.replace(re,"/");else if(de.match(J))de=de.replace(J,"/"),ee.pop();else if(de==="."||de==="..")de="";else{var pe=de.match(ye);if(pe){var Re=pe[0];de=de.slice(Re.length),ee.push(Re)}else throw new Error("Unexpected dot segment condition")}return ee.join("")}function we(de){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},pe=ee.iri?g:d,Re=[],me=le[(ee.scheme||de.scheme||"").toLowerCase()];if(me&&me.serialize&&me.serialize(de,ee),de.host&&!pe.IPV6ADDRESS.test(de.host)){if(ee.domainHost||me&&me.domainHost)try{de.host=ee.iri?he.toUnicode(de.host):he.toASCII(de.host.replace(pe.PCT_ENCODED,Ae).toLowerCase())}catch(Ye){de.error=de.error||"Host's domain name can not be converted to "+(ee.iri?"Unicode":"ASCII")+" via punycode: "+Ye}}We(de,pe),ee.reference!=="suffix"&&de.scheme&&(Re.push(de.scheme),Re.push(":"));var Ve=C(de,ee);if(Ve!==void 0&&(ee.reference!=="suffix"&&Re.push("//"),Re.push(Ve),de.path&&de.path.charAt(0)!=="/"&&Re.push("/")),de.path!==void 0){var Be=de.path;!ee.absolutePath&&(!me||!me.absolutePath)&&(Be=F(Be)),Ve===void 0&&(Be=Be.replace(/^\/\//,"/%2F")),Re.push(Be)}return de.query!==void 0&&(Re.push("?"),Re.push(de.query)),de.fragment!==void 0&&(Re.push("#"),Re.push(de.fragment)),Re.join("")}function Ce(de,ee){var pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Re=arguments[3],me={};return Re||(de=O(we(de,pe),pe),ee=O(we(ee,pe),pe)),pe=pe||{},!pe.tolerant&&ee.scheme?(me.scheme=ee.scheme,me.userinfo=ee.userinfo,me.host=ee.host,me.port=ee.port,me.path=F(ee.path||""),me.query=ee.query):(ee.userinfo!==void 0||ee.host!==void 0||ee.port!==void 0?(me.userinfo=ee.userinfo,me.host=ee.host,me.port=ee.port,me.path=F(ee.path||""),me.query=ee.query):(ee.path?(ee.path.charAt(0)==="/"?me.path=F(ee.path):((de.userinfo!==void 0||de.host!==void 0||de.port!==void 0)&&!de.path?me.path="/"+ee.path:de.path?me.path=de.path.slice(0,de.path.lastIndexOf("/")+1)+ee.path:me.path=ee.path,me.path=F(me.path)),me.query=ee.query):(me.path=de.path,ee.query!==void 0?me.query=ee.query:me.query=de.query),me.userinfo=de.userinfo,me.host=de.host,me.port=de.port),me.scheme=de.scheme),me.fragment=ee.fragment,me}function Me(de,ee,pe){var Re=f({scheme:"null"},pe);return we(Ce(O(de,Re),O(ee,Re),Re,!0),Re)}function Ue(de,ee){return typeof de=="string"?de=we(O(de,ee),ee):s(de)==="object"&&(de=O(we(de,ee),ee)),de}function z(de,ee,pe){return typeof de=="string"?de=we(O(de,pe),pe):s(de)==="object"&&(de=we(de,pe)),typeof ee=="string"?ee=we(O(ee,pe),pe):s(ee)==="object"&&(ee=we(ee,pe)),de===ee}function L(de,ee){return de&&de.toString().replace(!ee||!ee.iri?d.ESCAPE:g.ESCAPE,_e)}function M(de,ee){return de&&de.toString().replace(!ee||!ee.iri?d.PCT_ENCODED:g.PCT_ENCODED,Ae)}var oe={scheme:"http",domainHost:!0,parse:function(ee,pe){return ee.host||(ee.error=ee.error||"HTTP URIs must have a host."),ee},serialize:function(ee,pe){var Re=String(ee.scheme).toLowerCase()==="https";return(ee.port===(Re?443:80)||ee.port==="")&&(ee.port=void 0),ee.path||(ee.path="/"),ee}},ce={scheme:"https",domainHost:oe.domainHost,parse:oe.parse,serialize:oe.serialize};function Se(de){return typeof de.secure=="boolean"?de.secure:String(de.scheme).toLowerCase()==="wss"}var ve={scheme:"ws",domainHost:!0,parse:function(ee,pe){var Re=ee;return Re.secure=Se(Re),Re.resourceName=(Re.path||"/")+(Re.query?"?"+Re.query:""),Re.path=void 0,Re.query=void 0,Re},serialize:function(ee,pe){if((ee.port===(Se(ee)?443:80)||ee.port==="")&&(ee.port=void 0),typeof ee.secure=="boolean"&&(ee.scheme=ee.secure?"wss":"ws",ee.secure=void 0),ee.resourceName){var Re=ee.resourceName.split("?"),me=h(Re,2),Ve=me[0],Be=me[1];ee.path=Ve&&Ve!=="/"?Ve:void 0,ee.query=Be,ee.resourceName=void 0}return ee.fragment=void 0,ee}},ze={scheme:"wss",domainHost:ve.domainHost,parse:ve.parse,serialize:ve.serialize},dt={},et="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Xe="[0-9A-Fa-f]",rt=o(o("%[EFef]"+Xe+"%"+Xe+Xe+"%"+Xe+Xe)+"|"+o("%[89A-Fa-f]"+Xe+"%"+Xe+Xe)+"|"+o("%"+Xe+Xe)),Lt="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",vr="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Mt=n(vr,'[\\"\\\\]'),ht="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",wr=new RegExp(et,"g"),rr=new RegExp(rt,"g"),_t=new RegExp(n("[^]",Lt,"[\\.]",'[\\"]',Mt),"g"),jt=new RegExp(n("[^]",et,ht),"g"),c=jt;function b(de){var ee=Ae(de);return ee.match(wr)?ee:de}var I={scheme:"mailto",parse:function(ee,pe){var Re=ee,me=Re.to=Re.path?Re.path.split(","):[];if(Re.path=void 0,Re.query){for(var Ve=!1,Be={},Ye=Re.query.split("&"),tt=0,Ke=Ye.length;tt<Ke;++tt){var ke=Ye[tt].split("=");switch(ke[0]){case"to":for(var Te=ke[1].split(","),hr=0,St=Te.length;hr<St;++hr)me.push(Te[hr]);break;case"subject":Re.subject=M(ke[1],pe);break;case"body":Re.body=M(ke[1],pe);break;default:Ve=!0,Be[M(ke[0],pe)]=M(ke[1],pe);break}}Ve&&(Re.headers=Be)}Re.query=void 0;for(var sr=0,Dr=me.length;sr<Dr;++sr){var ur=me[sr].split("@");if(ur[0]=M(ur[0]),pe.unicodeSupport)ur[1]=M(ur[1],pe).toLowerCase();else try{ur[1]=he.toASCII(M(ur[1],pe).toLowerCase())}catch(fs){Re.error=Re.error||"Email address's domain name can not be converted to ASCII via punycode: "+fs}me[sr]=ur.join("@")}return Re},serialize:function(ee,pe){var Re=ee,me=l(ee.to);if(me){for(var Ve=0,Be=me.length;Ve<Be;++Ve){var Ye=String(me[Ve]),tt=Ye.lastIndexOf("@"),Ke=Ye.slice(0,tt).replace(rr,b).replace(rr,a).replace(_t,_e),ke=Ye.slice(tt+1);try{ke=pe.iri?he.toUnicode(ke):he.toASCII(M(ke,pe).toLowerCase())}catch(sr){Re.error=Re.error||"Email address's domain name can not be converted to "+(pe.iri?"Unicode":"ASCII")+" via punycode: "+sr}me[Ve]=Ke+"@"+ke}Re.path=me.join(",")}var Te=ee.headers=ee.headers||{};ee.subject&&(Te.subject=ee.subject),ee.body&&(Te.body=ee.body);var hr=[];for(var St in Te)Te[St]!==dt[St]&&hr.push(St.replace(rr,b).replace(rr,a).replace(jt,_e)+"="+Te[St].replace(rr,b).replace(rr,a).replace(c,_e));return hr.length&&(Re.query=hr.join("&")),Re}},T=/^([^\:]+)\:(.*)/,P={scheme:"urn",parse:function(ee,pe){var Re=ee.path&&ee.path.match(T),me=ee;if(Re){var Ve=pe.scheme||me.scheme||"urn",Be=Re[1].toLowerCase(),Ye=Re[2],tt=Ve+":"+(pe.nid||Be),Ke=le[tt];me.nid=Be,me.nss=Ye,me.path=void 0,Ke&&(me=Ke.parse(me,pe))}else me.error=me.error||"URN can not be parsed.";return me},serialize:function(ee,pe){var Re=pe.scheme||ee.scheme||"urn",me=ee.nid,Ve=Re+":"+(pe.nid||me),Be=le[Ve];Be&&(ee=Be.serialize(ee,pe));var Ye=ee,tt=ee.nss;return Ye.path=(me||pe.nid)+":"+tt,Ye}},Ee=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,$e={scheme:"urn:uuid",parse:function(ee,pe){var Re=ee;return Re.uuid=Re.nss,Re.nss=void 0,!pe.tolerant&&(!Re.uuid||!Re.uuid.match(Ee))&&(Re.error=Re.error||"UUID is not valid."),Re},serialize:function(ee,pe){var Re=ee;return Re.nss=(ee.uuid||"").toLowerCase(),Re}};le[oe.scheme]=oe,le[ce.scheme]=ce,le[ve.scheme]=ve,le[ze.scheme]=ze,le[I.scheme]=I,le[P.scheme]=P,le[$e.scheme]=$e,r.SCHEMES=le,r.pctEncChar=_e,r.pctDecChars=Ae,r.parse=O,r.removeDotSegments=F,r.serialize=we,r.resolveComponents=Ce,r.resolve=Me,r.normalize=Ue,r.equal=z,r.escapeComponent=L,r.unescapeComponent=M,Object.defineProperty(r,"__esModule",{value:!0})})})(Lj,Lj.exports);var Lut=Lj.exports;if(typeof queueMicrotask!="function"){let e=Promise.resolve();try{queueMicrotask=t=>e.then(t).catch(r=>setTimeout(()=>{throw r},0))}catch{}}const Cr=Lut,Dut=Fi(),Dj=Ij,ly=du,Mut=e=>ly.quad(e._kt_subject,e._kt_predicate,e._kt_object,e._kt_graph),Cce=/^([A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u{02ff}\u{0370}-\u{037d}\u{037f}-\u{1fff}\u{200c}-\u{200d}\u{2070}-\u{218f}\u{2c00}-\u{2fef}\u{3001}-\u{d7ff}\u{f900}-\u{fdcf}\u{fdf0}-\u{fffd}\u{10000}-\u{effff}]([A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u{02ff}\u{0370}-\u{037d}\u{037f}-\u{1fff}\u{200c}-\u{200d}\u{2070}-\u{218f}\u{2c00}-\u{2fef}\u{3001}-\u{d7ff}\u{f900}-\u{fdcf}\u{fdf0}-\u{fffd}\u{10000}-\u{effff}_\-0-9\xb7\u{0300}-\u{036f}\u{203f}-\u{2040}.]*[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u{02ff}\u{0370}-\u{037d}\u{037f}-\u{1fff}\u{200c}-\u{200d}\u{2070}-\u{218f}\u{2c00}-\u{2fef}\u{3001}-\u{d7ff}\u{f900}-\u{fdcf}\u{fdf0}-\u{fffd}\u{10000}-\u{effff}_\-0-9\xb7\u{0300}-\u{036f}\u{203f}-\u{2040}])?)?$/u,Oce=/^([A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u{02ff}\u{0370}-\u{037d}\u{037f}-\u{1fff}\u{200c}-\u{200d}\u{2070}-\u{218f}\u{2c00}-\u{2fef}\u{3001}-\u{d7ff}\u{f900}-\u{fdcf}\u{fdf0}-\u{fffd}\u{10000}-\u{effff}_:0-9]|%[A-Fa-f0-9]{2}|\\[_~.\-!$&'()*+,;=/?#@%])(([A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u{02ff}\u{0370}-\u{037d}\u{037f}-\u{1fff}\u{200c}-\u{200d}\u{2070}-\u{218f}\u{2c00}-\u{2fef}\u{3001}-\u{d7ff}\u{f900}-\u{fdcf}\u{fdf0}-\u{fffd}\u{10000}-\u{effff}_\-0-9\xb7\u{0300}-\u{036f}\u{203f}-\u{2040}.:]|%[A-Fa-f0-9]{2}|\\[_~.\-!$&'()*+,;=/?#@%])*([A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u{02ff}\u{0370}-\u{037d}\u{037f}-\u{1fff}\u{200c}-\u{200d}\u{2070}-\u{218f}\u{2c00}-\u{2fef}\u{3001}-\u{d7ff}\u{f900}-\u{fdcf}\u{fdf0}-\u{fffd}\u{10000}-\u{effff}_\-0-9\xb7\u{0300}-\u{036f}\u{203f}-\u{2040}:]|%[A-Fa-f0-9]{2}|\\[_~.\-!$&'()*+,;=/?#@%]))?$/u,Put=/^[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u{02ff}\u{0370}-\u{037d}\u{037f}-\u{1fff}\u{200c}-\u{200d}\u{2070}-\u{218f}\u{2c00}-\u{2fef}\u{3001}-\u{d7ff}\u{f900}-\u{fdcf}\u{fdf0}-\u{fffd}\u{10000}-\u{effff}_0-9]([A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u{02ff}\u{0370}-\u{037d}\u{037f}-\u{1fff}\u{200c}-\u{200d}\u{2070}-\u{218f}\u{2c00}-\u{2fef}\u{3001}-\u{d7ff}\u{f900}-\u{fdcf}\u{fdf0}-\u{fffd}\u{10000}-\u{effff}_\-0-9\xb7\u{0300}-\u{036f}\u{203f}-\u{2040}.]*[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u{02ff}\u{0370}-\u{037d}\u{037f}-\u{1fff}\u{200c}-\u{200d}\u{2070}-\u{218f}\u{2c00}-\u{2fef}\u{3001}-\u{d7ff}\u{f900}-\u{fdcf}\u{fdf0}-\u{fffd}\u{10000}-\u{effff}_\-0-9\xb7\u{0300}-\u{036f}\u{203f}-\u{2040}])?$/u,Mj=/^([^\0-\x20<>"{}|^`\\]|\\u[A-Fa-f0-9]{4}|\\U[A-Fa-f0-9]{8})*$/,Fut=/^([^\0-\x20<>"{}|^`])*$/,en=/\\u([0-9A-Fa-f]{4})|\\U([0-9A-Fa-f]{8})/g,tn=(e,t,r)=>String.fromCodePoint(parseInt(t||r,16)),Ur=Object.prototype.hasOwnProperty,Eo=/([A-Za-z][A-Za-z0-9_-]*)?:([A-Za-z_0-9:][A-Za-z0-9_:-]*)(?:\s+|(?=\.?[<[("';,)\]#{}]|\.[\s\0]))/y,Pj=/([^\s#@<[("':_{}][^\s#@<[("':{}]*)?:((?:[^\s#@<[("'.;,{})\]\\](?:[^\s#@<[("';,{})\]\\]*[^\s#@<[("'.;,{})\]\\])?)?)(?:\s+|(?=\.?[<[("';,)\]#{}]|\.[\s\0]))/y,Fj=/([^\s#@<[("':_{}][^\s#@<[("':{}]*)?:((?:(?:[^\s#@<[("'.;,{})\]\\]|\\(?:%[0-9A-Fa-f][0-9A-Fa-f]|[^\s"]))(?:(?:[^\s#@<[("';,{})\]\\]|\\(?:%[0-9A-Fa-f][0-9A-Fa-f]|[^\s"]))*(?:[^\s#@<[("'.;,{})\]\\]|\\(?:%[0-9A-Fa-f][0-9A-Fa-f]|[^\s"])))?)?)(?:\s+|(?=\.?[<[("';,)\]#{}]|\.[\s\0]))/y,Vu=/\\(.)/g,di=/_:(.(?:[^\s:<;,)\]#}]*[^\s:<.;,)\]#}])?)(?:\s+|(?=[<:{,;\])#]))/y,jj=/_:(.(?:[^\s:<;,)\]#}]*[^\s:<.;,)\]#}])?)(?:\s+|(?=\.?[<:{,;\])#])|(?=\.[\s@#<({[}]))/y,Jt=/<([^\\>]*)>\s*/y,Yt=/<([^>]*)>\s*/y,ml=/([+-]?(?:[0-9]+(\.[0-9]+)?|(\.[0-9]+))(\.?[eE][+-]?[0-9]+)?)(?:\s+|(?=\.[^eE0-9]|[;,)\]]))/y,vl=/(?:(true|TRUE)|false|FALSE)\s*/y,Wj=/a(?:\s+|(?=[[("'<#]))/y,Bj=/\^\^/y,ot=/\s*/y,Uj=/@([A-Za-z]+(?:-[A-Za-z0-9-]+)*)(?:\s+|(?=[.},;\])#]))/y,qj=/(?:(@prefix)|[pP][rR][eE][fF][iI][xX])\s*/y,Hj=/([^#:]*):\s*/iy,Vj=/(?:(@base)|[bB][aA][sS][eE])\s*/y,Gj=/(?:graph)?\s*<([^\\>]*)>\s*\{\s*/iy,zj=/(?:graph)?\s*([^\s#@<[("':_{}][^\s#@<[("':{}]*)?:((?:(?:[^\s#@<[("'.;,{})\]\\]|\\(?:%[0-9A-Fa-f][0-9A-Fa-f]|[^\s"]))(?:(?:[^\s#@<[("';,{})\]\\]|\\(?:%[0-9A-Fa-f][0-9A-Fa-f]|[^\s"]))*(?:[^\s#@<[("'.;,{})\]\\]|\\(?:%[0-9A-Fa-f][0-9A-Fa-f]|[^\s"])))?)?)\s*\{\s*/iy,Kj=/(?:graph)?\s*_:(.(?:[^\s:<;,)\]#}]*[^\s:<.;,)\]#}])?)\s*\{\s*/iy,Jj=/(?:graph)?\s*\[\s*\]\s*\{\s*/iy,Yj=/(?:graph)?\s*<([^>]*)>\s*\{\s*/iy,Xj=/graph(?:\s+|(?=[#<[{]))/iy,st=/(#[^\n]*\n\s*)+/y,Or=/^[A-Za-z][A-Za-z0-9.\-+]*:/,Qj=/^((([A-Za-z0-9.\-+]*:\/)?\/[^/>]*)?(\/(?:[^/>]*\/)*)?[^>]*)$/,Sl=/\[\s*\]\s*/y,Gp=/\[(?:\s+|(?=[^\]]))/y,zp=/\(\s*/y,Zj=/\]\s*/y,e3=/\{\s*/y,El=/\}\s*/y,t3=/\.\s*/y,r3=/[\\"\r\n]/g,n3=/[\\'\r\n]/g,Lce=/"{1,2}$/g,Dce=/'{1,2}$/g,i3=/(\\|""")/g,o3=/(\\|''')/g,Kp=(e,t,r,n,o,s)=>{if(t)switch(t){case"t":return"	";case"n":return`
`;case"r":return"\r";case"f":return"\f";case"b":return"\b";default:console.assert(`bad regex escape char mapping: '${t}'`)}else{if(r)return r;if(n)return String.fromCodePoint(parseInt(n,16));if(o)return String.fromCodePoint(parseInt(o,16));if(s)throw s[0]==="\\"?new Error(`expected string_literal but invalid escape sequence within contents: '${s}'. failed to parse a valid token`):new Error(`expected string_literal but invalid whitespace character within contents: ${JSON.stringify(s)}. failed to parse a valid token`);console.assert("unexpected no match branch in escape sequence replace callback")}},jut=/(?:\\(?:([tnrfb])|([\\"'])|u([0-9A-Fa-f]{4})|U([0-9A-Fa-f]{8}))|([\r\n]|\\.))/g,Mce=/(?:\\(?:([tnrfb])|([\\"'])|u([0-9A-Fa-f]{4})|U([0-9A-Fa-f]{8}))|([\r\n]|\\[^uU]|\\u[^]{4}|\\U[^]{8}))/g,Pce=e=>e.replace(jut,Kp),Fce=e=>{let t=Uce.exec(e);if(t){let r=t.index;return[e.slice(0,r).replace(Mce,Kp),e.slice(r)]}else return[e.replace(Mce,Kp),""]},Wut=/(?:\\(?:([tnrfb])|([\\"'])|u([0-9A-Fa-f]{4})|U([0-9A-Fa-f]{8}))|(\\.))/g,jce=/(?:\\(?:([tnrfb])|([\\"'])|u([0-9A-Fa-f]{4})|U([0-9A-Fa-f]{8}))|(\\[^uU]|\\u[^]{4}|\\U[^]{8}))/g,Wce=e=>e.replace(Wut,Kp),Bce=e=>{let t=Uce.exec(e);if(t){let r=t.index;return[e.slice(0,r).replace(jce,Kp),e.slice(r)]}else return[e.replace(jce,Kp),""]},[Uce,qce,Hce,Vce,Gce]=(()=>{function e(r){let n=RegExp.prototype.exec.call(this,r);if(n){let o=n[0].length-n[1].length;n.index+=o,n[0]=n[0].slice(o)}return n}let t=(()=>{try{new RegExp("(?<!h)i")}catch{return(n,o,s)=>(o.exec=s,o)}return r=>r()})();return[t(()=>new RegExp("(?<!(?:[^\\\\]|^)(?:\\\\\\\\)*\\\\)\\\\(|u[0-9A-Fa-f]{0,3}|U[0-9A-Fa-f]{0,7})$"),/^(?:(?:[^\\]|\\.)*)(\\(?:|u[0-9A-Fa-f]{0,3}|U[0-9A-Fa-f]{0,7}))$/,function(n){let o=RegExp.prototype.exec.call(this,n);return o&&(o.index+=o[0].length-o[1].length),o}),t(()=>new RegExp('(?<!(?:[^\\\\]|^)(?:\\\\\\\\)*\\\\)"\\s*',"g"),/(?:[^\\"]|\\.)*("\s*)/y,e),t(()=>new RegExp("(?<!(?:[^\\\\]|^)(?:\\\\\\\\)*\\\\)'\\s*","g"),/(?:[^\\']|\\.)*('\s*)/y,e),t(()=>new RegExp('(?<!(?:[^\\\\]|^)(?:\\\\\\\\)*\\\\)"""\\s*',"g"),/(?:[^\\"]|\\.|""?(?!"))*("""\s*)/y,e),t(()=>new RegExp("(?<!(?:[^\\\\]|^)(?:\\\\\\\\)*\\\\)'''\\s*","g"),/(?:[^\\']|\\.|''?(?!'))*('''\s*)/y,e)]})(),zce=(e,t)=>(Pj.lastIndex=t,[Pj.exec(e),Pj.lastIndex]),Kce=(e,t)=>(Fj.lastIndex=t,[Fj.exec(e),Fj.lastIndex]);function But(e,t,r,n){let o=Math.min(t,Math.abs(t-15)),s=e.s;return e.error(`
\`${s.substr(o,o+90).replace(/[\n\t]/g," ")}\`
 ${" ".repeat(t-o)}^
expected ${r} ${n||""}.  failed to parse a valid token starting at ${s[t]?'"'+s[t]+'"':"<<EOF>>"}`)}class Uut extends Dj.Transform{constructor(t){super({decodeStrings:!1,writableObjectMode:!1,readableObjectMode:!0,flush:t.flush,transform:t.transform})}pipe(t){let r=t;return r._writableState.objectMode?t.isGraphyWritable&&(t=Dj.quads_to_writable()):t=Dj.quads_to_json(),t!==r?(super.pipe(t),t.pipe(r)):super.pipe(r)}}let qut=class{constructor(t={}){let{input:r=null,state:n={}}=t,{blank_node_index:o=0,prefixes:s={},labels:a={}}=n,l=ly.adopt(t.dataFactory||t.data_factory||ly.unfiltered),f=l.defaultGraph();l!==ly.unfiltered&&(f=Object.create(f));let u=l.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),d=l.blankNode,g=l.namedNode;if(this.emit_data=ly.unfiltered===l?function(){p.push(Mut(this))}:function(){let w=l.quad(this._kt_subject,this._kt_predicate,this._kt_object,this._kt_graph);p.push(w)},Object.assign(this,{i:0,s:"",n:0,pre:t.prepend||"",_b_debug:t.debug||!1,_b_relax:t.relax||!1,_dc_factory:l,_f_state:this.block,_h_prefixes:s,_b_destroyed:!1,_s_base_url:"",_s_base_url_scheme:"",_s_base_url_root:"",_s_base_url_path:"",_kt_subject:null,_kt_predicate:u,_kt_object:null,_kt_graph:f,_s_literal:"",_kt_rdf_type:l.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),_kt_rdf_first:u,_kt_rdf_rest:l.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),_kt_rdf_nil:l.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"),_kt_default_graph:f,_a_nested:[],_h_labels:a,event:this.emit,data:this.emit_data,restore_data:this.emit_data,_a_queue_event:[],_b_expecting_full_stop:!1,_s_temp_prefix_id:null,_b_trim_start:!0,anonymous_blank_node:w=>d(w,!0),next_label(){let w="";do w="g"+o++;while(this._h_labels[w]);return this._h_labels[w]=2,w},eos:null,after_end_of_statement:this.post_object,_n_max_token_length:t.max_token_length||t.maxTokenLength||2048,_n_max_string_length:t.max_string_length||t.maxStringLength||1/0,_b_byte_tracking:t.byte_tracking||t.byteTracking||!1,_nb_seen:0,_nb_last:0,_nb_curr:0}),t.relaxed&&console.warn(new Error("no such option 'relaxed'; did you mean 'relax' ?").stack.replace(/^Error:/,"Warning:")),"validate"in t&&console.warn(new Error("option 'validate' has been deprecated. Validation is now enabled by default. Use the 'relax' option if you wish to disable validation.").stack.replace(/^Error:/,"Warning:")),Object.assign(this,t.relax?{blank_node(w){let y=this._h_labels[w];return y?y===1||(y===2?w=this._h_labels[w]=this.next_label():w=this._h_labels[w]):this._h_labels[w]=1,d(w)},check_named_node:g,check_named_node_escapeless:g,match_prefixed_name_escapeless:zce,match_prefixed_name:Kce}:{blank_node(w){if(!Put.test(w))return this.error(`invalid blank node label: "${w}"`);let y=this._h_labels[w];return y?y===1||(y===2?w=this._h_labels[w]=this.next_label():w=this._h_labels[w]):this._h_labels[w]=1,d(w)},check_named_node(w){return Mj.test(w)?g(w):this.error(`invalid IRI: "${w}"`)},check_named_node_escapeless(w){return Fut.test(w)?g(w):this.error(`invalid IRI: "${w}"`)},match_prefixed_name_quick(w,y){return Eo.lastIndex=y,[Eo.exec(w),Eo.lastIndex]},match_prefixed_name_escapeless(w,y){let[v,E]=zce(w,y);if(v&&!Oce.test(v[2])&&v[2]){this.error(`invalid prefixed name local name: "${v[2]}:"`);return}return[v,E]},match_prefixed_name(w,y){let[v,E]=Kce(w,y);if(v&&!Oce.test(v[2])){this.error(`invalid prefixed name local name: "${v[2]}:"`);return}return[v,E]}}),this.named_node=g,this.prefixed_name=function(w,y){return g(s[w]+y)},typeof t.base=="string")throw new TypeError(`invalid type 'string' was given for 'base' event listener: '${t.base}'
did you mean to use the 'base_uri' key instead?`);let h=t.base_uri||t.baseUri||t.baseURI||t.base_iri||t.baseIri||t.baseIRI;if(h){let w=Qj.exec(h);this._s_base_url=w[1],this._s_base_url_root=w[2]||"",this._s_base_url_scheme=w[3]||"",this._s_base_url_path=w[4]||""}else if(t.base_url||t.baseUrl||t.baseURL)throw new Error(`invalid option: .base${t.base_url?"_url":t.baseUrl?"Url":t.baseURL?"URL":""}; use the '.base_uri' key instead`);let p=this.transform=new Uut({transform:(w,y,v)=>{let E=this.s=this.pre+w;this.n=E.length,this._b_trim_start?(ot.lastIndex=0,ot.exec(E),this.i=ot.lastIndex):this.i=0,this.safe_parse(!0)&&(p.emit("progress",w.length),v())},flush:w=>{try{this.eof(1)}catch(y){this.destroy(y);return}w()}});if(p.on("pipe",w=>{this._ds_input=w;let y=this._b_byte_tracking;if(!y&&typeof w.setEncoding=="function")w.setEncoding("utf8");else{let v=p.write,E=new Dut.StringDecoder("utf8"),x=($,D,K)=>{let q=Ge.Buffer.from($,"utf8").length;return this._nb_seen+=q,this._nb_last=q,v.call(p,$,D,K)},S=($,D,K)=>{let q=this._nb_last=$.length;return this._nb_seen+=q,v.call(p,E.write($),D,K)},N=($,D,K)=>v.call(p,E.write($),D,K);p.write=function($,D,K){return $!==null?(typeof $=="string"?p.write=y?x:v:p.write=y?S:N,p.write($,D,K)):v.call(p,$,D,K)},y&&(this.emit_data=this.data=this.restore_data=function(){let $=this._dc_factory.quad(this._kt_subject,this._kt_predicate,this._kt_object,this._kt_graph),D=Ge.Buffer.from(this.s.slice(this.i)).length,K=this._nb_seen-D;$.byteRange=[this._nb_curr,K],this._nb_curr=K,this.transform.push($)})}}),p.on("newListener",w=>{w==="comment"&&(this.emit_comments=y=>{let v=y.slice(1).replace(/\n\s+$/,"").split(/\n+\s*#/g);for(let E of v)p.emit("comment",E)})}),p._destroy=(...w)=>{this.destroy(...w)},this.bind(t),r)if(r.stream){let w=r.stream;queueMicrotask(()=>{w.pipe(p)})}else if(typeof r.string=="string"){let w=r.string;queueMicrotask(()=>{p.end(w,"utf8")})}else throw new TypeError(`Invalid argument for input parameter: ${typeof r=="object"?JSON.stringify(r):r}`)}safe_parse(){try{let t=this._f_state();for(;typeof t=="function";)t=t.apply(this)}catch(t){return this.destroy(t),!1}return!0}emit(t,...r){this.transform.emit(t,...r)}queue(t,...r){this._a_queue_event.push({event:t,args:r})}error(t){throw new Error(t)}parse_error(t,r=!1){let n=this.i,o=Math.min(n,Math.abs(n-15)),s=this.s;return this.error(`
\`${s.substr(o,o+90).replace(/[\n\t]/g," ")}\`
 ${" ".repeat(n-o)}^
expected ${t} ${r?"but encountered <<EOF>>":""}.  failed to parse a valid token starting at ${s[n]?'"'+s[n]+'"':"<<EOF>>"}`)}info_error(t){let r=this.i,n=Math.min(r,Math.abs(r-15)),o=this.s;this.error(`
\`${o.substr(n,n+90).replace(/[\n\t]/g," ")}\`
 ${" ".repeat(r-n)}^
`+t)}eof(){if(this._a_queue_event.length){let r=this._a_queue_event;for(;r.length;){let n=r.shift();this[n.event](n.data)}}if(this.block!==this._f_state&&(this.s+="\0",this.n=this.s.length,this.safe_parse())){if(this.s===null)return;if(this.block!==this._f_state)return this.parse_error(this._f_state.name,!0)}if(this.i<this.n){let r=this.s,n=this.i;ot.lastIndex=n,ot.exec(r),n=ot.lastIndex,st.lastIndex=n;let o=st.exec(r);if(st.lastIndex>n&&(this.i=n=st.lastIndex,this.emit_comments&&this.emit_comments(o[0])),n<this.n&&!(n===this.n-1&&r[n]==="\0"))return this.parse_error(this._f_state.name)}this.s=null;let t=this.transform;t.emit("progress",0),t.emit("eof",this._h_prefixes),t.push(null)}bind(t){let r=this.transform;t.base&&r.on("base",t.base),t.prefix&&r.on("prefix",t.prefix),t.enter&&r.on("enter",t.enter),t.exit&&r.on("exit",t.exit),t.comment&&r.on("comment",t.comment),t.error&&r.on("error",t.error),t.read&&r.once("read",t.read),t.progress&&r.on("progress",t.progress),t.eof&&r.once("eof",t.eof),t.end&&r.once("end",t.end),t.finish&&r.once("finish",t.finish),t.data&&r.on("data",t.data)}post_blank_subject(){let{s:t,i:r}=this;return t[r]==="."?(ot.lastIndex=r+1,ot.exec(t),this.i=ot.lastIndex,this._kt_default_graph===this._kt_graph?this.block():this.statement()):(El.lastIndex=r,El.exec(t)?(this.i=El.lastIndex,this._kt_rdf_nil.equals(this._kt_subject)?this.error("empty collection"):(this.emit("exit",this._kt_graph),this._kt_graph=this._kt_default_graph,this.block())):this.pairs())}statement(){let{s:t,n:r,i:n}=this;for(;n<r;){Eo.lastIndex=n;let o=Eo.exec(t);if(o){this.i=Eo.lastIndex;let s=o[1]||"";return Ur.call(this._h_prefixes,s)?(this._kt_subject=this.prefixed_name(s,o[2]),this.pairs()):this.error(`no such prefix "${s}"`)}else{Jt.lastIndex=n;let s=Jt.exec(t);if(s){this.i=Jt.lastIndex;let a=s[1];return!this._s_base_url||Or.test(a)?this._kt_subject=this.check_named_node_escapeless(a):this._kt_subject=this.check_named_node_escapeless(Cr.resolve(this._s_base_url,a)),this.pairs()}else{let a=this.match_prefixed_name_escapeless(t,n);if(!a)return!0;let[l,f]=a;if(l){this.i=f;let u=l[1]||"";return Ur.call(this._h_prefixes,u)?(this._kt_subject=this.prefixed_name(u,l[2]),this.pairs()):this.error(`no such prefix "${u}"`)}else{di.lastIndex=n;let u=di.exec(t);if(u){this.i=di.lastIndex;let d=u[1];return this._kt_subject=this.blank_node(d),this.pairs()}else{if(Sl.lastIndex=n,Sl.exec(t))return this.i=Sl.lastIndex,this._kt_subject=this.anonymous_blank_node(this.next_label()),this.pairs();if(Gp.lastIndex=n,Gp.exec(t))return this.i=Gp.lastIndex,this._kt_subject=this.anonymous_blank_node(this.next_label()),this._a_nested.push([this._kt_subject,this._kt_predicate,"post_blank_subject"]),this.pairs();if(zp.lastIndex=n,zp.exec(t))return this.i=zp.lastIndex,this._kt_subject=null,this.collection_subject();if(El.lastIndex=n,El.exec(t))return this.i=El.lastIndex,this.emit("exit",this._kt_graph),this._kt_graph=this._kt_default_graph,this.block();{Yt.lastIndex=n;let d=Yt.exec(t);if(d){this.i=Yt.lastIndex;let g=d[1].replace(en,tn);return!this._s_base_url||Or.test(g)?this._kt_subject=this.check_named_node(g):this._kt_subject=this.check_named_node(Cr.resolve(this._s_base_url,g)),this.pairs()}else{let g=this.match_prefixed_name(t,n);if(!g)return!0;let[h,p]=g;if(h){this.i=p;let w=h[1]||"";if(!Ur.call(this._h_prefixes,w))return this.error(`no such prefix "${w}"`);let y=h[2].replace(en,tn).replace(Vu,"$1");return this._kt_subject=this.prefixed_name(w,y),this.pairs()}else{st.lastIndex=n;let w=st.exec(t);if(w){n=st.lastIndex,this.emit_comments&&this.emit_comments(w[0]);continue}else break}}}}}}}}if(this.i=n,n<this.n&&n===0&&this.n>this.max_token_length)return this.parse_error("statement");this._f_state=this.statement,this.pre=t.slice(n),this.eos&&this.eos()}block(){let{s:t,n:r,i:n}=this;for(;n<r;){Gj.lastIndex=n;let o=Gj.exec(t);if(o){this.i=Gj.lastIndex;let s=o[1];return!this._s_base_url||Or.test(s)?this._kt_graph=this.check_named_node_escapeless(s):this._kt_graph=this.check_named_node_escapeless(Cr.resolve(this._s_base_url,s)),this.emit("enter",this._kt_graph),this.statement()}else{zj.lastIndex=n;let s=zj.exec(t);if(s){this.i=zj.lastIndex;let a=s[1]||"";return Ur.call(this._h_prefixes,a)?(this._kt_graph=this.prefixed_name(a,s[2]),this.emit("enter",this._kt_graph),this.statement()):this.error(`no such prefix "${a}"`)}else{if(e3.lastIndex=n,e3.exec(t))return this.i=e3.lastIndex,this._kt_graph=this._dc_factory.defaultGraph(),this.emit("enter",this._kt_graph),this.statement();if(Jj.lastIndex=n,Jj.exec(t))return this.i=Jj.lastIndex,this._kt_graph=this.anonymous_blank_node(this.next_label()),this.emit("enter",this._kt_graph),this.statement();{Kj.lastIndex=n;let l=Kj.exec(t);if(l){this.i=Kj.lastIndex;let f=l[1];return this._kt_graph=this.blank_node(f),this.emit("enter",this._kt_graph),this.statement()}else{Jt.lastIndex=n;let f=Jt.exec(t);if(f){this.i=Jt.lastIndex;let u=f[1];return!this._s_base_url||Or.test(u)?this._kt_subject=this.check_named_node_escapeless(u):this._kt_subject=this.check_named_node_escapeless(Cr.resolve(this._s_base_url,u)),this.graph_or_subject()}else{let u=this.match_prefixed_name_escapeless(t,n);if(!u)return!0;let[d,g]=u;if(d){this.i=g;let h=d[1]||"";return Ur.call(this._h_prefixes,h)?(this._kt_subject=this.prefixed_name(h,d[2]),this.graph_or_subject()):this.error(`no such prefix "${h}"`)}else{di.lastIndex=n;let h=di.exec(t);if(h){this.i=di.lastIndex;let p=h[1];return this._kt_subject=this.blank_node(p),this.graph_or_subject()}else{if(Sl.lastIndex=n,Sl.exec(t))return this.i=Sl.lastIndex,this._kt_subject=this.anonymous_blank_node(this.next_label()),this.graph_or_subject();if(Gp.lastIndex=n,Gp.exec(t))return this.i=Gp.lastIndex,this._kt_subject=this.anonymous_blank_node(this.next_label()),this._a_nested.push([this._kt_subject,this._kt_predicate,"post_blank_subject"]),this.graph_or_subject_property_list();if(zp.lastIndex=n,zp.exec(t))return this.i=zp.lastIndex,this._kt_subject=null,this.collection_subject();{qj.lastIndex=n;let p=qj.exec(t);if(p)return this.i=qj.lastIndex,this._b_expecting_full_stop=!!p[1],this.prefix_id();{Vj.lastIndex=n;let w=Vj.exec(t);if(w)return this.i=Vj.lastIndex,this._b_expecting_full_stop=!!w[1],this.base_iri();{Yt.lastIndex=n;let y=Yt.exec(t);if(y){this.i=Yt.lastIndex;let v=y[1].replace(en,tn);return!this._s_base_url||Or.test(v)?this._kt_subject=this.check_named_node(v):this._kt_subject=this.check_named_node(Cr.resolve(this._s_base_url,v)),this.graph_or_subject()}else{let v=this.match_prefixed_name(t,n);if(!v)return!0;let[E,x]=v;if(E){this.i=x;let S=E[1]||"";if(!Ur.call(this._h_prefixes,S))return this.error(`no such prefix "${S}"`);let N=E[2].replace(en,tn).replace(Vu,"$1");return this._kt_subject=this.prefixed_name(S,N),this.graph_or_subject()}else{Yj.lastIndex=n;let S=Yj.exec(t);if(S){this.i=Yj.lastIndex;let N=S[1].replace(en,tn);return!this._s_base_url||Or.test(N)?this._kt_graph=this.check_named_node(N):this._kt_graph=this.check_named_node(Cr.resolve(this._s_base_url,N)),this.emit("enter",this._kt_graph),this.statement()}else{st.lastIndex=n;let N=st.exec(t);if(N){n=st.lastIndex,this.emit_comments&&this.emit_comments(N[0]);continue}else{if(Xj.lastIndex=n,Xj.exec(t))return this.i=Xj.lastIndex,this.graph_keyword();break}}}}}}}}}}}}}}}if(this.i=n,n<this.n&&n===0&&this.n>this.max_token_length)return this.parse_error("block");this._f_state=this.block,this.pre=t.slice(n),this.eos&&this.eos()}graph_or_subject(){let{s:t,n:r,i:n}=this;for(;n<r;){let o=t[n];if(o==="{")return ot.lastIndex=n+1,ot.exec(t),this.i=ot.lastIndex,this._kt_graph=this._kt_subject,this.emit("enter",this._kt_graph),this._kt_subject=null,this.statement();if(o!=="#")return this.pairs();{st.lastIndex=n;let s=st.exec(t);if(s){n=st.lastIndex,this.emit_comments&&this.emit_comments(s[0]);continue}else break}}if(this.i=n,n<this.n&&n===0&&this.n>this.max_token_length)return this.parse_error("graph_or_subject");this._f_state=this.graph_or_subject,this.pre=t.slice(n),this.eos&&this.eos()}graph_or_subject_property_list(){let{s:t,n:r,i:n}=this;for(;n<r;){let o=t[n];if(o==="]")return ot.lastIndex=n+1,ot.exec(t),this.i=ot.lastIndex,this.graph_or_subject_anon();if(o!=="#")return this.pairs();{st.lastIndex=n;let s=st.exec(t);if(s){n=st.lastIndex,this.emit_comments&&this.emit_comments(s[0]);continue}else break}}if(this.i=n,n<this.n&&n===0&&this.n>this.max_token_length)return this.parse_error("graph_or_subject_property_list");this._f_state=this.graph_or_subject_property_list,this.pre=t.slice(n),this.eos&&this.eos()}graph_or_subject_anon(){let{s:t,n:r,i:n}=this;for(;n<r;){let o=t[n];if(o==="{")return ot.lastIndex=n+1,ot.exec(t),this.i=ot.lastIndex,this._kt_graph=this._kt_subject,this.emit("enter",this._kt_graph),this._kt_subject=null,this._a_nested.pop(),this.statement();if(o!=="#")return this.pairs();{st.lastIndex=n;let s=st.exec(t);if(s){n=st.lastIndex,this.emit_comments&&this.emit_comments(s[0]);continue}else break}}if(this.i=n,n<this.n&&n===0&&this.n>this.max_token_length)return this.parse_error("graph_or_subject_anon");this._f_state=this.graph_or_subject_anon,this.pre=t.slice(n),this.eos&&this.eos()}graph_keyword(){let{s:t,n:r,i:n}=this;for(;n<r;){let o=this.match_prefixed_name_escapeless(t,n);if(!o)return!0;let[s,a]=o;if(s){this.i=a;let l=s[1]||"";return Ur.call(this._h_prefixes,l)?(this._kt_graph=this.prefixed_name(l,s[2]),this.graph_post_name()):this.error(`no such prefix "${l}"`)}else{Jt.lastIndex=n;let l=Jt.exec(t);if(l){this.i=Jt.lastIndex;let f=l[1];return!this._s_base_url||Or.test(f)?this._kt_graph=this.check_named_node_escapeless(f):this._kt_graph=this.check_named_node_escapeless(Cr.resolve(this._s_base_url,f)),this.graph_post_name()}else{di.lastIndex=n;let f=di.exec(t);if(f){this.i=di.lastIndex;let u=f[1];return this._kt_graph=this.blank_node(u),this.graph_post_name()}else{if(Sl.lastIndex=n,Sl.exec(t))return this.i=Sl.lastIndex,this._kt_graph=this.anonymous_blank_node(this.next_label()),this.graph_post_name();{Yt.lastIndex=n;let u=Yt.exec(t);if(u){this.i=Yt.lastIndex;let d=u[1].replace(en,tn);return!this._s_base_url||Or.test(d)?this._kt_graph=this.check_named_node(d):this._kt_graph=this.check_named_node(Cr.resolve(this._s_base_url,d)),this.graph_post_name()}else{let d=this.match_prefixed_name(t,n);if(!d)return!0;let[g,h]=d;if(g){this.i=h;let p=g[1]||"";if(!Ur.call(this._h_prefixes,p))return this.error(`no such prefix "${p}"`);let w=g[2].replace(en,tn).replace(Vu,"$1");return this._kt_graph=this.prefixed_name(p,w),this.graph_post_name()}else{st.lastIndex=n;let p=st.exec(t);if(p){n=st.lastIndex,this.emit_comments&&this.emit_comments(p[0]);continue}else break}}}}}}}if(this.i=n,n<this.n&&n===0&&this.n>this.max_token_length)return this.parse_error("graph_keyword");this._f_state=this.graph_keyword,this.pre=t.slice(n),this.eos&&this.eos()}graph_post_name(){let{s:t,n:r,i:n}=this;for(;n<r;){if(t[n]==="{")return ot.lastIndex=n+1,ot.exec(t),this.i=ot.lastIndex,this.emit("enter",this._kt_graph),this.statement();{st.lastIndex=n;let s=st.exec(t);if(s){n=st.lastIndex,this.emit_comments&&this.emit_comments(s[0]);continue}else break}}if(this.i=n,n<this.n&&n===0&&this.n>this.max_token_length)return this.parse_error("graph_post_name");this._f_state=this.graph_post_name,this.pre=t.slice(n),this.eos&&this.eos()}pairs(){let{s:t,n:r,i:n}=this;for(;n<r;){Jt.lastIndex=n;let o=Jt.exec(t);if(o){this.i=Jt.lastIndex;let s=o[1];return!this._s_base_url||Or.test(s)?this._kt_predicate=this.check_named_node_escapeless(s):this._kt_predicate=this.check_named_node_escapeless(Cr.resolve(this._s_base_url,s)),this.object_list()}else{let s=this.match_prefixed_name_escapeless(t,n);if(!s)return!0;let[a,l]=s;if(a){this.i=l;let f=a[1]||"";return Ur.call(this._h_prefixes,f)?(this._kt_predicate=this.prefixed_name(f,a[2]),this.object_list()):this.error(`no such prefix "${f}"`)}else{if(Wj.lastIndex=n,Wj.exec(t))return this.i=Wj.lastIndex,this._kt_predicate=this._kt_rdf_type,this.object_list();if(Zj.lastIndex=n,Zj.exec(t)){this.i=Zj.lastIndex;let f;return[this._kt_subject,this._kt_predicate,f]=this._a_nested.pop(),this[f]()}else{Yt.lastIndex=n;let f=Yt.exec(t);if(f){this.i=Yt.lastIndex;let u=f[1].replace(en,tn);return!this._s_base_url||Or.test(u)?this._kt_predicate=this.check_named_node(u):this._kt_predicate=this.check_named_node(Cr.resolve(this._s_base_url,u)),this.object_list()}else{let u=this.match_prefixed_name(t,n);if(!u)return!0;let[d,g]=u;if(d){this.i=g;let h=d[1]||"";if(!Ur.call(this._h_prefixes,h))return this.error(`no such prefix "${h}"`);let p=d[2].replace(en,tn).replace(Vu,"$1");return this._kt_predicate=this.prefixed_name(h,p),this.object_list()}else{st.lastIndex=n;let h=st.exec(t);if(h){n=st.lastIndex,this.emit_comments&&this.emit_comments(h[0]);continue}else break}}}}}}if(this.i=n,n<this.n&&n===0&&this.n>this.max_token_length)return this.parse_error("pairs");this._f_state=this.pairs,this.pre=t.slice(n),this.eos&&this.eos()}object_list(){let{s:t,n:r,i:n}=this;for(;n<r;){let o=t[n];if(o==='"'){if(n+2<r)return t[n+1]==='"'&&t[n+2]==='"'?(this.i=n+3,this.string_literal_long_double()):(this.i=n+1,this.string_literal_short_double());if(n+1<r&&t[n+1]!=='"')return this.i=n+1,this.string_literal_short_double();break}else{Eo.lastIndex=n;let s=Eo.exec(t);if(s){this.i=Eo.lastIndex;let a=s[1]||"";if(!Ur.call(this._h_prefixes,a))return this.error(`no such prefix "${a}"`);this._kt_object=this.prefixed_name(a,s[2])}else{Jt.lastIndex=n;let a=Jt.exec(t);if(a){this.i=Jt.lastIndex;let l=a[1];!this._s_base_url||Or.test(l)?this._kt_object=this.check_named_node_escapeless(l):this._kt_object=this.check_named_node_escapeless(Cr.resolve(this._s_base_url,l))}else{let l=this.match_prefixed_name_escapeless(t,n);if(!l)return!0;let[f,u]=l;if(f){this.i=u;let d=f[1]||"";if(!Ur.call(this._h_prefixes,d))return this.error(`no such prefix "${d}"`);this._kt_object=this.prefixed_name(d,f[2])}else if(o==="'"){if(n+2<r)return t[n+1]==="'"&&t[n+2]==="'"?(this.i=n+3,this.string_literal_long_single()):(this.i=n+1,this.string_literal_short_single());if(n+1<r&&t[n+1]!=="'")return this.i=n+1,this.string_literal_short_single();break}else{ml.lastIndex=n;let d=ml.exec(t);if(d)this.i=ml.lastIndex,d[4]?this._kt_object=this._dc_factory.double(d[1]):d[2]||d[3]?this._kt_object=this._dc_factory.decimal(d[1]):this._kt_object=this._dc_factory.integer(d[1]);else{vl.lastIndex=n;let g=vl.exec(t);if(g)this.i=vl.lastIndex,this._kt_object=this._dc_factory.boolean(!!g[1]);else if(o==="["){ot.lastIndex=n+1,ot.exec(t),this.i=ot.lastIndex;let h=this._kt_object=this.anonymous_blank_node(this.next_label());return this.data(),this._a_nested.push([this._kt_subject,this._kt_predicate,"post_object"]),this._kt_subject=h,this.pairs()}else{jj.lastIndex=n;let h=jj.exec(t);if(h){this.i=jj.lastIndex;let p=h[1];this._kt_object=this.blank_node(p)}else{if(o==="(")return ot.lastIndex=n+1,ot.exec(t),this.i=ot.lastIndex,this._a_nested.push([this._kt_subject,this._kt_predicate,"post_object"]),this.collection_object();{Yt.lastIndex=n;let p=Yt.exec(t);if(p){this.i=Yt.lastIndex;let w=p[1].replace(en,tn);!this._s_base_url||Or.test(w)?this._kt_object=this.check_named_node(w):this._kt_object=this.check_named_node(Cr.resolve(this._s_base_url,w))}else{let w=this.match_prefixed_name(t,n);if(!w)return!0;let[y,v]=w;if(y){this.i=v;let E=y[1]||"";if(!Ur.call(this._h_prefixes,E))return this.error(`no such prefix "${E}"`);let x=y[2].replace(en,tn).replace(Vu,"$1");this._kt_object=this.prefixed_name(E,x)}else{st.lastIndex=n;let E=st.exec(t);if(E){n=st.lastIndex,this.emit_comments&&this.emit_comments(E[0]);continue}else break}}}}}}}}}}return this.data(),this.after_end_of_statement}if(this.i=n,n<this.n&&n===0&&this.n>this.max_token_length)return this.parse_error("object_list");this._f_state=this.object_list,this.pre=t.slice(n),this.eos&&this.eos()}string_literal_short_double(){let{s:t,n:r,i:n}=this;e:for(;n<r;){r3.lastIndex=n;let o=r3.exec(t);if(o){this.i=r3.lastIndex;let s=o.index;switch(this._s_literal+=t.slice(n,s),t[s]){case'"':return ot.lastIndex=s+1,ot.exec(t),this.i=ot.lastIndex,this._b_trim_start=!0,this.datatype_or_langtag();case"\\":{qce.lastIndex=s;let a=qce.exec(t);if(a){let l=a.index,f=t.slice(s,l);return this._s_literal+=Pce(f),this.i=l+a[0].length,this._b_trim_start=!0,this.datatype_or_langtag()}else{let l=t.slice(s),[f,u]=Fce(l);this._s_literal+=f,n=r-u.length;break e}}case`
`:return this.info_error("expected string_literal_short_double but invalid line feed character '\\n' (newline) within contents. failed to parse a valid token");case"\r":return this.info_error("expected string_literal_short_double but invalid form feed character '\\r' (carriage return) within contents. failed to parse a valid token");default:console.assert(`Unhandle invalid character ${JSON.stringify(t[s])} case for string_literal_short_double`)}}else{this._s_literal+=n?t.slice(n):t,n=r;break}}if(this._b_trim_start=!1,this.i=n,n<this.n&&n===0&&this.n>this.max_token_length)return this.parse_error("string_literal_short_double");this._f_state=this.string_literal_short_double,this.pre=t.slice(n),this.eos&&this.eos()}string_literal_short_single(){let{s:t,n:r,i:n}=this;e:for(;n<r;){n3.lastIndex=n;let o=n3.exec(t);if(o){this.i=n3.lastIndex;let s=o.index;switch(this._s_literal+=t.slice(n,s),t[s]){case"'":return ot.lastIndex=s+1,ot.exec(t),this.i=ot.lastIndex,this._b_trim_start=!0,this.datatype_or_langtag();case"\\":{Hce.lastIndex=s;let a=Hce.exec(t);if(a){let l=a.index,f=t.slice(s,l);return this._s_literal+=Pce(f),this.i=l+a[0].length,this._b_trim_start=!0,this.datatype_or_langtag()}else{let l=t.slice(s),[f,u]=Fce(l);this._s_literal+=f,n=r-u.length;break e}}case`
`:return this.info_error("expected string_literal_short_single but invalid line feed character '\\n' (newline) within contents. failed to parse a valid token");case"\r":return this.info_error("expected string_literal_short_single but invalid form feed character '\\r' (carriage return) within contents. failed to parse a valid token");default:console.assert(`Unhandle invalid character ${JSON.stringify(t[s])} case for string_literal_short_single`)}}else{this._s_literal+=n?t.slice(n):t,n=r;break}}if(this._b_trim_start=!1,this.i=n,n<this.n&&n===0&&this.n>this.max_token_length)return this.parse_error("string_literal_short_single");this._f_state=this.string_literal_short_single,this.pre=t.slice(n),this.eos&&this.eos()}string_literal_long_double(){let{s:t,n:r,i:n}=this;e:for(;n<r;){i3.lastIndex=n;let o=i3.exec(t);if(o){this.i=i3.lastIndex;let s=o.index;switch(this._s_literal+=t.slice(n,s),t[s]){case'"':return ot.lastIndex=s+3,ot.exec(t),this.i=ot.lastIndex,this._b_trim_start=!0,this.datatype_or_langtag();case"\\":{Vce.lastIndex=s;let a=Vce.exec(t);if(a){let l=a.index,f=t.slice(s,l);return this._s_literal+=Wce(f),this.i=l+a[0].length,this._b_trim_start=!0,this.datatype_or_langtag()}else{let l=t.slice(s),[f,u]=Bce(l);this._s_literal+=f,n=r-u.length;break e}}default:console.assert(`Unhandle invalid character ${JSON.stringify(t[s])} case for string_literal_long_double`)}}else{Lce.lastIndex=n;let s=Lce.exec(t);s?(this._s_literal+=t.slice(n,s.index),n=s.index):(this._s_literal+=n?t.slice(n):t,n=r);break}}if(this._b_trim_start=!1,this.i=n,n<this.n&&n===0&&this.n>this.max_token_length)return this.parse_error("string_literal_long_double");this._f_state=this.string_literal_long_double,this.pre=t.slice(n),this.eos&&this.eos()}string_literal_long_single(){let{s:t,n:r,i:n}=this;e:for(;n<r;){o3.lastIndex=n;let o=o3.exec(t);if(o){this.i=o3.lastIndex;let s=o.index;switch(this._s_literal+=t.slice(n,s),t[s]){case"'":return ot.lastIndex=s+3,ot.exec(t),this.i=ot.lastIndex,this._b_trim_start=!0,this.datatype_or_langtag();case"\\":{Gce.lastIndex=s;let a=Gce.exec(t);if(a){let l=a.index,f=t.slice(s,l);return this._s_literal+=Wce(f),this.i=l+a[0].length,this._b_trim_start=!0,this.datatype_or_langtag()}else{let l=t.slice(s),[f,u]=Bce(l);this._s_literal+=f,n=r-u.length;break e}}default:console.assert(`Unhandle invalid character ${JSON.stringify(t[s])} case for string_literal_long_single`)}}else{Dce.lastIndex=n;let s=Dce.exec(t);s?(this._s_literal+=t.slice(n,s.index),n=s.index):(this._s_literal+=n?t.slice(n):t,n=r);break}}if(this._b_trim_start=!1,this.i=n,n<this.n&&n===0&&this.n>this.max_token_length)return this.parse_error("string_literal_long_single");this._f_state=this.string_literal_long_single,this.pre=t.slice(n),this.eos&&this.eos()}string_literal(){let{s:t,n:r,i:n}=this;for(;n<r;){let o=t[n];if(o==='"'){if(n+2<r)return t[n+1]==='"'&&t[n+2]==='"'?(this.i=n+3,this.string_literal_long_double()):(this.i=n+1,this.string_literal_short_double());if(n+1<r&&t[n+1]!=='"')return this.i=n+1,this.string_literal_short_double();break}else if(o==="'"){if(n+2<r)return t[n+1]==="'"&&t[n+2]==="'"?(this.i=n+3,this.string_literal_long_single()):(this.i=n+1,this.string_literal_short_single());if(n+1<r&&t[n+1]!=="'")return this.i=n+1,this.string_literal_short_single();break}else break}if(this.i=n,n<this.n&&n===0&&this.n>this.max_string_length)return this.parse_error("string_literal");this._f_state=this.string_literal,this.pre=t.slice(n),this.eos&&this.eos()}datatype_or_langtag(){let{s:t,n:r,i:n}=this;for(;n<r;){let o=t[n];if(o==="^"||o==="@"){if(Bj.lastIndex=n,Bj.exec(t))return this.i=Bj.lastIndex,this.datatype();{Uj.lastIndex=n;let s=Uj.exec(t);if(s)this.i=Uj.lastIndex,this._kt_object=this._dc_factory.languagedLiteral(this._s_literal,s[1]),this._s_literal="";else break}}else{st.lastIndex=n;let s=st.exec(t);if(s){n=st.lastIndex,this.emit_comments&&this.emit_comments(s[0]);continue}else this._kt_object=this._dc_factory.simpleLiteral(this._s_literal),this._s_literal=""}return this.data(),this.after_end_of_statement}if(this.i=n,n<this.n&&n===0&&this.n>this.max_token_length)return this.parse_error("datatype_or_langtag");this._f_state=this.datatype_or_langtag,this.pre=t.slice(n),this.eos&&this.eos()}datatype(){let{s:t,n:r,i:n}=this;for(;n<r;){let o=null;Eo.lastIndex=n;let s=Eo.exec(t);if(s){this.i=Eo.lastIndex;let a=s[1]||"";if(!Ur.call(this._h_prefixes,a))return this.error(`no such prefix "${a}"`);o=this.prefixed_name(a,s[2])}else{Jt.lastIndex=n;let a=Jt.exec(t);if(a){this.i=Jt.lastIndex;let l,f=a[1];!this._s_base_url||Or.test(f)?l=f:l=Cr.resolve(this._s_base_url,f),o=this.check_named_node_escapeless(l)}else{let l=this.match_prefixed_name_escapeless(t,n);if(!l)return!0;let[f,u]=l;if(f){this.i=u;let d=f[1]||"";if(!Ur.call(this._h_prefixes,d))return this.error(`no such prefix "${d}"`);o=this.prefixed_name(d,f[2])}else if(Yt.lastIndex=n,Yt.exec(t)){this.i=Yt.lastIndex;let g,h=a[1].replace(en,tn);!this._s_base_url||Or.test(h)?g=h:g=Cr.resolve(this._s_base_url,h),o=this.check_named_node(g)}else{let g=this.match_prefixed_name(t,n);if(!g)return!0;let[h,p]=g;if(h){this.i=p;let w=h[1]||"";if(!Ur.call(this._h_prefixes,w))return this.error(`no such prefix "${w}"`);let y=h[2].replace(en,tn).replace(Vu,"$1");o=this.prefixed_name(w,y)}else break}}}return this._kt_object=this._dc_factory.datatypedLiteral(this._s_literal,o),this._s_literal="",this.data(),this.after_end_of_statement}if(this.i=n,n<this.n&&n===0&&this.n>this.max_token_length)return this.parse_error("datatype");this._f_state=this.datatype,this.pre=t.slice(n),this.eos&&this.eos()}post_object(){let{s:t,n:r,i:n}=this;for(;n<r;){let o=n,s=t[n];if(ot.lastIndex=n+1,ot.exec(t),this.i=ot.lastIndex,s===",")return this.object_list();if(s===";"){for(;;){let a=t[this.i];if(a==="."||a==="]"||a===";"||a==="}")return this.post_object();if(a==="#"){n=this.i,st.lastIndex=n;let l=st.exec(t);if(l){this.i=st.lastIndex,this.emit_comments&&this.emit_comments(l[0]);continue}else break}else{if(this.i===r)break;return this.pairs()}}n=o;break}else{if(s===".")return this._a_nested.length?(this.i=n,this.parse_error("end_of_property_list")):this._kt_default_graph===this._kt_graph?this.block():this.statement();if(s==="]"){let a;return[this._kt_subject,this._kt_predicate,a]=this._a_nested.pop(),this[a]()}else{if(s===")")return But(this,n,"post_object","but encountered end of collection");if(El.lastIndex=n,El.exec(t))return this.i=El.lastIndex,this.emit("exit",this._kt_graph),this._kt_graph=this._kt_default_graph,this.block();{st.lastIndex=n;let a=st.exec(t);if(a){n=st.lastIndex,this.emit_comments&&this.emit_comments(a[0]);continue}else break}}}}if(this.i=n,n<this.n&&n===0&&this.n>this.max_token_length)return this.parse_error("post_object");this._f_state=this.post_object,this.pre=t.slice(n),this.eos&&this.eos()}base_iri(){let{s:t,n:r,i:n}=this;for(;n<r;){Jt.lastIndex=n;let o=Jt.exec(t);if(o){this.i=Jt.lastIndex;let s=o[1];!this._s_base_url||Or.test(s)?this._s_base_url=s:this._s_base_url=Cr.resolve(this._s_base_url,s);let a=Qj.exec(this._s_base_url);return this._s_base_url=a[1],this._s_base_url_root=a[2]||"",this._s_base_url_scheme=a[3]||"",this._s_base_url_path=a[4]||"",this.emit("base",this._s_base_url),this._b_expecting_full_stop?this.full_stop():this.block()}else{Yt.lastIndex=n;let s=Yt.exec(t);if(s){this.i=Yt.lastIndex;let a=s[1].replace(en,tn);!this._s_base_url||Or.test(a)?this._s_base_url=a:this._s_base_url=Cr.resolve(this._s_base_url,a);let l=Qj.exec(this._s_base_url);return this._s_base_url=l[1],this._s_base_url_root=l[2]||"",this._s_base_url_scheme=l[3]||"",this._s_base_url_path=l[4]||"",this.emit("base",this._s_base_url),this._b_expecting_full_stop?this.full_stop():this.block()}else{st.lastIndex=n;let a=st.exec(t);if(a){n=st.lastIndex,this.emit_comments&&this.emit_comments(a[0]);continue}else break}}}if(this.i=n,n<this.n&&n===0&&this.n>this.max_token_length)return this.parse_error("base_iri");this._f_state=this.base_iri,this.pre=t.slice(n),this.eos&&this.eos()}prefix_id(){let{s:t,n:r,i:n}=this;for(;n<r;){Hj.lastIndex=n;let o=Hj.exec(t);if(o)return this.i=Hj.lastIndex,this._s_temp_prefix_id=o[1],this.prefix_iri();{st.lastIndex=n;let s=st.exec(t);if(s){n=st.lastIndex,this.emit_comments&&this.emit_comments(s[0]);continue}else break}}if(this.i=n,n<this.n&&n===0&&this.n>this.max_token_length)return this.parse_error("prefix_id");this._f_state=this.prefix_id,this.pre=t.slice(n),this.eos&&this.eos()}prefix_iri(){let{s:t,n:r,i:n}=this;for(;n<r;){let o=this._h_prefixes,s=this._s_temp_prefix_id,a;Jt.lastIndex=n;let l=Jt.exec(t);if(l){this.i=Jt.lastIndex;let f=l[1];!this._s_base_url||Or.test(f)?a=f:a=Cr.resolve(this._s_base_url,f);let u=this._b_relax;if(s in o)a!==o[s]&&(this.prefix_change&&this.prefix_change(s,o[s],a),o[s]=a);else{if(!u&&!Cce.test(s))return this.error(`Invalid namespace for prefixed name: "${s}:"`);o[s]=a}return!u&&!Mj.test(a)?this.error(`Invalid IRI found in prefix delcaration: "${f}"`):(this.event("prefix",s,a),this._b_expecting_full_stop?this.full_stop():this.block())}else{Yt.lastIndex=n;let f=Yt.exec(t);if(f){this.i=Yt.lastIndex;let u=f[1].replace(en,tn);!this._s_base_url||Or.test(u)?a=u:a=Cr.resolve(this._s_base_url,u);let d=this._b_relax;if(s in o)a!==o[s]&&(this.prefix_change&&this.prefix_change(s,o[s],a),o[s]=a);else{if(!d&&!Cce.test(s))return this.error(`Invalid namespace for prefixed name: "${s}:"`);o[s]=a}return!d&&!Mj.test(a)?this.error(`Invalid IRI found in prefix delcaration: "${u}"`):(this.event("prefix",s,a),this._b_expecting_full_stop?this.full_stop():this.block())}else{st.lastIndex=n;let u=st.exec(t);if(u){n=st.lastIndex,this.emit_comments&&this.emit_comments(u[0]);continue}else break}}}if(this.i=n,n<this.n&&n===0&&this.n>this.max_token_length)return this.parse_error("prefix_iri");this._f_state=this.prefix_iri,this.pre=t.slice(n),this.eos&&this.eos()}full_stop(){let{s:t,n:r,i:n}=this;for(;n<r;){if(t3.lastIndex=n,t3.exec(t))return this.i=t3.lastIndex,this.block();{st.lastIndex=n;let o=st.exec(t);if(o){n=st.lastIndex,this.emit_comments&&this.emit_comments(o[0]);continue}else break}}if(this.i=n,n<this.n&&n===0&&this.n>this.max_token_length)return this.parse_error("full_stop");this._f_state=this.full_stop,this.pre=t.slice(n),this.eos&&this.eos()}collection_subject(){let{s:t,n:r,i:n}=this;for(;n<r;){let o=t[n];if(o===")"){if(ot.lastIndex=n+1,ot.exec(t),this.i=ot.lastIndex,this._kt_subject===null)return this._kt_subject=this._kt_rdf_nil,this.post_blank_subject();this._kt_object=this._kt_rdf_nil,this.data();let u;return[this._kt_subject,this._kt_predicate,u]=this._a_nested.pop(),this[u]()}let s,a=!1;this._kt_subject===null&&(s=this.next_label(),this._kt_subject=this.anonymous_blank_node(s),this._a_nested.push([this._kt_subject,this._kt_predicate,"pairs"]),this._kt_subject=null,a=!0),Jt.lastIndex=n;let l=Jt.exec(t);if(l){n=Jt.lastIndex;let u=l[1];!this._s_base_url||Or.test(u)?this._kt_object=this.check_named_node_escapeless(u):this._kt_object=this.check_named_node_escapeless(Cr.resolve(this._s_base_url,u))}else{let u=this.match_prefixed_name_escapeless(t,n);if(!u)return!0;let[d,g]=u;if(d){n=g;let h=d[1]||"";if(!Ur.call(this._h_prefixes,h))return this.error(`no such prefix "${h}"`);this._kt_object=this.prefixed_name(h,d[2])}else if(o==='"'||o==="'"){if(this._kt_subject===null)s=this.next_label(),this._kt_subject=this.anonymous_blank_node(s),this._kt_predicate=this._kt_rdf_first;else{s=this.next_label();let h=this._kt_object=this.anonymous_blank_node(s);this.data(),this._kt_subject=h,this._kt_predicate=this._kt_rdf_first}return this.after_end_of_statement=function(){return this._kt_predicate=this._kt_rdf_rest,this.after_end_of_statement=this.post_object,this.collection_subject()},this.string_literal()}else{ml.lastIndex=n;let h=ml.exec(t);if(h)n=ml.lastIndex,h[4]?this._kt_object=this._dc_factory.double(h[1]):h[2]||h[3]?this._kt_object=this._dc_factory.decimal(h[1]):this._kt_object=this._dc_factory.integer(h[1]);else{vl.lastIndex=n;let p=vl.exec(t);if(p)n=vl.lastIndex,this._kt_object=this._dc_factory.boolean(!!p[1]);else if(o==="["){ot.lastIndex=n+1,ot.exec(t),this.i=ot.lastIndex,s=this.next_label();let w;this._kt_subject!==null&&(w=this._kt_object=this.anonymous_blank_node(s),this.data()),this._kt_subject=w||this.anonymous_blank_node(s),this._kt_predicate=this._kt_rdf_first;let y=this.next_label();return w=this._kt_object=this.anonymous_blank_node(y),this.data(),this._kt_predicate=this._kt_rdf_rest,this._a_nested.push([this._kt_subject,this._kt_predicate,"collection_subject"]),this._kt_subject=w,this.pairs()}else if(o==="("){if(ot.lastIndex=n+1,ot.exec(t),n=ot.lastIndex,t[n]===")")return this.i=n,this._kt_subject=this._a_nested[this._a_nested.length-1][0],this._kt_predicate=this._kt_rdf_first,this._a_nested.push([this._kt_subject,this._kt_rdf_rest,"collection_subject"]),this.collection_object();s=this.next_label();let w=this._kt_object=this.anonymous_blank_node(s);this.data(),this._kt_subject=w,this._kt_predicate=this._kt_rdf_rest,this._a_nested.push([this._kt_subject,this._kt_predicate,"collection_object"]),this._kt_predicate=this._kt_rdf_first;continue}else{di.lastIndex=n;let w=di.exec(t);if(w){n=di.lastIndex;let y=w[1];this._kt_object=this.blank_node(y)}else{Yt.lastIndex=n;let y=Yt.exec(t);if(y){n=Yt.lastIndex;let v=y[1].replace(en,tn);!this._s_base_url||Or.test(v)?this._kt_object=this.check_named_node(v):this._kt_object=this.check_named_node(Cr.resolve(this._s_base_url,v))}else{let v=this.match_prefixed_name(t,n);if(!v)return!0;let[E,x]=v;if(E){n=x;let S=E[1]||"";if(!Ur.call(this._h_prefixes,S))return this.error(`no such prefix "${S}"`);let N=E[2].replace(en,tn).replace(Vu,"$1");this._kt_object=this.prefixed_name(S,N)}else{st.lastIndex=n;let S=st.exec(t);if(S){n=st.lastIndex,this.emit_comments&&this.emit_comments(S[0]);continue}else{a&&this._a_nested.pop();break}}}}}}}}let f;if(s||(s=this.next_label()),this._kt_subject!==null){let u=this._kt_object;f=this._kt_object=this.anonymous_blank_node(s),this.data(),this._kt_object=u}this._kt_subject=f||this.anonymous_blank_node(s),this._kt_predicate=this._kt_rdf_first,this.data(),this._kt_predicate=this._kt_rdf_rest}if(this.i=n,n<this.n&&n===0&&this.n>this.max_token_length)return this.parse_error("collection_subject");this._f_state=this.collection_subject,this.pre=t.slice(n),this.eos&&this.eos()}collection_object(){let{s:t,n:r,i:n}=this;for(;n<r;){let o=t[n];if(o===")"){ot.lastIndex=n+1,ot.exec(t),this.i=ot.lastIndex,this._kt_object=this._kt_rdf_nil,this.data();let u;return[this._kt_subject,this._kt_predicate,u]=this._a_nested.pop(),this[u]()}let s;Jt.lastIndex=n;let a=Jt.exec(t);if(a){n=Jt.lastIndex;let u=a[1];!this._s_base_url||Or.test(u)?this._kt_object=this.check_named_node_escapeless(u):this._kt_object=this.check_named_node_escapeless(Cr.resolve(this._s_base_url,u))}else{let u=this.match_prefixed_name_escapeless(t,n);if(!u)return!0;let[d,g]=u;if(d){n=g;let h=d[1]||"";if(!Ur.call(this._h_prefixes,h))return this.error(`no such prefix "${h}"`);this._kt_object=this.prefixed_name(h,d[2])}else if(o==='"'||o==="'"){this.i=n;let h=this._kt_object=this.anonymous_blank_node(this.next_label());return this.data(),this._kt_subject=h,this._kt_predicate=this._kt_rdf_first,this.after_end_of_statement=function(){return this._kt_predicate=this._kt_rdf_rest,this.after_end_of_statement=this.post_object,this.collection_object()},this.string_literal()}else{ml.lastIndex=n;let h=ml.exec(t);if(h)n=ml.lastIndex,h[4]?this._kt_object=this._dc_factory.double(h[1]):h[2]||h[3]?this._kt_object=this._dc_factory.decimal(h[1]):this._kt_object=this._dc_factory.integer(h[1]);else{vl.lastIndex=n;let p=vl.exec(t);if(p)n=vl.lastIndex,this._kt_object=this._dc_factory.boolean(!!p[1]);else if(o==="["){ot.lastIndex=n+1,ot.exec(t),this.i=ot.lastIndex;let w=this._kt_object=this.anonymous_blank_node(this.next_label());return this.data(),this._kt_subject=w,this._kt_predicate=this._kt_rdf_rest,this._a_nested.push([this._kt_subject,this._kt_predicate,"collection_object"]),this._kt_predicate=this._kt_rdf_first,w=this._kt_object=this.anonymous_blank_node(this.next_label()),this.data(),this._kt_subject=w,this._kt_predicate=this._kt_rdf_first,this.pairs()}else if(o==="("){ot.lastIndex=n+1,ot.exec(t),n=ot.lastIndex,s=this.next_label();let w=this._kt_object=this.anonymous_blank_node(s);if(this._kt_subject===null){let y=this._a_nested[this._a_nested.length-1];this._kt_subject=y[0],this._kt_predicate=y[1]}this.data(),this._kt_subject=w,this._kt_predicate=this._kt_rdf_rest,this._a_nested.push([this._kt_subject,this._kt_predicate,"collection_object"]),this._kt_predicate=this._kt_rdf_first;continue}else{di.lastIndex=n;let w=di.exec(t);if(w){n=di.lastIndex;let y=w[1];s=this.next_label(),this._kt_object=this.blank_node(y)}else{Yt.lastIndex=n;let y=Yt.exec(t);if(y){n=Yt.lastIndex;let v=y[1].replace(en,tn);!this._s_base_url||Or.test(v)?this._kt_object=this.check_named_node(v):this._kt_object=this.check_named_node(Cr.resolve(this._s_base_url,v))}else{let v=this.match_prefixed_name(t,n);if(!v)return!0;let[E,x]=v;if(E){n=x;let S=E[1]||"";if(!Ur.call(this._h_prefixes,S))return this.error(`no such prefix "${S}"`);let N=E[2].replace(en,tn).replace(Vu,"$1");this._kt_object=this.prefixed_name(S,N)}else{st.lastIndex=n;let S=st.exec(t);if(S){n=st.lastIndex,this.emit_comments&&this.emit_comments(S[0]);continue}else break}}}}}}}let l=this._kt_object;s||(s=this.next_label());let f=this._kt_object=this.anonymous_blank_node(s);this.data(),this._kt_subject=f,this._kt_predicate=this._kt_rdf_first,this._kt_object=l,this.data(),this._kt_predicate=this._kt_rdf_rest}if(this.i=n,n<this.n&&n===0&&this.n>this.max_token_length)return this.parse_error("collection_object");this._f_state=this.collection_object,this.pre=t.slice(n),this.eos&&this.eos()}destroy(t){this.post_blank_subject=()=>{},this.statement=()=>{},this.block=()=>{},this.graph_or_subject=()=>{},this.graph_or_subject_property_list=()=>{},this.graph_or_subject_anon=()=>{},this.graph_keyword=()=>{},this.graph_post_name=()=>{},this.pairs=()=>{},this.object_list=()=>{},this.string_literal_short_double=()=>{},this.string_literal_short_single=()=>{},this.string_literal_long_double=()=>{},this.string_literal_long_single=()=>{},this.string_literal=()=>{},this.datatype_or_langtag=()=>{},this.datatype=()=>{},this.post_object=()=>{},this.base_iri=()=>{},this.prefix_id=()=>{},this.prefix_iri=()=>{},this.full_stop=()=>{},this.collection_subject=()=>{},this.collection_object=()=>{},this.eof=()=>{this.s=null},this._b_destroyed=!0,!t&&this._ds_input&&this._ds_input.destroy(t),this.transform.demolish(t)}};var Jce=function(...e){let t={};if(e.length){let r=e[0];if(r&&r.input&&typeof r.input.string>"u"&&!r.input.stream&&(r=r.input),typeof r=="string")t.input={string:r};else if(r===null)t.input=null;else if(typeof r.setEncoding=="function")t.input={stream:r};else{if(typeof r.pipeTo=="function")throw new TypeError("Sorry, WHATWG streams are currently not supported :(");if(r&&typeof r=="object"&&Object.prototype.toString.call(r)==="[object Object]"){if(t=r,e.length>1)throw new TypeError(`unexpected argument(s) after config struct: ${e.slice(1)}`)}else throw new TypeError(`unexpected input type: ${r}`)}if(e.length>1&&(Object.assign(t,e[1]),e.length>2))throw new TypeError(`unexpected argument(s) after input and config struct: ${e.slice(2)}`)}return new qut(t).transform};const Hut=un({__proto__:null,default:zr(Jce)},[Jce]);if(typeof queueMicrotask!="function"){let e=Promise.resolve();try{queueMicrotask=t=>e.then(t).catch(r=>setTimeout(()=>{throw r},0))}catch{}}const s3=Ij,Yce=du,Vut=/^[a-z][a-z0-9+\-.]*:(?:[^\0-\x20<>"{}|^`\\]|\\u[A-Fa-f0-9]{4}|\\U[A-Fa-f0-9]{8})*$/,Gut=/^[a-z][a-z0-9+\-.]*:[^\0-\x20<>"{}|^`]*$/,zut=/^([^\0-\x20<>"{}|^`\\]|\\u[A-Fa-f0-9]{4}|\\U[A-Fa-f0-9]{8})*$/,Kut=/^([^\0-\x20<>"{}|^`])*$/,Rl=/\\u([0-9A-Fa-f]{4})|\\U([0-9A-Fa-f]{8})/g,xl=(e,t,r)=>String.fromCodePoint(parseInt(t||r,16)),Jut=/\s*(?:#[^\n]*\n\s*)*\s*/y,Yut=/\s*(#[^\n]*\n\s*)*\s*/y,Gu=/[\\]/,a3=/[^\n]+\n/y,Xut=/^(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u{02ff}\u{0370}-\u{037d}\u{037f}-\u{1fff}\u{200c}-\u{200d}\u{2070}-\u{218f}\u{2c00}-\u{2fef}\u{3001}-\u{d7ff}\u{f900}-\u{fdcf}\u{fdf0}-\u{fffd}\u{10000}-\u{effff}_0-9])(?:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u{02ff}\u{0370}-\u{037d}\u{037f}-\u{1fff}\u{200c}-\u{200d}\u{2070}-\u{218f}\u{2c00}-\u{2fef}\u{3001}-\u{d7ff}\u{f900}-\u{fdcf}\u{fdf0}-\u{fffd}\u{10000}-\u{effff}_\-0-9\xb7\u{0300}-\u{036f}\u{203f}-\u{2040}.])*[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u{02ff}\u{0370}-\u{037d}\u{037f}-\u{1fff}\u{200c}-\u{200d}\u{2070}-\u{218f}\u{2c00}-\u{2fef}\u{3001}-\u{d7ff}\u{f900}-\u{fdcf}\u{fdf0}-\u{fffd}\u{10000}-\u{effff}_\-0-9\xb7\u{0300}-\u{036f}\u{203f}-\u{2040}])?$/u,Qut=/^[a-z]+(-[a-z0-9]+)*$/,l3=/[ \t]*/y,u3=/@([A-Za-z]+(?:-[A-Za-z0-9-]+)*)(?:\s+|(?=[.,;\])#]))/y,Jp=/<([^>]*)>\s*/y,f3=(e,t,r,n,o,s)=>{if(t)switch(t){case"t":return"	";case"n":return`
`;case"r":return"\r";case"f":return"\f";case"b":return"\b";default:console.assert(`bad regex escape char mapping: '${t}'`)}else{if(r)return r;if(n)return String.fromCodePoint(parseInt(n,16));if(o)return String.fromCodePoint(parseInt(o,16));if(s)throw s[0]==="\\"?new Error(`expected string_literal but invalid escape sequence within contents: '${s}'. failed to parse a valid token`):new Error(`expected string_literal but invalid whitespace character within contents: ${JSON.stringify(s)}. failed to parse a valid token`);console.assert("unexpected no match branch in escape sequence replace callback")}},Zut=/(?:\\(?:([tnrfb])|([\\"'])|u([0-9A-Fa-f]{4})|U([0-9A-Fa-f]{8}))|([\r\n]|\\.))/g,Xce=/(?:\\(?:([tnrfb])|([\\"'])|u([0-9A-Fa-f]{4})|U([0-9A-Fa-f]{8}))|([\r\n]|\\[^uU]|\\u[^]{4}|\\U[^]{8}))/g,Qce=e=>e.replace(Zut,f3),eft=e=>{let t=tft.exec(e);if(t){let r=t.index;return[e.slice(0,r).replace(Xce,f3),e.slice(r)]}else return[e.replace(Xce,f3),""]},[tft,Zce]=(()=>{function e(r){let n=RegExp.prototype.exec.call(this,r);if(n){let o=n[0].length-n[1].length;n.index+=o,n[0]=n[0].slice(o)}return n}let t=(()=>{try{new RegExp("(?<!h)i")}catch{return(n,o,s)=>(o.exec=s,o)}return r=>r()})();return[t(()=>new RegExp("(?<!(?:[^\\\\]|^)(?:\\\\\\\\)*\\\\)\\\\(|u[0-9A-Fa-f]{0,3}|U[0-9A-Fa-f]{0,7})$"),/^(?:(?:[^\\]|\\.)*)(\\(?:|u[0-9A-Fa-f]{0,3}|U[0-9A-Fa-f]{0,7}))$/,function(n){let o=RegExp.prototype.exec.call(this,n);return o&&(o.index+=o[0].length-o[1].length),o}),t(()=>new RegExp('(?<!(?:[^\\\\]|^)(?:\\\\\\\\)*\\\\)"\\s*',"g"),/(?:[^\\"]|\\.)*("\s*)/y,e)]})(),c3=/(?:<([^\\>]*)>|_:([^\x20\t<]+))[\x20\t]*<([^\\>]*)>[\x20\t]*(?:(?:(<[^\\>]*)>|_:([^\x20\t<]+))[\x20\t]*(?:<([^\\>]*)>|_:([^\x20\t<]+)|)[\x20\t]*\.\s*(#[^\n]*\n\s*|\n\s*)+|"([^"\\]*)(?:(")(?:\^\^<([^\\>]*)>|@([^\x20\t.]+)|)[\x20\t]*(?:<([^\\>]*)>|_:([^\x20\t<]+)|)[\x20\t]*\.\s*(#[^\n]*\n\s*|\n\s*)+)?)/y,d3=/(?:<([^>]*)>|_:([^\x20\t<]+))[\x20\t]*<([^>]*)>[\x20\t]*(?:(?:(<[^>]*)>|_:([^\x20\t<]+))[\x20\t]*(?:<([^>]*)>|_:([^\x20\t<]+)|)[\x20\t]*\.\s*(#[^\n]*\n\s*|\n\s*)+|"((?:[^"\\]|\\.)*)(?:(")(?:\^\^<([^>]*)>|@([^\x20\t.]+)|)[\x20\t]*(?:<([^>]*)>|_:([^\x20\t<]+)|)[\x20\t]*\.\s*(#[^\n]*\n\s*|\n\s*)+)?)/y,h3=/_:([^\x20\t<]+)/y;class rft extends s3.Transform{constructor(t){super({decodeStrings:!1,writableObjectMode:!1,readableObjectMode:!0,flush:t.flush,transform:t.transform}),this.on("pipe",r=>{this._ds_input=r,typeof r.setEncoding=="function"&&r.setEncoding("utf8")})}pipe(t){let r=t;return r._writableState.objectMode?t.isGraphyWritable&&(t=s3.quads_to_writable()):t=s3.quads_to_json(),t!==r?(super.pipe(t),t.pipe(r)):super.pipe(r)}}class nft{constructor(t){let{input:r=null,relax:n=!1,debug:o=!1}=t,s=t.allow_relative_iris||t.allowRelativeIRIs||t.allowRelativeIris||!1,a=this._dc_factory=Yce.adopt(t.dataFactory||t.data_factory||Yce.unfiltered),l=this._f_quad=a.quad;Object.assign(this,{s:t.prepend||"",n:0,_b_debug:o,_b_relax:n,_b_destroyed:!1,_b_trim_start:!0,_f_state:this.statement,_kt_subject:null,_kt_predicate:null,_kt_object:null,_s_literal:""}),this._kt_default_graph=a.defaultGraph(),this._kt_rdfs_lang_string=a.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString");let f=this._r_clean=Jut;t.relaxed&&console.warn(new Error("no such option 'relaxed'; did you mean 'relax' ?").stack.replace(/^Error:/,"Warning:")),"validate"in t&&console.warn(new Error("option 'validate' has been removed and validation is now on by default. Use 'relax' option if you wish to disable validation.").stack.replace(/^Error:/,"Warning:"));let u=a.namedNode,d=a.blankNode,g=a.languagedLiteral,h=s?zut:Vut,p=s?Kut:Gut,w=this;Object.assign(this,n?{create_named_node:u,create_named_node_escapeless:u,create_blank_node:d,create_languaged_literal:g}:{create_named_node(E){return h.test(E)?u(E):w._error(`invalid IRI: "${E}"`)},create_named_node_escapeless(E){return p.test(E)?u(E):w._error(`invalid IRI: "${E}"`)},create_blank_node(E){return Xut.test(E)?d(E):w._error(`Invalid blank node label: "${E}"`)},create_languaged_literal(E,x){return Qut.test(x)?g(E,x):w._error(`Invalid literal language tag: ${x}`)}});let y,v=!1;if(y=this.transform=new rft({transform:(E,x,S)=>{v||(y.emit("ready"),v=!1);let N=this.s+=E;if(this._b_trim_start){f.lastIndex=0;let $=f.exec(N);this.emit_comments&&this.emit_comments($[1]),this.i=f.lastIndex}else this.i=0;this.n=N.length;try{this.parse(!0)}catch($){return y.destroy($)}y.emit("progress",E.length),S()},flush:E=>{if(this.s.length){if(this.s+=`
`,this._b_trim_start){f.lastIndex=0;let x=f.exec(this.s);this.emit_comments&&this.emit_comments(x[1]),this.i=f.lastIndex}else this.i=0;try{this.parse()}catch(x){return y.demolish(x)}if(this.s.length)return y.demolish(new Error(`parsing error occurred in state: statement
  ${this.s.substr(0,50)}
  ^ starting here`))}if(this._f_state!==this.statement)return y.demolish(new Error(`parsing error occurred in state: ${this._f_state.name}
  ${this.s.substr(0,50)}
  ^ starting here`));this.s=null,y.emit("progress",0),y.emit("eof"),E()}}),y._destroy=(...E)=>{this.destroy(...E)},this._f_data_quad=(E,x,S,N)=>y.push(l(E,x,S,N)),y.on("newListener",E=>{E==="comment"&&(f=Yut,this.emit_comments=x=>{if(!x)return;let S=x.slice(1).replace(/\n\s+$/,"").split(/\n+\s*#/g);for(let N of S)y.emit("comment",N)})}),this.bind(t),r)if(r.stream){let E=r.stream;queueMicrotask(()=>{E.pipe(y)})}else if(typeof r.string=="string"){let E=r.string;queueMicrotask(()=>{y.end(E,"utf8")})}else throw new TypeError(`Invalid argument for input parameter: ${typeof r=="object"?JSON.stringify(r):r}`);y._graphy_reader=this}_error(t){throw this._b_destroyed=!0,new Error(t)}bind(t){let r=this.transform;t.error&&r.on("error",t.error),t.comment&&r.on("comment",t.comment),t.read&&r.once("read",t.read),t.progress&&r.on("progress",t.progress),t.eof&&r.once("eof",t.eof),t.end&&r.once("end",t.end),t.finish&&r.once("finish",t.finish),t.data&&r.on("data",t.data)}parse(){let t=this._f_state();for(;typeof t=="function";)t=t.apply(this)}statement(){let t=this.s;this.n;let r=this.i,n=this._f_data_quad,o=this.create_named_node,s=this.create_named_node_escapeless,a=this.create_languaged_literal,l=this.create_blank_node,f=this._dc_factory.simpleLiteral,u=this._dc_factory.datatypedLiteral,d=this._kt_default_graph;for(;;){c3.lastIndex=r;let g=c3.exec(t);if(g){r=c3.lastIndex;let h,p=!1;if(g[4]){let E=g[4].slice(1);h=s(E)}else if(g[5])h=l(g[5]);else{p=!0;let E=g[9];if(g[10])if(g[11]){let x=this.create_named_node_escapeless(g[11]);h=u(E,x)}else if(g[12]){let x=g[12].toLowerCase();h=a(E,x)}else h=f(E);else{this._s_literal=E,this.i=r;{let S=g[1];S||typeof S=="string"?this._kt_subject=s(S):this._kt_subject=l(g[2])}this._kt_predicate=s(g[3]);let x=this.strlit_contents();if(x&&this.statement!==x)return x;{let S=this._r_clean;S.lastIndex=this.i;let N=S.exec(t);this.emit_comments&&this.emit_comments(N[1]),r=S.lastIndex;continue}}}let w=d;if(p){let E=g[13];E||typeof E=="string"?w=s(E):g[14]&&(w=l(g[14]))}else{let E=g[6];E||typeof E=="string"?w=s(E):g[7]&&(w=l(g[7]))}let y;{let E=g[1];E||typeof E=="string"?y=s(E):y=l(g[2])}let v=g[3];n(y,s(v),h,w),this.emit_comments&&this.emit_comments(g[8]||g[15])}else{d3.lastIndex=r;let h=d3.exec(t);if(h){r=d3.lastIndex;let p,w=!1;if(h[4]){let x=h[4].slice(1);p=o(Gu.test(x)?x.replace(Rl,xl):x)}else if(h[5])p=l(Gu.test(h[5])?h[5].replace(Rl,xl):h[5]);else{w=!0;let x=h[9];if(h[10])if(x=Qce(x),h[11]){let S=this.create_named_node(h[11]);p=u(x,S)}else if(h[12]){let S=h[12].toLowerCase();p=a(x,S)}else p=f(x);else{this._s_literal=x,this.i=r;{let N=h[1];N||typeof N=="string"?this._kt_subject=o(Gu.test(N)?N.replace(Rl,xl):N):this._kt_subject=l(h[2])}this._kt_predicate=o(Gu.test(h[3])?h[3].replace(Rl,xl):h[3]);let S=this.strlit_contents();if(S&&this.statement!==S)return S;{let N=this._r_clean;N.lastIndex=this.i;let $=N.exec(t);this.emit_comments&&this.emit_comments($[1]),r=N.lastIndex;continue}}}let y=d;if(w){let x=h[13];x||typeof x=="string"?y=o(Gu.test(x)?x.replace(Rl,xl):x):h[14]&&(y=l(h[14]))}else{let x=h[6];x||typeof x=="string"?y=o(Gu.test(x)?x.replace(Rl,xl):x):h[7]&&(y=l(h[7]))}let v;{let x=h[1];x||typeof x=="string"?v=o(Gu.test(x)?x.replace(Rl,xl):x):v=l(h[2])}let E=h[3];n(v,o(Gu.test(E)?E.replace(Rl,xl):E),p,y),this.emit_comments&&this.emit_comments(h[8]||h[15])}else if(a3.lastIndex=r,a3.exec(t))r=a3.lastIndex,this._error(`Failed to read statement:
\`${t.substr(r,80).replace(/\n/g,"⏎")} [...]\`
 ^ starting here`);else break}}return this.s=t.substr(r),this._f_state=this.statement,1}strlit_contents(){let{s:t,n:r,i:n}=this;Zce.lastIndex=n;let o=Zce.exec(t);if(o){let s=o.index,a=t.slice(n,s);return this._s_literal+=Qce(a),this.i=s+o[0].length,this._b_trim_start=!0,this.datatype_or_langtag()||this.statement}else{let s=t.slice(n),[a,l]=eft(s);this._s_literal+=a,this.i=n=r-l.length,this._b_trim_start=!1}return n<this.n&&n===0&&this.n>this.max_token_length?this.parse_error("strlit_contents"):(this._f_state=this.strlit_contents,this.s=t.slice(n),this.eos&&this.eos(),1)}datatype_or_langtag(){let{s:t,n:r,i:n}=this,o=t[n];for(;n<r;)if(o==="^")if(n+2<r)if(t[n+1]==="^"){Jp.lastIndex=n+2;let s=Jp.exec(t);if(s){this.i=Jp.lastIndex;let a=s[1].replace(Rl,xl),l=this.create_named_node(a);return this._kt_object=this._dc_factory.datatypedLiteral(this._s_literal,l),this._s_literal="",this.post_object()}else break}else this._error(`Failed to read token after literal:
\`${t.substr(n+1,80).replace(/\n/g,"⏎")} [...]\`
 ^ starting here`);else break;else if(o==="@"){u3.lastIndex=n;let s=u3.exec(t);if(s)return this.i=u3.lastIndex,this._kt_object=this._dc_factory.languagedLiteral(this._s_literal,s[1]),this._s_literal="",this.post_object();break}else{if(o==="<"||o==="_")return this._kt_object=this._dc_factory.simpleLiteral(this._s_literal),this._s_literal="",this.graph();if(o==="."){let s=this._dc_factory.simpleLiteral(this._s_literal);return this._s_literal="",this.i=n+1,this._f_data_quad(this._kt_subject,this._kt_predicate,s,this._kt_default_graph),this.statement}else break}return this.i=n,n<this.n&&n===0&&this.n>this.max_token_length?this.parse_error("datatype_or_langtag"):(this._f_state=this.datatype_or_langtag,this.s=t.slice(n),this.eos&&this.eos(),1)}statement_term(){let{s:t,n:r,i:n}=this,o=t.indexOf(".",n);return o>-1?(this._b_trim_start=!0,this.i=o+1,this.statement):(/^\s*$/.test(t.slice(n))||this.parse_error("statement_term"),this._b_trim_start=!1,this._f_state=this.statement_term,this.s=t.slice(n),this.eos&&this.eos(),1)}post_object(){let{s:t,n:r,i:n}=this;if(l3.lastIndex=n,l3.exec(t),n=l3.lastIndex,n>=r)return this._f_state=this.post_object,this.s=t.slice(n),this.eos&&this.eos(),1;switch(t[n]){case".":return this.i=n+1,this._f_data_quad(this._kt_subject,this._kt_predicate,this._kt_object,this._kt_default_graph),this.statement;case"<":case"_":return this.i=n,this.graph();default:this.i=n,this.parse_error("post_object")}}graph(){let{s:t,n:r,i:n}=this;Jp.lastIndex=n;let o=Jp.exec(t);if(o){this.i=Jp.lastIndex;let s=this.create_named_node(o[1]);return this._f_data_quad(this._kt_subject,this._kt_predicate,this._kt_object,s),this.statement_term()}else{h3.lastIndex=n;let s=h3.exec(t);if(s){this.i=h3.lastIndex;let a=this._dc_factory.blankNode(s[1]);return this._f_data_quad(this._kt_subject,this._kt_predicate,this._kt_object,a),this.statement_term()}}return this._f_state=this.graph,this.s=t.slice(n),this.eos&&this.eos(),1}parse_error(t){return this._error(`Failed to read ${t}:
\`${this.s.substr(this.i,80).replace(/\n/g,"⏎")} [...]\`
 ^ starting here`)}destroy(t){this._f_data_quad=()=>{},!t&&this._ds_input&&this._ds_input.destroy(t),this.transform.demolish(t)}}var ede=function(...e){let t={};if(e.length){let r=e[0];if(r&&r.input&&typeof r.input.string>"u"&&!r.input.stream&&(r=r.input),typeof r=="string")t.input={string:r};else if(r===null)t.input=null;else if(typeof r.setEncoding=="function")t.input={stream:r};else{if(typeof r.pipeTo=="function")throw new TypeError("Sorry, WHATWG streams are currently not supported :(");if(r&&typeof r=="object"&&Object.prototype.toString.call(r)==="[object Object]"){if(t=r,e.length>1)throw new TypeError(`unexpected argument(s) after config struct: ${e.slice(1)}`)}else throw new TypeError(`unexpected input type: ${r}`)}if(e.length>1&&(Object.assign(t,e[1]),e.length>2))throw new TypeError(`unexpected argument(s) after input and config struct: ${e.slice(2)}`)}return new nft(t).transform};const ift=un({__proto__:null,default:zr(ede)},[ede]);var tde={},p3=class Jpe{constructor(t,r=new Map,n=0){this.prefix=t,this._existing=r,this.counter=n}clone(){const{prefix:t,_existing:r,counter:n}=this;return new Jpe(t,new Map(r),n)}getId(t){const r=t&&this._existing.get(t);if(r)return r;const n=this.prefix+this.counter;return this.counter++,t&&this._existing.set(t,n),n}hasId(t){return this._existing.has(t)}getOldIds(){return[...this._existing.keys()]}};(function(e,t){if(e.setImmediate)return;var r=1,n={},o=!1,s=e.document,a;function l(x){typeof x!="function"&&(x=new Function(""+x));for(var S=new Array(arguments.length-1),N=0;N<S.length;N++)S[N]=arguments[N+1];var $={callback:x,args:S};return n[r]=$,a(r),r++}function f(x){delete n[x]}function u(x){var S=x.callback,N=x.args;switch(N.length){case 0:S();break;case 1:S(N[0]);break;case 2:S(N[0],N[1]);break;case 3:S(N[0],N[1],N[2]);break;default:S.apply(t,N);break}}function d(x){if(o)setTimeout(d,0,x);else{var S=n[x];if(S){o=!0;try{u(S)}finally{f(x),o=!1}}}}function g(){a=function(x){Ot.nextTick(function(){d(x)})}}function h(){if(e.postMessage&&!e.importScripts){var x=!0,S=e.onmessage;return e.onmessage=function(){x=!1},e.postMessage("","*"),e.onmessage=S,x}}function p(){var x="setImmediate$"+Math.random()+"$",S=function(N){N.source===e&&typeof N.data=="string"&&N.data.indexOf(x)===0&&d(+N.data.slice(x.length))};e.addEventListener?e.addEventListener("message",S,!1):e.attachEvent("onmessage",S),a=function(N){e.postMessage(x+N,"*")}}function w(){var x=new MessageChannel;x.port1.onmessage=function(S){var N=S.data;d(N)},a=function(S){x.port2.postMessage(S)}}function y(){var x=s.documentElement;a=function(S){var N=s.createElement("script");N.onreadystatechange=function(){d(S),N.onreadystatechange=null,x.removeChild(N),N=null},x.appendChild(N)}}function v(){a=function(x){setTimeout(d,0,x)}}var E=Object.getPrototypeOf&&Object.getPrototypeOf(e);E=E&&E.setTimeout?E:e,{}.toString.call(e.process)==="[object process]"?g():h()?p():e.MessageChannel?w():s&&"onreadystatechange"in s.createElement("script")?y():v(),E.setImmediate=l,E.clearImmediate=f})(typeof self>"u"?typeof window>"u"?nr:window:self);/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const b3=self.crypto||self.msCrypto;var mR=class{constructor(t){if(!(b3&&b3.subtle))throw new Error("crypto.subtle not found.");if(t==="sha256")this.algorithm={name:"SHA-256"};else if(t==="sha1")this.algorithm={name:"SHA-1"};else throw new Error(`Unsupported algorithm "${t}".`);this._content=""}update(t){this._content+=t}async digest(){const t=new TextEncoder().encode(this._content),r=new Uint8Array(await b3.subtle.digest(this.algorithm,t));let n="";for(let o=0;o<r.length;++o)n+=r[o].toString(16).padStart(2,"0");return n}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */var rde=class{constructor(t){this.current=t.sort(),this.done=!1,this.dir=new Map;for(let r=0;r<t.length;++r)this.dir.set(t[r],!0)}hasNext(){return!this.done}next(){const{current:t,dir:r}=this,n=t.slice();let o=null,s=0;const a=t.length;for(let l=0;l<a;++l){const f=t[l],u=r.get(f);(o===null||f>o)&&(u&&l>0&&f>t[l-1]||!u&&l<a-1&&f>t[l+1])&&(o=f,s=l)}if(o===null)this.done=!0;else{const l=r.get(o)?s-1:s+1;t[s]=t[l],t[l]=o;for(const f of t)f>o&&r.set(f,!r.get(f))}return n}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const g3="http://www.w3.org/1999/02/22-rdf-syntax-ns#"+"langString",_3="http://www.w3.org/2001/XMLSchema#string",ss="NamedNode",xd="BlankNode",vR="Literal",nde="DefaultGraph",Yp={};(()=>{const e="(?:<([^:]+:[^>]*)>)",r="A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�"+"_",n=r+"0-9-·̀-ͯ‿-⁀",s="(_:(?:["+r+"0-9])(?:(?:["+n+".])*(?:["+n+"]))?)",a='"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"',l="(?:\\^\\^"+e+")",u="(?:"+a+"(?:"+l+"|"+"(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*))"+")?)",d="[ \\t]+",g="[ \\t]*",h="(?:"+e+"|"+s+")"+d,p=e+d,w="(?:"+e+"|"+s+"|"+u+")"+g,y="(?:\\.|(?:(?:"+e+"|"+s+")"+g+"\\.))";Yp.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,Yp.empty=new RegExp("^"+g+"$"),Yp.quad=new RegExp("^"+g+h+p+w+y+g+"$")})();var y3=class fx{static parse(t){const r=[],n={},o=t.split(Yp.eoln);let s=0;for(const a of o){if(s++,Yp.empty.test(a))continue;const l=a.match(Yp.quad);if(l===null)throw new Error("N-Quads parse error on line "+s+".");const f={subject:null,predicate:null,object:null,graph:null};if(l[1]!==void 0?f.subject={termType:ss,value:l[1]}:f.subject={termType:xd,value:l[2]},f.predicate={termType:ss,value:l[3]},l[4]!==void 0?f.object={termType:ss,value:l[4]}:l[5]!==void 0?f.object={termType:xd,value:l[5]}:(f.object={termType:vR,value:void 0,datatype:{termType:ss}},l[7]!==void 0?f.object.datatype.value=l[7]:l[8]!==void 0?(f.object.datatype.value=g3,f.object.language=l[8]):f.object.datatype.value=_3,f.object.value=uft(l[6])),l[9]!==void 0?f.graph={termType:ss,value:l[9]}:l[10]!==void 0?f.graph={termType:xd,value:l[10]}:f.graph={termType:nde,value:""},!(f.graph.value in n))n[f.graph.value]=[f],r.push(f);else{let u=!0;const d=n[f.graph.value];for(const g of d)if(oft(g,f)){u=!1;break}u&&(d.push(f),r.push(f))}}return r}static serialize(t){Array.isArray(t)||(t=fx.legacyDatasetToQuads(t));const r=[];for(const n of t)r.push(fx.serializeQuad(n));return r.sort().join("")}static serializeQuadComponents(t,r,n,o){let s="";return t.termType===ss?s+=`<${t.value}>`:s+=`${t.value}`,s+=` <${r.value}> `,n.termType===ss?s+=`<${n.value}>`:n.termType===xd?s+=n.value:(s+=`"${aft(n.value)}"`,n.datatype.value===g3?n.language&&(s+=`@${n.language}`):n.datatype.value!==_3&&(s+=`^^<${n.datatype.value}>`)),o.termType===ss?s+=` <${o.value}>`:o.termType===xd&&(s+=` ${o.value}`),s+=` .
`,s}static serializeQuad(t){return fx.serializeQuadComponents(t.subject,t.predicate,t.object,t.graph)}static legacyDatasetToQuads(t){const r=[],n={"blank node":xd,IRI:ss,literal:vR};for(const o in t)t[o].forEach(a=>{const l={};for(const f in a){const u=a[f],d={termType:n[u.type],value:u.value};d.termType===vR&&(d.datatype={termType:ss},"datatype"in u&&(d.datatype.value=u.datatype),"language"in u?("datatype"in u||(d.datatype.value=g3),d.language=u.language):"datatype"in u||(d.datatype.value=_3)),l[f]=d}o==="@default"?l.graph={termType:nde,value:""}:l.graph={termType:o.startsWith("_:")?xd:ss,value:o},r.push(l)});return r}};function oft(e,t){return!(e.subject.termType===t.subject.termType&&e.object.termType===t.object.termType)||!(e.subject.value===t.subject.value&&e.predicate.value===t.predicate.value&&e.object.value===t.object.value)?!1:e.object.termType!==vR?!0:e.object.datatype.termType===t.object.datatype.termType&&e.object.language===t.object.language&&e.object.datatype.value===t.object.datatype.value}const sft=/["\\\n\r]/g;function aft(e){return e.replace(sft,function(t){switch(t){case'"':return'\\"';case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r"}})}const lft=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;function uft(e){return e.replace(lft,function(t,r,n,o){if(r)switch(r){case"t":return"	";case"b":return"\b";case"n":return`
`;case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(n)return String.fromCharCode(parseInt(n,16));if(o)throw new Error("Unsupported U escape")})}/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const ide=p3,fft=mR,cft=rde,ode=y3;var sde=class{constructor({createMessageDigest:t=()=>new fft("sha256"),canonicalIdMap:r=new Map,maxDeepIterations:n=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new ide("_:c14n",r),this.createMessageDigest=t,this.maxDeepIterations=n,this.quads=null,this.deepIterations=null}async main(t){this.deepIterations=new Map,this.quads=t;for(const f of t)this._addBlankNodeQuadInfo({quad:f,component:f.subject}),this._addBlankNodeQuadInfo({quad:f,component:f.object}),this._addBlankNodeQuadInfo({quad:f,component:f.graph});const r=new Map,n=[...this.blankNodeInfo.keys()];let o=0;for(const f of n)++o%100===0&&await this._yield(),await this._hashAndTrackBlankNode({id:f,hashToBlankNodes:r});const s=[...r.keys()].sort(),a=[];for(const f of s){const u=r.get(f);if(u.length>1){a.push(u);continue}const d=u[0];this.canonicalIssuer.getId(d)}for(const f of a){const u=[];for(const d of f){if(this.canonicalIssuer.hasId(d))continue;const g=new ide("_:b");g.getId(d);const h=await this.hashNDegreeQuads(d,g);u.push(h)}u.sort(dft);for(const d of u){const g=d.issuer.getOldIds();for(const h of g)this.canonicalIssuer.getId(h)}}const l=[];for(const f of this.quads){const u=ode.serializeQuadComponents(this._componentWithCanonicalId(f.subject),f.predicate,this._componentWithCanonicalId(f.object),this._componentWithCanonicalId(f.graph));l.push(u)}return l.sort(),l.join("")}async hashFirstDegreeQuads(t){const r=[],n=this.blankNodeInfo.get(t),o=n.quads;for(const a of o){const l={subject:null,predicate:a.predicate,object:null,graph:null};l.subject=this.modifyFirstDegreeComponent(t,a.subject,"subject"),l.object=this.modifyFirstDegreeComponent(t,a.object,"object"),l.graph=this.modifyFirstDegreeComponent(t,a.graph,"graph"),r.push(ode.serializeQuad(l))}r.sort();const s=this.createMessageDigest();for(const a of r)s.update(a);return n.hash=await s.digest(),n.hash}async hashRelatedBlankNode(t,r,n,o){let s;this.canonicalIssuer.hasId(t)?s=this.canonicalIssuer.getId(t):n.hasId(t)?s=n.getId(t):s=this.blankNodeInfo.get(t).hash;const a=this.createMessageDigest();return a.update(o),o!=="g"&&a.update(this.getRelatedPredicate(r)),a.update(s),a.digest()}async hashNDegreeQuads(t,r){const n=this.deepIterations.get(t)||0;if(n>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(t,n+1);const o=this.createMessageDigest(),s=await this.createHashToRelated(t,r),a=[...s.keys()].sort();for(const l of a){o.update(l);let f="",u;const d=new cft(s.get(l));let g=0;for(;d.hasNext();){const h=d.next();++g%3===0&&await this._yield();let p=r.clone(),w="";const y=[];let v=!1;for(const E of h)if(this.canonicalIssuer.hasId(E)?w+=this.canonicalIssuer.getId(E):(p.hasId(E)||y.push(E),w+=p.getId(E)),f.length!==0&&w>f){v=!0;break}if(!v){for(const E of y){const x=await this.hashNDegreeQuads(E,p);if(w+=p.getId(E),w+=`<${x.hash}>`,p=x.issuer,f.length!==0&&w>f){v=!0;break}}v||(f.length===0||w<f)&&(f=w,u=p)}}o.update(f),r=u}return{hash:await o.digest(),issuer:r}}modifyFirstDegreeComponent(t,r){return r.termType!=="BlankNode"?r:{termType:"BlankNode",value:r.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return`<${t.predicate.value}>`}async createHashToRelated(t,r){const n=new Map,o=this.blankNodeInfo.get(t).quads;let s=0;for(const a of o)++s%100===0&&await this._yield(),await Promise.all([this._addRelatedBlankNodeHash({quad:a,component:a.subject,position:"s",id:t,issuer:r,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:a,component:a.object,position:"o",id:t,issuer:r,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:a,component:a.graph,position:"g",id:t,issuer:r,hashToRelated:n})]);return n}async _hashAndTrackBlankNode({id:t,hashToBlankNodes:r}){const n=await this.hashFirstDegreeQuads(t),o=r.get(n);o?o.push(t):r.set(n,[t])}_addBlankNodeQuadInfo({quad:t,component:r}){if(r.termType!=="BlankNode")return;const n=r.value,o=this.blankNodeInfo.get(n);o?o.quads.add(t):this.blankNodeInfo.set(n,{quads:new Set([t]),hash:null})}async _addRelatedBlankNodeHash({quad:t,component:r,position:n,id:o,issuer:s,hashToRelated:a}){if(!(r.termType==="BlankNode"&&r.value!==o))return;const l=r.value,f=await this.hashRelatedBlankNode(l,t,s,n),u=a.get(f);u?u.push(l):a.set(f,[l])}_componentWithCanonicalId(t){return t.termType==="BlankNode"&&!t.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}:t}async _yield(){return new Promise(t=>setImmediate(t))}};function dft(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const hft=mR,pft=sde;var bft=class extends pft{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new hft("sha1")}modifyFirstDegreeComponent(t,r,n){return r.termType!=="BlankNode"?r:n==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:r.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return t.predicate.value}async createHashToRelated(t,r){const n=new Map,o=this.blankNodeInfo.get(t).quads;let s=0;for(const a of o){let l,f;if(a.subject.termType==="BlankNode"&&a.subject.value!==t)f=a.subject.value,l="p";else if(a.object.termType==="BlankNode"&&a.object.value!==t)f=a.object.value,l="r";else continue;++s%100===0&&await this._yield();const u=await this.hashRelatedBlankNode(f,a,r,l),d=n.get(u);d?d.push(f):n.set(u,[f])}return n}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const ade=p3,gft=mR,_ft=rde,lde=y3;var ude=class{constructor({createMessageDigest:t=()=>new gft("sha256"),canonicalIdMap:r=new Map,maxDeepIterations:n=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new ade("_:c14n",r),this.createMessageDigest=t,this.maxDeepIterations=n,this.quads=null,this.deepIterations=null}main(t){this.deepIterations=new Map,this.quads=t;for(const l of t)this._addBlankNodeQuadInfo({quad:l,component:l.subject}),this._addBlankNodeQuadInfo({quad:l,component:l.object}),this._addBlankNodeQuadInfo({quad:l,component:l.graph});const r=new Map,n=[...this.blankNodeInfo.keys()];for(const l of n)this._hashAndTrackBlankNode({id:l,hashToBlankNodes:r});const o=[...r.keys()].sort(),s=[];for(const l of o){const f=r.get(l);if(f.length>1){s.push(f);continue}const u=f[0];this.canonicalIssuer.getId(u)}for(const l of s){const f=[];for(const u of l){if(this.canonicalIssuer.hasId(u))continue;const d=new ade("_:b");d.getId(u);const g=this.hashNDegreeQuads(u,d);f.push(g)}f.sort(yft);for(const u of f){const d=u.issuer.getOldIds();for(const g of d)this.canonicalIssuer.getId(g)}}const a=[];for(const l of this.quads){const f=lde.serializeQuadComponents(this._componentWithCanonicalId({component:l.subject}),l.predicate,this._componentWithCanonicalId({component:l.object}),this._componentWithCanonicalId({component:l.graph}));a.push(f)}return a.sort(),a.join("")}hashFirstDegreeQuads(t){const r=[],n=this.blankNodeInfo.get(t),o=n.quads;for(const a of o){const l={subject:null,predicate:a.predicate,object:null,graph:null};l.subject=this.modifyFirstDegreeComponent(t,a.subject,"subject"),l.object=this.modifyFirstDegreeComponent(t,a.object,"object"),l.graph=this.modifyFirstDegreeComponent(t,a.graph,"graph"),r.push(lde.serializeQuad(l))}r.sort();const s=this.createMessageDigest();for(const a of r)s.update(a);return n.hash=s.digest(),n.hash}hashRelatedBlankNode(t,r,n,o){let s;this.canonicalIssuer.hasId(t)?s=this.canonicalIssuer.getId(t):n.hasId(t)?s=n.getId(t):s=this.blankNodeInfo.get(t).hash;const a=this.createMessageDigest();return a.update(o),o!=="g"&&a.update(this.getRelatedPredicate(r)),a.update(s),a.digest()}hashNDegreeQuads(t,r){const n=this.deepIterations.get(t)||0;if(n>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(t,n+1);const o=this.createMessageDigest(),s=this.createHashToRelated(t,r),a=[...s.keys()].sort();for(const l of a){o.update(l);let f="",u;const d=new _ft(s.get(l));for(;d.hasNext();){const g=d.next();let h=r.clone(),p="";const w=[];let y=!1;for(const v of g)if(this.canonicalIssuer.hasId(v)?p+=this.canonicalIssuer.getId(v):(h.hasId(v)||w.push(v),p+=h.getId(v)),f.length!==0&&p>f){y=!0;break}if(!y){for(const v of w){const E=this.hashNDegreeQuads(v,h);if(p+=h.getId(v),p+=`<${E.hash}>`,h=E.issuer,f.length!==0&&p>f){y=!0;break}}y||(f.length===0||p<f)&&(f=p,u=h)}}o.update(f),r=u}return{hash:o.digest(),issuer:r}}modifyFirstDegreeComponent(t,r){return r.termType!=="BlankNode"?r:{termType:"BlankNode",value:r.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return`<${t.predicate.value}>`}createHashToRelated(t,r){const n=new Map,o=this.blankNodeInfo.get(t).quads;for(const s of o)this._addRelatedBlankNodeHash({quad:s,component:s.subject,position:"s",id:t,issuer:r,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:s,component:s.object,position:"o",id:t,issuer:r,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:s,component:s.graph,position:"g",id:t,issuer:r,hashToRelated:n});return n}_hashAndTrackBlankNode({id:t,hashToBlankNodes:r}){const n=this.hashFirstDegreeQuads(t),o=r.get(n);o?o.push(t):r.set(n,[t])}_addBlankNodeQuadInfo({quad:t,component:r}){if(r.termType!=="BlankNode")return;const n=r.value,o=this.blankNodeInfo.get(n);o?o.quads.add(t):this.blankNodeInfo.set(n,{quads:new Set([t]),hash:null})}_addRelatedBlankNodeHash({quad:t,component:r,position:n,id:o,issuer:s,hashToRelated:a}){if(!(r.termType==="BlankNode"&&r.value!==o))return;const l=r.value,f=this.hashRelatedBlankNode(l,t,s,n),u=a.get(f);u?u.push(l):a.set(f,[l])}_componentWithCanonicalId({component:t}){return t.termType==="BlankNode"&&!t.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}:t}};function yft(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}/*!
 * Copyright (c) 2016-2021 Digital Bazaar, Inc. All rights reserved.
 */const wft=mR,mft=ude;var vft=class extends mft{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new wft("sha1")}modifyFirstDegreeComponent(t,r,n){return r.termType!=="BlankNode"?r:n==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:r.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return t.predicate.value}createHashToRelated(t,r){const n=new Map,o=this.blankNodeInfo.get(t).quads;for(const s of o){let a,l;if(s.subject.termType==="BlankNode"&&s.subject.value!==t)l=s.subject.value,a="p";else if(s.object.termType==="BlankNode"&&s.object.value!==t)l=s.object.value,a="r";else continue;const f=this.hashRelatedBlankNode(l,s,r,a),u=n.get(f);u?u.push(l):n.set(f,[l])}return n}};(function(e){const t=sde,r=bft,n=ude,o=vft;let s;try{s=n0}catch{}function a(l){return Array.isArray(l)?l:e.NQuads.legacyDatasetToQuads(l)}e.NQuads=y3,e.IdentifierIssuer=p3,e._rdfCanonizeNative=function(l){return l&&(s=l),s},e.canonize=async function(l,f){const u=a(l);if(f.useNative){if(!s)throw new Error("rdf-canonize-native not available");if(f.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return new Promise((d,g)=>s.canonize(u,f,(h,p)=>h?g(h):d(p)))}if(f.algorithm==="URDNA2015")return new t(f).main(u);if(f.algorithm==="URGNA2012"){if(f.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new r(f).main(u)}throw"algorithm"in f?new Error("Invalid RDF Dataset Canonicalization algorithm: "+f.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")},e._canonizeSync=function(l,f){const u=a(l);if(f.useNative){if(!s)throw new Error("rdf-canonize-native not available");if(f.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return s.canonizeSync(u,f)}if(f.algorithm==="URDNA2015")return new n(f).main(u);if(f.algorithm==="URGNA2012"){if(f.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new o(f).main(u)}throw"algorithm"in f?new Error("Invalid RDF Dataset Canonicalization algorithm: "+f.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")}})(tde);var w3=tde;const Ro={};var Ki=Ro;Ro.isArray=Array.isArray,Ro.isBoolean=e=>typeof e=="boolean"||Object.prototype.toString.call(e)==="[object Boolean]",Ro.isDouble=e=>Ro.isNumber(e)&&(String(e).indexOf(".")!==-1||Math.abs(e)>=1e21),Ro.isEmptyObject=e=>Ro.isObject(e)&&Object.keys(e).length===0,Ro.isNumber=e=>typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]",Ro.isNumeric=e=>!isNaN(parseFloat(e))&&isFinite(e),Ro.isObject=e=>Object.prototype.toString.call(e)==="[object Object]",Ro.isString=e=>typeof e=="string"||Object.prototype.toString.call(e)==="[object String]",Ro.isUndefined=e=>typeof e>"u";const Ad=Ki,Al={};var $l=Al;Al.isSubject=e=>Ad.isObject(e)&&!("@value"in e||"@set"in e||"@list"in e)?Object.keys(e).length>1||!("@id"in e):!1,Al.isSubjectReference=e=>Ad.isObject(e)&&Object.keys(e).length===1&&"@id"in e,Al.isValue=e=>Ad.isObject(e)&&"@value"in e,Al.isList=e=>Ad.isObject(e)&&"@list"in e,Al.isGraph=e=>Ad.isObject(e)&&"@graph"in e&&Object.keys(e).filter(t=>t!=="@id"&&t!=="@index").length===1,Al.isSimpleGraph=e=>Al.isGraph(e)&&!("@id"in e),Al.isBlankNode=e=>{if(Ad.isObject(e)){if("@id"in e){const t=e["@id"];return!Ad.isString(t)||t.indexOf("_:")===0}return Object.keys(e).length===0||!("@value"in e||"@set"in e||"@list"in e)}return!1};var xo=class extends Error{constructor(t="An unspecified JSON-LD error occurred.",r="jsonld.Error",n={}){super(t),this.name=r,this.message=t,this.details=n}};const uy=$l,Bn=Ki,fde=w3.IdentifierIssuer,Sft=xo,Eft=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,Rft=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,xft=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,Aft=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,$ft=/^@[a-zA-Z]+$/,cde={headers:{accept:"application/ld+json, application/json"}},Vt={};var Ao=Vt;Vt.IdentifierIssuer=fde,Vt.REGEX_BCP47=Eft,Vt.REGEX_KEYWORD=$ft,Vt.clone=function(e){if(e&&typeof e=="object"){let t;if(Bn.isArray(e)){t=[];for(let r=0;r<e.length;++r)t[r]=Vt.clone(e[r])}else if(e instanceof Map){t=new Map;for(const[r,n]of e)t.set(r,Vt.clone(n))}else if(e instanceof Set){t=new Set;for(const r of e)t.add(Vt.clone(r))}else if(Bn.isObject(e)){t={};for(const r in e)t[r]=Vt.clone(e[r])}else t=e.toString();return t}return e},Vt.asArray=function(e){return Array.isArray(e)?e:[e]},Vt.buildHeaders=(e={})=>{if(Object.keys(e).some(r=>r.toLowerCase()==="accept"))throw new RangeError('Accept header may not be specified; only "'+cde.headers.accept+'" is supported.');return Object.assign({Accept:cde.headers.accept},e)},Vt.parseLinkHeader=e=>{const t={},r=e.match(Rft);for(let n=0;n<r.length;++n){let o=r[n].match(xft);if(!o)continue;const s={target:o[1]},a=o[2];for(;o=Aft.exec(a);)s[o[1]]=o[2]===void 0?o[3]:o[2];const l=s.rel||"";Array.isArray(t[l])?t[l].push(s):t.hasOwnProperty(l)?t[l]=[t[l],s]:t[l]=s}return t},Vt.validateTypeValue=(e,t)=>{if(!Bn.isString(e)&&!(Bn.isArray(e)&&e.every(r=>Bn.isString(r)))){if(t&&Bn.isObject(e))switch(Object.keys(e).length){case 0:return;case 1:if("@default"in e&&Vt.asArray(e["@default"]).every(r=>Bn.isString(r)))return}throw new Sft('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}},Vt.hasProperty=(e,t)=>{if(e.hasOwnProperty(t)){const r=e[t];return!Bn.isArray(r)||r.length>0}return!1},Vt.hasValue=(e,t,r)=>{if(Vt.hasProperty(e,t)){let n=e[t];const o=uy.isList(n);if(Bn.isArray(n)||o){o&&(n=n["@list"]);for(let s=0;s<n.length;++s)if(Vt.compareValues(r,n[s]))return!0}else if(!Bn.isArray(r))return Vt.compareValues(r,n)}return!1},Vt.addValue=(e,t,r,n)=>{if(n=n||{},"propertyIsArray"in n||(n.propertyIsArray=!1),"valueIsArray"in n||(n.valueIsArray=!1),"allowDuplicate"in n||(n.allowDuplicate=!0),"prependValue"in n||(n.prependValue=!1),n.valueIsArray)e[t]=r;else if(Bn.isArray(r)){r.length===0&&n.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]),n.prependValue&&(r=r.concat(e[t]),e[t]=[]);for(let o=0;o<r.length;++o)Vt.addValue(e,t,r[o],n)}else if(e.hasOwnProperty(t)){const o=!n.allowDuplicate&&Vt.hasValue(e,t,r);!Bn.isArray(e[t])&&(!o||n.propertyIsArray)&&(e[t]=[e[t]]),o||(n.prependValue?e[t].unshift(r):e[t].push(r))}else e[t]=n.propertyIsArray?[r]:r},Vt.getValues=(e,t)=>[].concat(e[t]||[]),Vt.removeProperty=(e,t)=>{delete e[t]},Vt.removeValue=(e,t,r,n)=>{n=n||{},"propertyIsArray"in n||(n.propertyIsArray=!1);const o=Vt.getValues(e,t).filter(s=>!Vt.compareValues(s,r));o.length===0?Vt.removeProperty(e,t):o.length===1&&!n.propertyIsArray?e[t]=o[0]:e[t]=o},Vt.relabelBlankNodes=(e,t)=>{t=t||{};const r=t.issuer||new fde("_:b");return SR(r,e)},Vt.compareValues=(e,t)=>e===t||uy.isValue(e)&&uy.isValue(t)&&e["@value"]===t["@value"]&&e["@type"]===t["@type"]&&e["@language"]===t["@language"]&&e["@index"]===t["@index"]?!0:Bn.isObject(e)&&"@id"in e&&Bn.isObject(t)&&"@id"in t?e["@id"]===t["@id"]:!1,Vt.compareShortestLeast=(e,t)=>e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1;function SR(e,t){if(Bn.isArray(t))for(let r=0;r<t.length;++r)t[r]=SR(e,t[r]);else if(uy.isList(t))t["@list"]=SR(e,t["@list"]);else if(Bn.isObject(t)){uy.isBlankNode(t)&&(t["@id"]=e.getId(t["@id"]));const r=Object.keys(t).sort();for(let n=0;n<r.length;++n){const o=r[n];o!=="@id"&&(t[o]=SR(e,t[o]))}}return t}const as="http://www.w3.org/1999/02/22-rdf-syntax-ns#",fy="http://www.w3.org/2001/XMLSchema#";var m3={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:as,RDF_LIST:as+"List",RDF_FIRST:as+"first",RDF_REST:as+"rest",RDF_NIL:as+"nil",RDF_TYPE:as+"type",RDF_PLAIN_LITERAL:as+"PlainLiteral",RDF_XML_LITERAL:as+"XMLLiteral",RDF_JSON_LITERAL:as+"JSON",RDF_OBJECT:as+"object",RDF_LANGSTRING:as+"langString",XSD:fy,XSD_BOOLEAN:fy+"boolean",XSD_DOUBLE:fy+"double",XSD_INTEGER:fy+"integer",XSD_STRING:fy+"string"},v3,dde;function hde(){return dde||(dde=1,v3=class{constructor(){this._requests={}}wrapLoader(t){const r=this;return r._loader=t,function(){return r.add.apply(r,arguments)}}async add(t){let r=this._requests[t];if(r)return Promise.resolve(r);r=this._requests[t]=this._loader(t);try{return await r}finally{delete this._requests[t]}}}),v3}const ER=Ki,Un={};var zu=Un;Un.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([a-zA-Z][a-zA-Z0-9+-.]*):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},Un.parse=(e,t)=>{const r={},n=Un.parsers[t||"full"],o=n.regex.exec(e);let s=n.keys.length;for(;s--;)r[n.keys[s]]=o[s]===void 0?null:o[s];return(r.scheme==="https"&&r.port==="443"||r.scheme==="http"&&r.port==="80")&&(r.href=r.href.replace(":"+r.port,""),r.authority=r.authority.replace(":"+r.port,""),r.port=null),r.normalizedPath=Un.removeDotSegments(r.path),r},Un.prependBase=(e,t)=>{if(e===null||Un.isAbsolute(t))return t;(!e||ER.isString(e))&&(e=Un.parse(e||""));const r=Un.parse(t),n={protocol:e.protocol||""};if(r.authority!==null)n.authority=r.authority,n.path=r.path,n.query=r.query;else if(n.authority=e.authority,r.path==="")n.path=e.path,r.query!==null?n.query=r.query:n.query=e.query;else{if(r.path.indexOf("/")===0)n.path=r.path;else{let s=e.path;s=s.substr(0,s.lastIndexOf("/")+1),(s.length>0||e.authority)&&s.substr(-1)!=="/"&&(s+="/"),s+=r.path,n.path=s}n.query=r.query}r.path!==""&&(n.path=Un.removeDotSegments(n.path));let o=n.protocol;return n.authority!==null&&(o+="//"+n.authority),o+=n.path,n.query!==null&&(o+="?"+n.query),r.fragment!==null&&(o+="#"+r.fragment),o===""&&(o="./"),o},Un.removeBase=(e,t)=>{if(e===null)return t;(!e||ER.isString(e))&&(e=Un.parse(e||""));let r="";if(e.href!==""?r+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(r+="//"),t.indexOf(r)!==0)return t;const n=Un.parse(t.substr(r.length)),o=e.normalizedPath.split("/"),s=n.normalizedPath.split("/"),a=n.fragment||n.query?0:1;for(;o.length>0&&s.length>a&&o[0]===s[0];)o.shift(),s.shift();let l="";if(o.length>0){o.pop();for(let f=0;f<o.length;++f)l+="../"}return l+=s.join("/"),n.query!==null&&(l+="?"+n.query),n.fragment!==null&&(l+="#"+n.fragment),l===""&&(l="./"),l},Un.removeDotSegments=e=>{if(e.length===0)return"";const t=e.split("/"),r=[];for(;t.length>0;){const n=t.shift(),o=t.length===0;if(n==="."){o&&r.push("");continue}if(n===".."){r.pop(),o&&r.push("");continue}r.push(n)}return e[0]==="/"&&r.length>0&&r[0]!==""&&r.unshift(""),r.length===1&&r[0]===""?"/":r.join("/")};const Tft=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;Un.isAbsolute=e=>ER.isString(e)&&Tft.test(e),Un.isRelative=e=>ER.isString(e);const{parseLinkHeader:Ift,buildHeaders:Nft}=Ao,{LINK_HEADER_CONTEXT:kft}=m3,cy=xo,Cft=hde(),{prependBase:Oft}=zu,Lft=/(^|(\r\n))link:/i;var Dft=({secure:e,headers:t={},xhr:r}={headers:{}})=>{return t=Nft(t),new Cft().wrapLoader(o);async function o(s){if(s.indexOf("http:")!==0&&s.indexOf("https:")!==0)throw new cy('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:s});if(e&&s.indexOf("https")!==0)throw new cy(`URL could not be dereferenced; secure mode is enabled and the URL's scheme is not "https".`,"jsonld.InvalidUrl",{code:"loading document failed",url:s});let a;try{a=await Mft(r,s,t)}catch(g){throw new cy("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:s,cause:g})}if(a.status>=400)throw new cy("URL could not be dereferenced: "+a.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:s,httpStatusCode:a.status});let l={contextUrl:null,documentUrl:s,document:a.response},f=null;const u=a.getResponseHeader("Content-Type");let d;if(Lft.test(a.getAllResponseHeaders())&&(d=a.getResponseHeader("Link")),d&&u!=="application/ld+json"){const g=Ift(d),h=g[kft];if(Array.isArray(h))throw new cy("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:s});h&&(l.contextUrl=h.target),f=g.alternate,f&&f.type=="application/ld+json"&&!(u||"").match(/^application\/(\w*\+)?json$/)&&(l=await o(Oft(s,f.target)))}return l}};function Mft(e,t,r){e=e||XMLHttpRequest;const n=new e;return new Promise((o,s)=>{n.onload=()=>o(n),n.onerror=a=>s(a),n.open("GET",t,!0);for(const a in r)n.setRequestHeader(a,r[a]);n.send()})}const Pft=Dft,S3={};var Fft=S3;S3.setupDocumentLoaders=function(e){typeof XMLHttpRequest<"u"&&(e.documentLoaders.xhr=Pft,e.useDocumentLoader("xhr"))},S3.setupGlobals=function(e){typeof globalThis.JsonLdProcessor>"u"&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor})};var E3,pde;function jft(){return pde||(pde=1,E3=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}),E3}var Wft=Bt;Bt.Node=$d,Bt.create=Bt;function Bt(e){var t=this;if(t instanceof Bt||(t=new Bt),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(o){t.push(o)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}Bt.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},Bt.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},Bt.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},Bt.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)Uft(this,arguments[e]);return this.length},Bt.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)qft(this,arguments[e]);return this.length},Bt.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},Bt.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},Bt.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;r!==null;n++)e.call(t,r.value,n,this),r=r.next},Bt.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;r!==null;n--)e.call(t,r.value,n,this),r=r.prev},Bt.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value},Bt.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value},Bt.prototype.map=function(e,t){t=t||this;for(var r=new Bt,n=this.head;n!==null;)r.push(e.call(t,n.value,this)),n=n.next;return r},Bt.prototype.mapReverse=function(e,t){t=t||this;for(var r=new Bt,n=this.tail;n!==null;)r.push(e.call(t,n.value,this)),n=n.prev;return r},Bt.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var o=0;n!==null;o++)r=e(r,n.value,o),n=n.next;return r},Bt.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var o=this.length-1;n!==null;o--)r=e(r,n.value,o),n=n.prev;return r},Bt.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e},Bt.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e},Bt.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new Bt;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,o=this.head;o!==null&&n<e;n++)o=o.next;for(;o!==null&&n<t;n++,o=o.next)r.push(o.value);return r},Bt.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new Bt;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,o=this.tail;o!==null&&n>t;n--)o=o.prev;for(;o!==null&&n>e;n--,o=o.prev)r.push(o.value);return r},Bt.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,o=this.head;o!==null&&n<e;n++)o=o.next;for(var s=[],n=0;o&&n<t;n++)s.push(o.value),o=this.removeNode(o);o===null&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev);for(var n=0;n<r.length;n++)o=Bft(this,o,r[n]);return s},Bt.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};function Bft(e,t,r){var n=t===e.head?new $d(r,null,t,e):new $d(r,t,t.next,e);return n.next===null&&(e.tail=n),n.prev===null&&(e.head=n),e.length++,n}function Uft(e,t){e.tail=new $d(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function qft(e,t){e.head=new $d(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function $d(e,t,r,n){if(!(this instanceof $d))return new $d(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{jft()(Bt)}catch{}const Hft=Wft,Td=Symbol("max"),Tl=Symbol("length"),Xp=Symbol("lengthCalculator"),dy=Symbol("allowStale"),Id=Symbol("maxAge"),Il=Symbol("dispose"),bde=Symbol("noDisposeOnSet"),an=Symbol("lruList"),ls=Symbol("cache"),gde=Symbol("updateAgeOnGet"),R3=()=>1;class Vft{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[Td]=t.max||1/0;const r=t.length||R3;if(this[Xp]=typeof r!="function"?R3:r,this[dy]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[Id]=t.maxAge||0,this[Il]=t.dispose,this[bde]=t.noDisposeOnSet||!1,this[gde]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[Td]=t||1/0,hy(this)}get max(){return this[Td]}set allowStale(t){this[dy]=!!t}get allowStale(){return this[dy]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[Id]=t,hy(this)}get maxAge(){return this[Id]}set lengthCalculator(t){typeof t!="function"&&(t=R3),t!==this[Xp]&&(this[Xp]=t,this[Tl]=0,this[an].forEach(r=>{r.length=this[Xp](r.value,r.key),this[Tl]+=r.length})),hy(this)}get lengthCalculator(){return this[Xp]}get length(){return this[Tl]}get itemCount(){return this[an].length}rforEach(t,r){r=r||this;for(let n=this[an].tail;n!==null;){const o=n.prev;_de(this,t,n,r),n=o}}forEach(t,r){r=r||this;for(let n=this[an].head;n!==null;){const o=n.next;_de(this,t,n,r),n=o}}keys(){return this[an].toArray().map(t=>t.key)}values(){return this[an].toArray().map(t=>t.value)}reset(){this[Il]&&this[an]&&this[an].length&&this[an].forEach(t=>this[Il](t.key,t.value)),this[ls]=new Map,this[an]=new Hft,this[Tl]=0}dump(){return this[an].map(t=>RR(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[an]}set(t,r,n){if(n=n||this[Id],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const o=n?Date.now():0,s=this[Xp](r,t);if(this[ls].has(t)){if(s>this[Td])return Qp(this,this[ls].get(t)),!1;const f=this[ls].get(t).value;return this[Il]&&(this[bde]||this[Il](t,f.value)),f.now=o,f.maxAge=n,f.value=r,this[Tl]+=s-f.length,f.length=s,this.get(t),hy(this),!0}const a=new Gft(t,r,s,o,n);return a.length>this[Td]?(this[Il]&&this[Il](t,r),!1):(this[Tl]+=a.length,this[an].unshift(a),this[ls].set(t,this[an].head),hy(this),!0)}has(t){if(!this[ls].has(t))return!1;const r=this[ls].get(t).value;return!RR(this,r)}get(t){return x3(this,t,!0)}peek(t){return x3(this,t,!1)}pop(){const t=this[an].tail;return t?(Qp(this,t),t.value):null}del(t){Qp(this,this[ls].get(t))}load(t){this.reset();const r=Date.now();for(let n=t.length-1;n>=0;n--){const o=t[n],s=o.e||0;if(s===0)this.set(o.k,o.v);else{const a=s-r;a>0&&this.set(o.k,o.v,a)}}}prune(){this[ls].forEach((t,r)=>x3(this,r,!1))}}const x3=(e,t,r)=>{const n=e[ls].get(t);if(n){const o=n.value;if(RR(e,o)){if(Qp(e,n),!e[dy])return}else r&&(e[gde]&&(n.value.now=Date.now()),e[an].unshiftNode(n));return o.value}},RR=(e,t)=>{if(!t||!t.maxAge&&!e[Id])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[Id]&&r>e[Id]},hy=e=>{if(e[Tl]>e[Td])for(let t=e[an].tail;e[Tl]>e[Td]&&t!==null;){const r=t.prev;Qp(e,t),t=r}},Qp=(e,t)=>{if(t){const r=t.value;e[Il]&&e[Il](r.key,r.value),e[Tl]-=r.length,e[ls].delete(r.key),e[an].removeNode(t)}};class Gft{constructor(t,r,n,o,s){this.key=t,this.value=r,this.length=n,this.now=o,this.maxAge=s||0}}const _de=(e,t,r,n)=>{let o=r.value;RR(e,o)&&(Qp(e,r),e[dy]||(o=void 0)),o&&t.call(n,o.value,o.key,e)};var yde=Vft;const zft=yde,Kft=10;var Jft=class{constructor({document:t}){this.document=t,this.cache=new zft({max:Kft})}getProcessed(t){return this.cache.get(t)}setProcessed(t,r){this.cache.set(t,r)}};const{isArray:A3,isObject:py,isString:xR}=Ki,{asArray:Yft}=Ao,{prependBase:$3}=zu,by=xo,wde=Jft,mde=10;var Xft=class{constructor({sharedCache:t}){this.perOpCache=new Map,this.sharedCache=t}async resolve({activeCtx:t,context:r,documentLoader:n,base:o,cycles:s=new Set}){r&&py(r)&&r["@context"]&&(r=r["@context"]),r=Yft(r);const a=[];for(const l of r){if(xR(l)){let d=this._get(l);d||(d=await this._resolveRemoteContext({activeCtx:t,url:l,documentLoader:n,base:o,cycles:s})),A3(d)?a.push(...d):a.push(d);continue}if(l===null){a.push(new wde({document:null}));continue}py(l)||Qft(r);const f=JSON.stringify(l);let u=this._get(f);u||(u=new wde({document:l}),this._cacheResolvedContext({key:f,resolved:u,tag:"static"})),a.push(u)}return a}_get(t){let r=this.perOpCache.get(t);if(!r){const n=this.sharedCache.get(t);n&&(r=n.get("static"),r&&this.perOpCache.set(t,r))}return r}_cacheResolvedContext({key:t,resolved:r,tag:n}){if(this.perOpCache.set(t,r),n!==void 0){let o=this.sharedCache.get(t);o||(o=new Map,this.sharedCache.set(t,o)),o.set(n,r)}return r}async _resolveRemoteContext({activeCtx:t,url:r,documentLoader:n,base:o,cycles:s}){r=$3(o,r);const{context:a,remoteDoc:l}=await this._fetchContext({activeCtx:t,url:r,documentLoader:n,cycles:s});o=l.documentUrl||r,T3({context:a,base:o});const f=await this.resolve({activeCtx:t,context:a,documentLoader:n,base:o,cycles:s});return this._cacheResolvedContext({key:r,resolved:f,tag:l.tag}),f}async _fetchContext({activeCtx:t,url:r,documentLoader:n,cycles:o}){if(o.size>mde)throw new by("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:t.processingMode==="json-ld-1.0"?"loading remote context failed":"context overflow",max:mde});if(o.has(r))throw new by("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:t.processingMode==="json-ld-1.0"?"recursive context inclusion":"context overflow",url:r});o.add(r);let s,a;try{a=await n(r),s=a.document||null,xR(s)&&(s=JSON.parse(s))}catch(l){throw new by("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:r,cause:l})}if(!py(s))throw new by("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:r});return"@context"in s?s={"@context":s["@context"]}:s={"@context":{}},a.contextUrl&&(A3(s["@context"])||(s["@context"]=[s["@context"]]),s["@context"].push(a.contextUrl)),{context:s,remoteDoc:a}}};function Qft(e){throw new by("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e})}function T3({context:e,base:t}){if(!e)return;const r=e["@context"];if(xR(r)){e["@context"]=$3(t,r);return}if(A3(r)){for(let n=0;n<r.length;++n){const o=r[n];if(xR(o)){r[n]=$3(t,o);continue}py(o)&&T3({context:{"@context":o},base:t})}return}if(py(r))for(const n in r)T3({context:r[n],base:t})}var Zft=w3.NQuads;const I3=xo,{isArray:ect}=Ki,{asArray:vde}=Ao,Ji={};var gy=Ji;Ji.defaultEventHandler=null,Ji.setupEventHandler=({options:e={}})=>{const t=[].concat(e.safe?Ji.safeEventHandler:[],e.eventHandler?vde(e.eventHandler):[],Ji.defaultEventHandler?Ji.defaultEventHandler:[]);return t.length===0?null:t},Ji.handleEvent=({event:e,options:t})=>{Sde({event:e,handlers:t.eventHandler})};function Sde({event:e,handlers:t}){let r=!0;for(let n=0;r&&n<t.length;++n){r=!1;const o=t[n];if(ect(o))r=Sde({event:e,handlers:o});else if(typeof o=="function")o({event:e,next:()=>{r=!0}});else if(typeof o=="object")e.code in o?o[e.code]({event:e,next:()=>{r=!0}}):r=!0;else throw new I3("Invalid event handler.","jsonld.InvalidEventHandler",{event:e})}return r}const tct=new Set(["empty object","free-floating scalar","invalid @language value","invalid property","null @id value","null @value value","object with only @id","object with only @language","object with only @list","object with only @value","relative @id reference","relative @type reference","relative @vocab reference","reserved @id value","reserved @reverse value","reserved term","blank node predicate","relative graph reference","relative object reference","relative predicate reference","relative subject reference","rdfDirection not set"]);Ji.safeEventHandler=function({event:t,next:r}){if(t.level==="warning"&&tct.has(t.code))throw new I3("Safe mode validation error.","jsonld.ValidationError",{event:t});r()},Ji.logEventHandler=function({event:t,next:r}){console.log(`EVENT: ${t.message}`,{event:t}),r()},Ji.logWarningEventHandler=function({event:t,next:r}){t.level==="warning"&&console.warn(`WARNING: ${t.message}`,{event:t}),r()},Ji.unhandledEventHandler=function({event:t}){throw new I3("No handler for event.","jsonld.UnhandledEvent",{event:t})},Ji.setDefaultEventHandler=function({eventHandler:e}={}){Ji.defaultEventHandler=e?vde(e):null};const Ede=Ao,gt=xo,{isArray:Rde,isObject:Ku,isString:Di,isUndefined:rct}=Ki,{isAbsolute:Nd,isRelative:nct,prependBase:_y}=zu,{handleEvent:Zp}=gy,{REGEX_BCP47:ict,REGEX_KEYWORD:AR,asArray:xde,compareShortestLeast:oct}=Ao,$R=new Map,sct=1e4,dr={};var kd=dr;dr.process=async({activeCtx:e,localCtx:t,options:r,propagate:n=!0,overrideProtected:o=!1,cycles:s=new Set})=>{if(Ku(t)&&"@context"in t&&Rde(t["@context"])&&(t=t["@context"]),xde(t).length===0)return e;const l=[],f=[({event:h,next:p})=>{l.push(h),p()}];r.eventHandler&&f.push(r.eventHandler);const u=r;r={...r,eventHandler:f};const d=await r.contextResolver.resolve({activeCtx:e,context:t,documentLoader:r.documentLoader,base:r.base});Ku(d[0].document)&&typeof d[0].document["@propagate"]=="boolean"&&(n=d[0].document["@propagate"]);let g=e;!n&&!g.previousContext&&(g=g.clone(),g.previousContext=e);for(const h of d){let{document:p}=h;if(e=g,p===null){if(!o&&Object.keys(e.protected).length!==0)throw new gt("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});g=e=dr.getInitialContext(r).clone();continue}const w=h.getProcessed(e);if(w){if(u.eventHandler)for(const v of w.events)Zp({event:v,options:u});g=e=w.context;continue}if(Ku(p)&&"@context"in p&&(p=p["@context"]),!Ku(p))throw new gt("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:p});g=g.clone();const y=new Map;if("@version"in p){if(p["@version"]!==1.1)throw new gt("Unsupported JSON-LD version: "+p["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:p});if(e.processingMode&&e.processingMode==="json-ld-1.0")throw new gt("@version: "+p["@version"]+" not compatible with "+e.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:p});g.processingMode="json-ld-1.1",g["@version"]=p["@version"],y.set("@version",!0)}if(g.processingMode=g.processingMode||e.processingMode,"@base"in p){let v=p["@base"];if(!(v===null||Nd(v)))if(nct(v))v=_y(g["@base"],v);else throw new gt('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:p});g["@base"]=v,y.set("@base",!0)}if("@vocab"in p){const v=p["@vocab"];if(v===null)delete g["@vocab"];else if(Di(v)){if(!Nd(v)&&dr.processingMode(g,1))throw new gt('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:p});{const E=eb(g,v,{vocab:!0,base:!0},void 0,void 0,r);Nd(E)||r.eventHandler&&Zp({event:{type:["JsonLdEvent"],code:"relative @vocab reference",level:"warning",message:"Relative @vocab reference found.",details:{vocab:E}},options:r}),g["@vocab"]=E}}else throw new gt('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:p});y.set("@vocab",!0)}if("@language"in p){const v=p["@language"];if(v===null)delete g["@language"];else if(Di(v))v.match(ict)||r.eventHandler&&Zp({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:v}},options:r}),g["@language"]=v.toLowerCase();else throw new gt('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:p});y.set("@language",!0)}if("@direction"in p){const v=p["@direction"];if(e.processingMode==="json-ld-1.0")throw new gt("Invalid JSON-LD syntax; @direction not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:p});if(v===null)delete g["@direction"];else{if(v!=="ltr"&&v!=="rtl")throw new gt('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:p});g["@direction"]=v}y.set("@direction",!0)}if("@propagate"in p){const v=p["@propagate"];if(e.processingMode==="json-ld-1.0")throw new gt("Invalid JSON-LD syntax; @propagate not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:p});if(typeof v!="boolean")throw new gt("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:t});y.set("@propagate",!0)}if("@import"in p){const v=p["@import"];if(e.processingMode==="json-ld-1.0")throw new gt("Invalid JSON-LD syntax; @import not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:p});if(!Di(v))throw new gt("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:t});const E=await r.contextResolver.resolve({activeCtx:e,context:v,documentLoader:r.documentLoader,base:r.base});if(E.length!==1)throw new gt("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:t});const x=E[0].getProcessed(e);if(x)p=x;else{const S=E[0].document;if("@import"in S)throw new gt("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:t});for(const N in S)p.hasOwnProperty(N)||(p[N]=S[N]);E[0].setProcessed(e,p)}y.set("@import",!0)}y.set("@protected",p["@protected"]||!1);for(const v in p)if(dr.createTermDefinition({activeCtx:g,localCtx:p,term:v,defined:y,options:r,overrideProtected:o}),Ku(p[v])&&"@context"in p[v]){const E=p[v]["@context"];let x=!0;if(Di(E)){const S=_y(r.base,E);s.has(S)?x=!1:s.add(S)}if(x)try{await dr.process({activeCtx:g.clone(),localCtx:p[v]["@context"],overrideProtected:!0,options:r,cycles:s})}catch{throw new gt("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:p[v]["@context"],term:v})}}h.setProcessed(e,{context:g,events:l})}return g},dr.createTermDefinition=({activeCtx:e,localCtx:t,term:r,defined:n,options:o,overrideProtected:s=!1})=>{if(n.has(r)){if(n.get(r))return;throw new gt("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:r})}n.set(r,!1);let a;if(t.hasOwnProperty(r)&&(a=t[r]),r==="@type"&&Ku(a)&&(a["@container"]||"@set")==="@set"&&dr.processingMode(e,1.1)){const p=["@container","@id","@protected"],w=Object.keys(a);if(w.length===0||w.some(y=>!p.includes(y)))throw new gt("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:r})}else{if(dr.isKeyword(r))throw new gt("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:r});if(r.match(AR)){o.eventHandler&&Zp({event:{type:["JsonLdEvent"],code:"reserved term",level:"warning",message:'Terms beginning with "@" are reserved for future use and dropped.',details:{term:r}},options:o});return}else if(r==="")throw new gt("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t})}const l=e.mappings.get(r);e.mappings.has(r)&&e.mappings.delete(r);let f=!1;if((Di(a)||a===null)&&(f=!0,a={"@id":a}),!Ku(a))throw new gt("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});const u={};e.mappings.set(r,u),u.reverse=!1;const d=["@container","@id","@language","@reverse","@type"];dr.processingMode(e,1.1)&&d.push("@context","@direction","@index","@nest","@prefix","@protected");for(const p in a)if(!d.includes(p))throw new gt("Invalid JSON-LD syntax; a term definition must not contain "+p,"jsonld.SyntaxError",{code:"invalid term definition",context:t});const g=r.indexOf(":");if(u._termHasColon=g>0,"@reverse"in a){if("@id"in a)throw new gt("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});if("@nest"in a)throw new gt("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});const p=a["@reverse"];if(!Di(p))throw new gt("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(p.match(AR)){o.eventHandler&&Zp({event:{type:["JsonLdEvent"],code:"reserved @reverse value",level:"warning",message:'@reverse values beginning with "@" are reserved for future use and dropped.',details:{reverse:p}},options:o}),l?e.mappings.set(r,l):e.mappings.delete(r);return}const w=eb(e,p,{vocab:!0,base:!1},t,n,o);if(!Nd(w))throw new gt("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});u["@id"]=w,u.reverse=!0}else if("@id"in a){let p=a["@id"];if(p&&!Di(p))throw new gt("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(p===null)u["@id"]=null;else if(!dr.isKeyword(p)&&p.match(AR)){o.eventHandler&&Zp({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:'@id values beginning with "@" are reserved for future use and dropped.',details:{id:p}},options:o}),l?e.mappings.set(r,l):e.mappings.delete(r);return}else if(p!==r){if(p=eb(e,p,{vocab:!0,base:!1},t,n,o),!Nd(p)&&!dr.isKeyword(p))throw new gt("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(r.match(/(?::[^:])|\//)){const w=new Map(n).set(r,!0);if(eb(e,r,{vocab:!0,base:!1},t,w,o)!==p)throw new gt("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t})}u["@id"]=p,u._prefix=f&&!u._termHasColon&&p.match(/[:\/\?#\[\]@]$/)!==null}}if(!("@id"in u))if(u._termHasColon){const p=r.substr(0,g);if(t.hasOwnProperty(p)&&dr.createTermDefinition({activeCtx:e,localCtx:t,term:p,defined:n,options:o}),e.mappings.has(p)){const w=r.substr(g+1);u["@id"]=e.mappings.get(p)["@id"]+w}else u["@id"]=r}else if(r==="@type")u["@id"]=r;else{if(!("@vocab"in e))throw new gt("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:r});u["@id"]=e["@vocab"]+r}if((a["@protected"]===!0||n.get("@protected")===!0&&a["@protected"]!==!1)&&(e.protected[r]=!0,u.protected=!0),n.set(r,!0),"@type"in a){let p=a["@type"];if(!Di(p))throw new gt("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(p==="@json"||p==="@none"){if(dr.processingMode(e,1))throw new gt(`Invalid JSON-LD syntax; an @context @type value must not be "${p}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else if(p!=="@id"&&p!=="@vocab"){if(p=eb(e,p,{vocab:!0,base:!1},t,n,o),!Nd(p))throw new gt("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(p.indexOf("_:")===0)throw new gt("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}u["@type"]=p}if("@container"in a){const p=Di(a["@container"])?[a["@container"]]:a["@container"]||[],w=["@list","@set","@index","@language"];let y=!0;const v=p.includes("@set");if(dr.processingMode(e,1.1)){if(w.push("@graph","@id","@type"),p.includes("@list")){if(p.length!==1)throw new gt("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else if(p.includes("@graph")){if(p.some(E=>E!=="@graph"&&E!=="@id"&&E!=="@index"&&E!=="@set"))throw new gt("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else y&=p.length<=(v?2:1);if(p.includes("@type")&&(u["@type"]=u["@type"]||"@id",!["@id","@vocab"].includes(u["@type"])))throw new gt("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else y&=!Rde(a["@container"]),y&=p.length<=1;if(y&=p.every(E=>w.includes(E)),y&=!(v&&p.includes("@list")),!y)throw new gt("Invalid JSON-LD syntax; @context @container value must be one of the following: "+w.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(u.reverse&&!p.every(E=>["@index","@set"].includes(E)))throw new gt("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});u["@container"]=p}if("@index"in a){if(!("@container"in a)||!u["@container"].includes("@index"))throw new gt(`Invalid JSON-LD syntax; @index without @index in @container: "${a["@index"]}" on term "${r}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});if(!Di(a["@index"])||a["@index"].indexOf("@")===0)throw new gt(`Invalid JSON-LD syntax; @index must expand to an IRI: "${a["@index"]}" on term "${r}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});u["@index"]=a["@index"]}if("@context"in a&&(u["@context"]=a["@context"]),"@language"in a&&!("@type"in a)){let p=a["@language"];if(p!==null&&!Di(p))throw new gt("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});p!==null&&(p=p.toLowerCase()),u["@language"]=p}if("@prefix"in a){if(r.match(/:|\//))throw new gt("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(dr.isKeyword(u["@id"]))throw new gt("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(typeof a["@prefix"]=="boolean")u._prefix=a["@prefix"]===!0;else throw new gt("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:t})}if("@direction"in a){const p=a["@direction"];if(p!==null&&p!=="ltr"&&p!=="rtl")throw new gt('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:t});u["@direction"]=p}if("@nest"in a){const p=a["@nest"];if(!Di(p)||p!=="@nest"&&p.indexOf("@")===0)throw new gt("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:t});u["@nest"]=p}// disallow aliasing @context and @preserve
const h=u["@id"];if(h==="@context"||h==="@preserve")throw new gt("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t});if(l&&l.protected&&!s&&(e.protected[r]=!0,u.protected=!0,!N3(l,u)))throw new gt("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:t,term:r})},dr.expandIri=(e,t,r,n)=>eb(e,t,r,void 0,void 0,n);function eb(e,t,r,n,o,s){if(t===null||!Di(t)||dr.isKeyword(t))return t;if(t.match(AR))return null;if(n&&n.hasOwnProperty(t)&&o.get(t)!==!0&&dr.createTermDefinition({activeCtx:e,localCtx:n,term:t,defined:o,options:s}),r=r||{},r.vocab){const l=e.mappings.get(t);if(l===null)return null;if(Ku(l)&&"@id"in l)return l["@id"]}const a=t.indexOf(":");if(a>0){const l=t.substr(0,a),f=t.substr(a+1);if(l==="_"||f.indexOf("//")===0)return t;n&&n.hasOwnProperty(l)&&dr.createTermDefinition({activeCtx:e,localCtx:n,term:l,defined:o,options:s});const u=e.mappings.get(l);if(u&&u._prefix)return u["@id"]+f;if(Nd(t))return t}if(r.vocab&&"@vocab"in e)t=e["@vocab"]+t;else if(r.base){let l,f;"@base"in e?e["@base"]?(f=_y(s.base,e["@base"]),l=_y(f,t)):(f=e["@base"],l=t):(f=s.base,l=_y(s.base,t)),t=l}return t}dr.getInitialContext=e=>{const t=JSON.stringify({processingMode:e.processingMode}),r=$R.get(t);if(r)return r;const n={processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:o,clone:l,revertToPreviousContext:f,protected:{}};return $R.size===sct&&$R.clear(),$R.set(t,n),n;function o(){const u=this;if(u.inverse)return u.inverse;const d=u.inverse={},g=u.fastCurieMap={},h={},p=(u["@language"]||"@none").toLowerCase(),w=u["@direction"],y=u.mappings,v=[...y.keys()].sort(oct);for(const E of v){const x=y.get(E);if(x===null)continue;let S=x["@container"]||"@none";if(S=[].concat(S).sort().join(""),x["@id"]===null)continue;const N=xde(x["@id"]);for(const $ of N){let D=d[$];const K=dr.isKeyword($);if(D)!K&&!x._termHasColon&&h[$].push(E);else if(d[$]=D={},!K&&!x._termHasColon){h[$]=[E];const q={iri:$,terms:h[$]};$[0]in g?g[$[0]].push(q):g[$[0]]=[q]}if(D[S]||(D[S]={"@language":{},"@type":{},"@any":{}}),D=D[S],a(E,D["@any"],"@none"),x.reverse)a(E,D["@type"],"@reverse");else if(x["@type"]==="@none")a(E,D["@any"],"@none"),a(E,D["@language"],"@none"),a(E,D["@type"],"@none");else if("@type"in x)a(E,D["@type"],x["@type"]);else if("@language"in x&&"@direction"in x){const q=x["@language"],k=x["@direction"];q&&k?a(E,D["@language"],`${q}_${k}`.toLowerCase()):q?a(E,D["@language"],q.toLowerCase()):k?a(E,D["@language"],`_${k}`):a(E,D["@language"],"@null")}else"@language"in x?a(E,D["@language"],(x["@language"]||"@null").toLowerCase()):"@direction"in x?x["@direction"]?a(E,D["@language"],`_${x["@direction"]}`):a(E,D["@language"],"@none"):w?(a(E,D["@language"],`_${w}`),a(E,D["@language"],"@none"),a(E,D["@type"],"@none")):(a(E,D["@language"],p),a(E,D["@language"],"@none"),a(E,D["@type"],"@none"))}}for(const E in g)s(g,E,1);return d}function s(u,d,g){const h=u[d],p=u[d]={};let w,y;for(const v of h)w=v.iri,g>=w.length?y="":y=w[g],y in p?p[y].push(v):p[y]=[v];for(const v in p)v!==""&&s(p,v,g+1)}function a(u,d,g){d.hasOwnProperty(g)||(d[g]=u)}function l(){const u={};return u.mappings=Ede.clone(this.mappings),u.clone=this.clone,u.inverse=null,u.getInverse=this.getInverse,u.protected=Ede.clone(this.protected),this.previousContext&&(u.previousContext=this.previousContext.clone()),u.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(u["@base"]=this["@base"]),"@language"in this&&(u["@language"]=this["@language"]),"@vocab"in this&&(u["@vocab"]=this["@vocab"]),u}function f(){return this.previousContext?this.previousContext.clone():this}},dr.getContextValue=(e,t,r)=>{if(t===null)return r==="@context"?void 0:null;if(e.mappings.has(t)){const n=e.mappings.get(t);if(rct(r))return n;if(n.hasOwnProperty(r))return n[r]}if(r==="@language"&&r in e||r==="@direction"&&r in e)return e[r];if(r!=="@context")return null},dr.processingMode=(e,t)=>t.toString()>="1.1"?!e.processingMode||e.processingMode>="json-ld-"+t.toString():e.processingMode==="json-ld-1.0",dr.isKeyword=e=>{if(!Di(e)||e[0]!=="@")return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1};function N3(e,t){if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return e===t;const r=Array.isArray(e);if(r!==Array.isArray(t))return!1;if(r){if(e.length!==t.length)return!1;for(let s=0;s<e.length;++s)if(!N3(e[s],t[s]))return!1;return!0}const n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(const s in e){let a=e[s],l=t[s];if(s==="@container"&&Array.isArray(a)&&Array.isArray(l)&&(a=a.slice().sort(),l=l.slice().sort()),!N3(a,l))return!1}return!0}const yr=xo,{isArray:$o,isObject:To,isEmptyObject:k3,isString:qn,isUndefined:TR}=Ki,{isList:C3,isValue:O3,isGraph:act,isSubject:lct}=$l,{expandIri:qr,getContextValue:Yi,isKeyword:L3,process:yy,processingMode:IR}=kd,{isAbsolute:NR}=zu,{REGEX_BCP47:Ade,REGEX_KEYWORD:uct,addValue:Xi,asArray:us,getValues:fct,validateTypeValue:cct}=Ao,{handleEvent:Io}=gy,Ju={};var dct=Ju;Ju.expand=async({activeCtx:e,activeProperty:t=null,element:r,options:n={},insideList:o=!1,insideIndex:s=!1,typeScopedContext:a=null})=>{if(r==null)return null;if(t==="@default"&&(n=Object.assign({},n,{isFrame:!1})),!$o(r)&&!To(r))return!o&&(t===null||qr(e,t,{vocab:!0},n)==="@graph")?(n.eventHandler&&Io({event:{type:["JsonLdEvent"],code:"free-floating scalar",level:"warning",message:"Dropping free-floating scalar not in a list.",details:{value:r}},options:n}),null):Ide({activeCtx:e,activeProperty:t,value:r,options:n});if($o(r)){let w=[];const y=Yi(e,t,"@container")||[];o=o||y.includes("@list");for(let v=0;v<r.length;++v){let E=await Ju.expand({activeCtx:e,activeProperty:t,element:r[v],options:n,insideIndex:s,typeScopedContext:a});o&&$o(E)&&(E={"@list":E}),E!==null&&($o(E)?w=w.concat(E):w.push(E))}return w}const l=qr(e,t,{vocab:!0},n),f=Yi(e,t,"@context");a=a||(e.previousContext?e:null);let u=Object.keys(r).sort(),d=!s;if(d&&a&&u.length<=2&&!u.includes("@context"))for(const w of u){const y=qr(a,w,{vocab:!0},n);if(y==="@value"){d=!1,e=a;break}if(y==="@id"&&u.length===1){d=!1;break}}d&&(e=e.revertToPreviousContext()),TR(f)||(e=await yy({activeCtx:e,localCtx:f,propagate:!0,overrideProtected:!0,options:n})),"@context"in r&&(e=await yy({activeCtx:e,localCtx:r["@context"],options:n})),a=e;let g=null;for(const w of u)if(qr(e,w,{vocab:!0},n)==="@type"){g=g||w;const v=r[w],E=Array.isArray(v)?v.length>1?v.slice().sort():v:[v];for(const x of E){const S=Yi(a,x,"@context");TR(S)||(e=await yy({activeCtx:e,localCtx:S,options:n,propagate:!1}))}}let h={};await Tde({activeCtx:e,activeProperty:t,expandedActiveProperty:l,element:r,expandedParent:h,options:n,insideList:o,typeKey:g,typeScopedContext:a}),u=Object.keys(h);let p=u.length;if("@value"in h){if("@type"in h&&("@language"in h||"@direction"in h))throw new yr('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:h});let w=p-1;if("@type"in h&&(w-=1),"@index"in h&&(w-=1),"@language"in h&&(w-=1),"@direction"in h&&(w-=1),w!==0)throw new yr('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:h});const y=h["@value"]===null?[]:us(h["@value"]),v=fct(h,"@type");if(!(IR(e,1.1)&&v.includes("@json")&&v.length===1))if(y.length===0)n.eventHandler&&Io({event:{type:["JsonLdEvent"],code:"null @value value",level:"warning",message:"Dropping null @value value.",details:{value:h}},options:n}),h=null;else{if(!y.every(E=>qn(E)||k3(E))&&"@language"in h)throw new yr("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:h});if(!v.every(E=>NR(E)&&!(qn(E)&&E.indexOf("_:")===0)||k3(E)))throw new yr('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:h})}}else if("@type"in h&&!$o(h["@type"]))h["@type"]=[h["@type"]];else if("@set"in h||"@list"in h){if(p>1&&!(p===2&&"@index"in h))throw new yr('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:h});"@set"in h&&(h=h["@set"],u=Object.keys(h),p=u.length)}else p===1&&"@language"in h&&(n.eventHandler&&Io({event:{type:["JsonLdEvent"],code:"object with only @language",level:"warning",message:"Dropping object with only @language.",details:{value:h}},options:n}),h=null);return To(h)&&!n.keepFreeFloatingNodes&&!o&&(t===null||l==="@graph"||(Yi(e,t,"@container")||[]).includes("@graph"))&&(h=$de({value:h,count:p,options:n})),h};function $de({value:e,count:t,options:r}){if(t===0||"@value"in e||"@list"in e||t===1&&"@id"in e){if(r.eventHandler){let n,o;t===0?(n="empty object",o="Dropping empty object."):"@value"in e?(n="object with only @value",o="Dropping object with only @value."):"@list"in e?(n="object with only @list",o="Dropping object with only @list."):t===1&&"@id"in e&&(n="object with only @id",o="Dropping object with only @id."),Io({event:{type:["JsonLdEvent"],code:n,level:"warning",message:o,details:{value:e}},options:r})}return null}return e}async function Tde({activeCtx:e,activeProperty:t,expandedActiveProperty:r,element:n,expandedParent:o,options:s={},insideList:a,typeKey:l,typeScopedContext:f}){const u=Object.keys(n).sort(),d=[];let g;const h=n[l]&&qr(e,$o(n[l])?n[l][0]:n[l],{vocab:!0},{...s,typeExpansion:!0})==="@json";for(const p of u){let w=n[p],y;if(p==="@context")continue;const v=qr(e,p,{vocab:!0},s);if(v===null||!(NR(v)||L3(v))){s.eventHandler&&Io({event:{type:["JsonLdEvent"],code:"invalid property",level:"warning",message:"Dropping property that did not expand into an absolute IRI or keyword.",details:{property:p,expandedProperty:v}},options:s});continue}if(L3(v)){if(r==="@reverse")throw new yr("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:w});if(v in o&&v!=="@included"&&v!=="@type")throw new yr("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:v})}if(v==="@id"){if(!qn(w)){if(!s.isFrame)throw new yr('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:w});if(To(w)){if(!k3(w))throw new yr('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:w})}else if($o(w)){if(!w.every(N=>qn(N)))throw new yr('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:w})}else throw new yr('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:w})}Xi(o,"@id",us(w).map(N=>{if(qn(N)){const $=qr(e,N,{base:!0},s);return s.eventHandler&&($===null?Io(N===null?{event:{type:["JsonLdEvent"],code:"null @id value",level:"warning",message:"Null @id found.",details:{id:N}},options:s}:{event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:N}},options:s}):NR($)||Io({event:{type:["JsonLdEvent"],code:"relative @id reference",level:"warning",message:"Relative @id reference found.",details:{id:N,expandedId:$}},options:s})),$}return N}),{propertyIsArray:s.isFrame});continue}if(v==="@type"){To(w)&&(w=Object.fromEntries(Object.entries(w).map(([N,$])=>[qr(f,N,{vocab:!0}),us($).map(D=>qr(f,D,{base:!0,vocab:!0},{...s,typeExpansion:!0}))]))),cct(w,s.isFrame),Xi(o,"@type",us(w).map(N=>{if(qn(N)){const $=qr(f,N,{base:!0,vocab:!0},{...s,typeExpansion:!0});return $!=="@json"&&!NR($)&&s.eventHandler&&Io({event:{type:["JsonLdEvent"],code:"relative @type reference",level:"warning",message:"Relative @type reference found.",details:{type:N}},options:s}),$}return N}),{propertyIsArray:!!s.isFrame});continue}if(v==="@included"&&IR(e,1.1)){const N=us(await Ju.expand({activeCtx:e,activeProperty:t,element:w,options:s}));if(!N.every($=>lct($)))throw new yr("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:w});Xi(o,"@included",N,{propertyIsArray:!0});continue}if(v==="@graph"&&!(To(w)||$o(w)))throw new yr('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:w});if(v==="@value"){g=w,h&&IR(e,1.1)?o["@value"]=w:Xi(o,"@value",w,{propertyIsArray:s.isFrame});continue}if(v==="@language"){if(w===null)continue;if(!qn(w)&&!s.isFrame)throw new yr('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:w});w=us(w).map(N=>qn(N)?N.toLowerCase():N);for(const N of w)qn(N)&&!N.match(Ade)&&s.eventHandler&&Io({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:N}},options:s});Xi(o,"@language",w,{propertyIsArray:s.isFrame});continue}if(v==="@direction"){if(!qn(w)&&!s.isFrame)throw new yr('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:w});w=us(w);for(const N of w)if(qn(N)&&N!=="ltr"&&N!=="rtl")throw new yr('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:w});Xi(o,"@direction",w,{propertyIsArray:s.isFrame});continue}if(v==="@index"){if(!qn(w))throw new yr('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:w});Xi(o,"@index",w);continue}if(v==="@reverse"){if(!To(w))throw new yr('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:w});if(y=await Ju.expand({activeCtx:e,activeProperty:"@reverse",element:w,options:s}),"@reverse"in y)for(const $ in y["@reverse"])Xi(o,$,y["@reverse"][$],{propertyIsArray:!0});let N=o["@reverse"]||null;for(const $ in y){if($==="@reverse")continue;N===null&&(N=o["@reverse"]={}),Xi(N,$,[],{propertyIsArray:!0});const D=y[$];for(let K=0;K<D.length;++K){const q=D[K];if(O3(q)||C3(q))throw new yr('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:y});Xi(N,$,q,{propertyIsArray:!0})}}continue}if(v==="@nest"){d.push(p);continue}let E=e;const x=Yi(e,p,"@context");TR(x)||(E=await yy({activeCtx:e,localCtx:x,propagate:!0,overrideProtected:!0,options:s}));const S=Yi(e,p,"@container")||[];if(S.includes("@language")&&To(w)){const N=Yi(E,p,"@direction");y=hct(E,w,N,s)}else if(S.includes("@index")&&To(w)){const N=S.includes("@graph"),$=Yi(E,p,"@index")||"@index",D=$!=="@index"&&qr(e,$,{vocab:!0},s);y=await D3({activeCtx:E,options:s,activeProperty:p,value:w,asGraph:N,indexKey:$,propertyIndex:D})}else if(S.includes("@id")&&To(w)){const N=S.includes("@graph");y=await D3({activeCtx:E,options:s,activeProperty:p,value:w,asGraph:N,indexKey:"@id"})}else if(S.includes("@type")&&To(w))y=await D3({activeCtx:E.revertToPreviousContext(),options:s,activeProperty:p,value:w,asGraph:!1,indexKey:"@type"});else{const N=v==="@list";if(N||v==="@set"){let $=t;N&&r==="@graph"&&($=null),y=await Ju.expand({activeCtx:E,activeProperty:$,element:w,options:s,insideList:N})}else Yi(e,p,"@type")==="@json"?y={"@type":"@json","@value":w}:y=await Ju.expand({activeCtx:E,activeProperty:p,element:w,options:s,insideList:!1})}if(!(y===null&&v!=="@value")){if(v!=="@list"&&!C3(y)&&S.includes("@list")&&(y={"@list":us(y)}),S.includes("@graph")&&!S.some(N=>N==="@id"||N==="@index")){if(y=us(y),s.isFrame||(y=y.filter(N=>{const $=Object.keys(N).length;return $de({value:N,count:$,options:s})!==null})),y.length===0)continue;y=y.map(N=>({"@graph":us(N)}))}if(E.mappings.has(p)&&E.mappings.get(p).reverse){const N=o["@reverse"]=o["@reverse"]||{};y=us(y);for(let $=0;$<y.length;++$){const D=y[$];if(O3(D)||C3(D))throw new yr('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:y});Xi(N,v,D,{propertyIsArray:!0})}continue}Xi(o,v,y,{propertyIsArray:!0})}}if("@value"in o&&!(o["@type"]==="@json"&&IR(e,1.1))){if((To(g)||$o(g))&&!s.isFrame)throw new yr('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:g})}for(const p of d){const w=$o(n[p])?n[p]:[n[p]];for(const y of w){if(!To(y)||Object.keys(y).some(v=>qr(e,v,{vocab:!0},s)==="@value"))throw new yr("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:y});await Tde({activeCtx:e,activeProperty:t,expandedActiveProperty:r,element:y,expandedParent:o,options:s,insideList:a,typeScopedContext:f,typeKey:l})}}}function Ide({activeCtx:e,activeProperty:t,value:r,options:n}){if(r==null)return null;const o=qr(e,t,{vocab:!0},n);if(o==="@id")return qr(e,r,{base:!0},n);if(o==="@type")return qr(e,r,{vocab:!0,base:!0},{...n,typeExpansion:!0});const s=Yi(e,t,"@type");if((s==="@id"||o==="@graph")&&qn(r)){const l=qr(e,r,{base:!0},n);return l===null&&r.match(uct)&&n.eventHandler&&Io({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:t}},options:n}),{"@id":l}}if(s==="@vocab"&&qn(r))return{"@id":qr(e,r,{vocab:!0,base:!0},n)};if(L3(o))return r;const a={};if(s&&!["@id","@vocab","@none"].includes(s))a["@type"]=s;else if(qn(r)){const l=Yi(e,t,"@language");l!==null&&(a["@language"]=l);const f=Yi(e,t,"@direction");f!==null&&(a["@direction"]=f)}return["boolean","number","string"].includes(typeof r)||(r=r.toString()),a["@value"]=r,a}function hct(e,t,r,n){const o=[],s=Object.keys(t).sort();for(const a of s){const l=qr(e,a,{vocab:!0},n);let f=t[a];$o(f)||(f=[f]);for(const u of f){if(u===null)continue;if(!qn(u))throw new yr("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});const d={"@value":u};l!=="@none"&&(a.match(Ade)||n.eventHandler&&Io({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:a}},options:n}),d["@language"]=a.toLowerCase()),r&&(d["@direction"]=r),o.push(d)}}return o}async function D3({activeCtx:e,options:t,activeProperty:r,value:n,asGraph:o,indexKey:s,propertyIndex:a}){const l=[],f=Object.keys(n).sort(),u=s==="@type";for(let d of f){if(u){const p=Yi(e,d,"@context");TR(p)||(e=await yy({activeCtx:e,localCtx:p,propagate:!1,options:t}))}let g=n[d];$o(g)||(g=[g]),g=await Ju.expand({activeCtx:e,activeProperty:r,element:g,options:t,insideList:!1,insideIndex:!0});let h;a?d==="@none"?h="@none":h=Ide({activeCtx:e,activeProperty:s,value:d,options:t}):h=qr(e,d,{vocab:!0},t),s==="@id"?d=qr(e,d,{base:!0},t):u&&(d=h);for(let p of g){if(o&&!act(p)&&(p={"@graph":[p]}),s==="@type")h==="@none"||(p["@type"]?p["@type"]=[d].concat(p["@type"]):p["@type"]=[d]);else{if(O3(p)&&!["@language","@type","@index"].includes(s))throw new yr(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${s}".`,"jsonld.SyntaxError",{code:"invalid value object",value:p});a?h!=="@none"&&Xi(p,a,h,{propertyIsArray:!0,prependValue:!0}):h!=="@none"&&!(s in p)&&(p[s]=d)}l.push(p)}}return l}const{isKeyword:Nde}=kd,la=$l,M3=Ki,ua=Ao,pct=xo,hi={};var kR=hi;hi.createMergedNodeMap=(e,t)=>{t=t||{};const r=t.issuer||new ua.IdentifierIssuer("_:b"),n={"@default":{}};return hi.createNodeMap(e,n,"@default",r),hi.mergeNodeMaps(n)},hi.createNodeMap=(e,t,r,n,o,s)=>{if(M3.isArray(e)){for(const u of e)hi.createNodeMap(u,t,r,n,void 0,s);return}if(!M3.isObject(e)){s&&s.push(e);return}if(la.isValue(e)){if("@type"in e){let u=e["@type"];u.indexOf("_:")===0&&(e["@type"]=u=n.getId(u))}s&&s.push(e);return}else if(s&&la.isList(e)){const u=[];hi.createNodeMap(e["@list"],t,r,n,o,u),s.push({"@list":u});return}if("@type"in e){const u=e["@type"];for(const d of u)d.indexOf("_:")===0&&n.getId(d)}M3.isUndefined(o)&&(o=la.isBlankNode(e)?n.getId(e["@id"]):e["@id"]),s&&s.push({"@id":o});const a=t[r],l=a[o]=a[o]||{};l["@id"]=o;const f=Object.keys(e).sort();for(let u of f){if(u==="@id")continue;if(u==="@reverse"){const g={"@id":o},h=e["@reverse"];for(const p in h){const w=h[p];for(const y of w){let v=y["@id"];la.isBlankNode(y)&&(v=n.getId(v)),hi.createNodeMap(y,t,r,n,v),ua.addValue(a[v],p,g,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if(u==="@graph"){o in t||(t[o]={}),hi.createNodeMap(e[u],t,o,n);continue}if(u==="@included"){hi.createNodeMap(e[u],t,r,n);continue}if(u!=="@type"&&Nde(u)){if(u==="@index"&&u in l&&(e[u]!==l[u]||e[u]["@id"]!==l[u]["@id"]))throw new pct("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:l});l[u]=e[u];continue}const d=e[u];if(u.indexOf("_:")===0&&(u=n.getId(u)),d.length===0){ua.addValue(l,u,[],{propertyIsArray:!0});continue}for(let g of d)if(u==="@type"&&(g=g.indexOf("_:")===0?n.getId(g):g),la.isSubject(g)||la.isSubjectReference(g)){if("@id"in g&&!g["@id"])continue;const h=la.isBlankNode(g)?n.getId(g["@id"]):g["@id"];ua.addValue(l,u,{"@id":h},{propertyIsArray:!0,allowDuplicate:!1}),hi.createNodeMap(g,t,r,n,h)}else if(la.isValue(g))ua.addValue(l,u,g,{propertyIsArray:!0,allowDuplicate:!1});else if(la.isList(g)){const h=[];hi.createNodeMap(g["@list"],t,r,n,o,h),g={"@list":h},ua.addValue(l,u,g,{propertyIsArray:!0,allowDuplicate:!1})}else hi.createNodeMap(g,t,r,n,o),ua.addValue(l,u,g,{propertyIsArray:!0,allowDuplicate:!1})}},hi.mergeNodeMapGraphs=e=>{const t={};for(const r of Object.keys(e).sort())for(const n of Object.keys(e[r]).sort()){const o=e[r][n];n in t||(t[n]={"@id":n});const s=t[n];for(const a of Object.keys(o).sort())if(Nde(a)&&a!=="@type")s[a]=ua.clone(o[a]);else for(const l of o[a])ua.addValue(s,a,ua.clone(l),{propertyIsArray:!0,allowDuplicate:!1})}return t},hi.mergeNodeMaps=e=>{const t=e["@default"],r=Object.keys(e).sort();for(const n of r){if(n==="@default")continue;const o=e[n];let s=t[n];s?"@graph"in s||(s["@graph"]=[]):t[n]=s={"@id":n,"@graph":[]};const a=s["@graph"];for(const l of Object.keys(o).sort()){const f=o[l];la.isSubjectReference(f)||a.push(f)}}return t};const{isSubjectReference:bct}=$l,{createMergedNodeMap:gct}=kR,kde={};var _ct=kde;kde.flatten=e=>{const t=gct(e),r=[],n=Object.keys(t).sort();for(let o=0;o<n.length;++o){const s=t[n[o]];bct(s)||r.push(s)}return r};const P3=xo,F3=$l,wy=Ki,{REGEX_BCP47:Cde,addValue:Ode}=Ao,{handleEvent:Lde}=gy,{RDF_LIST:yct,RDF_FIRST:j3,RDF_REST:W3,RDF_NIL:B3,RDF_TYPE:wct,RDF_JSON_LITERAL:mct,XSD_BOOLEAN:Dde,XSD_DOUBLE:Mde,XSD_INTEGER:Pde,XSD_STRING:U3}=m3,Fde={};var vct=Fde;Fde.fromRDF=async(e,t)=>{const{useRdfType:r=!1,useNativeTypes:n=!1,rdfDirection:o=null}=t,s={},a={"@default":s},l={};if(o){if(o==="compound-literal")throw new P3("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:o});if(o!=="i18n-datatype")throw new P3("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:o})}for(const d of e){const g=d.graph.termType==="DefaultGraph"?"@default":d.graph.value;g in a||(a[g]={}),g!=="@default"&&!(g in s)&&(s[g]={"@id":g});const h=a[g],p=d.subject.value,w=d.predicate.value,y=d.object;p in h||(h[p]={"@id":p});const v=h[p],E=y.termType.endsWith("Node");if(E&&!(y.value in h)&&(h[y.value]={"@id":y.value}),w===wct&&!r&&E){Ode(v,"@type",y.value,{propertyIsArray:!0});continue}const x=Sct(y,n,o,t);if(Ode(v,w,x,{propertyIsArray:!0}),E)if(y.value===B3){const S=h[y.value];"usages"in S||(S.usages=[]),S.usages.push({node:v,property:w,value:x})}else y.value in l?l[y.value]=!1:l[y.value]={node:v,property:w,value:x}}for(const d in a){const g=a[d];if(!(B3 in g))continue;const h=g[B3];if(h.usages){for(let p of h.usages){let w=p.node,y=p.property,v=p.value;const E=[],x=[];let S=Object.keys(w).length;for(;y===W3&&wy.isObject(l[w["@id"]])&&wy.isArray(w[j3])&&w[j3].length===1&&wy.isArray(w[W3])&&w[W3].length===1&&(S===3||S===4&&wy.isArray(w["@type"])&&w["@type"].length===1&&w["@type"][0]===yct)&&(E.push(w[j3][0]),x.push(w["@id"]),p=l[w["@id"]],w=p.node,y=p.property,v=p.value,S=Object.keys(w).length,!!F3.isBlankNode(w)););delete v["@id"],v["@list"]=E.reverse();for(const N of x)delete g[N]}delete h.usages}}const f=[],u=Object.keys(s).sort();for(const d of u){const g=s[d];if(d in a){const h=g["@graph"]=[],p=a[d],w=Object.keys(p).sort();for(const y of w){const v=p[y];F3.isSubjectReference(v)||h.push(v)}}F3.isSubjectReference(g)||f.push(g)}return f};function Sct(e,t,r,n){if(e.termType.endsWith("Node"))return{"@id":e.value};const o={"@value":e.value};if(e.language)e.language.match(Cde)||n.eventHandler&&Lde({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:e.language}},options:n}),o["@language"]=e.language;else{let s=e.datatype.value;if(s||(s=U3),s===mct){s="@json";try{o["@value"]=JSON.parse(o["@value"])}catch(a){throw new P3("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:o["@value"],cause:a})}}if(t){if(s===Dde)o["@value"]==="true"?o["@value"]=!0:o["@value"]==="false"&&(o["@value"]=!1);else if(wy.isNumeric(o["@value"]))if(s===Pde){const a=parseInt(o["@value"],10);a.toFixed(0)===o["@value"]&&(o["@value"]=a)}else s===Mde&&(o["@value"]=parseFloat(o["@value"]));[Dde,Pde,Mde,U3].includes(s)||(o["@type"]=s)}else if(r==="i18n-datatype"&&s.startsWith("https://www.w3.org/ns/i18n#")){const[,a,l]=s.split(/[#_]/);a.length>0&&(o["@language"]=a,a.match(Cde)||n.eventHandler&&Lde({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:a}},options:n})),o["@direction"]=l}else s!==U3&&(o["@type"]=s)}return o}const{createNodeMap:Ect}=kR,{isKeyword:Rct}=kd,jde=$l,xct=cie,Wde=xo,my=Ki,Act=Ao,{handleEvent:Cd}=gy,{RDF_FIRST:$ct,RDF_REST:Tct,RDF_NIL:Ict,RDF_TYPE:Nct,RDF_JSON_LITERAL:kct,RDF_LANGSTRING:Cct,XSD_BOOLEAN:Oct,XSD_DOUBLE:Bde,XSD_INTEGER:Lct,XSD_STRING:Dct}=m3,{isAbsolute:CR}=zu,Ude={};var Mct=Ude;Ude.toRDF=(e,t)=>{const r=new Act.IdentifierIssuer("_:b"),n={"@default":{}};Ect(e,n,"@default",r);const o=[],s=Object.keys(n).sort();for(const a of s){let l;if(a==="@default")l={termType:"DefaultGraph",value:""};else if(CR(a))a.startsWith("_:")?l={termType:"BlankNode"}:l={termType:"NamedNode"},l.value=a;else{t.eventHandler&&Cd({event:{type:["JsonLdEvent"],code:"relative graph reference",level:"warning",message:"Relative graph reference found.",details:{graph:a}},options:t});continue}Pct(o,n[a],l,r,t)}return o};function Pct(e,t,r,n,o){const s=Object.keys(t).sort();for(const a of s){const l=t[a],f=Object.keys(l).sort();for(let u of f){const d=l[u];if(u==="@type")u=Nct;else if(Rct(u))continue;for(const g of d){const h={termType:a.startsWith("_:")?"BlankNode":"NamedNode",value:a};if(!CR(a)){o.eventHandler&&Cd({event:{type:["JsonLdEvent"],code:"relative subject reference",level:"warning",message:"Relative subject reference found.",details:{subject:a}},options:o});continue}const p={termType:u.startsWith("_:")?"BlankNode":"NamedNode",value:u};if(!CR(u)){o.eventHandler&&Cd({event:{type:["JsonLdEvent"],code:"relative predicate reference",level:"warning",message:"Relative predicate reference found.",details:{predicate:u}},options:o});continue}if(p.termType==="BlankNode"&&!o.produceGeneralizedRdf){o.eventHandler&&Cd({event:{type:["JsonLdEvent"],code:"blank node predicate",level:"warning",message:"Dropping blank node predicate.",details:{property:n.getOldIds().find(y=>n.getId(y)===u)}},options:o});continue}const w=q3(g,n,e,r,o.rdfDirection,o);w&&e.push({subject:h,predicate:p,object:w,graph:r})}}}}function Fct(e,t,r,n,o,s){const a={termType:"NamedNode",value:$ct},l={termType:"NamedNode",value:Tct},f={termType:"NamedNode",value:Ict},u=e.pop(),d=u?{termType:"BlankNode",value:t.getId()}:f;let g=d;for(const h of e){const p=q3(h,t,r,n,o,s),w={termType:"BlankNode",value:t.getId()};r.push({subject:g,predicate:a,object:p,graph:n}),r.push({subject:g,predicate:l,object:w,graph:n}),g=w}if(u){const h=q3(u,t,r,n,o,s);r.push({subject:g,predicate:a,object:h,graph:n}),r.push({subject:g,predicate:l,object:f,graph:n})}return d}function q3(e,t,r,n,o,s){const a={};if(jde.isValue(e)){a.termType="Literal",a.value=void 0,a.datatype={termType:"NamedNode"};let l=e["@value"];const f=e["@type"]||null;if(f==="@json")a.value=xct(l),a.datatype.value=kct;else if(my.isBoolean(l))a.value=l.toString(),a.datatype.value=f||Oct;else if(my.isDouble(l)||f===Bde)my.isDouble(l)||(l=parseFloat(l)),a.value=l.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),a.datatype.value=f||Bde;else if(my.isNumber(l))a.value=l.toFixed(0),a.datatype.value=f||Lct;else if("@direction"in e&&o==="i18n-datatype"){const u=(e["@language"]||"").toLowerCase(),d=e["@direction"],g=`https://www.w3.org/ns/i18n#${u}_${d}`;a.datatype.value=g,a.value=l}else{if("@direction"in e&&o==="compound-literal")throw new Wde("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:o});if("@direction"in e&&o)throw new Wde("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:o});"@language"in e?("@direction"in e&&!o&&s.eventHandler&&Cd({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:a.value}},options:s}),a.value=l,a.datatype.value=f||Cct,a.language=e["@language"]):("@direction"in e&&!o&&s.eventHandler&&Cd({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:a.value}},options:s}),a.value=l,a.datatype.value=f||Dct)}}else if(jde.isList(e)){const l=Fct(e["@list"],t,r,n,o,s);a.termType=l.termType,a.value=l.value}else{const l=my.isObject(e)?e["@id"]:e;a.termType=l.startsWith("_:")?"BlankNode":"NamedNode",a.value=l}return a.termType==="NamedNode"&&!CR(a.value)?(s.eventHandler&&Cd({event:{type:["JsonLdEvent"],code:"relative object reference",level:"warning",message:"Relative object reference found.",details:{object:a.value}},options:s}),null):a}const{isKeyword:H3}=kd,No=$l,or=Ki,ln=Ao,qde=zu,vy=xo,{createNodeMap:jct,mergeNodeMapGraphs:Wct}=kR,ko={};var Bct=ko;ko.frameMergedOrDefault=(e,t,r)=>{const n={options:r,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},o=new ln.IdentifierIssuer("_:b");jct(e,n.graphMap,"@default",o),r.merged&&(n.graphMap["@merged"]=Wct(n.graphMap),n.graph="@merged"),n.subjects=n.graphMap[n.graph];const s=[];ko.frame(n,Object.keys(n.subjects).sort(),t,s),r.pruneBlankNodeIdentifiers&&(r.bnodesToClear=Object.keys(n.bnodeMap).filter(a=>n.bnodeMap[a].length===1));// remove @preserve from results
return r.link={},LR(s,r)},ko.frame=(e,t,r,n,o=null)=>{Vde(r),r=r[0];const s=e.options,a={embed:OR(r,s,"embed"),explicit:OR(r,s,"explicit"),requireAll:OR(r,s,"requireAll")};e.link.hasOwnProperty(e.graph)||(e.link[e.graph]={});const l=e.link[e.graph],f=qct(e,t,r,a),u=Object.keys(f).sort();for(const d of u){const g=f[d];if(o===null?e.uniqueEmbeds={[e.graph]:{}}:e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{},a.embed==="@link"&&d in l){Od(n,o,l[d]);continue}const h={"@id":d};if(d.indexOf("_:")===0&&ln.addValue(e.bnodeMap,d,h,{propertyIsArray:!0}),l[d]=h,(a.embed==="@first"||a.embed==="@last")&&e.is11)throw new vy("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:r});if(!(!e.embedded&&e.uniqueEmbeds[e.graph].hasOwnProperty(d))){if(e.embedded&&(a.embed==="@never"||Uct(g,e.graph,e.subjectStack))){Od(n,o,h);continue}if(e.embedded&&(a.embed=="@first"||a.embed=="@once")&&e.uniqueEmbeds[e.graph].hasOwnProperty(d)){Od(n,o,h);continue}if(a.embed==="@last"&&d in e.uniqueEmbeds[e.graph]&&Hct(e,d),e.uniqueEmbeds[e.graph][d]={parent:n,property:o},e.subjectStack.push({subject:g,graph:e.graph}),d in e.graphMap){let p=!1,w=null;"@graph"in r?(w=r["@graph"][0],p=!(d==="@merged"||d==="@default"),or.isObject(w)||(w={})):(p=e.graph!=="@merged",w={}),p&&ko.frame({...e,graph:d,embedded:!1},Object.keys(e.graphMap[d]).sort(),[w],h,"@graph")}"@included"in r&&ko.frame({...e,embedded:!1},t,r["@included"],h,"@included");for(const p of Object.keys(g).sort()){if(H3(p)){if(h[p]=ln.clone(g[p]),p==="@type")for(const w of g["@type"])w.indexOf("_:")===0&&ln.addValue(e.bnodeMap,w,h,{propertyIsArray:!0});continue}if(!(a.explicit&&!(p in r)))for(const w of g[p]){const y=p in r?r[p]:Hde(a);if(No.isList(w)){const v=r[p]&&r[p][0]&&r[p][0]["@list"]?r[p][0]["@list"]:Hde(a),E={"@list":[]};Od(h,p,E);const x=w["@list"];for(const S of x)No.isSubjectReference(S)?ko.frame({...e,embedded:!0},[S["@id"]],v,E,"@list"):Od(E,"@list",ln.clone(S))}else No.isSubjectReference(w)?ko.frame({...e,embedded:!0},[w["@id"]],y,h,p):V3(y[0],w)&&Od(h,p,ln.clone(w))}}for(const p of Object.keys(r).sort()){if(p==="@type"){if(!or.isObject(r[p][0])||!("@default"in r[p][0]))continue}else if(H3(p))continue;const w=r[p][0]||{};if(!OR(w,s,"omitDefault")&&!(p in h)){let v="@null";"@default"in w&&(v=ln.clone(w["@default"])),or.isArray(v)||(v=[v]),h[p]=[{"@preserve":v}]}}for(const p of Object.keys(r["@reverse"]||{}).sort()){const w=r["@reverse"][p];for(const y of Object.keys(e.subjects))ln.getValues(e.subjects[y],p).some(E=>E["@id"]===d)&&(h["@reverse"]=h["@reverse"]||{},ln.addValue(h["@reverse"],p,[],{propertyIsArray:!0}),ko.frame({...e,embedded:!0},[y],w,h["@reverse"][p],o))}Od(n,o,h),e.subjectStack.pop()}}},ko.cleanupNull=(e,t)=>{if(or.isArray(e))return e.map(n=>ko.cleanupNull(n,t)).filter(n=>n);if(e==="@null")return null;if(or.isObject(e)){if("@id"in e){const r=e["@id"];if(t.link.hasOwnProperty(r)){const n=t.link[r].indexOf(e);if(n!==-1)return t.link[r][n];t.link[r].push(e)}else t.link[r]=[e]}for(const r in e)e[r]=ko.cleanupNull(e[r],t)}return e};function Hde(e){const t={};for(const r in e)e[r]!==void 0&&(t["@"+r]=[e[r]]);return[t]}function Uct(e,t,r){for(let n=r.length-1;n>=0;--n){const o=r[n];if(o.graph===t&&o.subject["@id"]===e["@id"])return!0}return!1}function OR(e,t,r){const n="@"+r;let o=n in e?e[n][0]:t[r];if(r==="embed"){if(o===!0)o="@once";else if(o===!1)o="@never";else if(o!=="@always"&&o!=="@never"&&o!=="@link"&&o!=="@first"&&o!=="@last"&&o!=="@once")throw new vy("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:e})}return o}function Vde(e){if(!or.isArray(e)||e.length!==1||!or.isObject(e[0]))throw new vy("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e});if("@id"in e[0]){for(const t of ln.asArray(e[0]["@id"]))if(!(or.isObject(t)||qde.isAbsolute(t))||or.isString(t)&&t.indexOf("_:")===0)throw new vy("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}if("@type"in e[0]){for(const t of ln.asArray(e[0]["@type"]))if(!(or.isObject(t)||qde.isAbsolute(t)||t==="@json")||or.isString(t)&&t.indexOf("_:")===0)throw new vy("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}}function qct(e,t,r,n){const o={};for(const s of t){const a=e.graphMap[e.graph][s];Gde(e,a,r,n)&&(o[s]=a)}return o}function Gde(e,t,r,n){let o=!0,s=!1;for(const a in r){let l=!1;const f=ln.getValues(t,a),u=ln.getValues(r,a).length===0;if(a==="@id"){if(or.isEmptyObject(r["@id"][0]||{})?l=!0:r["@id"].length>=0&&(l=r["@id"].includes(f[0])),!n.requireAll)return l}else if(a==="@type"){if(o=!1,u){if(f.length>0)return!1;l=!0}else if(r["@type"].length===1&&or.isEmptyObject(r["@type"][0]))l=f.length>0;else for(const d of r["@type"])or.isObject(d)&&"@default"in d?l=!0:l=l||f.some(g=>g===d);if(!n.requireAll)return l}else{if(H3(a))continue;{const d=ln.getValues(r,a)[0];let g=!1;if(d&&(Vde([d]),g="@default"in d),o=!1,f.length===0&&g)continue;if(f.length>0&&u)return!1;if(d===void 0){if(f.length>0)return!1;l=!0}else if(No.isList(d)){const h=d["@list"][0];if(No.isList(f[0])){const p=f[0]["@list"];No.isValue(h)?l=p.some(w=>V3(h,w)):(No.isSubject(h)||No.isSubjectReference(h))&&(l=p.some(w=>zde(e,h,w,n)))}}else No.isValue(d)?l=f.some(h=>V3(d,h)):No.isSubjectReference(d)?l=f.some(h=>zde(e,d,h,n)):or.isObject(d)?l=f.length>0:l=!1}}if(!l&&n.requireAll)return!1;s=s||l}return o||s}function Hct(e,t){const r=e.uniqueEmbeds[e.graph],n=r[t],o=n.parent,s=n.property,a={"@id":t};if(or.isArray(o)){for(let f=0;f<o.length;++f)if(ln.compareValues(o[f],a)){o[f]=a;break}}else{const f=or.isArray(o[s]);ln.removeValue(o,s,a,{propertyIsArray:f}),ln.addValue(o,s,a,{propertyIsArray:f})}const l=f=>{const u=Object.keys(r);for(const d of u)d in r&&or.isObject(r[d].parent)&&r[d].parent["@id"]===f&&(delete r[d],l(d))};l(t)}/**
 * Removes the @preserve keywords from expanded result of framing.
 *
 * @param input the framed, framed output.
 * @param options the framing options used.
 *
 * @return the resulting output.
 */function LR(e,t){if(or.isArray(e))return e.map(r=>LR(r,t));if(or.isObject(e)){// remove @preserve
if("@preserve"in e)return e["@preserve"][0];if(No.isValue(e))return e;if(No.isList(e))return e["@list"]=LR(e["@list"],t),e;if("@id"in e){const r=e["@id"];if(t.link.hasOwnProperty(r)){const n=t.link[r].indexOf(e);if(n!==-1)return t.link[r][n];t.link[r].push(e)}else t.link[r]=[e]}for(const r in e){if(r==="@id"&&t.bnodesToClear.includes(e[r])){delete e["@id"];continue}e[r]=LR(e[r],t)}}return e}function Od(e,t,r){or.isObject(e)?ln.addValue(e,t,r,{propertyIsArray:!0}):e.push(r)}function zde(e,t,r,n){if(!("@id"in r))return!1;const o=e.subjects[r["@id"]];return o&&Gde(e,o,t,n)}function V3(e,t){const r=t["@value"],n=t["@type"],o=t["@language"],s=e["@value"]?or.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],a=e["@type"]?or.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],l=e["@language"]?or.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return s.length===0&&a.length===0&&l.length===0?!0:!(!(s.includes(r)||or.isEmptyObject(s[0]))||!(!n&&a.length===0||a.includes(n)||n&&or.isEmptyObject(a[0]))||!(!o&&l.length===0||l.includes(o)||o&&or.isEmptyObject(l[0])))}const G3=xo,{isArray:Yu,isObject:Xu,isString:Kde,isUndefined:z3}=Ki,{isList:K3,isValue:Nl,isGraph:Jde,isSimpleGraph:Yde,isSubjectReference:J3}=$l,{expandIri:Xde,getContextValue:pi,isKeyword:Qde,process:Y3,processingMode:Vct}=kd,{removeBase:Zde,prependBase:Gct}=zu,{REGEX_KEYWORD:zct,addValue:Qi,asArray:DR,compareShortestLeast:Kct}=Ao,It={};var Jct=It;It.compact=async({activeCtx:e,activeProperty:t=null,element:r,options:n={}})=>{if(Yu(r)){let s=[];for(let a=0;a<r.length;++a){const l=await It.compact({activeCtx:e,activeProperty:t,element:r[a],options:n});l!==null&&s.push(l)}return n.compactArrays&&s.length===1&&(pi(e,t,"@container")||[]).length===0&&(s=s[0]),s}const o=pi(e,t,"@context");if(z3(o)||(e=await Y3({activeCtx:e,localCtx:o,propagate:!0,overrideProtected:!0,options:n})),Xu(r)){if(n.link&&"@id"in r&&n.link.hasOwnProperty(r["@id"])){const h=n.link[r["@id"]];for(let p=0;p<h.length;++p)if(h[p].expanded===r)return h[p].compacted}if(Nl(r)||J3(r)){const h=It.compactValue({activeCtx:e,activeProperty:t,value:r,options:n});return n.link&&J3(r)&&(n.link.hasOwnProperty(r["@id"])||(n.link[r["@id"]]=[]),n.link[r["@id"]].push({expanded:r,compacted:h})),h}if(K3(r)&&(pi(e,t,"@container")||[]).includes("@list"))return It.compact({activeCtx:e,activeProperty:t,element:r["@list"],options:n});const s=t==="@reverse",a={},l=e;!Nl(r)&&!J3(r)&&(e=e.revertToPreviousContext());const f=pi(l,t,"@context");z3(f)||(e=await Y3({activeCtx:e,localCtx:f,propagate:!0,overrideProtected:!0,options:n})),n.link&&"@id"in r&&(n.link.hasOwnProperty(r["@id"])||(n.link[r["@id"]]=[]),n.link[r["@id"]].push({expanded:r,compacted:a}));let u=r["@type"]||[];u.length>1&&(u=Array.from(u).sort());const d=e;for(const h of u){const p=It.compactIri({activeCtx:d,iri:h,relativeTo:{vocab:!0}}),w=pi(l,p,"@context");z3(w)||(e=await Y3({activeCtx:e,localCtx:w,options:n,propagate:!1}))}const g=Object.keys(r).sort();for(const h of g){const p=r[h];if(h==="@id"){let w=DR(p).map(v=>It.compactIri({activeCtx:e,iri:v,relativeTo:{vocab:!1},base:n.base}));w.length===1&&(w=w[0]);const y=It.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});a[y]=w;continue}if(h==="@type"){let w=DR(p).map(S=>It.compactIri({activeCtx:l,iri:S,relativeTo:{vocab:!0}}));w.length===1&&(w=w[0]);const y=It.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}}),x=(pi(e,y,"@container")||[]).includes("@set")&&Vct(e,1.1)||Yu(w)&&p.length===0;Qi(a,y,w,{propertyIsArray:x});continue}if(h==="@reverse"){const w=await It.compact({activeCtx:e,activeProperty:"@reverse",element:p,options:n});for(const y in w)if(e.mappings.has(y)&&e.mappings.get(y).reverse){const v=w[y],x=(pi(e,y,"@container")||[]).includes("@set")||!n.compactArrays;Qi(a,y,v,{propertyIsArray:x}),delete w[y]}if(Object.keys(w).length>0){const y=It.compactIri({activeCtx:e,iri:h,relativeTo:{vocab:!0}});Qi(a,y,w)}continue}if(h==="@preserve"){const w=await It.compact({activeCtx:e,activeProperty:t,element:p,options:n});Yu(w)&&w.length===0||Qi(a,h,w);continue}if(h==="@index"){if((pi(e,t,"@container")||[]).includes("@index"))continue;const y=It.compactIri({activeCtx:e,iri:h,relativeTo:{vocab:!0}});Qi(a,y,p);continue}if(h!=="@graph"&&h!=="@list"&&h!=="@included"&&Qde(h)){const w=It.compactIri({activeCtx:e,iri:h,relativeTo:{vocab:!0}});Qi(a,w,p);continue}if(!Yu(p))throw new G3("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(p.length===0){const w=It.compactIri({activeCtx:e,iri:h,value:p,relativeTo:{vocab:!0},reverse:s}),y=e.mappings.has(w)?e.mappings.get(w)["@nest"]:null;let v=a;y&&(ehe(e,y,n),Xu(a[y])||(a[y]={}),v=a[y]),Qi(v,w,p,{propertyIsArray:!0})}for(const w of p){const y=It.compactIri({activeCtx:e,iri:h,value:w,relativeTo:{vocab:!0},reverse:s}),v=e.mappings.has(y)?e.mappings.get(y)["@nest"]:null;let E=a;v&&(ehe(e,v,n),Xu(a[v])||(a[v]={}),E=a[v]);const x=pi(e,y,"@container")||[],S=Jde(w),N=K3(w);let $;N?$=w["@list"]:S&&($=w["@graph"]);let D=await It.compact({activeCtx:e,activeProperty:y,element:N||S?$:w,options:n});if(N)if(Yu(D)||(D=[D]),!x.includes("@list"))D={[It.compactIri({activeCtx:e,iri:"@list",relativeTo:{vocab:!0}})]:D},"@index"in w&&(D[It.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=w["@index"]);else{Qi(E,y,D,{valueIsArray:!0,allowDuplicate:!0});continue}if(S)if(x.includes("@graph")&&(x.includes("@id")||x.includes("@index")&&Yde(w))){let K;E.hasOwnProperty(y)?K=E[y]:E[y]=K={};const q=(x.includes("@id")?w["@id"]:w["@index"])||It.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}});Qi(K,q,D,{propertyIsArray:!n.compactArrays||x.includes("@set")})}else x.includes("@graph")&&Yde(w)?(Yu(D)&&D.length>1&&(D={"@included":D}),Qi(E,y,D,{propertyIsArray:!n.compactArrays||x.includes("@set")})):(Yu(D)&&D.length===1&&n.compactArrays&&(D=D[0]),D={[It.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}})]:D},"@id"in w&&(D[It.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=w["@id"]),"@index"in w&&(D[It.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=w["@index"]),Qi(E,y,D,{propertyIsArray:!n.compactArrays||x.includes("@set")}));else if(x.includes("@language")||x.includes("@index")||x.includes("@id")||x.includes("@type")){let K;E.hasOwnProperty(y)?K=E[y]:E[y]=K={};let q;if(x.includes("@language"))Nl(D)&&(D=D["@value"]),q=w["@language"];else if(x.includes("@index")){const k=pi(e,y,"@index")||"@index",V=It.compactIri({activeCtx:e,iri:k,relativeTo:{vocab:!0}});if(k==="@index")q=w["@index"],delete D[V];else{let j;if([q,...j]=DR(D[k]||[]),!Kde(q))q=null;else switch(j.length){case 0:delete D[k];break;case 1:D[k]=j[0];break;default:D[k]=j;break}}}else if(x.includes("@id")){const k=It.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});q=D[k],delete D[k]}else if(x.includes("@type")){const k=It.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}});let V;switch([q,...V]=DR(D[k]||[]),V.length){case 0:delete D[k];break;case 1:D[k]=V[0];break;default:D[k]=V;break}Object.keys(D).length===1&&"@id"in w&&(D=await It.compact({activeCtx:e,activeProperty:y,element:{"@id":w["@id"]},options:n}))}q||(q=It.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}})),Qi(K,q,D,{propertyIsArray:x.includes("@set")})}else{const K=!n.compactArrays||x.includes("@set")||x.includes("@list")||Yu(D)&&D.length===0||h==="@list"||h==="@graph";Qi(E,y,D,{propertyIsArray:K})}}}return a}return r},It.compactIri=({activeCtx:e,iri:t,value:r=null,relativeTo:n={vocab:!1},reverse:o=!1,base:s=null})=>{if(t===null)return t;e.isPropertyTermScoped&&e.previousContext&&(e=e.previousContext);const a=e.getInverse();if(Qde(t)&&t in a&&"@none"in a[t]&&"@type"in a[t]["@none"]&&"@none"in a[t]["@none"]["@type"])return a[t]["@none"]["@type"]["@none"];if(n.vocab&&t in a){const g=e["@language"]||"@none",h=[];Xu(r)&&"@index"in r&&!("@graph"in r)&&h.push("@index","@index@set"),Xu(r)&&"@preserve"in r&&(r=r["@preserve"][0]),Jde(r)?("@index"in r&&h.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r&&h.push("@graph@id","@graph@id@set"),h.push("@graph","@graph@set","@set"),"@index"in r||h.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r||h.push("@graph@id","@graph@id@set")):Xu(r)&&!Nl(r)&&h.push("@id","@id@set","@type","@set@type");let p="@language",w="@null";if(o)p="@type",w="@reverse",h.push("@set");else if(K3(r)){"@index"in r||h.push("@list");const v=r["@list"];if(v.length===0)p="@any",w="@none";else{let E=v.length===0?g:null,x=null;for(let S=0;S<v.length;++S){const N=v[S];let $="@none",D="@none";if(Nl(N))if("@direction"in N){const K=(N["@language"]||"").toLowerCase(),q=N["@direction"];$=`${K}_${q}`}else"@language"in N?$=N["@language"].toLowerCase():"@type"in N?D=N["@type"]:$="@null";else D="@id";if(E===null?E=$:$!==E&&Nl(N)&&(E="@none"),x===null?x=D:D!==x&&(x="@none"),E==="@none"&&x==="@none")break}E=E||"@none",x=x||"@none",x!=="@none"?(p="@type",w=x):w=E}}else{if(Nl(r))if("@language"in r&&!("@index"in r)){h.push("@language","@language@set"),w=r["@language"];const v=r["@direction"];v&&(w=`${w}_${v}`)}else"@direction"in r&&!("@index"in r)?w=`_${r["@direction"]}`:"@type"in r&&(p="@type",w=r["@type"]);else p="@type",w="@id";h.push("@set")}h.push("@none"),Xu(r)&&!("@index"in r)&&h.push("@index","@index@set"),Nl(r)&&Object.keys(r).length===1&&h.push("@language","@language@set");const y=Yct(e,t,r,h,p,w);if(y!==null)return y}if(n.vocab&&"@vocab"in e){const g=e["@vocab"];if(t.indexOf(g)===0&&t!==g){const h=t.substr(g.length);if(!e.mappings.has(h))return h}}let l=null;const f=[];let u=e.fastCurieMap;const d=t.length-1;for(let g=0;g<d&&t[g]in u;++g)u=u[t[g]],""in u&&f.push(u[""][0]);for(let g=f.length-1;g>=0;--g){const h=f[g],p=h.terms;for(const w of p){const y=w+":"+t.substr(h.iri.length);e.mappings.get(w)._prefix&&(!e.mappings.has(y)||r===null&&e.mappings.get(y)["@id"]===t)&&(l===null||Kct(y,l)<0)&&(l=y)}}if(l!==null)return l;for(const[g,h]of e.mappings)if(h&&h._prefix&&t.startsWith(g+":"))throw new G3(`Absolute IRI "${t}" confused with prefix "${g}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:e});if(!n.vocab)if("@base"in e)if(e["@base"]){const g=Zde(Gct(s,e["@base"]),t);return zct.test(g)?`./${g}`:g}else return t;else return Zde(s,t);return t},It.compactValue=({activeCtx:e,activeProperty:t,value:r,options:n})=>{if(Nl(r)){const l=pi(e,t,"@type"),f=pi(e,t,"@language"),u=pi(e,t,"@direction"),d=pi(e,t,"@container")||[],g="@index"in r&&!d.includes("@index");if(!g&&l!=="@none"&&(r["@type"]===l||"@language"in r&&r["@language"]===f&&"@direction"in r&&r["@direction"]===u||"@language"in r&&r["@language"]===f||"@direction"in r&&r["@direction"]===u))return r["@value"];const h=Object.keys(r).length,p=h===1||h===2&&"@index"in r&&!g,w="@language"in e,y=Kde(r["@value"]),v=e.mappings.has(t)&&e.mappings.get(t)["@language"]===null;if(p&&l!=="@none"&&(!w||!y||v))return r["@value"];const E={};return g&&(E[It.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=r["@index"]),"@type"in r?E[It.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}})]=It.compactIri({activeCtx:e,iri:r["@type"],relativeTo:{vocab:!0}}):"@language"in r&&(E[It.compactIri({activeCtx:e,iri:"@language",relativeTo:{vocab:!0}})]=r["@language"]),"@direction"in r&&(E[It.compactIri({activeCtx:e,iri:"@direction",relativeTo:{vocab:!0}})]=r["@direction"]),E[It.compactIri({activeCtx:e,iri:"@value",relativeTo:{vocab:!0}})]=r["@value"],E}const o=Xde(e,t,{vocab:!0},n),s=pi(e,t,"@type"),a=It.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:s==="@vocab"},base:n.base});return s==="@id"||s==="@vocab"||o==="@graph"?a:{[It.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]:a}};function Yct(e,t,r,n,o,s){s===null&&(s="@null");const a=[];if((s==="@id"||s==="@reverse")&&Xu(r)&&"@id"in r){s==="@reverse"&&a.push("@reverse");const f=It.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:!0}});e.mappings.has(f)&&e.mappings.get(f)&&e.mappings.get(f)["@id"]===r["@id"]?a.push.apply(a,["@vocab","@id"]):a.push.apply(a,["@id","@vocab"])}else{a.push(s);const f=a.find(u=>u.includes("_"));f&&a.push(f.replace(/^[^_]+_/,"_"))}a.push("@none");const l=e.inverse[t];for(const f of n){if(!(f in l))continue;const u=l[f][o];for(const d of a)if(d in u)return u[d]}return null}function ehe(e,t,r){if(Xde(e,t,{vocab:!0},r)!=="@nest")throw new G3("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}var X3,the;function Xct(){return the||(the=1,X3=e=>{class t{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(r,n){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(r,n)},t.expand=function(r){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(r)},t.flatten=function(r){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(r)},t}),X3}/**
 * A JavaScript implementation of the JSON-LD API.
 *
 * @author Dave Longley
 *
 * @license BSD 3-Clause License
 * Copyright (c) 2011-2022 Digital Bazaar, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright
 * notice, this list of conditions and the following disclaimer in the
 * documentation and/or other materials provided with the distribution.
 *
 * Neither the name of the Digital Bazaar, Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */const rhe=w3,nhe=Fft,Qu=Ao,kl=Xft,Q3=Qu.IdentifierIssuer,fa=xo,Qct=yde,MR=Zft,{expand:Zct}=dct,{flatten:edt}=_ct,{fromRDF:tdt}=vct,{toRDF:rdt}=Mct,{frameMergedOrDefault:ndt,cleanupNull:idt}=Bct,{isArray:tb,isObject:Ld,isString:ca}=Ki,{isSubjectReference:odt}=$l,{expandIri:sdt,getInitialContext:PR,process:ihe,processingMode:Z3}=kd,{compact:adt,compactIri:ldt}=Jct,{createNodeMap:udt,createMergedNodeMap:fdt,mergeNodeMaps:cdt}=kR,{logEventHandler:ddt,logWarningEventHandler:hdt,safeEventHandler:pdt,setDefaultEventHandler:bdt,setupEventHandler:gdt,strictEventHandler:_dt,unhandledEventHandler:ydt}=gy,ohe=function(e){const t={},n=new Qct({max:100});e.compact=async function(s,a,l){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(a===null)throw new fa("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(s===null)return null;l=o(l,{base:ca(s)?s:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new Q3("_:b"),contextResolver:new kl({sharedCache:n})}),l.link&&(l.skipExpansion=!0),l.compactToRelative||delete l.base;let f;l.skipExpansion?f=s:f=await e.expand(s,l);const u=await e.processContext(PR(l),a,l);let d=await adt({activeCtx:u,element:f,options:l});l.compactArrays&&!l.graph&&tb(d)?d.length===1?d=d[0]:d.length===0&&(d={}):l.graph&&Ld(d)&&(d=[d]),Ld(a)&&"@context"in a&&(a=a["@context"]),a=Qu.clone(a),tb(a)||(a=[a]);const g=a;a=[];for(let p=0;p<g.length;++p)(!Ld(g[p])||Object.keys(g[p]).length>0)&&a.push(g[p]);const h=a.length>0;if(a.length===1&&(a=a[0]),tb(d)){const p=ldt({activeCtx:u,iri:"@graph",relativeTo:{vocab:!0}}),w=d;d={},h&&(d["@context"]=a),d[p]=w}else if(Ld(d)&&h){const p=d;d={"@context":a};for(const w in p)d[w]=p[w]}return d},e.expand=async function(s,a){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");a=o(a,{keepFreeFloatingNodes:!1,contextResolver:new kl({sharedCache:n})});const l={},f=[];if("expandContext"in a){const h=Qu.clone(a.expandContext);Ld(h)&&"@context"in h?l.expandContext=h:l.expandContext={"@context":h},f.push(l.expandContext)}let u;if(!ca(s))l.input=Qu.clone(s);else{const h=await e.get(s,a);u=h.documentUrl,l.input=h.document,h.contextUrl&&(l.remoteContext={"@context":h.contextUrl},f.push(l.remoteContext))}"base"in a||(a.base=u||"");let d=PR(a);for(const h of f)d=await ihe({activeCtx:d,localCtx:h,options:a});let g=await Zct({activeCtx:d,element:l.input,options:a});return Ld(g)&&"@graph"in g&&Object.keys(g).length===1?g=g["@graph"]:g===null&&(g=[]),tb(g)||(g=[g]),g},e.flatten=async function(s,a,l){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");typeof a=="function"?a=null:a=a||null,l=o(l,{base:ca(s)?s:"",contextResolver:new kl({sharedCache:n})});const f=await e.expand(s,l),u=edt(f);return a===null?u:(l.graph=!0,l.skipExpansion=!0,await e.compact(u,a,l))},e.frame=async function(s,a,l){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(l=o(l,{base:ca(s)?s:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new kl({sharedCache:n})}),ca(a)){const v=await e.get(a,l);if(a=v.document,v.contextUrl){let E=a["@context"];E?tb(E)?E.push(v.contextUrl):E=[E,v.contextUrl]:E=v.contextUrl,a["@context"]=E}}const f=a?a["@context"]||{}:{},u=await e.processContext(PR(l),f,l);l.hasOwnProperty("omitGraph")||(l.omitGraph=Z3(u,1.1)),l.hasOwnProperty("pruneBlankNodeIdentifiers")||(l.pruneBlankNodeIdentifiers=Z3(u,1.1));const d=await e.expand(s,l),g={...l};g.isFrame=!0,g.keepFreeFloatingNodes=!0;const h=await e.expand(a,g),p=Object.keys(a).map(v=>sdt(u,v,{vocab:!0}));g.merged=!p.includes("@graph"),g.is11=Z3(u,1.1);const w=ndt(d,h,g);g.graph=!l.omitGraph,g.skipExpansion=!0,g.link={},g.framing=!0;let y=await e.compact(w,f,g);return g.link={},y=idt(y,g),y},e.link=async function(s,a,l){const f={};return a&&(f["@context"]=a),f["@embed"]="@link",e.frame(s,f,l)},e.normalize=e.canonize=async function(s,a){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if(a=o(a,{base:ca(s)?s:null,algorithm:"URDNA2015",skipExpansion:!1,safe:!0,contextResolver:new kl({sharedCache:n})}),"inputFormat"in a){if(a.inputFormat!=="application/n-quads"&&a.inputFormat!=="application/nquads")throw new fa("Unknown canonicalization input format.","jsonld.CanonizeError");const u=MR.parse(s);return rhe.canonize(u,a)}const l={...a};delete l.format,l.produceGeneralizedRdf=!1;const f=await e.toRDF(s,l);return rhe.canonize(f,a)},e.fromRDF=async function(s,a){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");a=o(a,{format:ca(s)?"application/n-quads":void 0});const{format:l}=a;let{rdfParser:f}=a;if(l){if(f=f||t[l],!f)throw new fa("Unknown input format.","jsonld.UnknownFormat",{format:l})}else f=()=>s;const u=await f(s);return tdt(u,a)},e.toRDF=async function(s,a){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");a=o(a,{base:ca(s)?s:"",skipExpansion:!1,contextResolver:new kl({sharedCache:n})});let l;a.skipExpansion?l=s:l=await e.expand(s,a);const f=rdt(l,a);if(a.format){if(a.format==="application/n-quads"||a.format==="application/nquads")return MR.serialize(f);throw new fa("Unknown output format.","jsonld.UnknownFormat",{format:a.format})}return f},e.createNodeMap=async function(s,a){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");a=o(a,{base:ca(s)?s:"",contextResolver:new kl({sharedCache:n})});const l=await e.expand(s,a);return fdt(l,a)},e.merge=async function(s,a,l){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!tb(s))throw new TypeError('Could not merge, "docs" must be an array.');typeof a=="function"?a=null:a=a||null,l=o(l,{contextResolver:new kl({sharedCache:n})});const f=await Promise.all(s.map(v=>{const E={...l};return e.expand(v,E)}));let u=!0;"mergeNodes"in l&&(u=l.mergeNodes);const d=l.issuer||new Q3("_:b"),g={"@default":{}};for(let v=0;v<f.length;++v){const E=Qu.relabelBlankNodes(f[v],{issuer:new Q3("_:b"+v+"-")}),x=u||v===0?g:{"@default":{}};if(udt(E,x,"@default",d),x!==g)for(const S in x){const N=x[S];if(!(S in g)){g[S]=N;continue}const $=g[S];for(const D in N)D in $||($[D]=N[D])}}const h=cdt(g),p=[],w=Object.keys(h).sort();for(let v=0;v<w.length;++v){const E=h[w[v]];odt(E)||p.push(E)}return a===null?p:(l.graph=!0,l.skipExpansion=!0,await e.compact(p,a,l))},Object.defineProperty(e,"documentLoader",{get:()=>e._documentLoader,set:s=>e._documentLoader=s}),e.documentLoader=async s=>{throw new fa("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:s})},e.get=async function(s,a){let l;typeof a.documentLoader=="function"?l=a.documentLoader:l=e.documentLoader;const f=await l(s);try{if(!f.document)throw new fa("No remote document found at the given URL.","jsonld.NullRemoteDocument");ca(f.document)&&(f.document=JSON.parse(f.document))}catch(u){throw new fa("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:u,remoteDoc:f})}return f},e.processContext=async function(s,a,l){return l=o(l,{base:"",contextResolver:new kl({sharedCache:n})}),a===null?PR(l):(a=Qu.clone(a),Ld(a)&&"@context"in a||(a={"@context":a}),ihe({activeCtx:s,localCtx:a,options:l}))},e.getContextValue=kd.getContextValue,e.documentLoaders={},e.useDocumentLoader=function(s){if(!(s in e.documentLoaders))throw new fa('Unknown document loader type: "'+s+'"',"jsonld.UnknownDocumentLoader",{type:s});e.documentLoader=e.documentLoaders[s].apply(e,Array.prototype.slice.call(arguments,1))},e.registerRDFParser=function(s,a){t[s]=a},e.unregisterRDFParser=function(s){delete t[s]},e.registerRDFParser("application/n-quads",MR.parse),e.registerRDFParser("application/nquads",MR.parse),e.url=zu,e.logEventHandler=ddt,e.logWarningEventHandler=hdt,e.safeEventHandler=pdt,e.setDefaultEventHandler=bdt,e.strictEventHandler=_dt,e.unhandledEventHandler=ydt,e.util=Qu,Object.assign(e,Qu),e.promises=e,e.RequestQueue=hde(),e.JsonLdProcessor=Xct()(e),nhe.setupGlobals(e),nhe.setupDocumentLoaders(e);function o(s,{documentLoader:a=e.documentLoader,...l}){if(s&&"compactionMap"in s)throw new fa('"compactionMap" not supported.',"jsonld.OptionsError");if(s&&"expansionMap"in s)throw new fa('"expansionMap" not supported.',"jsonld.OptionsError");return Object.assign({},{documentLoader:a},l,s,{eventHandler:gdt({options:s})})}return e},eW=function(){return ohe(function(){return eW()})};ohe(eW);var wdt=eW;const FR=zr(wdt);var she={exports:{}},tW={exports:{}},Lr={ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,t){return e.includes(t)},ArrayPrototypeIndexOf(e,t){return e.indexOf(t)},ArrayPrototypeJoin(e,t){return e.join(t)},ArrayPrototypeMap(e,t){return e.map(t)},ArrayPrototypePop(e,t){return e.pop(t)},ArrayPrototypePush(e,t){return e.push(t)},ArrayPrototypeSlice(e,t,r){return e.slice(t,r)},Error,FunctionPrototypeCall(e,t,...r){return e.call(t,...r)},FunctionPrototypeSymbolHasInstance(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,t){return Object.defineProperties(e,t)},ObjectDefineProperty(e,t,r){return Object.defineProperty(e,t,r)},ObjectGetOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,t){return Object.setPrototypeOf(e,t)},Promise,PromisePrototypeCatch(e,t){return e.catch(t)},PromisePrototypeThen(e,t,r){return e.then(t,r)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,t){return e.test(t)},SafeSet:Set,String,StringPrototypeSlice(e,t,r){return e.slice(t,r)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,t,r){return e.set(t,r)},Boolean,Uint8Array},ahe={exports:{}};(function(e){const t=Ge,{kResistStopPropagation:r,SymbolDispose:n}=Lr,o=globalThis.AbortSignal||bt().AbortSignal,s=globalThis.AbortController||bt().AbortController,a=Object.getPrototypeOf(async function(){}).constructor,l=globalThis.Blob||t.Blob,f=typeof l<"u"?function(p){return p instanceof l}:function(p){return!1},u=(h,p)=>{if(h!==void 0&&(h===null||typeof h!="object"||!("aborted"in h)))throw new ERR_INVALID_ARG_TYPE(p,"AbortSignal",h)},d=(h,p)=>{if(typeof h!="function")throw new ERR_INVALID_ARG_TYPE(p,"Function",h)};class g extends Error{constructor(p){if(!Array.isArray(p))throw new TypeError(`Expected input to be an Array, got ${typeof p}`);let w="";for(let y=0;y<p.length;y++)w+=`    ${p[y].stack}
`;super(w),this.name="AggregateError",this.errors=p}}e.exports={AggregateError:g,kEmptyObject:Object.freeze({}),once(h){let p=!1;return function(...w){p||(p=!0,h.apply(this,w))}},createDeferredPromise:function(){let h,p;return{promise:new Promise((y,v)=>{h=y,p=v}),resolve:h,reject:p}},promisify(h){return new Promise((p,w)=>{h((y,...v)=>y?w(y):p(...v))})},debuglog(){return function(){}},format(h,...p){return h.replace(/%([sdifj])/g,function(...[w,y]){const v=p.shift();return y==="f"?v.toFixed(6):y==="j"?JSON.stringify(v):y==="s"&&typeof v=="object"?`${v.constructor!==Object?v.constructor.name:""} {}`.trim():v.toString()})},inspect(h){switch(typeof h){case"string":if(h.includes("'"))if(h.includes('"')){if(!h.includes("`")&&!h.includes("${"))return`\`${h}\``}else return`"${h}"`;return`'${h}'`;case"number":return isNaN(h)?"NaN":Object.is(h,-0)?String(h):h;case"bigint":return`${String(h)}n`;case"boolean":case"undefined":return String(h);case"object":return"{}"}},types:{isAsyncFunction(h){return h instanceof a},isArrayBufferView(h){return ArrayBuffer.isView(h)}},isBlob:f,deprecate(h,p){return h},addAbortListener:$t.addAbortListener||function(p,w){if(p===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",p);u(p,"signal"),d(w,"listener");let y;return p.aborted?queueMicrotask(()=>w()):(p.addEventListener("abort",w,{__proto__:null,once:!0,[r]:!0}),y=()=>{p.removeEventListener("abort",w)}),{__proto__:null,[n](){var v;(v=y)===null||v===void 0||v()}}},AbortSignalAny:o.any||function(p){if(p.length===1)return p[0];const w=new s,y=()=>w.abort();return p.forEach(v=>{u(v,"signals"),v.addEventListener("abort",y,{once:!0})}),w.signal.addEventListener("abort",()=>{p.forEach(v=>v.removeEventListener("abort",y))},{once:!0}),w.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(ahe);var bi=ahe.exports,rW={};const{format:mdt,inspect:jR,AggregateError:vdt}=bi,Sdt=globalThis.AggregateError||vdt,Edt=Symbol("kIsNodeError"),Rdt=["string","function","number","object","Function","Object","boolean","bigint","symbol"],xdt=/^([A-Z][a-z0-9]*)+$/,Adt="__node_internal_",WR={};function Dd(e,t){if(!e)throw new WR.ERR_INTERNAL_ASSERTION(t)}function lhe(e){let t="",r=e.length;const n=e[0]==="-"?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function $dt(e,t,r){if(typeof t=="function")return Dd(t.length<=r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${t.length}).`),t(...r);const n=(t.match(/%[dfijoOs]/g)||[]).length;return Dd(n===r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?t:mdt(t,...r)}function An(e,t,r){r||(r=Error);class n extends r{constructor(...s){super($dt(e,t,s))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=e,n.prototype[Edt]=!0,WR[e]=n}function uhe(e){const t=Adt+e.name;return Object.defineProperty(e,"name",{value:t}),e}function Tdt(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;const r=new Sdt([t,e],t.message);return r.code=t.code,r}return e||t}let Idt=class extends Error{constructor(t="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new WR.ERR_INVALID_ARG_TYPE("options","Object",r);super(t,r),this.code="ABORT_ERR",this.name="AbortError"}};An("ERR_ASSERTION","%s",Error),An("ERR_INVALID_ARG_TYPE",(e,t,r)=>{Dd(typeof e=="string","'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+=`${e} `:n+=`"${e}" ${e.includes(".")?"property":"argument"} `,n+="must be ";const o=[],s=[],a=[];for(const f of t)Dd(typeof f=="string","All expected entries have to be of type string"),Rdt.includes(f)?o.push(f.toLowerCase()):xdt.test(f)?s.push(f):(Dd(f!=="object",'The value "object" should be written as "Object"'),a.push(f));if(s.length>0){const f=o.indexOf("object");f!==-1&&(o.splice(o,f,1),s.push("Object"))}if(o.length>0){switch(o.length){case 1:n+=`of type ${o[0]}`;break;case 2:n+=`one of type ${o[0]} or ${o[1]}`;break;default:{const f=o.pop();n+=`one of type ${o.join(", ")}, or ${f}`}}(s.length>0||a.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{const f=s.pop();n+=`an instance of ${s.join(", ")}, or ${f}`}}a.length>0&&(n+=" or ")}switch(a.length){case 0:break;case 1:a[0].toLowerCase()!==a[0]&&(n+="an "),n+=`${a[0]}`;break;case 2:n+=`one of ${a[0]} or ${a[1]}`;break;default:{const f=a.pop();n+=`one of ${a.join(", ")}, or ${f}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var l;if((l=r.constructor)!==null&&l!==void 0&&l.name)n+=`. Received an instance of ${r.constructor.name}`;else{const f=jR(r,{depth:-1});n+=`. Received ${f}`}}else{let f=jR(r,{colors:!1});f.length>25&&(f=`${f.slice(0,25)}...`),n+=`. Received type ${typeof r} (${f})`}return n},TypeError),An("ERR_INVALID_ARG_VALUE",(e,t,r="is invalid")=>{let n=jR(t);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${e.includes(".")?"property":"argument"} '${e}' ${r}. Received ${n}`},TypeError),An("ERR_INVALID_RETURN_VALUE",(e,t,r)=>{var n;const o=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${e} to be returned from the "${t}" function but got ${o}.`},TypeError),An("ERR_MISSING_ARGS",(...e)=>{Dd(e.length>0,"At least one arg needs to be specified");let t;const r=e.length;switch(e=(Array.isArray(e)?e:[e]).map(n=>`"${n}"`).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{const n=e.pop();t+=`The ${e.join(", ")}, and ${n} arguments`}break}return`${t} must be specified`},TypeError),An("ERR_OUT_OF_RANGE",(e,t,r)=>{Dd(t,'Missing "range" argument');let n;return Number.isInteger(r)&&Math.abs(r)>2**32?n=lhe(String(r)):typeof r=="bigint"?(n=String(r),(r>2n**32n||r<-(2n**32n))&&(n=lhe(n)),n+="n"):n=jR(r),`The value of "${e}" is out of range. It must be ${t}. Received ${n}`},RangeError),An("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),An("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),An("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),An("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),An("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),An("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),An("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),An("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),An("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),An("ERR_STREAM_WRITE_AFTER_END","write after end",Error),An("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);var Mi={AbortError:Idt,aggregateTwoErrors:uhe(Tdt),hideStackFrames:uhe,codes:WR};const{ArrayIsArray:nW,ArrayPrototypeIncludes:fhe,ArrayPrototypeJoin:che,ArrayPrototypeMap:Ndt,NumberIsInteger:iW,NumberIsNaN:kdt,NumberMAX_SAFE_INTEGER:Cdt,NumberMIN_SAFE_INTEGER:Odt,NumberParseInt:Ldt,ObjectPrototypeHasOwnProperty:Ddt,RegExpPrototypeExec:dhe,String:Mdt,StringPrototypeToUpperCase:Pdt,StringPrototypeTrim:Fdt}=Lr,{hideStackFrames:Co,codes:{ERR_SOCKET_BAD_PORT:jdt,ERR_INVALID_ARG_TYPE:Hn,ERR_INVALID_ARG_VALUE:rb,ERR_OUT_OF_RANGE:Md,ERR_UNKNOWN_SIGNAL:hhe}}=Mi,{normalizeEncoding:Wdt}=bi,{isAsyncFunction:Bdt,isArrayBufferView:Udt}=bi.types,phe={};function qdt(e){return e===(e|0)}function Hdt(e){return e===e>>>0}const Vdt=/^[0-7]+$/,Gdt="must be a 32-bit unsigned integer or an octal string";function zdt(e,t,r){if(typeof e>"u"&&(e=r),typeof e=="string"){if(dhe(Vdt,e)===null)throw new rb(t,e,Gdt);e=Ldt(e,8)}return bhe(e,t),e}const Kdt=Co((e,t,r=Odt,n=Cdt)=>{if(typeof e!="number")throw new Hn(t,"number",e);if(!iW(e))throw new Md(t,"an integer",e);if(e<r||e>n)throw new Md(t,`>= ${r} && <= ${n}`,e)}),Jdt=Co((e,t,r=-2147483648,n=2147483647)=>{if(typeof e!="number")throw new Hn(t,"number",e);if(!iW(e))throw new Md(t,"an integer",e);if(e<r||e>n)throw new Md(t,`>= ${r} && <= ${n}`,e)}),bhe=Co((e,t,r=!1)=>{if(typeof e!="number")throw new Hn(t,"number",e);if(!iW(e))throw new Md(t,"an integer",e);const n=r?1:0,o=4294967295;if(e<n||e>o)throw new Md(t,`>= ${n} && <= ${o}`,e)});function oW(e,t){if(typeof e!="string")throw new Hn(t,"string",e)}function Ydt(e,t,r=void 0,n){if(typeof e!="number")throw new Hn(t,"number",e);if(r!=null&&e<r||n!=null&&e>n||(r!=null||n!=null)&&kdt(e))throw new Md(t,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,e)}const Xdt=Co((e,t,r)=>{if(!fhe(r,e)){const o="must be one of: "+che(Ndt(r,s=>typeof s=="string"?`'${s}'`:Mdt(s)),", ");throw new rb(t,e,o)}});function ghe(e,t){if(typeof e!="boolean")throw new Hn(t,"boolean",e)}function sW(e,t,r){return e==null||!Ddt(e,t)?r:e[t]}const Qdt=Co((e,t,r=null)=>{const n=sW(r,"allowArray",!1),o=sW(r,"allowFunction",!1);if(!sW(r,"nullable",!1)&&e===null||!n&&nW(e)||typeof e!="object"&&(!o||typeof e!="function"))throw new Hn(t,"Object",e)}),Zdt=Co((e,t)=>{if(e!=null&&typeof e!="object"&&typeof e!="function")throw new Hn(t,"a dictionary",e)}),BR=Co((e,t,r=0)=>{if(!nW(e))throw new Hn(t,"Array",e);if(e.length<r){const n=`must be longer than ${r}`;throw new rb(t,e,n)}});function eht(e,t){BR(e,t);for(let r=0;r<e.length;r++)oW(e[r],`${t}[${r}]`)}function tht(e,t){BR(e,t);for(let r=0;r<e.length;r++)ghe(e[r],`${t}[${r}]`)}function rht(e,t){BR(e,t);for(let r=0;r<e.length;r++){const n=e[r],o=`${t}[${r}]`;if(n==null)throw new Hn(o,"AbortSignal",n);_he(n,o)}}function nht(e,t="signal"){if(oW(e,t),phe[e]===void 0)throw phe[Pdt(e)]!==void 0?new hhe(e+" (signals must use all capital letters)"):new hhe(e)}const iht=Co((e,t="buffer")=>{if(!Udt(e))throw new Hn(t,["Buffer","TypedArray","DataView"],e)});function oht(e,t){const r=Wdt(t),n=e.length;if(r==="hex"&&n%2!==0)throw new rb("encoding",t,`is invalid for data of length ${n}`)}function sht(e,t="Port",r=!0){if(typeof e!="number"&&typeof e!="string"||typeof e=="string"&&Fdt(e).length===0||+e!==+e>>>0||e>65535||e===0&&!r)throw new jdt(t,e,r);return e|0}const _he=Co((e,t)=>{if(e!==void 0&&(e===null||typeof e!="object"||!("aborted"in e)))throw new Hn(t,"AbortSignal",e)}),aht=Co((e,t)=>{if(typeof e!="function")throw new Hn(t,"Function",e)}),lht=Co((e,t)=>{if(typeof e!="function"||Bdt(e))throw new Hn(t,"Function",e)}),uht=Co((e,t)=>{if(e!==void 0)throw new Hn(t,"undefined",e)});function fht(e,t,r){if(!fhe(r,e))throw new Hn(t,`('${che(r,"|")}')`,e)}const cht=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function yhe(e,t){if(typeof e>"u"||!dhe(cht,e))throw new rb(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function dht(e){if(typeof e=="string")return yhe(e,"hints"),e;if(nW(e)){const t=e.length;let r="";if(t===0)return r;for(let n=0;n<t;n++){const o=e[n];yhe(o,"hints"),r+=o,n!==t-1&&(r+=", ")}return r}throw new rb("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}var Sy={isInt32:qdt,isUint32:Hdt,parseFileMode:zdt,validateArray:BR,validateStringArray:eht,validateBooleanArray:tht,validateAbortSignalArray:rht,validateBoolean:ghe,validateBuffer:iht,validateDictionary:Zdt,validateEncoding:oht,validateFunction:aht,validateInt32:Jdt,validateInteger:Kdt,validateNumber:Ydt,validateObject:Qdt,validateOneOf:Xdt,validatePlainFunction:lht,validatePort:sht,validateSignalName:nht,validateString:oW,validateUint32:bhe,validateUndefined:uht,validateUnion:fht,validateAbortSignal:_he,validateLinkHeaderValue:dht},aW={exports:{}};const{SymbolAsyncIterator:whe,SymbolIterator:mhe,SymbolFor:Pd}=Lr,vhe=Pd("nodejs.stream.destroyed"),She=Pd("nodejs.stream.errored"),lW=Pd("nodejs.stream.readable"),uW=Pd("nodejs.stream.writable"),Ehe=Pd("nodejs.stream.disturbed"),hht=Pd("nodejs.webstream.isClosedPromise"),pht=Pd("nodejs.webstream.controllerErrorFunction");function UR(e,t=!1){var r;return!!(e&&typeof e.pipe=="function"&&typeof e.on=="function"&&(!t||typeof e.pause=="function"&&typeof e.resume=="function")&&(!e._writableState||((r=e._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!e._writableState||e._readableState))}function qR(e){var t;return!!(e&&typeof e.write=="function"&&typeof e.on=="function"&&(!e._readableState||((t=e._writableState)===null||t===void 0?void 0:t.writable)!==!1))}function bht(e){return!!(e&&typeof e.pipe=="function"&&e._readableState&&typeof e.on=="function"&&typeof e.write=="function")}function da(e){return e&&(e._readableState||e._writableState||typeof e.write=="function"&&typeof e.on=="function"||typeof e.pipe=="function"&&typeof e.on=="function")}function Rhe(e){return!!(e&&!da(e)&&typeof e.pipeThrough=="function"&&typeof e.getReader=="function"&&typeof e.cancel=="function")}function xhe(e){return!!(e&&!da(e)&&typeof e.getWriter=="function"&&typeof e.abort=="function")}function Ahe(e){return!!(e&&!da(e)&&typeof e.readable=="object"&&typeof e.writable=="object")}function ght(e){return Rhe(e)||xhe(e)||Ahe(e)}function _ht(e,t){return e==null?!1:t===!0?typeof e[whe]=="function":t===!1?typeof e[mhe]=="function":typeof e[whe]=="function"||typeof e[mhe]=="function"}function HR(e){if(!da(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[vhe]||n!=null&&n.destroyed)}function $he(e){if(!qR(e))return null;if(e.writableEnded===!0)return!0;const t=e._writableState;return t!=null&&t.errored?!1:typeof(t==null?void 0:t.ended)!="boolean"?null:t.ended}function yht(e,t){if(!qR(e))return null;if(e.writableFinished===!0)return!0;const r=e._writableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.finished)!="boolean"?null:!!(r.finished||t===!1&&r.ended===!0&&r.length===0)}function wht(e){if(!UR(e))return null;if(e.readableEnded===!0)return!0;const t=e._readableState;return!t||t.errored?!1:typeof(t==null?void 0:t.ended)!="boolean"?null:t.ended}function The(e,t){if(!UR(e))return null;const r=e._readableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.endEmitted)!="boolean"?null:!!(r.endEmitted||t===!1&&r.ended===!0&&r.length===0)}function Ihe(e){return e&&e[lW]!=null?e[lW]:typeof(e==null?void 0:e.readable)!="boolean"?null:HR(e)?!1:UR(e)&&e.readable&&!The(e)}function Nhe(e){return e&&e[uW]!=null?e[uW]:typeof(e==null?void 0:e.writable)!="boolean"?null:HR(e)?!1:qR(e)&&e.writable&&!$he(e)}function mht(e,t){return da(e)?HR(e)?!0:!((t==null?void 0:t.readable)!==!1&&Ihe(e)||(t==null?void 0:t.writable)!==!1&&Nhe(e)):null}function vht(e){var t,r;return da(e)?e.writableErrored?e.writableErrored:(t=(r=e._writableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}function Sht(e){var t,r;return da(e)?e.readableErrored?e.readableErrored:(t=(r=e._readableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}function Eht(e){if(!da(e))return null;if(typeof e.closed=="boolean")return e.closed;const t=e._writableState,r=e._readableState;return typeof(t==null?void 0:t.closed)=="boolean"||typeof(r==null?void 0:r.closed)=="boolean"?(t==null?void 0:t.closed)||(r==null?void 0:r.closed):typeof e._closed=="boolean"&&khe(e)?e._closed:null}function khe(e){return typeof e._closed=="boolean"&&typeof e._defaultKeepAlive=="boolean"&&typeof e._removedConnection=="boolean"&&typeof e._removedContLen=="boolean"}function Che(e){return typeof e._sent100=="boolean"&&khe(e)}function Rht(e){var t;return typeof e._consuming=="boolean"&&typeof e._dumped=="boolean"&&((t=e.req)===null||t===void 0?void 0:t.upgradeOrConnect)===void 0}function xht(e){if(!da(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!n&&Che(e)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function Aht(e){var t;return!!(e&&((t=e[Ehe])!==null&&t!==void 0?t:e.readableDidRead||e.readableAborted))}function $ht(e){var t,r,n,o,s,a,l,f,u,d;return!!(e&&((t=(r=(n=(o=(s=(a=e[She])!==null&&a!==void 0?a:e.readableErrored)!==null&&s!==void 0?s:e.writableErrored)!==null&&o!==void 0?o:(l=e._readableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&n!==void 0?n:(f=e._writableState)===null||f===void 0?void 0:f.errorEmitted)!==null&&r!==void 0?r:(u=e._readableState)===null||u===void 0?void 0:u.errored)!==null&&t!==void 0?t:!((d=e._writableState)===null||d===void 0)&&d.errored))}var Cl={isDestroyed:HR,kIsDestroyed:vhe,isDisturbed:Aht,kIsDisturbed:Ehe,isErrored:$ht,kIsErrored:She,isReadable:Ihe,kIsReadable:lW,kIsClosedPromise:hht,kControllerErrorFunction:pht,kIsWritable:uW,isClosed:Eht,isDuplexNodeStream:bht,isFinished:mht,isIterable:_ht,isReadableNodeStream:UR,isReadableStream:Rhe,isReadableEnded:wht,isReadableFinished:The,isReadableErrored:Sht,isNodeStream:da,isWebStream:ght,isWritable:Nhe,isWritableNodeStream:qR,isWritableStream:xhe,isWritableEnded:$he,isWritableFinished:yht,isWritableErrored:vht,isServerRequest:Rht,isServerResponse:Che,willEmitClose:xht,isTransformStream:Ahe};const Zu=Qe,{AbortError:Ohe,codes:Tht}=Mi,{ERR_INVALID_ARG_TYPE:Iht,ERR_STREAM_PREMATURE_CLOSE:Lhe}=Tht,{kEmptyObject:fW,once:cW}=bi,{validateAbortSignal:Nht,validateFunction:kht,validateObject:Cht,validateBoolean:Oht}=Sy,{Promise:Lht,PromisePrototypeThen:Dht,SymbolDispose:Dhe}=Lr,{isClosed:Mht,isReadable:Mhe,isReadableNodeStream:dW,isReadableStream:Pht,isReadableFinished:Phe,isReadableErrored:Fhe,isWritable:jhe,isWritableNodeStream:Whe,isWritableStream:Fht,isWritableFinished:Bhe,isWritableErrored:Uhe,isNodeStream:jht,willEmitClose:Wht,kIsClosedPromise:Bht}=Cl;let nb;function Uht(e){return e.setHeader&&typeof e.abort=="function"}const hW=()=>{};function qhe(e,t,r){var n,o;if(arguments.length===2?(r=t,t=fW):t==null?t=fW:Cht(t,"options"),kht(r,"callback"),Nht(t.signal,"options.signal"),r=cW(r),Pht(e)||Fht(e))return qht(e,t,r);if(!jht(e))throw new Iht("stream",["ReadableStream","WritableStream","Stream"],e);const s=(n=t.readable)!==null&&n!==void 0?n:dW(e),a=(o=t.writable)!==null&&o!==void 0?o:Whe(e),l=e._writableState,f=e._readableState,u=()=>{e.writable||h()};let d=Wht(e)&&dW(e)===s&&Whe(e)===a,g=Bhe(e,!1);const h=()=>{g=!0,e.destroyed&&(d=!1),!(d&&(!e.readable||s))&&(!s||p)&&r.call(e)};let p=Phe(e,!1);const w=()=>{p=!0,e.destroyed&&(d=!1),!(d&&(!e.writable||a))&&(!a||g)&&r.call(e)},y=$=>{r.call(e,$)};let v=Mht(e);const E=()=>{v=!0;const $=Uhe(e)||Fhe(e);if($&&typeof $!="boolean")return r.call(e,$);if(s&&!p&&dW(e,!0)&&!Phe(e,!1))return r.call(e,new Lhe);if(a&&!g&&!Bhe(e,!1))return r.call(e,new Lhe);r.call(e)},x=()=>{v=!0;const $=Uhe(e)||Fhe(e);if($&&typeof $!="boolean")return r.call(e,$);r.call(e)},S=()=>{e.req.on("finish",h)};Uht(e)?(e.on("complete",h),d||e.on("abort",E),e.req?S():e.on("request",S)):a&&!l&&(e.on("end",u),e.on("close",u)),!d&&typeof e.aborted=="boolean"&&e.on("aborted",E),e.on("end",w),e.on("finish",h),t.error!==!1&&e.on("error",y),e.on("close",E),v?Zu.nextTick(E):l!=null&&l.errorEmitted||f!=null&&f.errorEmitted?d||Zu.nextTick(x):(!s&&(!d||Mhe(e))&&(g||jhe(e)===!1)||!a&&(!d||jhe(e))&&(p||Mhe(e)===!1)||f&&e.req&&e.aborted)&&Zu.nextTick(x);const N=()=>{r=hW,e.removeListener("aborted",E),e.removeListener("complete",h),e.removeListener("abort",E),e.removeListener("request",S),e.req&&e.req.removeListener("finish",h),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",h),e.removeListener("end",w),e.removeListener("error",y),e.removeListener("close",E)};if(t.signal&&!v){const $=()=>{const D=r;N(),D.call(e,new Ohe(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)Zu.nextTick($);else{nb=nb||bi.addAbortListener;const D=nb(t.signal,$),K=r;r=cW((...q)=>{D[Dhe](),K.apply(e,q)})}}return N}function qht(e,t,r){let n=!1,o=hW;if(t.signal)if(o=()=>{n=!0,r.call(e,new Ohe(void 0,{cause:t.signal.reason}))},t.signal.aborted)Zu.nextTick(o);else{nb=nb||bi.addAbortListener;const a=nb(t.signal,o),l=r;r=cW((...f)=>{a[Dhe](),l.apply(e,f)})}const s=(...a)=>{n||Zu.nextTick(()=>r.apply(e,a))};return Dht(e[Bht].promise,s,s),hW}function Hht(e,t){var r;let n=!1;return t===null&&(t=fW),(r=t)!==null&&r!==void 0&&r.cleanup&&(Oht(t.cleanup,"cleanup"),n=t.cleanup),new Lht((o,s)=>{const a=qhe(e,t,l=>{n&&a(),l?s(l):o()})})}aW.exports=qhe,aW.exports.finished=Hht;var ef=aW.exports;const ha=Qe,{aggregateTwoErrors:Vht,codes:{ERR_MULTIPLE_CALLBACK:Ght},AbortError:zht}=Mi,{Symbol:Hhe}=Lr,{kIsDestroyed:Kht,isDestroyed:Jht,isFinished:Yht,isServerRequest:Xht}=Cl,Vhe=Hhe("kDestroy"),pW=Hhe("kConstruct");function Ghe(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function Qht(e,t){const r=this._readableState,n=this._writableState,o=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof t=="function"&&t(),this):(Ghe(e,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),o.constructed?zhe(this,e,t):this.once(Vhe,function(s){zhe(this,Vht(s,e),t)}),this)}function zhe(e,t,r){let n=!1;function o(s){if(n)return;n=!0;const a=e._readableState,l=e._writableState;Ghe(s,l,a),l&&(l.closed=!0),a&&(a.closed=!0),typeof r=="function"&&r(s),s?ha.nextTick(Zht,e,s):ha.nextTick(Khe,e)}try{e._destroy(t||null,o)}catch(s){o(s)}}function Zht(e,t){bW(e,t),Khe(e)}function Khe(e){const t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(r!=null&&r.emitClose||t!=null&&t.emitClose)&&e.emit("close")}function bW(e,t){const r=e._readableState,n=e._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function ept(){const e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=e.readable===!1,e.endEmitted=e.readable===!1),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=t.writable===!1,t.ending=t.writable===!1,t.finished=t.writable===!1)}function gW(e,t,r){const n=e._readableState,o=e._writableState;if(o!=null&&o.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||o!=null&&o.autoDestroy?e.destroy(t):t&&(t.stack,o&&!o.errored&&(o.errored=t),n&&!n.errored&&(n.errored=t),r?ha.nextTick(bW,e,t):bW(e,t))}function tpt(e,t){if(typeof e._construct!="function")return;const r=e._readableState,n=e._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),e.once(pW,t),!(e.listenerCount(pW)>1)&&ha.nextTick(rpt,e)}function rpt(e){let t=!1;function r(n){if(t){gW(e,n??new Ght);return}t=!0;const o=e._readableState,s=e._writableState,a=s||o;o&&(o.constructed=!0),s&&(s.constructed=!0),a.destroyed?e.emit(Vhe,n):n?gW(e,n,!0):ha.nextTick(npt,e)}try{e._construct(n=>{ha.nextTick(r,n)})}catch(n){ha.nextTick(r,n)}}function npt(e){e.emit(pW)}function Jhe(e){return(e==null?void 0:e.setHeader)&&typeof e.abort=="function"}function Yhe(e){e.emit("close")}function ipt(e,t){e.emit("error",t),ha.nextTick(Yhe,e)}function opt(e,t){!e||Jht(e)||(!t&&!Yht(e)&&(t=new zht),Xht(e)?(e.socket=null,e.destroy(t)):Jhe(e)?e.abort():Jhe(e.req)?e.req.abort():typeof e.destroy=="function"?e.destroy(t):typeof e.close=="function"?e.close():t?ha.nextTick(ipt,e,t):ha.nextTick(Yhe,e),e.destroyed||(e[Kht]=!0))}var ib={construct:tpt,destroyer:opt,destroy:Qht,undestroy:ept,errorOrDestroy:gW};const{ArrayIsArray:spt,ObjectSetPrototypeOf:Xhe}=Lr,{EventEmitter:VR}=$t;function GR(e){VR.call(this,e)}Xhe(GR.prototype,VR.prototype),Xhe(GR,VR),GR.prototype.pipe=function(e,t){const r=this;function n(d){e.writable&&e.write(d)===!1&&r.pause&&r.pause()}r.on("data",n);function o(){r.readable&&r.resume&&r.resume()}e.on("drain",o),!e._isStdio&&(!t||t.end!==!1)&&(r.on("end",a),r.on("close",l));let s=!1;function a(){s||(s=!0,e.end())}function l(){s||(s=!0,typeof e.destroy=="function"&&e.destroy())}function f(d){u(),VR.listenerCount(this,"error")===0&&this.emit("error",d)}_W(r,"error",f),_W(e,"error",f);function u(){r.removeListener("data",n),e.removeListener("drain",o),r.removeListener("end",a),r.removeListener("close",l),r.removeListener("error",f),e.removeListener("error",f),r.removeListener("end",u),r.removeListener("close",u),e.removeListener("close",u)}return r.on("end",u),r.on("close",u),e.on("close",u),e.emit("pipe",r),e};function _W(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):spt(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}var yW={Stream:GR,prependListener:_W},Qhe={exports:{}};(function(e){const{SymbolDispose:t}=Lr,{AbortError:r,codes:n}=Mi,{isNodeStream:o,isWebStream:s,kControllerErrorFunction:a}=Cl,l=ef,{ERR_INVALID_ARG_TYPE:f}=n;let u;const d=(g,h)=>{if(typeof g!="object"||!("aborted"in g))throw new f(h,"AbortSignal",g)};e.exports.addAbortSignal=function(h,p){if(d(h,"signal"),!o(p)&&!s(p))throw new f("stream",["ReadableStream","WritableStream","Stream"],p);return e.exports.addAbortSignalNoValidate(h,p)},e.exports.addAbortSignalNoValidate=function(g,h){if(typeof g!="object"||!("aborted"in g))return h;const p=o(h)?()=>{h.destroy(new r(void 0,{cause:g.reason}))}:()=>{h[a](new r(void 0,{cause:g.reason}))};if(g.aborted)p();else{u=u||bi.addAbortListener;const w=u(g,p);l(h,w[t])}return h}})(Qhe);var zR=Qhe.exports;const{StringPrototypeSlice:Zhe,SymbolIterator:apt,TypedArrayPrototypeSet:KR,Uint8Array:lpt}=Lr,{Buffer:wW}=Ge,{inspect:upt}=bi;var fpt=class{constructor(){this.head=null,this.tail=null,this.length=0}push(t){const r={data:t,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(t){const r={data:t,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;const t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=t+r.data;return n}concat(t){if(this.length===0)return wW.alloc(0);const r=wW.allocUnsafe(t>>>0);let n=this.head,o=0;for(;n;)KR(r,n.data,o),o+=n.data.length,n=n.next;return r}consume(t,r){const n=this.head.data;if(t<n.length){const o=n.slice(0,t);return this.head.data=n.slice(t),o}return t===n.length?this.shift():r?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[apt](){for(let t=this.head;t;t=t.next)yield t.data}_getString(t){let r="",n=this.head,o=0;do{const s=n.data;if(t>s.length)r+=s,t-=s.length;else{t===s.length?(r+=s,++o,n.next?this.head=n.next:this.head=this.tail=null):(r+=Zhe(s,0,t),this.head=n,n.data=Zhe(s,t));break}++o}while((n=n.next)!==null);return this.length-=o,r}_getBuffer(t){const r=wW.allocUnsafe(t),n=t;let o=this.head,s=0;do{const a=o.data;if(t>a.length)KR(r,a,n-t),t-=a.length;else{t===a.length?(KR(r,a,n-t),++s,o.next?this.head=o.next:this.head=this.tail=null):(KR(r,new lpt(a.buffer,a.byteOffset,t),n-t),this.head=o,o.data=a.slice(t));break}++s}while((o=o.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](t,r){return upt(this,{...r,depth:0,customInspect:!1})}};const{MathFloor:cpt,NumberIsInteger:dpt}=Lr,{validateInteger:hpt}=Sy,{ERR_INVALID_ARG_VALUE:ppt}=Mi.codes;let epe=16*1024,tpe=16;function bpt(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function rpe(e){return e?tpe:epe}function gpt(e,t){hpt(t,"value",0),e?tpe=t:epe=t}function _pt(e,t,r,n){const o=bpt(t,n,r);if(o!=null){if(!dpt(o)||o<0){const s=n?`options.${r}`:"options.highWaterMark";throw new ppt(s,o)}return cpt(o)}return rpe(e.objectMode)}var JR={getHighWaterMark:_pt,getDefaultHighWaterMark:rpe,setDefaultHighWaterMark:gpt};const npe=Qe,{PromisePrototypeThen:ypt,SymbolAsyncIterator:ipe,SymbolIterator:ope}=Lr,{Buffer:wpt}=Ge,{ERR_INVALID_ARG_TYPE:mpt,ERR_STREAM_NULL_VALUES:vpt}=Mi.codes;function Spt(e,t,r){let n;if(typeof t=="string"||t instanceof wpt)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});let o;if(t&&t[ipe])o=!0,n=t[ipe]();else if(t&&t[ope])o=!1,n=t[ope]();else throw new mpt("iterable",["Iterable"],t);const s=new e({objectMode:!0,highWaterMark:1,...r});let a=!1;s._read=function(){a||(a=!0,f())},s._destroy=function(u,d){ypt(l(u),()=>npe.nextTick(d,u),g=>npe.nextTick(d,g||u))};async function l(u){const d=u!=null,g=typeof n.throw=="function";if(d&&g){const{value:h,done:p}=await n.throw(u);if(await h,p)return}if(typeof n.return=="function"){const{value:h}=await n.return();await h}}async function f(){for(;;){try{const{value:u,done:d}=o?await n.next():n.next();if(d)s.push(null);else{const g=u&&typeof u.then=="function"?await u:u;if(g===null)throw a=!1,new vpt;if(s.push(g))continue;a=!1}}catch(u){s.destroy(u)}break}}return s}var spe=Spt,mW,ape;function YR(){if(ape)return mW;ape=1;const e=Qe,{ArrayPrototypeIndexOf:t,NumberIsInteger:r,NumberIsNaN:n,NumberParseInt:o,ObjectDefineProperties:s,ObjectKeys:a,ObjectSetPrototypeOf:l,Promise:f,SafeSet:u,SymbolAsyncDispose:d,SymbolAsyncIterator:g,Symbol:h}=Lr;mW=F,F.ReadableState=ye;const{EventEmitter:p}=$t,{Stream:w,prependListener:y}=yW,{Buffer:v}=Ge,{addAbortSignal:E}=zR,x=ef;let S=bi.debuglog("stream",c=>{S=c});const N=fpt,$=ib,{getHighWaterMark:D,getDefaultHighWaterMark:K}=JR,{aggregateTwoErrors:q,codes:{ERR_INVALID_ARG_TYPE:k,ERR_METHOD_NOT_IMPLEMENTED:V,ERR_OUT_OF_RANGE:j,ERR_STREAM_PUSH_AFTER_EOF:B,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:A},AbortError:U}=Mi,{validateObject:G}=Sy,H=h("kPaused"),{StringDecoder:Q}=Fi(),ne=spe;l(F.prototype,w.prototype),l(F,w);const se=()=>{},{errorOrDestroy:ae}=$,Z=1,ge=2,W=4,ue=8,xe=16,he=32,le=64,_e=128,Ae=256,We=512,ie=1024,te=2048,_=4096,m=8192,R=16384,O=32768,C=65536,X=1<<17,re=1<<18;function J(c){return{enumerable:!1,get(){return(this.state&c)!==0},set(b){b?this.state|=c:this.state&=~c}}}s(ye.prototype,{objectMode:J(Z),ended:J(ge),endEmitted:J(W),reading:J(ue),constructed:J(xe),sync:J(he),needReadable:J(le),emittedReadable:J(_e),readableListening:J(Ae),resumeScheduled:J(We),errorEmitted:J(ie),emitClose:J(te),autoDestroy:J(_),destroyed:J(m),closed:J(R),closeEmitted:J(O),multiAwaitDrain:J(C),readingMore:J(X),dataEmitted:J(re)});function ye(c,b,I){typeof I!="boolean"&&(I=b instanceof Ol()),this.state=te|_|xe|he,c&&c.objectMode&&(this.state|=Z),I&&c&&c.readableObjectMode&&(this.state|=Z),this.highWaterMark=c?D(this,c,"readableHighWaterMark",I):K(!1),this.buffer=new N,this.length=0,this.pipes=[],this.flowing=null,this[H]=null,c&&c.emitClose===!1&&(this.state&=~te),c&&c.autoDestroy===!1&&(this.state&=~_),this.errored=null,this.defaultEncoding=c&&c.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,c&&c.encoding&&(this.decoder=new Q(c.encoding),this.encoding=c.encoding)}function F(c){if(!(this instanceof F))return new F(c);const b=this instanceof Ol();this._readableState=new ye(c,this,b),c&&(typeof c.read=="function"&&(this._read=c.read),typeof c.destroy=="function"&&(this._destroy=c.destroy),typeof c.construct=="function"&&(this._construct=c.construct),c.signal&&!b&&E(c.signal,this)),w.call(this,c),$.construct(this,()=>{this._readableState.needReadable&&ce(this,this._readableState)})}F.prototype.destroy=$.destroy,F.prototype._undestroy=$.undestroy,F.prototype._destroy=function(c,b){b(c)},F.prototype[p.captureRejectionSymbol]=function(c){this.destroy(c)},F.prototype[d]=function(){let c;return this.destroyed||(c=this.readableEnded?null:new U,this.destroy(c)),new f((b,I)=>x(this,T=>T&&T!==c?I(T):b(null)))},F.prototype.push=function(c,b){return we(this,c,b,!1)},F.prototype.unshift=function(c,b){return we(this,c,b,!0)};function we(c,b,I,T){S("readableAddChunk",b);const P=c._readableState;let Ee;if(P.state&Z||(typeof b=="string"?(I=I||P.defaultEncoding,P.encoding!==I&&(T&&P.encoding?b=v.from(b,I).toString(P.encoding):(b=v.from(b,I),I=""))):b instanceof v?I="":w._isUint8Array(b)?(b=w._uint8ArrayToBuffer(b),I=""):b!=null&&(Ee=new k("chunk",["string","Buffer","Uint8Array"],b))),Ee)ae(c,Ee);else if(b===null)P.state&=~ue,L(c,P);else if(P.state&Z||b&&b.length>0)if(T)if(P.state&W)ae(c,new A);else{if(P.destroyed||P.errored)return!1;Ce(c,P,b,!0)}else if(P.ended)ae(c,new B);else{if(P.destroyed||P.errored)return!1;P.state&=~ue,P.decoder&&!I?(b=P.decoder.write(b),P.objectMode||b.length!==0?Ce(c,P,b,!1):ce(c,P)):Ce(c,P,b,!1)}else T||(P.state&=~ue,ce(c,P));return!P.ended&&(P.length<P.highWaterMark||P.length===0)}function Ce(c,b,I,T){b.flowing&&b.length===0&&!b.sync&&c.listenerCount("data")>0?(b.state&C?b.awaitDrainWriters.clear():b.awaitDrainWriters=null,b.dataEmitted=!0,c.emit("data",I)):(b.length+=b.objectMode?1:I.length,T?b.buffer.unshift(I):b.buffer.push(I),b.state&le&&M(c)),ce(c,b)}F.prototype.isPaused=function(){const c=this._readableState;return c[H]===!0||c.flowing===!1},F.prototype.setEncoding=function(c){const b=new Q(c);this._readableState.decoder=b,this._readableState.encoding=this._readableState.decoder.encoding;const I=this._readableState.buffer;let T="";for(const P of I)T+=b.write(P);return I.clear(),T!==""&&I.push(T),this._readableState.length=T.length,this};const Me=1073741824;function Ue(c){if(c>Me)throw new j("size","<= 1GiB",c);return c--,c|=c>>>1,c|=c>>>2,c|=c>>>4,c|=c>>>8,c|=c>>>16,c++,c}function z(c,b){return c<=0||b.length===0&&b.ended?0:b.state&Z?1:n(c)?b.flowing&&b.length?b.buffer.first().length:b.length:c<=b.length?c:b.ended?b.length:0}F.prototype.read=function(c){S("read",c),c===void 0?c=NaN:r(c)||(c=o(c,10));const b=this._readableState,I=c;if(c>b.highWaterMark&&(b.highWaterMark=Ue(c)),c!==0&&(b.state&=~_e),c===0&&b.needReadable&&((b.highWaterMark!==0?b.length>=b.highWaterMark:b.length>0)||b.ended))return S("read: emitReadable",b.length,b.ended),b.length===0&&b.ended?ht(this):M(this),null;if(c=z(c,b),c===0&&b.ended)return b.length===0&&ht(this),null;let T=(b.state&le)!==0;if(S("need readable",T),(b.length===0||b.length-c<b.highWaterMark)&&(T=!0,S("length less than watermark",T)),b.ended||b.reading||b.destroyed||b.errored||!b.constructed)T=!1,S("reading, ended or constructing",T);else if(T){S("do read"),b.state|=ue|he,b.length===0&&(b.state|=le);try{this._read(b.highWaterMark)}catch(Ee){ae(this,Ee)}b.state&=~he,b.reading||(c=z(I,b))}let P;return c>0?P=Mt(c,b):P=null,P===null?(b.needReadable=b.length<=b.highWaterMark,c=0):(b.length-=c,b.multiAwaitDrain?b.awaitDrainWriters.clear():b.awaitDrainWriters=null),b.length===0&&(b.ended||(b.needReadable=!0),I!==c&&b.ended&&ht(this)),P!==null&&!b.errorEmitted&&!b.closeEmitted&&(b.dataEmitted=!0,this.emit("data",P)),P};function L(c,b){if(S("onEofChunk"),!b.ended){if(b.decoder){const I=b.decoder.end();I&&I.length&&(b.buffer.push(I),b.length+=b.objectMode?1:I.length)}b.ended=!0,b.sync?M(c):(b.needReadable=!1,b.emittedReadable=!0,oe(c))}}function M(c){const b=c._readableState;S("emitReadable",b.needReadable,b.emittedReadable),b.needReadable=!1,b.emittedReadable||(S("emitReadable",b.flowing),b.emittedReadable=!0,e.nextTick(oe,c))}function oe(c){const b=c._readableState;S("emitReadable_",b.destroyed,b.length,b.ended),!b.destroyed&&!b.errored&&(b.length||b.ended)&&(c.emit("readable"),b.emittedReadable=!1),b.needReadable=!b.flowing&&!b.ended&&b.length<=b.highWaterMark,rt(c)}function ce(c,b){!b.readingMore&&b.constructed&&(b.readingMore=!0,e.nextTick(Se,c,b))}function Se(c,b){for(;!b.reading&&!b.ended&&(b.length<b.highWaterMark||b.flowing&&b.length===0);){const I=b.length;if(S("maybeReadMore read 0"),c.read(0),I===b.length)break}b.readingMore=!1}F.prototype._read=function(c){throw new V("_read()")},F.prototype.pipe=function(c,b){const I=this,T=this._readableState;T.pipes.length===1&&(T.multiAwaitDrain||(T.multiAwaitDrain=!0,T.awaitDrainWriters=new u(T.awaitDrainWriters?[T.awaitDrainWriters]:[]))),T.pipes.push(c),S("pipe count=%d opts=%j",T.pipes.length,b);const Ee=(!b||b.end!==!1)&&c!==e.stdout&&c!==e.stderr?de:Ke;T.endEmitted?e.nextTick(Ee):I.once("end",Ee),c.on("unpipe",$e);function $e(ke,Te){S("onunpipe"),ke===I&&Te&&Te.hasUnpiped===!1&&(Te.hasUnpiped=!0,Re())}function de(){S("onend"),c.end()}let ee,pe=!1;function Re(){S("cleanup"),c.removeListener("close",Ye),c.removeListener("finish",tt),ee&&c.removeListener("drain",ee),c.removeListener("error",Be),c.removeListener("unpipe",$e),I.removeListener("end",de),I.removeListener("end",Ke),I.removeListener("data",Ve),pe=!0,ee&&T.awaitDrainWriters&&(!c._writableState||c._writableState.needDrain)&&ee()}function me(){pe||(T.pipes.length===1&&T.pipes[0]===c?(S("false write response, pause",0),T.awaitDrainWriters=c,T.multiAwaitDrain=!1):T.pipes.length>1&&T.pipes.includes(c)&&(S("false write response, pause",T.awaitDrainWriters.size),T.awaitDrainWriters.add(c)),I.pause()),ee||(ee=ve(I,c),c.on("drain",ee))}I.on("data",Ve);function Ve(ke){S("ondata");const Te=c.write(ke);S("dest.write",Te),Te===!1&&me()}function Be(ke){if(S("onerror",ke),Ke(),c.removeListener("error",Be),c.listenerCount("error")===0){const Te=c._writableState||c._readableState;Te&&!Te.errorEmitted?ae(c,ke):c.emit("error",ke)}}y(c,"error",Be);function Ye(){c.removeListener("finish",tt),Ke()}c.once("close",Ye);function tt(){S("onfinish"),c.removeListener("close",Ye),Ke()}c.once("finish",tt);function Ke(){S("unpipe"),I.unpipe(c)}return c.emit("pipe",I),c.writableNeedDrain===!0?me():T.flowing||(S("pipe resume"),I.resume()),c};function ve(c,b){return function(){const T=c._readableState;T.awaitDrainWriters===b?(S("pipeOnDrain",1),T.awaitDrainWriters=null):T.multiAwaitDrain&&(S("pipeOnDrain",T.awaitDrainWriters.size),T.awaitDrainWriters.delete(b)),(!T.awaitDrainWriters||T.awaitDrainWriters.size===0)&&c.listenerCount("data")&&c.resume()}}F.prototype.unpipe=function(c){const b=this._readableState,I={hasUnpiped:!1};if(b.pipes.length===0)return this;if(!c){const P=b.pipes;b.pipes=[],this.pause();for(let Ee=0;Ee<P.length;Ee++)P[Ee].emit("unpipe",this,{hasUnpiped:!1});return this}const T=t(b.pipes,c);return T===-1?this:(b.pipes.splice(T,1),b.pipes.length===0&&this.pause(),c.emit("unpipe",this,I),this)},F.prototype.on=function(c,b){const I=w.prototype.on.call(this,c,b),T=this._readableState;return c==="data"?(T.readableListening=this.listenerCount("readable")>0,T.flowing!==!1&&this.resume()):c==="readable"&&!T.endEmitted&&!T.readableListening&&(T.readableListening=T.needReadable=!0,T.flowing=!1,T.emittedReadable=!1,S("on readable",T.length,T.reading),T.length?M(this):T.reading||e.nextTick(dt,this)),I},F.prototype.addListener=F.prototype.on,F.prototype.removeListener=function(c,b){const I=w.prototype.removeListener.call(this,c,b);return c==="readable"&&e.nextTick(ze,this),I},F.prototype.off=F.prototype.removeListener,F.prototype.removeAllListeners=function(c){const b=w.prototype.removeAllListeners.apply(this,arguments);return(c==="readable"||c===void 0)&&e.nextTick(ze,this),b};function ze(c){const b=c._readableState;b.readableListening=c.listenerCount("readable")>0,b.resumeScheduled&&b[H]===!1?b.flowing=!0:c.listenerCount("data")>0?c.resume():b.readableListening||(b.flowing=null)}function dt(c){S("readable nexttick read 0"),c.read(0)}F.prototype.resume=function(){const c=this._readableState;return c.flowing||(S("resume"),c.flowing=!c.readableListening,et(this,c)),c[H]=!1,this};function et(c,b){b.resumeScheduled||(b.resumeScheduled=!0,e.nextTick(Xe,c,b))}function Xe(c,b){S("resume",b.reading),b.reading||c.read(0),b.resumeScheduled=!1,c.emit("resume"),rt(c),b.flowing&&!b.reading&&c.read(0)}F.prototype.pause=function(){return S("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(S("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[H]=!0,this};function rt(c){const b=c._readableState;for(S("flow",b.flowing);b.flowing&&c.read()!==null;);}F.prototype.wrap=function(c){let b=!1;c.on("data",T=>{!this.push(T)&&c.pause&&(b=!0,c.pause())}),c.on("end",()=>{this.push(null)}),c.on("error",T=>{ae(this,T)}),c.on("close",()=>{this.destroy()}),c.on("destroy",()=>{this.destroy()}),this._read=()=>{b&&c.resume&&(b=!1,c.resume())};const I=a(c);for(let T=1;T<I.length;T++){const P=I[T];this[P]===void 0&&typeof c[P]=="function"&&(this[P]=c[P].bind(c))}return this},F.prototype[g]=function(){return Lt(this)},F.prototype.iterator=function(c){return c!==void 0&&G(c,"options"),Lt(this,c)};function Lt(c,b){typeof c.read!="function"&&(c=F.wrap(c,{objectMode:!0}));const I=vr(c,b);return I.stream=c,I}async function*vr(c,b){let I=se;function T($e){this===c?(I(),I=se):I=$e}c.on("readable",T);let P;const Ee=x(c,{writable:!1},$e=>{P=$e?q(P,$e):null,I(),I=se});try{for(;;){const $e=c.destroyed?null:c.read();if($e!==null)yield $e;else{if(P)throw P;if(P===null)return;await new f(T)}}}catch($e){throw P=q(P,$e),P}finally{(P||(b==null?void 0:b.destroyOnReturn)!==!1)&&(P===void 0||c._readableState.autoDestroy)?$.destroyer(c,null):(c.off("readable",T),Ee())}}s(F.prototype,{readable:{__proto__:null,get(){const c=this._readableState;return!!c&&c.readable!==!1&&!c.destroyed&&!c.errorEmitted&&!c.endEmitted},set(c){this._readableState&&(this._readableState.readable=!!c)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(c){this._readableState&&(this._readableState.flowing=c)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(c){this._readableState&&(this._readableState.destroyed=c)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),s(ye.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[H]!==!1},set(c){this[H]=!!c}}}),F._fromList=Mt;function Mt(c,b){if(b.length===0)return null;let I;return b.objectMode?I=b.buffer.shift():!c||c>=b.length?(b.decoder?I=b.buffer.join(""):b.buffer.length===1?I=b.buffer.first():I=b.buffer.concat(b.length),b.buffer.clear()):I=b.buffer.consume(c,b.decoder),I}function ht(c){const b=c._readableState;S("endReadable",b.endEmitted),b.endEmitted||(b.ended=!0,e.nextTick(wr,b,c))}function wr(c,b){if(S("endReadableNT",c.endEmitted,c.length),!c.errored&&!c.closeEmitted&&!c.endEmitted&&c.length===0){if(c.endEmitted=!0,b.emit("end"),b.writable&&b.allowHalfOpen===!1)e.nextTick(rr,b);else if(c.autoDestroy){const I=b._writableState;(!I||I.autoDestroy&&(I.finished||I.writable===!1))&&b.destroy()}}}function rr(c){c.writable&&!c.writableEnded&&!c.destroyed&&c.end()}F.from=function(c,b){return ne(F,c,b)};let _t;function jt(){return _t===void 0&&(_t={}),_t}return F.fromWeb=function(c,b){return jt().newStreamReadableFromReadableStream(c,b)},F.toWeb=function(c,b){return jt().newReadableStreamFromStreamReadable(c,b)},F.wrap=function(c,b){var I,T;return new F({objectMode:(I=(T=c.readableObjectMode)!==null&&T!==void 0?T:c.objectMode)!==null&&I!==void 0?I:!0,...b,destroy(P,Ee){$.destroyer(c,P),Ee(P)}}).wrap(c)},mW}var vW,lpe;function SW(){if(lpe)return vW;lpe=1;const e=Qe,{ArrayPrototypeSlice:t,Error:r,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:o,ObjectDefineProperties:s,ObjectSetPrototypeOf:a,StringPrototypeToLowerCase:l,Symbol:f,SymbolHasInstance:u}=Lr;vW=G,G.WritableState=A;const{EventEmitter:d}=$t,g=yW.Stream,{Buffer:h}=Ge,p=ib,{addAbortSignal:w}=zR,{getHighWaterMark:y,getDefaultHighWaterMark:v}=JR,{ERR_INVALID_ARG_TYPE:E,ERR_METHOD_NOT_IMPLEMENTED:x,ERR_MULTIPLE_CALLBACK:S,ERR_STREAM_CANNOT_PIPE:N,ERR_STREAM_DESTROYED:$,ERR_STREAM_ALREADY_FINISHED:D,ERR_STREAM_NULL_VALUES:K,ERR_STREAM_WRITE_AFTER_END:q,ERR_UNKNOWN_ENCODING:k}=Mi.codes,{errorOrDestroy:V}=p;a(G.prototype,g.prototype),a(G,g);function j(){}const B=f("kOnFinished");function A(_,m,R){typeof R!="boolean"&&(R=m instanceof Ol()),this.objectMode=!!(_&&_.objectMode),R&&(this.objectMode=this.objectMode||!!(_&&_.writableObjectMode)),this.highWaterMark=_?y(this,_,"writableHighWaterMark",R):v(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const O=!!(_&&_.decodeStrings===!1);this.decodeStrings=!O,this.defaultEncoding=_&&_.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=ae.bind(void 0,m),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,U(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!_||_.emitClose!==!1,this.autoDestroy=!_||_.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[B]=[]}function U(_){_.buffered=[],_.bufferedIndex=0,_.allBuffers=!0,_.allNoop=!0}A.prototype.getBuffer=function(){return t(this.buffered,this.bufferedIndex)},o(A.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function G(_){const m=this instanceof Ol();if(!m&&!n(G,this))return new G(_);this._writableState=new A(_,this,m),_&&(typeof _.write=="function"&&(this._write=_.write),typeof _.writev=="function"&&(this._writev=_.writev),typeof _.destroy=="function"&&(this._destroy=_.destroy),typeof _.final=="function"&&(this._final=_.final),typeof _.construct=="function"&&(this._construct=_.construct),_.signal&&w(_.signal,this)),g.call(this,_),p.construct(this,()=>{const R=this._writableState;R.writing||ue(this,R),_e(this,R)})}o(G,u,{__proto__:null,value:function(_){return n(this,_)?!0:this!==G?!1:_&&_._writableState instanceof A}}),G.prototype.pipe=function(){V(this,new N)};function H(_,m,R,O){const C=_._writableState;if(typeof R=="function")O=R,R=C.defaultEncoding;else{if(!R)R=C.defaultEncoding;else if(R!=="buffer"&&!h.isEncoding(R))throw new k(R);typeof O!="function"&&(O=j)}if(m===null)throw new K;if(!C.objectMode)if(typeof m=="string")C.decodeStrings!==!1&&(m=h.from(m,R),R="buffer");else if(m instanceof h)R="buffer";else if(g._isUint8Array(m))m=g._uint8ArrayToBuffer(m),R="buffer";else throw new E("chunk",["string","Buffer","Uint8Array"],m);let X;return C.ending?X=new q:C.destroyed&&(X=new $("write")),X?(e.nextTick(O,X),V(_,X,!0),X):(C.pendingcb++,Q(_,C,m,R,O))}G.prototype.write=function(_,m,R){return H(this,_,m,R)===!0},G.prototype.cork=function(){this._writableState.corked++},G.prototype.uncork=function(){const _=this._writableState;_.corked&&(_.corked--,_.writing||ue(this,_))},G.prototype.setDefaultEncoding=function(m){if(typeof m=="string"&&(m=l(m)),!h.isEncoding(m))throw new k(m);return this._writableState.defaultEncoding=m,this};function Q(_,m,R,O,C){const X=m.objectMode?1:R.length;m.length+=X;const re=m.length<m.highWaterMark;return re||(m.needDrain=!0),m.writing||m.corked||m.errored||!m.constructed?(m.buffered.push({chunk:R,encoding:O,callback:C}),m.allBuffers&&O!=="buffer"&&(m.allBuffers=!1),m.allNoop&&C!==j&&(m.allNoop=!1)):(m.writelen=X,m.writecb=C,m.writing=!0,m.sync=!0,_._write(R,O,m.onwrite),m.sync=!1),re&&!m.errored&&!m.destroyed}function ne(_,m,R,O,C,X,re){m.writelen=O,m.writecb=re,m.writing=!0,m.sync=!0,m.destroyed?m.onwrite(new $("write")):R?_._writev(C,m.onwrite):_._write(C,X,m.onwrite),m.sync=!1}function se(_,m,R,O){--m.pendingcb,O(R),W(m),V(_,R)}function ae(_,m){const R=_._writableState,O=R.sync,C=R.writecb;if(typeof C!="function"){V(_,new S);return}R.writing=!1,R.writecb=null,R.length-=R.writelen,R.writelen=0,m?(m.stack,R.errored||(R.errored=m),_._readableState&&!_._readableState.errored&&(_._readableState.errored=m),O?e.nextTick(se,_,R,m,C):se(_,R,m,C)):(R.buffered.length>R.bufferedIndex&&ue(_,R),O?R.afterWriteTickInfo!==null&&R.afterWriteTickInfo.cb===C?R.afterWriteTickInfo.count++:(R.afterWriteTickInfo={count:1,cb:C,stream:_,state:R},e.nextTick(Z,R.afterWriteTickInfo)):ge(_,R,1,C))}function Z({stream:_,state:m,count:R,cb:O}){return m.afterWriteTickInfo=null,ge(_,m,R,O)}function ge(_,m,R,O){for(!m.ending&&!_.destroyed&&m.length===0&&m.needDrain&&(m.needDrain=!1,_.emit("drain"));R-- >0;)m.pendingcb--,O();m.destroyed&&W(m),_e(_,m)}function W(_){if(_.writing)return;for(let C=_.bufferedIndex;C<_.buffered.length;++C){var m;const{chunk:X,callback:re}=_.buffered[C],J=_.objectMode?1:X.length;_.length-=J,re((m=_.errored)!==null&&m!==void 0?m:new $("write"))}const R=_[B].splice(0);for(let C=0;C<R.length;C++){var O;R[C]((O=_.errored)!==null&&O!==void 0?O:new $("end"))}U(_)}function ue(_,m){if(m.corked||m.bufferProcessing||m.destroyed||!m.constructed)return;const{buffered:R,bufferedIndex:O,objectMode:C}=m,X=R.length-O;if(!X)return;let re=O;if(m.bufferProcessing=!0,X>1&&_._writev){m.pendingcb-=X-1;const J=m.allNoop?j:F=>{for(let we=re;we<R.length;++we)R[we].callback(F)},ye=m.allNoop&&re===0?R:t(R,re);ye.allBuffers=m.allBuffers,ne(_,m,!0,m.length,ye,"",J),U(m)}else{do{const{chunk:J,encoding:ye,callback:F}=R[re];R[re++]=null;const we=C?1:J.length;ne(_,m,!1,we,J,ye,F)}while(re<R.length&&!m.writing);re===R.length?U(m):re>256?(R.splice(0,re),m.bufferedIndex=0):m.bufferedIndex=re}m.bufferProcessing=!1}G.prototype._write=function(_,m,R){if(this._writev)this._writev([{chunk:_,encoding:m}],R);else throw new x("_write()")},G.prototype._writev=null,G.prototype.end=function(_,m,R){const O=this._writableState;typeof _=="function"?(R=_,_=null,m=null):typeof m=="function"&&(R=m,m=null);let C;if(_!=null){const X=H(this,_,m);X instanceof r&&(C=X)}return O.corked&&(O.corked=1,this.uncork()),C||(!O.errored&&!O.ending?(O.ending=!0,_e(this,O,!0),O.ended=!0):O.finished?C=new D("end"):O.destroyed&&(C=new $("end"))),typeof R=="function"&&(C||O.finished?e.nextTick(R,C):O[B].push(R)),this};function xe(_){return _.ending&&!_.destroyed&&_.constructed&&_.length===0&&!_.errored&&_.buffered.length===0&&!_.finished&&!_.writing&&!_.errorEmitted&&!_.closeEmitted}function he(_,m){let R=!1;function O(C){if(R){V(_,C??S());return}if(R=!0,m.pendingcb--,C){const X=m[B].splice(0);for(let re=0;re<X.length;re++)X[re](C);V(_,C,m.sync)}else xe(m)&&(m.prefinished=!0,_.emit("prefinish"),m.pendingcb++,e.nextTick(Ae,_,m))}m.sync=!0,m.pendingcb++;try{_._final(O)}catch(C){O(C)}m.sync=!1}function le(_,m){!m.prefinished&&!m.finalCalled&&(typeof _._final=="function"&&!m.destroyed?(m.finalCalled=!0,he(_,m)):(m.prefinished=!0,_.emit("prefinish")))}function _e(_,m,R){xe(m)&&(le(_,m),m.pendingcb===0&&(R?(m.pendingcb++,e.nextTick((O,C)=>{xe(C)?Ae(O,C):C.pendingcb--},_,m)):xe(m)&&(m.pendingcb++,Ae(_,m))))}function Ae(_,m){m.pendingcb--,m.finished=!0;const R=m[B].splice(0);for(let O=0;O<R.length;O++)R[O]();if(_.emit("finish"),m.autoDestroy){const O=_._readableState;(!O||O.autoDestroy&&(O.endEmitted||O.readable===!1))&&_.destroy()}}s(G.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(_){this._writableState&&(this._writableState.destroyed=_)}},writable:{__proto__:null,get(){const _=this._writableState;return!!_&&_.writable!==!1&&!_.destroyed&&!_.errored&&!_.ending&&!_.ended},set(_){this._writableState&&(this._writableState.writable=!!_)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const _=this._writableState;return _?!_.destroyed&&!_.ending&&_.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const We=p.destroy;G.prototype.destroy=function(_,m){const R=this._writableState;return!R.destroyed&&(R.bufferedIndex<R.buffered.length||R[B].length)&&e.nextTick(W,R),We.call(this,_,m),this},G.prototype._undestroy=p.undestroy,G.prototype._destroy=function(_,m){m(_)},G.prototype[d.captureRejectionSymbol]=function(_){this.destroy(_)};let ie;function te(){return ie===void 0&&(ie={}),ie}return G.fromWeb=function(_,m){return te().newStreamWritableFromWritableStream(_,m)},G.toWeb=function(_){return te().newWritableStreamFromStreamWritable(_)},vW}var EW,upe;function Ept(){if(upe)return EW;upe=1;const e=Qe,t=Ge,{isReadable:r,isWritable:n,isIterable:o,isNodeStream:s,isReadableNodeStream:a,isWritableNodeStream:l,isDuplexNodeStream:f,isReadableStream:u,isWritableStream:d}=Cl,g=ef,{AbortError:h,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:w}}=Mi,{destroyer:y}=ib,v=Ol(),E=YR(),x=SW(),{createDeferredPromise:S}=bi,N=spe,$=globalThis.Blob||t.Blob,D=typeof $<"u"?function(A){return A instanceof $}:function(A){return!1},K=globalThis.AbortController||bt().AbortController,{FunctionPrototypeCall:q}=Lr;class k extends v{constructor(A){super(A),(A==null?void 0:A.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(A==null?void 0:A.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}EW=function B(A,U){if(f(A))return A;if(a(A))return j({readable:A});if(l(A))return j({writable:A});if(s(A))return j({writable:!1,readable:!1});if(u(A))return j({readable:E.fromWeb(A)});if(d(A))return j({writable:x.fromWeb(A)});if(typeof A=="function"){const{value:H,write:Q,final:ne,destroy:se}=V(A);if(o(H))return N(k,H,{objectMode:!0,write:Q,final:ne,destroy:se});const ae=H==null?void 0:H.then;if(typeof ae=="function"){let Z;const ge=q(ae,H,W=>{if(W!=null)throw new w("nully","body",W)},W=>{y(Z,W)});return Z=new k({objectMode:!0,readable:!1,write:Q,final(W){ne(async()=>{try{await ge,e.nextTick(W,null)}catch(ue){e.nextTick(W,ue)}})},destroy:se})}throw new w("Iterable, AsyncIterable or AsyncFunction",U,H)}if(D(A))return B(A.arrayBuffer());if(o(A))return N(k,A,{objectMode:!0,writable:!1});if(u(A==null?void 0:A.readable)&&d(A==null?void 0:A.writable))return k.fromWeb(A);if(typeof(A==null?void 0:A.writable)=="object"||typeof(A==null?void 0:A.readable)=="object"){const H=A!=null&&A.readable?a(A==null?void 0:A.readable)?A==null?void 0:A.readable:B(A.readable):void 0,Q=A!=null&&A.writable?l(A==null?void 0:A.writable)?A==null?void 0:A.writable:B(A.writable):void 0;return j({readable:H,writable:Q})}const G=A==null?void 0:A.then;if(typeof G=="function"){let H;return q(G,A,Q=>{Q!=null&&H.push(Q),H.push(null)},Q=>{y(H,Q)}),H=new k({objectMode:!0,writable:!1,read(){}})}throw new p(U,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],A)};function V(B){let{promise:A,resolve:U}=S();const G=new K,H=G.signal;return{value:B(async function*(){for(;;){const ne=A;A=null;const{chunk:se,done:ae,cb:Z}=await ne;if(e.nextTick(Z),ae)return;if(H.aborted)throw new h(void 0,{cause:H.reason});({promise:A,resolve:U}=S()),yield se}}(),{signal:H}),write(ne,se,ae){const Z=U;U=null,Z({chunk:ne,done:!1,cb:ae})},final(ne){const se=U;U=null,se({done:!0,cb:ne})},destroy(ne,se){G.abort(),se(ne)}}}function j(B){const A=B.readable&&typeof B.readable.read!="function"?E.wrap(B.readable):B.readable,U=B.writable;let G=!!r(A),H=!!n(U),Q,ne,se,ae,Z;function ge(W){const ue=ae;ae=null,ue?ue(W):W&&Z.destroy(W)}return Z=new k({readableObjectMode:!!(A!=null&&A.readableObjectMode),writableObjectMode:!!(U!=null&&U.writableObjectMode),readable:G,writable:H}),H&&(g(U,W=>{H=!1,W&&y(A,W),ge(W)}),Z._write=function(W,ue,xe){U.write(W,ue)?xe():Q=xe},Z._final=function(W){U.end(),ne=W},U.on("drain",function(){if(Q){const W=Q;Q=null,W()}}),U.on("finish",function(){if(ne){const W=ne;ne=null,W()}})),G&&(g(A,W=>{G=!1,W&&y(A,W),ge(W)}),A.on("readable",function(){if(se){const W=se;se=null,W()}}),A.on("end",function(){Z.push(null)}),Z._read=function(){for(;;){const W=A.read();if(W===null){se=Z._read;return}if(!Z.push(W))return}}),Z._destroy=function(W,ue){!W&&ae!==null&&(W=new h),se=null,Q=null,ne=null,ae===null?ue(W):(ae=ue,y(U,W),y(A,W))},Z}return EW}var RW,fpe;function Ol(){if(fpe)return RW;fpe=1;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:r,ObjectSetPrototypeOf:n}=Lr;RW=a;const o=YR(),s=SW();n(a.prototype,o.prototype),n(a,o);{const d=r(s.prototype);for(let g=0;g<d.length;g++){const h=d[g];a.prototype[h]||(a.prototype[h]=s.prototype[h])}}function a(d){if(!(this instanceof a))return new a(d);o.call(this,d),s.call(this,d),d?(this.allowHalfOpen=d.allowHalfOpen!==!1,d.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),d.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(a.prototype,{writable:{__proto__:null,...t(s.prototype,"writable")},writableHighWaterMark:{__proto__:null,...t(s.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...t(s.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...t(s.prototype,"writableBuffer")},writableLength:{__proto__:null,...t(s.prototype,"writableLength")},writableFinished:{__proto__:null,...t(s.prototype,"writableFinished")},writableCorked:{__proto__:null,...t(s.prototype,"writableCorked")},writableEnded:{__proto__:null,...t(s.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...t(s.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(d){this._readableState&&this._writableState&&(this._readableState.destroyed=d,this._writableState.destroyed=d)}}});let l;function f(){return l===void 0&&(l={}),l}a.fromWeb=function(d,g){return f().newStreamDuplexFromReadableWritablePair(d,g)},a.toWeb=function(d){return f().newReadableWritablePairFromDuplex(d)};let u;return a.from=function(d){return u||(u=Ept()),u(d,"body")},RW}const{ObjectSetPrototypeOf:cpe,Symbol:Rpt}=Lr;var dpe=Ll;const{ERR_METHOD_NOT_IMPLEMENTED:xpt}=Mi.codes,xW=Ol(),{getHighWaterMark:Apt}=JR;cpe(Ll.prototype,xW.prototype),cpe(Ll,xW);const Ey=Rpt("kCallback");function Ll(e){if(!(this instanceof Ll))return new Ll(e);const t=e?Apt(this,e,"readableHighWaterMark",!0):null;t===0&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),xW.call(this,e),this._readableState.sync=!1,this[Ey]=null,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",$pt)}function AW(e){typeof this._flush=="function"&&!this.destroyed?this._flush((t,r)=>{if(t){e?e(t):this.destroy(t);return}r!=null&&this.push(r),this.push(null),e&&e()}):(this.push(null),e&&e())}function $pt(){this._final!==AW&&AW.call(this)}Ll.prototype._final=AW,Ll.prototype._transform=function(e,t,r){throw new xpt("_transform()")},Ll.prototype._write=function(e,t,r){const n=this._readableState,o=this._writableState,s=n.length;this._transform(e,t,(a,l)=>{if(a){r(a);return}l!=null&&this.push(l),o.ended||s===n.length||n.length<n.highWaterMark?r():this[Ey]=r})},Ll.prototype._read=function(){if(this[Ey]){const e=this[Ey];this[Ey]=null,e()}};const{ObjectSetPrototypeOf:hpe}=Lr;var ppe=ob;const $W=dpe;hpe(ob.prototype,$W.prototype),hpe(ob,$W);function ob(e){if(!(this instanceof ob))return new ob(e);$W.call(this,e)}ob.prototype._transform=function(e,t,r){r(null,e)};const Ry=Qe,{ArrayIsArray:Tpt,Promise:Ipt,SymbolAsyncIterator:Npt,SymbolDispose:kpt}=Lr,XR=ef,{once:Cpt}=bi,Opt=ib,bpe=Ol(),{aggregateTwoErrors:Lpt,codes:{ERR_INVALID_ARG_TYPE:TW,ERR_INVALID_RETURN_VALUE:IW,ERR_MISSING_ARGS:Dpt,ERR_STREAM_DESTROYED:Mpt,ERR_STREAM_PREMATURE_CLOSE:Ppt},AbortError:Fpt}=Mi,{validateFunction:jpt,validateAbortSignal:Wpt}=Sy,{isIterable:Fd,isReadable:NW,isReadableNodeStream:QR,isNodeStream:gpe,isTransformStream:sb,isWebStream:Bpt,isReadableStream:kW,isReadableFinished:Upt}=Cl,qpt=globalThis.AbortController||bt().AbortController;let CW,OW,LW;function _pe(e,t,r){let n=!1;e.on("close",()=>{n=!0});const o=XR(e,{readable:t,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,Opt.destroyer(e,s||new Mpt("pipe")))},cleanup:o}}function Hpt(e){return jpt(e[e.length-1],"streams[stream.length - 1]"),e.pop()}function DW(e){if(Fd(e))return e;if(QR(e))return Vpt(e);throw new TW("val",["Readable","Iterable","AsyncIterable"],e)}async function*Vpt(e){OW||(OW=YR()),yield*OW.prototype[Npt].call(e)}async function ZR(e,t,r,{end:n}){let o,s=null;const a=u=>{if(u&&(o=u),s){const d=s;s=null,d()}},l=()=>new Ipt((u,d)=>{o?d(o):s=()=>{o?d(o):u()}});t.on("drain",a);const f=XR(t,{readable:!1},a);try{t.writableNeedDrain&&await l();for await(const u of e)t.write(u)||await l();n&&(t.end(),await l()),r()}catch(u){r(o!==u?Lpt(o,u):u)}finally{f(),t.off("drain",a)}}async function MW(e,t,r,{end:n}){sb(t)&&(t=t.writable);const o=t.getWriter();try{for await(const s of e)await o.ready,o.write(s).catch(()=>{});await o.ready,n&&await o.close(),r()}catch(s){try{await o.abort(s),r(s)}catch(a){r(a)}}}function Gpt(...e){return ype(e,Cpt(Hpt(e)))}function ype(e,t,r){if(e.length===1&&Tpt(e[0])&&(e=e[0]),e.length<2)throw new Dpt("streams");const n=new qpt,o=n.signal,s=r==null?void 0:r.signal,a=[];Wpt(s,"options.signal");function l(){w(new Fpt)}LW=LW||bi.addAbortListener;let f;s&&(f=LW(s,l));let u,d;const g=[];let h=0;function p(x){w(x,--h===0)}function w(x,S){var N;if(x&&(!u||u.code==="ERR_STREAM_PREMATURE_CLOSE")&&(u=x),!(!u&&!S)){for(;g.length;)g.shift()(u);(N=f)===null||N===void 0||N[kpt](),n.abort(),S&&(u||a.forEach($=>$()),Ry.nextTick(t,u,d))}}let y;for(let x=0;x<e.length;x++){const S=e[x],N=x<e.length-1,$=x>0,D=N||(r==null?void 0:r.end)!==!1,K=x===e.length-1;if(gpe(S)){let q=function(k){k&&k.name!=="AbortError"&&k.code!=="ERR_STREAM_PREMATURE_CLOSE"&&p(k)};if(D){const{destroy:k,cleanup:V}=_pe(S,N,$);g.push(k),NW(S)&&K&&a.push(V)}S.on("error",q),NW(S)&&K&&a.push(()=>{S.removeListener("error",q)})}if(x===0)if(typeof S=="function"){if(y=S({signal:o}),!Fd(y))throw new IW("Iterable, AsyncIterable or Stream","source",y)}else Fd(S)||QR(S)||sb(S)?y=S:y=bpe.from(S);else if(typeof S=="function"){if(sb(y)){var v;y=DW((v=y)===null||v===void 0?void 0:v.readable)}else y=DW(y);if(y=S(y,{signal:o}),N){if(!Fd(y,!0))throw new IW("AsyncIterable",`transform[${x-1}]`,y)}else{var E;CW||(CW=ppe);const q=new CW({objectMode:!0}),k=(E=y)===null||E===void 0?void 0:E.then;if(typeof k=="function")h++,k.call(y,B=>{d=B,B!=null&&q.write(B),D&&q.end(),Ry.nextTick(p)},B=>{q.destroy(B),Ry.nextTick(p,B)});else if(Fd(y,!0))h++,ZR(y,q,p,{end:D});else if(kW(y)||sb(y)){const B=y.readable||y;h++,ZR(B,q,p,{end:D})}else throw new IW("AsyncIterable or Promise","destination",y);y=q;const{destroy:V,cleanup:j}=_pe(y,!1,!0);g.push(V),K&&a.push(j)}}else if(gpe(S)){if(QR(y)){h+=2;const q=zpt(y,S,p,{end:D});NW(S)&&K&&a.push(q)}else if(sb(y)||kW(y)){const q=y.readable||y;h++,ZR(q,S,p,{end:D})}else if(Fd(y))h++,ZR(y,S,p,{end:D});else throw new TW("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],y);y=S}else if(Bpt(S)){if(QR(y))h++,MW(DW(y),S,p,{end:D});else if(kW(y)||Fd(y))h++,MW(y,S,p,{end:D});else if(sb(y))h++,MW(y.readable,S,p,{end:D});else throw new TW("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],y);y=S}else y=bpe.from(S)}return(o!=null&&o.aborted||s!=null&&s.aborted)&&Ry.nextTick(l),y}function zpt(e,t,r,{end:n}){let o=!1;if(t.on("close",()=>{o||r(new Ppt)}),e.pipe(t,{end:!1}),n){let s=function(){o=!0,t.end()};Upt(e)?Ry.nextTick(s):e.once("end",s)}else r();return XR(e,{readable:!0,writable:!1},s=>{const a=e._readableState;s&&s.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?e.once("end",r).once("error",r):r(s)}),XR(t,{readable:!1,writable:!0},r)}var PW={pipelineImpl:ype,pipeline:Gpt};const{pipeline:Kpt}=PW,ex=Ol(),{destroyer:Jpt}=ib,{isNodeStream:tx,isReadable:wpe,isWritable:mpe,isWebStream:FW,isTransformStream:jd,isWritableStream:vpe,isReadableStream:Spe}=Cl,{AbortError:Ypt,codes:{ERR_INVALID_ARG_VALUE:Epe,ERR_MISSING_ARGS:Xpt}}=Mi,Qpt=ef;var Rpe=function(...t){if(t.length===0)throw new Xpt("streams");if(t.length===1)return ex.from(t[0]);const r=[...t];if(typeof t[0]=="function"&&(t[0]=ex.from(t[0])),typeof t[t.length-1]=="function"){const p=t.length-1;t[p]=ex.from(t[p])}for(let p=0;p<t.length;++p)if(!(!tx(t[p])&&!FW(t[p]))){if(p<t.length-1&&!(wpe(t[p])||Spe(t[p])||jd(t[p])))throw new Epe(`streams[${p}]`,r[p],"must be readable");if(p>0&&!(mpe(t[p])||vpe(t[p])||jd(t[p])))throw new Epe(`streams[${p}]`,r[p],"must be writable")}let n,o,s,a,l;function f(p){const w=a;a=null,w?w(p):p?l.destroy(p):!h&&!g&&l.destroy()}const u=t[0],d=Kpt(t,f),g=!!(mpe(u)||vpe(u)||jd(u)),h=!!(wpe(d)||Spe(d)||jd(d));if(l=new ex({writableObjectMode:!!(u!=null&&u.writableObjectMode),readableObjectMode:!!(d!=null&&d.readableObjectMode),writable:g,readable:h}),g){if(tx(u))l._write=function(w,y,v){u.write(w,y)?v():n=v},l._final=function(w){u.end(),o=w},u.on("drain",function(){if(n){const w=n;n=null,w()}});else if(FW(u)){const y=(jd(u)?u.writable:u).getWriter();l._write=async function(v,E,x){try{await y.ready,y.write(v).catch(()=>{}),x()}catch(S){x(S)}},l._final=async function(v){try{await y.ready,y.close().catch(()=>{}),o=v}catch(E){v(E)}}}const p=jd(d)?d.readable:d;Qpt(p,()=>{if(o){const w=o;o=null,w()}})}if(h){if(tx(d))d.on("readable",function(){if(s){const p=s;s=null,p()}}),d.on("end",function(){l.push(null)}),l._read=function(){for(;;){const p=d.read();if(p===null){s=l._read;return}if(!l.push(p))return}};else if(FW(d)){const w=(jd(d)?d.readable:d).getReader();l._read=async function(){for(;;)try{const{value:y,done:v}=await w.read();if(!l.push(y))return;if(v){l.push(null);return}}catch{return}}}}return l._destroy=function(p,w){!p&&a!==null&&(p=new Ypt),s=null,n=null,o=null,a===null?w(p):(a=w,tx(d)&&Jpt(d,p))},l};const Zpt=globalThis.AbortController||bt().AbortController,{codes:{ERR_INVALID_ARG_VALUE:ebt,ERR_INVALID_ARG_TYPE:xy,ERR_MISSING_ARGS:tbt,ERR_OUT_OF_RANGE:rbt},AbortError:pa}=Mi,{validateAbortSignal:Wd,validateInteger:xpe,validateObject:Bd}=Sy,nbt=Lr.Symbol("kWeak"),ibt=Lr.Symbol("kResistStopPropagation"),{finished:obt}=ef,sbt=Rpe,{addAbortSignalNoValidate:abt}=zR,{isWritable:lbt,isNodeStream:ubt}=Cl,{deprecate:fbt}=bi,{ArrayPrototypePush:cbt,Boolean:dbt,MathFloor:Ape,Number:hbt,NumberIsNaN:pbt,Promise:$pe,PromiseReject:Tpe,PromiseResolve:bbt,PromisePrototypeThen:Ipe,Symbol:Npe}=Lr,rx=Npe("kEmpty"),kpe=Npe("kEof");function gbt(e,t){if(t!=null&&Bd(t,"options"),(t==null?void 0:t.signal)!=null&&Wd(t.signal,"options.signal"),ubt(e)&&!lbt(e))throw new ebt("stream",e,"must be writable");const r=sbt(this,e);return t!=null&&t.signal&&abt(t.signal,r),r}function nx(e,t){if(typeof e!="function")throw new xy("fn",["Function","AsyncFunction"],e);t!=null&&Bd(t,"options"),(t==null?void 0:t.signal)!=null&&Wd(t.signal,"options.signal");let r=1;(t==null?void 0:t.concurrency)!=null&&(r=Ape(t.concurrency));let n=r-1;return(t==null?void 0:t.highWaterMark)!=null&&(n=Ape(t.highWaterMark)),xpe(r,"options.concurrency",1),xpe(n,"options.highWaterMark",0),n+=r,(async function*(){const s=bi.AbortSignalAny([t==null?void 0:t.signal].filter(dbt)),a=this,l=[],f={signal:s};let u,d,g=!1,h=0;function p(){g=!0,w()}function w(){h-=1,y()}function y(){d&&!g&&h<r&&l.length<n&&(d(),d=null)}async function v(){try{for await(let E of a){if(g)return;if(s.aborted)throw new pa;try{if(E=e(E,f),E===rx)continue;E=bbt(E)}catch(x){E=Tpe(x)}h+=1,Ipe(E,w,p),l.push(E),u&&(u(),u=null),!g&&(l.length>=n||h>=r)&&await new $pe(x=>{d=x})}l.push(kpe)}catch(E){const x=Tpe(E);Ipe(x,w,p),l.push(x)}finally{g=!0,u&&(u(),u=null)}}v();try{for(;;){for(;l.length>0;){const E=await l[0];if(E===kpe)return;if(s.aborted)throw new pa;E!==rx&&(yield E),l.shift(),y()}await new $pe(E=>{u=E})}}finally{g=!0,d&&(d(),d=null)}}).call(this)}function _bt(e=void 0){return e!=null&&Bd(e,"options"),(e==null?void 0:e.signal)!=null&&Wd(e.signal,"options.signal"),(async function*(){let r=0;for await(const o of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new pa({cause:e.signal.reason});yield[r++,o]}}).call(this)}async function Cpe(e,t=void 0){for await(const r of jW.call(this,e,t))return!0;return!1}async function ybt(e,t=void 0){if(typeof e!="function")throw new xy("fn",["Function","AsyncFunction"],e);return!await Cpe.call(this,async(...r)=>!await e(...r),t)}async function wbt(e,t){for await(const r of jW.call(this,e,t))return r}async function mbt(e,t){if(typeof e!="function")throw new xy("fn",["Function","AsyncFunction"],e);async function r(n,o){return await e(n,o),rx}for await(const n of nx.call(this,r,t));}function jW(e,t){if(typeof e!="function")throw new xy("fn",["Function","AsyncFunction"],e);async function r(n,o){return await e(n,o)?n:rx}return nx.call(this,r,t)}class vbt extends tbt{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function Sbt(e,t,r){var n;if(typeof e!="function")throw new xy("reducer",["Function","AsyncFunction"],e);r!=null&&Bd(r,"options"),(r==null?void 0:r.signal)!=null&&Wd(r.signal,"options.signal");let o=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){const u=new pa(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await obt(this.destroy(u)),u}const s=new Zpt,a=s.signal;if(r!=null&&r.signal){const u={once:!0,[nbt]:this,[ibt]:!0};r.signal.addEventListener("abort",()=>s.abort(),u)}let l=!1;try{for await(const u of this){var f;if(l=!0,r!=null&&(f=r.signal)!==null&&f!==void 0&&f.aborted)throw new pa;o?t=await e(t,u,{signal:a}):(t=u,o=!0)}if(!l&&!o)throw new vbt}finally{s.abort()}return t}async function Ebt(e){e!=null&&Bd(e,"options"),(e==null?void 0:e.signal)!=null&&Wd(e.signal,"options.signal");const t=[];for await(const n of this){var r;if(e!=null&&(r=e.signal)!==null&&r!==void 0&&r.aborted)throw new pa(void 0,{cause:e.signal.reason});cbt(t,n)}return t}function Rbt(e,t){const r=nx.call(this,e,t);return(async function*(){for await(const o of r)yield*o}).call(this)}function Ope(e){if(e=hbt(e),pbt(e))return 0;if(e<0)throw new rbt("number",">= 0",e);return e}function xbt(e,t=void 0){return t!=null&&Bd(t,"options"),(t==null?void 0:t.signal)!=null&&Wd(t.signal,"options.signal"),e=Ope(e),(async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new pa;for await(const s of this){var o;if(t!=null&&(o=t.signal)!==null&&o!==void 0&&o.aborted)throw new pa;e--<=0&&(yield s)}}).call(this)}function Abt(e,t=void 0){return t!=null&&Bd(t,"options"),(t==null?void 0:t.signal)!=null&&Wd(t.signal,"options.signal"),e=Ope(e),(async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new pa;for await(const s of this){var o;if(t!=null&&(o=t.signal)!==null&&o!==void 0&&o.aborted)throw new pa;if(e-- >0&&(yield s),e<=0)return}}).call(this)}rW.streamReturningOperators={asIndexedPairs:fbt(_bt,"readable.asIndexedPairs will be removed in a future version."),drop:xbt,filter:jW,flatMap:Rbt,map:nx,take:Abt,compose:gbt},rW.promiseReturningOperators={every:ybt,forEach:mbt,reduce:Sbt,toArray:Ebt,some:Cpe,find:wbt};var WW,Lpe;function Dpe(){if(Lpe)return WW;Lpe=1;const{ArrayPrototypePop:e,Promise:t}=Lr,{isIterable:r,isNodeStream:n,isWebStream:o}=Cl,{pipelineImpl:s}=PW,{finished:a}=ef;Ppe();function l(...f){return new t((u,d)=>{let g,h;const p=f[f.length-1];if(p&&typeof p=="object"&&!n(p)&&!r(p)&&!o(p)){const w=e(f);g=w.signal,h=w.end}s(f,(w,y)=>{w?d(w):u(y)},{signal:g,end:h})})}return WW={finished:a,pipeline:l},WW}var Mpe;function Ppe(){if(Mpe)return tW.exports;Mpe=1;const{Buffer:e}=Ge,{ObjectDefineProperty:t,ObjectKeys:r,ReflectApply:n}=Lr,{promisify:{custom:o}}=bi,{streamReturningOperators:s,promiseReturningOperators:a}=rW,{codes:{ERR_ILLEGAL_CONSTRUCTOR:l}}=Mi,f=Rpe,{setDefaultHighWaterMark:u,getDefaultHighWaterMark:d}=JR,{pipeline:g}=PW,{destroyer:h}=ib,p=ef,w=Dpe(),y=Cl,v=tW.exports=yW.Stream;v.isDestroyed=y.isDestroyed,v.isDisturbed=y.isDisturbed,v.isErrored=y.isErrored,v.isReadable=y.isReadable,v.isWritable=y.isWritable,v.Readable=YR();for(const x of r(s)){let N=function(...$){if(new.target)throw l();return v.Readable.from(n(S,this,$))};const S=s[x];t(N,"name",{__proto__:null,value:S.name}),t(N,"length",{__proto__:null,value:S.length}),t(v.Readable.prototype,x,{__proto__:null,value:N,enumerable:!1,configurable:!0,writable:!0})}for(const x of r(a)){let N=function(...$){if(new.target)throw l();return n(S,this,$)};const S=a[x];t(N,"name",{__proto__:null,value:S.name}),t(N,"length",{__proto__:null,value:S.length}),t(v.Readable.prototype,x,{__proto__:null,value:N,enumerable:!1,configurable:!0,writable:!0})}v.Writable=SW(),v.Duplex=Ol(),v.Transform=dpe,v.PassThrough=ppe,v.pipeline=g;const{addAbortSignal:E}=zR;return v.addAbortSignal=E,v.finished=p,v.destroy=h,v.compose=f,v.setDefaultHighWaterMark=u,v.getDefaultHighWaterMark=d,t(v,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return w}}),t(g,o,{__proto__:null,enumerable:!0,get(){return w.pipeline}}),t(p,o,{__proto__:null,enumerable:!0,get(){return w.finished}}),v.Stream=v,v._isUint8Array=function(S){return S instanceof Uint8Array},v._uint8ArrayToBuffer=function(S){return e.from(S.buffer,S.byteOffset,S.byteLength)},tW.exports}(function(e){const t=Ppe(),r=Dpe(),n=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=n,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return r}}),e.exports.Stream=t.Stream,e.exports.default=e.exports})(she);var $bt=she.exports;class Ud extends $bt.Readable{constructor(t,{baseIRI:r,compact:n,context:o={},encoding:s="object",flatten:a,frame:l,prettyPrint:f,skipContext:u}={}){super({objectMode:!0,read:()=>{}}),this.compact=n,this.context=o,this.encoding=s,this.flatten=a,this.frame=l,this.prettyPrint=f,this.skipContext=u,r&&(this.context["@base"]=r.value||r.toString()),t.on("prefix",(d,g)=>{this.context[d]||(this.context[d]=g.value)}),this.handleData(t)}async handleData(t){try{const r=(await gw(t)).map(Ud.toJsonldQuad),n=await FR.fromRDF(r),o=await this.transform(n,this.options);this.push(o),this.push(null)}catch(r){this.emit("error",r)}}async transform(t){return this.compact&&(t=await FR.compact(t,this.context)),this.flatten&&(t=await FR.flatten(t,this.context)),this.frame&&(t=await FR.frame(t,this.context)),this.skipContext&&t["@context"]&&delete t["@context"],this.encoding==="string"?this.prettyPrint?JSON.stringify(t,null,2):JSON.stringify(t):t}static toJsonldQuad(t){return{subject:Ud.toJsonldTerm(t.subject),predicate:Ud.toJsonldTerm(t.predicate),object:Ud.toJsonldTerm(t.object),graph:Ud.toJsonldTerm(t.graph)}}static toJsonldTerm(t){return t.termType==="BlankNode"?{termType:"BlankNode",value:`_:${t.value}`}:t}}class Tbt extends Ob{constructor(t){super(Ud,t)}}const Ibt=Object.freeze(Object.defineProperty({__proto__:null,default:Tbt},Symbol.toStringTag,{value:"Module"}));var Nbt=Obt;const kbt=rg;class Cbt extends kbt.Readable{constructor(t,r){super(),this._str=t,this._encoding=r||"utf8"}_read(){this.ended||(Ot.nextTick(()=>{this.push(Ge.Buffer.from(this._str,this._encoding)),this.push(null)}),this.ended=!0)}}function Obt(e,t){return new Cbt(e,t)}const Lbt=zr(Nbt),Fpe=Object.freeze(Object.defineProperty({__proto__:null,Readable:rg.Readable,toStream:Lbt},Symbol.toStringTag,{value:"Module"}));Pi.Spex=bre,Pi.render=cGe,Object.defineProperty(Pi,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=spex.umd.cjs.map
